/*! For license information please see docs-component-title.b950e354.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define("docs-component-title",["React","ReactDOM"],t):"object"==typeof exports?exports["docs-component-title"]=t(require("React"),require("ReactDOM")):e["docs-component-title"]=t(e.React,e.ReactDOM)}("undefined"!=typeof window?window:global,(function(e,t){return function(){var n={46475:function(e){e.exports={"en-US":{title:{"无标题文档":"Untitled Doc","文档名不能包含下列任何字符：":"The document name cannot contain any of the following characters: ","文档名不能超过128个字。":"The title cannot exceed 128 letters.","标题不合规，请重新命名。":"The title you entered is not valid. Enter another one.","标题受保护，你没有编辑权限":"Title is protected, you do not have editing rights"}},"zh-CN":{title:{"无标题文档":"无标题文档","文档名不能包含下列任何字符：":"文档名不能包含下列任何字符：","文档名不能超过128个字。":"文档名不能超过128个字。","标题不合规，请重新命名。":"标题不合规，请重新命名。","标题受保护，你没有编辑权限":"标题受保护，你没有编辑权限"}},"zh-HK":{title:{"无标题文档":"無標題文檔","文档名不能包含下列任何字符：":"文檔名不能包含下列任何字符：","文档名不能超过128个字。":"文檔名不能超過128個字。","标题不合规，请重新命名。":"標題不合規，請重新命名。","标题受保护，你没有编辑权限":"标题受保护，你没有编辑权限"}}}},19715:function(e){e.exports={"en-US":{"transfer-owner":{}},"zh-CN":{"transfer-owner":{}},"zh-HK":{"transfer-owner":{}}}},83549:function(e){e.exports={"en-US":{"add-member":{}},"zh-CN":{"add-member":{}},"zh-HK":{"add-member":{}}}},85854:function(e,t,n){"use strict";n.r(t),n.d(t,{BaseBackoff:function(){return L},ConstantBackoff:function(){return U},CustomBackoff:function(){return J},IterableBackoff:function(){return te},REQUEST_ERROR_CODE:function(){return r},RetryPolicy:function(){return V},createNativeRequestInstance:function(){return D},createNetworkRequestInstance:function(){return Z},default:function(){return ne},nativeRequest:function(){return M},networkRequest:function(){return z}});n(33905),n(3532),n(64544),n(20339),n(88638),n(53775),n(58701),n(98165),n(48879),n(44871),n(72416),n(78191),n(24713),n(96363);var r,o,i=n(85665),a=n(58966),s=n(29848),c=n(85412),u=n(28276),l=n(63363),f=n.n(l),d=n(80244),p=(n(69536),n(49210),n(67519)),h=(n(74832),n(40524),n(38120),n(97627),n(83135),n(68723)),v=n(79760),g=n.n(v);n(45134);!function(e){e.aborted="ECONNABORTED",e.network="ERR_NETWORK",e.timeout="ETIMEDOUT",e.badRequest="ERR_BAD_REQUEST",e.badResponse="ERR_BAD_RESPONSE"}(r||(r={})),function(e){e[e.unknown=-1]="unknown",e[e.success=200]="success"}(o||(o={}));function y(e){return{data:e,status:o.success,statusText:"Success"}}function m(e){return{data:[],status:o.unknown,statusText:e}}var _=function(){function e(){(0,i.Z)(this,e),this.interceptors=[]}return(0,a.Z)(e,[{key:"add",value:function(e){this.interceptors.push(e)}},{key:"proceed",value:function(e){return(0,d.__awaiter)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.from(this.interceptors),this.fillBuildInInterceptors(n,e),t.abrupt("return",this.dispatch(e,n,0));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"dispatch",value:function(e,t,n){var r=this;if(n>=t.length){var o=y([]);return Promise.resolve(o)}return t[n].intercept((function(){return r.dispatch(e,t,n+1)}),e)}}]),e}(),b=function(){function e(){var t,n;(0,i.Z)(this,e),this.canUseNativeAndroid=(null===(t=globalThis.mqq)||void 0===t?void 0:t.android)&&(null===(n=globalThis._mqqWebViewJSInterface)||void 0===n?void 0:n.invoke),this.currentSeqId=0,this.reqCallbacks=new Map}return(0,a.Z)(e,[{key:"JSApiCallback",value:function(e){var t=this.reqCallbacks.get(e.callbackId);if(!t)throw new Error("TypeError:[ark-request] the reqCallback of response[".concat(e.callbackId,"] can't found!"));t.callback(e)}},{key:"invokeNative",value:function(e,t,n,r){var o,i=null!=n?n:{},a=i.command;if(r){var s=this.createReqSeq();this.reqCallbacks.set(s,{callback:r,command:a,startTime:Date.now()}),i.callbackId=s}this.canUseNativeAndroid?this.invokeNativeAndroid(e,t,i):null===(o=globalThis.mqq)||void 0===o||o.invoke(e,t,i)}},{key:"invokeNativeAndroid",value:function(e,t,n){var r,o="jsbridge://".concat(encodeURIComponent(e),"/").concat(encodeURIComponent(t));n&&(o+="?p=".concat(encodeURIComponent(JSON.stringify(n)))),null===(r=globalThis._mqqWebViewJSInterface)||void 0===r||r.invoke(o)}},{key:"createReqSeq",value:function(){return this.currentSeqId+=1}}]),e}();globalThis.jsApi||(globalThis.jsApi=new b,globalThis.JSApiCallback||(globalThis.JSApiCallback=globalThis.jsApi.JSApiCallback.bind(globalThis.jsApi)));var w=globalThis.jsApi,E=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,[{key:"invoke",value:function(e){return new Promise((function(t,n){if(!e.namespace)throw new Error("jsapi, namespace is null.");var r=e.params||{},o=e.callback?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t(y(n))}:void 0;try{w.invokeNative(e.namespace,e.method,r,o),o||t(y([]))}catch(i){n(m("Error:[ark-request] Jsapi invokeNative fail."))}}))}}]),e}();function S(e){return"[object Function]"===Object.prototype.toString.call(e)}var O,I,R=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,[{key:"invoke",value:function(e){return(0,d.__awaiter)(this,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(globalThis.mqq){t.next=2;break}throw new Error("UnknownError:[ark-request] mqq channel is undefined.");case 2:if(e.namespace){t.next=4;break}throw new Error("TypeError:[ark-request] mqq invoke has no namespace!");case 4:if(n=globalThis.mqq[e.namespace],!(r=null==n?void 0:n[e.method])||!S(r)){t.next=10;break}return t.next=9,this.innerModuleInvoke(r,e.params,e.callback);case 9:case 12:return t.abrupt("return",t.sent);case 10:return t.next=12,this.innerCoreInvoke(globalThis.mqq.invoke,e);case 13:case"end":return t.stop()}}),t,this)})))}},{key:"innerModuleInvoke",value:function(e,t,n){return new Promise((function(r,o){var i=[];t&&i.push(t),n&&i.push((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r(y(t))}));try{e.apply(void 0,i),n||r(y([]))}catch(a){o(m("Error:[ark-request] Mqq invoke module fail."))}}))}},{key:"innerCoreInvoke",value:function(e,t){return new Promise((function(n,r){try{e(t.namespace,t.method,t.params,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(y(t))}))}catch(o){r(m("Error:[ark-request] Mqq invoke core[".concat(t.namespace,".").concat(t.method,"] fail.")))}}))}}]),e}();!function(e){e.mqq="mqq",e.jsapi="jsapi"}(I||(I={}));var C={schema:"mqq",channels:(O={},(0,p.Z)(O,I.mqq,R),(0,p.Z)(O,I.jsapi,E),O)},T=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,[{key:"intercept",value:function(e,t){return(0,d.__awaiter)(this,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.schema){e.next=2;break}throw Error("TypeError[ark-request]: the schema of request(".concat(t.namespace,".").concat(t.method,") is undefined."));case 2:if(n=C.channels[t.schema]){e.next=5;break}throw Error("TypeError[ark-request]: can't match strategy to handle request(".concat(t.schema,".").concat(t.namespace,".").concat(t.method,")."));case 5:return e.next=7,(new n).invoke(t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))}}]),e}();function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var A=function(e){(0,s.Z)(n,e);var t=x(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"fillBuildInInterceptors",value:function(e){return e.push(new T),e}}]),n}(_),k=function(){function e(t){(0,i.Z)(this,e),this.interceptors=t}return(0,a.Z)(e,[{key:"invoke",value:function(e){this.interceptors.proceed(Object.assign({schema:C.schema},e)).then((function(t){var n,r,o,i=t.data;null===(r=e.callback)||void 0===r||(n=r).call.apply(n,[e].concat((0,h.Z)(i))),e.removeCallback&&(null===(o=e.params)||void 0===o?void 0:o.callbackId)&&w.reqCallbacks.delete(e.params.callbackId)}))}},{key:"register",value:function(e,t){if(!S(t))throw new Error("TypeError:[ark-request] The handler[".concat(e,"] to register is not function."));this.getNativeChannel()[this.generateCallbackName(e)]=t}},{key:"unregister",value:function(e){this.getNativeChannel()[this.generateCallbackName(e)]=void 0}},{key:"notify",value:function(e){var t=this.getNativeChannel()[this.generateCallbackName(e)];if(!S(t))throw new Error("TypeError:[ark-request] The handler[".concat(e,"] is not function!"));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.apply(void 0,r)}},{key:"generateCallbackName",value:function(e){return e}},{key:"getNativeChannel",value:function(){return window}}]),e}();function D(){var e=new A;return new k(e)}var M=D(),P={maxRetry:3},N=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,[{key:"intercept",value:function(e,t){return(0,d.__awaiter)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g().request(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}]),e}(),L=function(){function e(t){(0,i.Z)(this,e),this.duration=t,this.attempt=0}return(0,a.Z)(e,[{key:"next",value:function(e){throw new Error("Method not implemented.")}}]),e}();function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var U=function(e){(0,s.Z)(n,e);var t=j(n);function n(e,r){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).limit=r,o}return(0,a.Z)(n,[{key:"next",value:function(){return void 0===this.limit?this:this.attempt>=this.limit?void 0:(this.attempt+=1,this)}}]),n}(L);new U(0,0);var F=function(){return!1},B=function(){return!1},q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;(0,i.Z)(this,e),this.errorFilter=t,this.resultFilter=n}return(0,a.Z)(e,[{key:"invoke",value:function(e,t){return(0,d.__awaiter)(this,void 0,void 0,f().mark((function n(){var r,o;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e(t);case 3:if(r=n.sent,this.resultFilter(r)){n.next=6;break}return n.abrupt("return",{success:r});case 6:return n.abrupt("return",{value:r});case 9:if(n.prev=9,n.t0=n.catch(0),o=n.t0,this.errorFilter(o)){n.next=15;break}throw o;case 15:return n.abrupt("return",{error:o});case 16:case"end":return n.stop()}}),n,this,[[0,9]])})))}}]),e}(),W=function(e){var t=Math.max(e,0);return 0===t?Promise.resolve():new Promise((function(e){return setTimeout(e,t)}))},V=function(){function e(t){var n;(0,i.Z)(this,e),this.options=t,this.executor=new q(t.errorFilter,t.resultFilter),this.backoffFactory=null!==(n=t.backoffFactory)&&void 0!==n?n:new U(0,t.maxRetry)}return(0,a.Z)(e,[{key:"execute",value:function(e){return(0,d.__awaiter)(this,void 0,void 0,f().mark((function t(){var n,r,o,i,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:return r={attempt:n,startTimestamp:Date.now()},t.next=4,this.executor.invoke(e,r);case 4:if(!("success"in(o=t.sent))){t.next=7;break}return t.abrupt("return",o.success);case 7:if(!(n<this.options.maxRetry)){t.next=14;break}if(i={attempt:n+1,result:o},!(a=this.backoffFactory.next(i))){t.next=13;break}return t.next=13,W(a.duration);case 13:return t.abrupt("continue",17);case 14:if(!("error"in o)){t.next=16;break}throw o.error;case 16:return t.abrupt("return",o.value);case 17:n++,t.next=1;break;case 20:case"end":return t.stop()}}),t,this)})))}}]),e}(),G=function(e){var t;return null===(t=e.message)||void 0===t?void 0:t.includes("timeout")},H=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,[{key:"intercept",value:function(e,t){return(0,d.__awaiter)(this,void 0,void 0,f().mark((function n(){var r,o=this;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.maxRetry<=0)){n.next=2;break}return n.abrupt("return",e());case 2:return r=new V(Object.assign({maxRetry:P.maxRetry,errorFilter:G},t)),n.abrupt("return",r.execute((function(t){return(0,d.__awaiter)(o,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e();case 2:return(r=n.sent).retryContext=t,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))})));case 4:case"end":return n.stop()}}),n)})))}}]),e}();function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var Q=function(e){(0,s.Z)(n,e);var t=K(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"fillBuildInInterceptors",value:function(e,t){var n;return(null!==(n=t.maxRetry)&&void 0!==n?n:P.maxRetry)>0&&e.push(new H),e.push(new N),e}}]),n}(_),Y=function(){function e(t,n){(0,i.Z)(this,e),this.defaults=t,this.interceptors=n}return(0,a.Z)(e,[{key:"get",value:function(e,t){return this.dispatchRequest("get",e,void 0,t)}},{key:"post",value:function(e,t,n){return this.dispatchRequest("post",e,t,n)}},{key:"request",value:function(e){return this.interceptors.proceed(Object.assign(Object.assign({},this.defaults),e))}},{key:"dispatchRequest",value:function(e,t,n,r){var o,i=null!=r?r:{},a=null!==(o=i.headers)&&void 0!==o?o:{};return i.contentType&&(a["Content-Type"]=i.contentType),this.interceptors.proceed(Object.assign(Object.assign(Object.assign({},this.defaults),i),{url:t,method:e,headers:a,data:null!=n?n:i.data}))}}]),e}();function Z(e){var t=new Q;return new Y(e||P,t)}var z=Z();function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var J=function(e){(0,s.Z)(n,e);var t=$(n);function n(e){var r,o;return(0,i.Z)(this,n),(r=t.call(this,null!==(o=e({attempt:0}))&&void 0!==o?o:0)).generator=e,r}return(0,a.Z)(n,[{key:"next",value:function(e){var t=this.generator(e);if(t)return this.duration=t,this}}]),n}(L);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var ee=function(e){return Math.max(null!=e?e:0,0)},te=function(e){(0,s.Z)(n,e);var t=X(n);function n(e){var r,o;return(0,i.Z)(this,n),(r=t.call(this,null!==(o=ee(e[0]))&&void 0!==o?o:0)).durations=e,r}return(0,a.Z)(n,[{key:"next",value:function(){if(!(this.attempt>=this.durations.length))return this.duration=ee(this.durations[this.attempt]),this.attempt+=1,this}}]),n}(L),ne={}},47484:function(e,t,n){"use strict";n.r(t),n.d(t,{Emitter:function(){return s}});var r=n(80244),o=n(37687),i=(n(37569),n(53775),n(64544),n(3532),n(98165),n(84847),n(43387),function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}()),a=function(){function e(){this.first=i.Undefined,this.last=i.Undefined,this.mSize=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.first===i.Undefined},e.prototype.clear=function(){this.first=i.Undefined,this.last=i.Undefined,this.mSize=0},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.shift=function(){if(this.first!==i.Undefined){var e=this.first.element;return this.remove(this.first),e}},e.prototype.pop=function(){if(this.last!==i.Undefined){var e=this.last.element;return this.remove(this.last),e}},e.prototype[Symbol.iterator]=function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:e=this.first,t.label=1;case 1:return e===i.Undefined?[3,3]:[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))},e.prototype.insert=function(e,t){var n=this,r=new i(e);if(this.first===i.Undefined)this.first=r,this.last=r;else if(t){var o=this.last;this.last=r,r.prev=o,o.next=r}else{var a=this.first;this.first=r,r.next=a,a.prev=r}this.mSize+=1;var s=!1;return function(){s||(s=!0,n.remove(r))}},e.prototype.remove=function(e){if(e.prev!==i.Undefined&&e.next!==i.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===i.Undefined&&e.next===i.Undefined?(this.first=i.Undefined,this.last=i.Undefined):e.next===i.Undefined?(this.last=this.last.prev,this.last.next=i.Undefined):e.prev===i.Undefined&&(this.first=this.first.next,this.first.prev=i.Undefined);this.mSize-=1},e}(),s=function(){function e(e){this.disposed=!1,this.options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this.mEvent||(this.mEvent=function(t,n,r){var i,s,c;e.listeners||(e.listeners=new a);var u=e.listeners.isEmpty();u&&(null===(i=e.options)||void 0===i?void 0:i.onFirstListenerAdd)&&e.options.onFirstListenerAdd(e);var l=e.listeners.push(n?[t,n]:t);u&&(null===(s=e.options)||void 0===s?void 0:s.onFirstListenerDidAdd)&&e.options.onFirstListenerDidAdd(e),(null===(c=e.options)||void 0===c?void 0:c.onListenerDidAdd)&&e.options.onListenerDidAdd(e,t,n);var f={dispose:function(){var t;e.disposed||(l(),(null===(t=e.options)||void 0===t?void 0:t.onLastListenerRemove)&&(e.listeners&&!e.listeners.isEmpty()||e.options.onLastListenerRemove(e)));(0,o.markTracked)(f)},disposableId:"event"};return Array.isArray(r)&&r.push(f),(0,o.trackDisposable)(f),f}),this.mEvent},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new a);try{for(var o=(0,r.__values)(this.listeners),i=o.next();!i.done;i=o.next()){var s=i.value;this.deliveryQueue.push([s,e])}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}for(;this.deliveryQueue.size>0;){var c=(0,r.__read)(this.deliveryQueue.shift(),2),u=(s=c[0],c[1]);try{"function"==typeof s?s.call(void 0,u):s[0].call(s[1],u)}catch(f){console.error(f)}}}},e.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},e}()},70325:function(e,t,n){"use strict";n.r(t),n.d(t,{isArray:function(){return c},isBoolean:function(){return o},isDate:function(){return u},isError:function(){return d},isFunction:function(){return s},isNumber:function(){return i},isObject:function(){return f},isRegExp:function(){return l},isString:function(){return a},isType:function(){return r}});n(64544);function r(e,t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}function o(e){return r("Boolean",e)}function i(e){return r("Number",e)}function a(e){return r("String",e)}function s(e){return r("Function",e)}function c(e){return r("Array",e)}function u(e){return r("Date",e)}function l(e){return r("RegExp",e)}function f(e){return r("Object",e)}function d(e){return r("Error",e)}},37687:function(e,t,n){"use strict";n.r(t),n.d(t,{CancellationTokenSource:function(){return P},Disposable:function(){return E},DisposableNone:function(){return d},DisposableStore:function(){return _},DisposeTrace:function(){return f},RootDisposable:function(){return w},combinedDisposable:function(){return C},disableDisposablesTrack:function(){return g},disableDisposeTrace:function(){return l},dispose:function(){return R},enableDisposablesTrack:function(){return v},enableDisposeTrace:function(){return u},isDisposable:function(){return I},markTracked:function(){return y},mixinDisposable:function(){return S},mixinRootDisposable:function(){return O},toDisposable:function(){return T},trackDisposable:function(){return m},tryToDispose:function(){return x},tryToMarkDispose:function(){return A}});var r=n(46102),o=n(34419);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,o.Z)(e,t)}n(25873),n(48879),n(47259),n(9624),n(64544),n(33905),n(3532),n(6739),n(84847),n(43387),n(37569),n(53775),n(98165);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=!1;function u(){c=!0}function l(){c=!1}var f=function(){function e(e){this.name=e,this._dep=[]}e.traceRoot=function(t){return c?new e(t):e._None};var t=e.prototype;return t.branch=function(t){var n=new e(t);return this._dep.push([t,n]),n},t.stop=function(){var e=["dispose "+this.name,""+function e(t,n){for(var r,o=[],i=new Array(t+1).join("\t"),s=a(n._dep);!(r=s()).done;){var c=r.value,u=c[0],l=c[1];if(l){o.push(i+"dispose -> "+u);var f=e(t+1,l);f&&o.push(f)}else o.push(i+"dispose -> "+u)}return o.join("\n")}(1,this)];console.log(e.join("\n"))},e}();f._None=new(function(e){function t(){return e.call(this,null)||this}i(t,e);var n=t.prototype;return n.stop=function(){},n.branch=function(){return this},t}(f));n(73774);var d=Object.freeze({dispose:function(){}}),p=!1,h="__is_disposable_tracked__";function v(){p=!0}function g(){p=!1}function y(e){if(p&&e&&e!==d)try{e[h]=!0}catch(t){}}function m(e){if(!p)return e;e[h]||(e[h]=!1);var t=new Error("Potentially leaked disposable").stack;return setTimeout((function(){e[h]||console.log(t)}),3e3),e}n(44799),n(20260);var _=function(){function e(){this.toDisposeSet=new Set,this.isDisposeState=!1}var t=e.prototype;return t.dispose=function(e){if(!this.isDisposeState)if(y(this),this.isDisposeState=!0,e)this.clear(e);else{var t=f.traceRoot(this.constructor.name);this.clear(t),t.stop()}},t.clear=function(e){this.toDisposeSet.forEach((function(t){var n=t.disposableId||t.constructor.name;t.dispose(null==e?void 0:e.branch(n))})),this.toDisposeSet.clear()},t.add=function(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return y(t),this.isDisposeState?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this.toDisposeSet.add(t),t},e}();_.DISABLE_DISPOSED_WARNING=!1;var b=function(){function e(){this.disposedStore=new _}var t=e.prototype;return t.dispose=function(e){this.disposedStore.dispose(e)},t._register=function(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this.disposedStore.add(e)},e}(),w=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.dispose=function(t){var n=t,r=!1;if(!n){var o=this.constructor.name;n=f.traceRoot(o),r=!0}e.prototype.dispose.call(this,n),r&&n.stop()},n._register=function(t){return e.prototype._register.call(this,t)},t}(b),E=function(e){function t(){var t;return t=e.call(this)||this,m((0,r.Z)(t)),t}return i(t,e),t.prototype.dispose=function(t){y(this),e.prototype.dispose.call(this,t)},t}(b),S=function(e){return function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).disposedStore=new _,m((0,r.Z)(t)),t}i(t,e);var n=t.prototype;return n.dispose=function(e){y(this),this.disposedStore.dispose(e)},n._register=function(e){return this.disposedStore.add(e)},t}(e)},O=function(e){return function(e){function t(){var t;return(t=e.apply(this,arguments)||this).disposedStore=new _,t}i(t,e);var n=t.prototype;return n.dispose=function(e){y(this);var t=e,n=!1;if(!t){var r=this.constructor.name;t=f.traceRoot(r),n=!0}this.disposedStore.dispose(t),n&&t.stop()},n._register=function(e){return this.disposedStore.add(e)},t}(e)};function I(e){return"function"==typeof e.dispose&&(0===e.dispose.length||1===e.dispose.length)}function R(e,t){if(Array.isArray(e)){var n=t||f.traceRoot("disposables");return e.forEach((function(e){e&&(y(e),e.dispose(n))})),n.stop(),[]}if(e){var r=t||f.traceRoot("disposables");return y(e),e.dispose(r),r.stop(),e}}function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(y),m({dispose:function(e){return R(t,e)}})}function T(e,t){void 0===t&&(t="");var n=m({dispose:function(t){y(n),e(t)},disposableId:t});return n}function x(e,t){e&&I(e)&&e.dispose(t)}function A(e){I(e)&&y(e)}var k=n(58966),D=function(){};D.None=Object.freeze({isCancellationRequested:!1}),D.Cancelled=Object.freeze({isCancellationRequested:!0});var M=function(){function e(){this.isCancelled=!1}return e.prototype.cancel=function(){this.isCancelled||(this.isCancelled=!0)},(0,k.Z)(e,[{key:"isCancellationRequested",get:function(){return this.isCancelled}}]),e}(),P=function(){function e(){this.innertoken=void 0}var t=e.prototype;return t.cancel=function(){this.innertoken?this.innertoken instanceof M&&this.innertoken.cancel():this.innertoken=D.Cancelled},t.dispose=function(){this.cancel()},(0,k.Z)(e,[{key:"token",get:function(){return this.innertoken||(this.innertoken=new M),this.innertoken}}]),e}()},4559:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CREATE_INSTANCE_NOT_REGISTERED=t.LOADER_BASE_STATIC_INSTANTIATION=t.LOADER_BASE_ORPHAN_INSTANTIATION=t.SERVICE_NAME_DECORATOR_MISUSE=t.GRAPH_CYCLIC_DEPENDENCY=t.SERVICES_CYCLIC_DEPENDENCY=t.RESOLVE_UNKNOWN_SERVICE=t.CREATING_UNKNOWN_SERVICE=t.DEPEND_ON_UNKNOWN_SERVICE=t.INVOKE_UNKNOWN_SERVICE=t.OVERRIDE_WARNING=t.ILLEGAL_ATTACH_PARENT_STATE=t.ILLEGAL_MERGE_STATE=t.ILLEGAL_HIERARCHY_STATE=t.AMBIGUOUS_MATCH_SERVICE=t.UPDATE_HOLDER_INSTANCE=t.AMBIGUOUS_OVERRIDE_SERVICE=t.SERVICE_DECORATOR_PARAMETER_ERROR=t.MULTI_INJECT_DECORATOR_MISUSED=t.INJECT_DECORATOR_MISUSED=t.INJECT_DECORATOR_PARAMETER_ERROR=t.POST_CONSTRUCTOR_DECORATOR_MISUSED=t.DUPLICATED_METHOD_METADATA=t.DUPLICATED_PARAMETER_METADATA=t.INVALID_DECORATOR_OPERATION=void 0,t.INVALID_DECORATOR_OPERATION="Metadata must be applied to the parameters of a class constructor",t.DUPLICATED_PARAMETER_METADATA=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"Metadata key was used more than once for parameter of class "+e[0]+" in position "+e[1]+", already has metadata: ["+e[2]+"], newly add metadata: ["+e[3]+"]"},t.DUPLICATED_METHOD_METADATA=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"Metadata key "+e[0]+" was used more than once, it has already been used in method ["+e[1]+"]"},t.POST_CONSTRUCTOR_DECORATOR_MISUSED="@postConstructor: only support to be used as method decorator",t.INJECT_DECORATOR_PARAMETER_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"inject with illegal serviceIdentifier "+e[0]+" "+e[1]+" "+e[2]},t.INJECT_DECORATOR_MISUSED="@inject: only support to be used as parameters decorator",t.MULTI_INJECT_DECORATOR_MISUSED="@inject: only support parameters injection",t.SERVICE_DECORATOR_PARAMETER_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"use decorator @service with illegal instantiationIdentifier parameter "+e[0]},t.AMBIGUOUS_OVERRIDE_SERVICE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"Ambiguous override for serviceIdentifier: "+e[0]},t.UPDATE_HOLDER_INSTANCE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"Should not update identifier "+e[0]+" holder's descriptor, when "+e[1]+" already has a instance"},t.AMBIGUOUS_MATCH_SERVICE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"Ambiguous match found for serviceIdentifier: "+e[0]},t.ILLEGAL_HIERARCHY_STATE="Illegal hierarchy state: elder border is duplicated",t.ILLEGAL_MERGE_STATE="Illegal merge state: cannot merge a node with a parent to anther node",t.ILLEGAL_ATTACH_PARENT_STATE="Illegal parent state: there is already a parent node",t.OVERRIDE_WARNING=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"Warning: try to override service ["+e[0]+"], which with no supportsOverride options"},t.INVOKE_UNKNOWN_SERVICE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"[invokeFunction] get unknown service '"+e[0]+"'"},t.DEPEND_ON_UNKNOWN_SERVICE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"Service "+e[0]+" depends on unknown service "+e[1]},t.CREATING_UNKNOWN_SERVICE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"IllegalState: creating unknown service instance "+e[0]},t.RESOLVE_UNKNOWN_SERVICE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"IllegalState: resolve unknown service instance "+e[0]},t.SERVICES_CYCLIC_DEPENDENCY="Cyclic dependency between services",t.GRAPH_CYCLIC_DEPENDENCY="May detected cyclic dependency in graph",t.SERVICE_NAME_DECORATOR_MISUSE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@ServiceName decorator ["+e[0]+"] can only be used to decorate constructor parameter"},t.LOADER_BASE_ORPHAN_INSTANTIATION="Illegal state: getInstantion return orphan InstantiationService",t.LOADER_BASE_STATIC_INSTANTIATION="Illegal state: staticInstantiationService of LoaderBase can only be set once",t.CREATE_INSTANCE_NOT_REGISTERED=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"CreateInstance "+e[0]+" depends on "+e[1]+" which is NOT registered"}},58484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=void 0;var r=n(39583),o=n(35337),i=n(4559);t.inject=function(e){return function(t,n,a){if(void 0===e)throw new Error(i.INJECT_DECORATOR_PARAMETER_ERROR(t.name,n,a));if("number"!=typeof a)throw new Error(i.INJECT_DECORATOR_MISUSED);r.addTypeParameterMeta(o.CLASS_CONSTRUCTOR_DEPS,t,n,e,a)}}},71707:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstructor=void 0;var r=n(35337),o=n(4559),i=n(37762);t.postConstructor=function(){return function(e,t,n){if("number"==typeof n||!e.constructor||!t)throw new Error(o.POST_CONSTRUCTOR_DECORATOR_MISUSED);i.addMethodMeta(r.POST_CONSTRUCTOR,{methodName:t},e.constructor)}}},63597:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.service=void 0;var r=n(16729),o=n(14664),i=n(4559);t.service=function(e){return function(t){if(void 0===e)throw new Error(i.SERVICE_DECORATOR_PARAMETER_ERROR(t.name));o.InstantiationFactory.getInstantiation(e).addService(t,new r.SyncDescriptor(t))}}},85909:function(e,t,n){"use strict";var r=n(29234);var o=n(26758);Object.defineProperty(t,"yh",{enumerable:!0,get:function(){return o.createDecorator}});var i=n(16729);Object.defineProperty(t,"Mj",{enumerable:!0,get:function(){return i.SyncDescriptor}});var a=n(72397);var s=n(49803);var c=n(92359);var u=n(14664);var l=n(54519);Object.defineProperty(t,"FS",{enumerable:!0,get:function(){return l.InstantiationService}});var f=n(86809);var d=n(88538);Object.defineProperty(t,"yk",{enumerable:!0,get:function(){return d.ServiceCollection}});var p=n(34748);Object.defineProperty(t,"o5",{enumerable:!0,get:function(){return p.ServiceRegister}});var h=n(63132);var v=n(54493);var g=n(58484);Object.defineProperty(t,"f3",{enumerable:!0,get:function(){return g.inject}});var y=n(63597);var m=n(71707);var _=n(39583);var b=n(44852);var w=n(67526);var E=n(37687)},59742:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLock=void 0;var n=function(){function e(){var e=this;this.isInnerOpen=!1,this.innerPromise=new Promise((function(t){e.completePromise=t}))}return e.prototype.isOpen=function(){return this.isInnerOpen},e.prototype.open=function(){this.isInnerOpen=!0,this.completePromise(!0)},e.prototype.wait=function(){return this.innerPromise},e}();t.AsyncLock=n},67526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyResolver=void 0;var r=n(35337),o=n(13705),i=n(39583),a=function(){function e(){}return e.addServiceDependencies=function(e,t,n){i.addTypeParameterMeta(r.CLASS_CONSTRUCTOR_DEPS,e,void 0,t,n)},e.getServiceDependencies=function(e){var t=[],n=o.MetadataHandler.getDepsMetadata(r.CLASS_CONSTRUCTOR_DEPS,e);return n?(Object.keys(n).forEach((function(e){var r=n[e];r[1]?t.push({id:r[1].serviceIdentifier,index:parseInt(e,10),query:r[1]}):r[0]&&t.push({id:r[0],index:parseInt(e,10),query:{serviceIdentifier:r[0]}})})),t):t},e}();t.DependencyResolver=a},16729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncDescriptor=void 0;var r=n(26189),o=function(){function e(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1),this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n,this.supportsOverride=r}return e.prototype.isEqualWith=function(e){return this.ctor===e.ctor&&(this.supportsDelayedInstantiation===e.supportsDelayedInstantiation&&(this.supportsOverride===e.supportsOverride&&!!r.arrayEquals(this.staticArguments,e.staticArguments)))},e}();t.SyncDescriptor=o},49803:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicLoader=void 0;var r=n(80244),o=n(37687),i=n(29234),a=n(72397),s=n(59742),c=function(e){function t(t,n){void 0===t&&(t=[]);var r=e.call(this,n)||this;return r.disposableId="DynamicLoader",r.params=a.paramsToArray(t),r}return r.__extends(t,e),t.prototype.getInstance=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){return this.getInstancePromise||(t=new o.CancellationTokenSource,this.tokenSource=t,this.getInstancePromise=this.executor(t.token,e)),[2,this.getInstancePromise]}))}))},Object.defineProperty(t.prototype,"loadedModule",{get:function(){var e;if(null===(e=this.loadBarrier)||void 0===e?void 0:e.isOpen())return this.ctor},enumerable:!1,configurable:!0}),t.prototype.executor=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,o,i;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.loadModule()];case 1:return n=r.sent(),e.isCancellationRequested||!n?[2]:(o=t||(this.params.length>0?this.params:[]),i=this.createInstance(n,o),this.instance=i,[2,i])}}))}))},t.prototype.loadModule=function(){var e;return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return(null===(e=this.loadBarrier)||void 0===e?void 0:e.isOpen())&&this.ctor?[2,this.ctor]:this.loadBarrier?[3,2]:(this.loadBarrier=new s.AsyncLock,[4,this.getModule()]);case 1:return t=n.sent(),this.ctor=(null==t?void 0:t.default)||t,this.loadBarrier.open(),[3,4];case 2:return[4,this.loadBarrier.wait()];case 3:n.sent(),n.label=4;case 4:return this.ctor?[2,this.ctor]:[2,void 0]}}))}))},t.prototype.dispose=function(t){var n;e.prototype.dispose.call(this,t),this.instance=void 0,null===(n=this.tokenSource)||void 0===n||n.cancel(),this.tokenSource=void 0,this.getInstancePromise=void 0},t=r.__decorate([r.__param(1,i.IInstantiationService)],t)}(a.LoaderBase);t.DynamicLoader=c},80013:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=t.Node=void 0;var r=n(4559),o=function(e){this.incoming=new Map,this.outgoing=new Map,this.data=e};t.Node=o;var i=function(){function e(e){this.identifier=e,this.innerNodes=new Map}return e.prototype.roots=function(){var e=[];return this.innerNodes.forEach((function(t){0===t.outgoing.size&&e.push(t)})),e},e.prototype.insertEdge=function(e,t){var n=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);n.outgoing.set(this.identifier.hashId(t),r),r.incoming.set(this.identifier.hashId(e),n)},e.prototype.removeNode=function(e){var t=this.identifier.hashId(e);this.innerNodes.delete(t),this.innerNodes.forEach((function(e){e.outgoing.delete(t),e.incoming.delete(t)}))},e.prototype.lookupOrInsertNode=function(e){var t=this.identifier.hashId(e),n=this.innerNodes.get(t);return n||(n=new o(e),this.innerNodes.set(t,n)),n},e.prototype.lookup=function(e){return this.innerNodes.get(this.identifier.hashId(e))},e.prototype.isEmpty=function(){return 0===this.innerNodes.size},e.prototype.dfs=function(e,t){var n=this.clone(),o=[],i=n.innerNodes.get(n.identifier.hashId(e));if(i){o.push(i);for(var a=0;o.length;){if(a>1e4)throw new Error(r.GRAPH_CYCLIC_DEPENDENCY);a+=1;var s=o[o.length-1];s.outgoing.forEach((function(e){o.push(e)})),s.outgoing.size||(n.lookup(s.data)&&(t(s.data),n.removeNode(s.data)),o.pop())}}},e.prototype.clone=function(){var t=new e(this.identifier);return this.innerNodes.forEach((function(e){e.outgoing.forEach((function(n){t.insertEdge(e.data,n.data)}))})),t},e.prototype.toString=function(){var e=this,t=[];return this.innerNodes.forEach((function(n){var r=e.identifier.hashString(n.data),o=[];n.incoming.forEach((function(t){o.push(e.identifier.hashString(t.data))}));var i=[];n.outgoing.forEach((function(t){i.push(e.identifier.hashString(t.data))})),t.push(r+", (incoming)["+o.join(", ")+"], (outgoing)["+i.join(", ")+"]")})),t.join("\n")},e}();t.Graph=i},56853:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HierarchyNode=void 0;var r=n(4559),o=function(){function e(e){this.children=new Set,this.isElderBrother=!1,this.self=e}return e.linkParentAndChild=function(e,t){e.addChild(t),t.attachToParent(e)},e.linkSibling=function(e,t){e.addAsRightSibling(t),t.addAsLeftSibling(e)},e.prototype.attachToParent=function(e,t){if(void 0===t&&(t=!1),this.parent&&!t)throw new Error(r.ILLEGAL_ATTACH_PARENT_STATE);this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.addChild=function(e){this.children.has(e)||this.children.add(e)},e.prototype.walkUp=function(e){this.walkSiblings((function(t){e(t.getSelfNode())}));var t=this.getElderBrother().getParent();t&&t.walkUp(e)},e.prototype.walkDown=function(e){this.walkSiblings((function(t){e(t.getSelfNode())}));var t=this.getElderBrother().getChildren();t.size>0&&t.forEach((function(t){return t.walkDown(e)}))},e.prototype.mergeTo=function(e){if(this.getParent())throw new Error(r.ILLEGAL_MERGE_STATE);var t=e.getElderBrother();this.walkSiblings((function(e){e.setElderBrother(!1),e.getChildren().forEach((function(e){e.attachToParent(t,!0),t.addChild(e)})),e.removeChildren()}));var n=e.getRightTailSiblingNode();e.getRightTailSiblingNode().addAsRightSibling(this.getLeftHeadSiblingNode()),this.getLeftHeadSiblingNode().addAsLeftSibling(n)},e.prototype.getChildren=function(){return this.children},e.prototype.removeChildren=function(){this.children.clear()},e.prototype.addAsLeftSibling=function(e){if(this.leftSibling){var t=this.getLeftHeadSiblingNode();null==t||t.addAsLeftSibling(e)}else this.leftSibling=e},e.prototype.addAsRightSibling=function(e){this.rightSibling?this.getRightTailSiblingNode().addAsRightSibling(e):this.rightSibling=e},e.prototype.getLeftSibling=function(){return this.leftSibling},e.prototype.getRightSibling=function(){return this.rightSibling},e.prototype.isSelfElder=function(){return this.isElderBrother},e.prototype.setElderBrother=function(e){this.isElderBrother=e},e.prototype.getSelfNode=function(){return this.self},e.prototype.getLeftHeadSiblingNode=function(){var e=this.getLeftSibling();if(!e)return this;for(;null==e?void 0:e.getLeftSibling();)e=null==e?void 0:e.getLeftSibling();return e||this},e.prototype.getRightTailSiblingNode=function(){var e=this.getRightSibling();if(!e)return this;for(;null==e?void 0:e.getRightSibling();)e=null==e?void 0:e.getRightSibling();return e||this},e.prototype.getElderBrother=function(){var e;return this.walkSiblings((function(t){if(t.isSelfElder()||t.getParent()){if(e)throw new Error(r.ILLEGAL_HIERARCHY_STATE);e=t}})),e||this},e.prototype.walkSiblings=function(e){e(this);for(var t=this.leftSibling;t;)e(t),t=t.getLeftSibling();for(var n=this.rightSibling;n;)e(n),n=n.getRightSibling()},e}();t.HierarchyNode=o},92359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdleLoader=void 0;var r=n(80244),o=n(59308),i=n(37687),a=n(29234),s=n(72397),c=n(59742),u=function(e){function t(t,n){void 0===t&&(t=[]);var r=e.call(this,n)||this;return r.disposableId="IdleLoader",r.params=s.paramsToArray(t),r.task=o.scheduler.scheduleTask((function(){var e=new i.CancellationTokenSource;r.tokenSource=e,r.schedulePromise=r.executor(e.token)})),r}return r.__extends(t,e),t.prototype.getInstance=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return this.schedulePromise?[4,this.schedulePromise]:[3,2];case 1:return[2,t.sent()];case 2:return this.task&&(o.scheduler.cancelTask(this.task),this.task=void 0),this.getInstancePromise?[2,this.getInstancePromise]:(e=new i.CancellationTokenSource,this.tokenSource=e,this.getInstancePromise=this.executor(e.token),[2,this.getInstancePromise])}}))}))},Object.defineProperty(t.prototype,"loadedModule",{get:function(){var e;if(null===(e=this.loadBarrier)||void 0===e?void 0:e.isOpen())return this.ctor},enumerable:!1,configurable:!0}),t.prototype.dispose=function(t){var n;e.prototype.dispose.call(this,t),null===(n=this.tokenSource)||void 0===n||n.cancel(),this.tokenSource=void 0,this.schedulePromise=void 0,this.task&&(o.scheduler.cancelTask(this.task),this.task=void 0)},t.prototype.executor=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.loadModule()];case 1:return t=r.sent(),e.isCancellationRequested||!t?[2]:(n=this.params.length>0?this.params:[],[2,this.createInstance(t,n)])}}))}))},t.prototype.loadModule=function(){var e;return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return(null===(e=this.loadBarrier)||void 0===e?void 0:e.isOpen())&&this.ctor?[2,this.ctor]:this.loadBarrier?[3,2]:(this.loadBarrier=new c.AsyncLock,[4,this.getModule()]);case 1:return t=n.sent(),this.ctor=(null==t?void 0:t.default)||t,this.loadBarrier.open(),[3,4];case 2:return[4,this.loadBarrier.wait()];case 3:n.sent(),n.label=4;case 4:return this.ctor?[2,this.ctor]:[2,void 0]}}))}))},t=r.__decorate([r.__param(1,a.IInstantiationService)],t)}(s.LoaderBase);t.IdleLoader=u},14664:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInstantiationIdentifier=t.InstantiationFactory=t.instantiationIds=void 0;var r=n(54519),o=n(85173);t.instantiationIds=new Map;var i=function(){function e(e){this.id=e}return e.prototype.getId=function(){return this.id},e}(),a=function(){function e(){}return e.getInstantiation=function(e,t){var n=o.Registry.as(e.getId());return n||(t?(n=t.createChild(),o.Registry.add(e.getId(),n)):(n=new r.InstantiationService,o.Registry.add(e.getId(),n))),n},e}();t.InstantiationFactory=a,t.createInstantiationIdentifier=function(e){var n=t.instantiationIds.get(e);return n||(n=new i(e),t.instantiationIds.set(e,n)),n}},50002:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationHook=void 0;var n=function(){function e(){this.hookRegistry=new Set}return e.prototype.addHook=function(e,t){this.hookRegistry.add({hookPoint:e,callback:t})},e.prototype.executeHooks=function(e,t){this.hookRegistry.forEach((function(n){var r=n.hookPoint,o=n.callback;r===t&&o(e)}))},e}();t.InstantiationHook=n},44852:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationServiceBuilder=void 0;var r=n(80244),o=n(88538),i=n(54519),a=function(){function e(e,t,n){void 0===e&&(e=new o.ServiceCollection),void 0===t&&(t=!1),this.instantiationService=new i.InstantiationService(e,t,n)}return e.prototype.serviceRegister=function(e){var t=this;return e.getServiceDescriptors().forEach((function(e){var n=r.__read(e,2),o=n[0],i=n[1];return t.instantiationService.addService(o,i)})),e.getMulServiceDescriptor().forEach((function(e){var n=r.__read(e,2),o=n[0],i=n[1];return t.instantiationService.addService(o,i,!0)})),this},e.prototype.build=function(){return this.instantiationService},e}();t.InstantiationServiceBuilder=a},54519:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=void 0;var r=n(80244),o=n(37687),i=n(80013),a=n(16729),s=n(29759),c=n(29234),u=n(88538),l=n(18466),f=n(86809),d=n(67526),p=n(62920),h=n(56853),v=n(72397),g=n(4559),y=n(26189),m="undefined"!=typeof Proxy,_=function(){function e(e,t,n){if(void 0===e&&(e=new u.ServiceCollection),void 0===t&&(t=!1),this.hookRegistry=new Map,this.commonHookList=[],this.innerService=e,this.strictMode=t,this.innerService.set(c.IInstantiationService,this),this.hierarchyNode=new h.HierarchyNode(this),n){var r=n.getHierarchyNode();h.HierarchyNode.linkParentAndChild(r,this.hierarchyNode)}}return e.prototype.getHierarchyNode=function(){return this.hierarchyNode},e.prototype.createChild=function(t){return new e(t,this.strictMode,this)},e.prototype.addChild=function(e){h.HierarchyNode.linkParentAndChild(this.hierarchyNode,e.getHierarchyNode())},e.prototype.attachToParent=function(e){h.HierarchyNode.linkParentAndChild(e.getHierarchyNode(),this.hierarchyNode)},e.prototype.getParent=function(){var e;return null===(e=this.hierarchyNode.getParent())||void 0===e?void 0:e.getSelfNode()},e.prototype.addService=function(e,t,n){n?this.innerService.setMulti(e,t):this.innerService.set(e,t)},e.prototype.createInstance=function(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return e instanceof a.SyncDescriptor?(t=f.InstantiationTrace.traceCreation(e.ctor),n=this.resolveAndCreateInstance(e.ctor,e.staticArguments.concat(r),t)):(t=f.InstantiationTrace.traceCreation(e),n=this.resolveAndCreateInstance(e,r,t)),t.stop(),n},e.prototype.invokeFunction=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=f.InstantiationTrace.traceInvocation(e);try{var a={get:function(e){var n={serviceIdentifier:e,isMultiInject:!0},r=t.getOrCreateServiceInstance(n,i);if(!r)throw new Error(g.INVOKE_UNKNOWN_SERVICE(p.getIdentifierName(e)));return r},getAll:function(e){var n={serviceIdentifier:e,isMultiInject:!0},r=t.getOrCreateServiceInstances(n,i);if(!r)throw new Error(g.INVOKE_UNKNOWN_SERVICE(p.getIdentifierName(e)));return r}};return e.apply(void 0,r.__spread([a],n))}finally{i.stop()}},e.prototype.dispose=function(t,n){var r=this;void 0===n&&(n=!1);var i=t||o.DisposeTrace.traceRoot("IInstantiationService");this.innerService.teardown((function(t){return t&&!(t instanceof e)}),(function(e){return!(e instanceof v.LoaderBase)}),(function(t){return!(t instanceof e)}),i),n||this.hierarchyNode.walkDown((function(e){e!==r&&e.dispose(i.branch("IInstantiationService"),!0)})),this.hookRegistry.clear(),this.commonHookList=[],!t&&i&&i.stop()},e.prototype.has=function(e){var t=!1;return this.hierarchyNode.walkUp((function(n){t||(t=n.innerService.has(e))})),t},e.prototype.getClass=function(e){var t;return this.hierarchyNode.walkUp((function(n){var r;if(!t){var o=n.innerService.getHolder({serviceIdentifier:e});t=null===(r=null==o?void 0:o.descriptor)||void 0===r?void 0:r.ctor}})),t},e.prototype.addHook=function(e,t,n){return this.addServiceHook(e,t,n)},e.prototype.addCommonHook=function(e,t,n){this.commonHookList.push({hookPoint:e,callback:t,filter:n})},e.prototype.mergeTo=function(e){this.hierarchyNode.mergeTo(e.getHierarchyNode())},e.prototype.addServiceHook=function(e,t,n){var r=!1;return this.hierarchyNode.walkUp((function(o){if(!r&&o.innerService.has(t)){var i=o.innerService.getAllHolder({serviceIdentifier:t,isMultiInject:!0});null==i||i.forEach((function(t){t.instance&&y.isLoaderHolder(t.instance)&&y.addLoaderHook(t.instance,e,n)})),o.innerService.getMapping().getMapping(t).forEach((function(t){if(t&&"string"!=typeof t){var i=o.hookRegistry.get(t)||[];i.push({hookPoint:e,callback:n}),o.hookRegistry.set(t,i),r=!0}}))}})),r},e.prototype.resolveAndCreateInstance=function(e,t,n){var o,i,a;void 0===t&&(t=[]);var s=d.DependencyResolver.getServiceDependencies(e).sort((function(e,t){return e.index-t.index})),c=[];try{for(var u=r.__values(s),l=u.next();!l.done;l=u.next()){var f=l.value,h=f.query.isMultiInject?this.getOrCreateServiceInstances(f.query,n):this.getOrCreateServiceInstance(f.query,n);if(!h&&this.strictMode&&!(null===(a=null==f?void 0:f.query)||void 0===a?void 0:a.isOption))throw new Error(g.DEPEND_ON_UNKNOWN_SERVICE(e.name,p.getIdentifierName(f.id)));c.push(h)}}catch(m){o={error:m}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}var v=this.alignArgs(t,s),y=new(e.bind.apply(e,r.__spread([void 0],r.__spread(v,c))));return this.executePostDecorator(e,y),this.executePostHooks(e,y),this.executeCommonPostHooks(y),y},e.prototype.executePostHooks=function(e,t){var n=this.hookRegistry.get(e);n&&n.forEach((function(e){var n=e.hookPoint,r=e.callback;n===c.IInstantiationHookPoint.POST_CONSTRUCTOR&&(t&&y.isLoaderHolder(t)?y.addLoaderHook(t,n,r):r(t))}))},e.prototype.executeCommonPostHooks=function(e){this.hierarchyNode.walkDown((function(t){t.commonHookList.forEach((function(t){var n=t.hookPoint,r=t.callback,o=t.filter;n===c.IInstantiationHookPoint.POST_CONSTRUCTOR&&(o&&!o(e)||r(e))}))}))},e.prototype.executePostDecorator=function(e,t){var n=y.getPostConstructorMethodName(e);n&&t[n].call(t)},e.prototype.alignArgs=function(e,t){var n=e,r=t.length>0?t[0].index:e.length;if(e.length!==r){var o=r-e.length;n=o>0?e.concat(new Array(o)):e.slice(0,r)}return n},e.prototype.tryToCacheServiceInstance=function(e,t){return(null==e?void 0:e.descriptor)instanceof a.SyncDescriptor&&(e.instance=t,!0)},e.prototype.getServiceInstanceOrDescriptor=function(e){var t;return this.hierarchyNode.walkUp((function(n){t||(t=n.innerService.getHolder(e))})),t},e.prototype.getAllServiceInstanceOrDescriptors=function(e){var t;return this.hierarchyNode.walkUp((function(n){t||(t=n.innerService.getAllHolder(e))})),t},e.prototype.createAndCacheServiceInstance=function(e,t,n){var r=this.resolveDependencyGraph(e,t,n);return this.createServiceInstanceFromGraph(r)},e.prototype.resolveDependencyGraph=function(e,t,n){for(var o,a,c,u=new i.Graph({hashId:function(e){return e.query.serviceIdentifier},hashString:function(e){return p.getIdentifierName(e.query.serviceIdentifier)}}),l=0,f=[{query:e,descriptor:t,trace:n}];f.length;){var h=f.pop();if(u.lookupOrInsertNode(h),l>1e3)throw new s.CyclicDependencyError(u);l+=1;var v=d.DependencyResolver.getServiceDependencies(h.descriptor.ctor);try{for(var y=(o=void 0,r.__values(v)),m=y.next();!m.done;m=y.next()){var _=m.value,b=this.getAllServiceInstanceOrDescriptors(_.query);b||(null===(c=null==_?void 0:_.query)||void 0===c?void 0:c.isOption)||console.warn(g.CREATE_INSTANCE_NOT_REGISTERED(p.getIdentifierName(e.serviceIdentifier),p.getIdentifierName(_.id)));var w=null==b?void 0:b.filter((function(e){return e.descriptor}));if(w&&(null==w?void 0:w.length)>0&&w[0].descriptor){var E={query:_.query,descriptor:w[0].descriptor,trace:h.trace.branch(_.id,!0)};u.insertEdge(h,E),f.push(E)}}}catch(S){o={error:S}}finally{try{m&&!m.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}}return u},e.prototype.createServiceInstanceFromGraph=function(e){for(var t,n,o,i;;){var a=e.roots();if(0===a.length){if(!e.isEmpty())throw new s.CyclicDependencyError(e);break}try{for(var c=(t=void 0,r.__values(a)),u=c.next();!u.done;u=c.next()){var l=u.value.data;i=l.descriptor.ctor,o=this.createServiceInstanceWithOwner(l.query,l.descriptor.ctor,l.descriptor.staticArguments,l.descriptor.supportsDelayedInstantiation,l.trace),e.removeNode(l)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}if(!o)throw new Error(g.RESOLVE_UNKNOWN_SERVICE(null==i?void 0:i.name));return o},e.prototype.getOrCreateServiceInstance=function(e,t){var n,r=this.getServiceInstanceOrDescriptor(e);return!(null==r?void 0:r.instance)&&(null==r?void 0:r.descriptor)?this.createAndCacheServiceInstance(e,r.descriptor,t.branch(e.serviceIdentifier,!0)):(f.InstantiationTrace.traverse(t,e.serviceIdentifier,!1)||t.branch(e.serviceIdentifier,!1),null!==(n=null==r?void 0:r.instance)&&void 0!==n?n:void 0)},e.prototype.getOrCreateServiceInstances=function(e,t){var n=this,r=this.getAllServiceInstanceOrDescriptors(e),o=[];return null==r||r.forEach((function(r){if(r.instance)o.push(r.instance);else if(r.descriptor){var i=n.createAndCacheServiceInstance(e,r.descriptor,t.branch(e.serviceIdentifier,!0));o.push(i)}f.InstantiationTrace.traverse(t,e.serviceIdentifier,!1)||t.branch(e.serviceIdentifier,!1)})),o||void 0},e.prototype.createServiceInstanceWithOwner=function(e,t,n,r,o){var i,a=this;if(void 0===n&&(n=[]),this.hierarchyNode.walkUp((function(s){var c;if(!i){var u=s.innerService.getAllHolder(e,(function(e){var n;return(null===(n=e.descriptor)||void 0===n?void 0:n.ctor)===t})),l=null==u?void 0:u[0];(i=null!==(c=null==l?void 0:l.instance)&&void 0!==c?c:void 0)||(null==l?void 0:l.descriptor)&&(i=s.createServiceInstance(t,n,r,o),a.tryToCacheServiceInstance(l,i))}})),i)return i;throw new Error(g.CREATING_UNKNOWN_SERVICE(t.name))},e.prototype.createServiceInstance=function(e,t,n,r){var o=this;if(void 0===t&&(t=[]),!n||!m)return this.resolveAndCreateInstance(e,t,r);var i=new l.ProxyValue((function(){return o.resolveAndCreateInstance(e,t,r)}));return new Proxy(Object.create(null),{get:function(e,t){if(t in e)return e[t];var n=i.value,r=n[t];return"function"!=typeof r||(r=r.bind(n),e[t]=r),r},set:function(e,t,n){return i.value[t]=n,!0}})},e}();t.InstantiationService=_},86809:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationTrace=t.disableInstantiationTrace=t.enableInstantiationTrace=void 0;var r=n(80244),o=n(62920),i=!1;t.enableInstantiationTrace=function(){i=!0},t.disableInstantiationTrace=function(){i=!1};var a=function(){function e(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}return e.traceInvocation=function(t){return i?new e(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):e._None},e.traceCreation=function(t){return i?new e(0,t.name):e._None},e.traverse=function(t,n,o){if(void 0===o&&(o=!1),!i)return o;var a=o;return null==t||t._dep.forEach((function(o,i){var s=r.__read(o,3),c=s[0],u=s[1],l=s[2];c===n?!0===a&&!0===u?t._dep[i]=[c,!1,new e(2,c.toString())]:(a=!0,(null==l?void 0:l._dep)&&(null==l?void 0:l._dep.length)>0&&(a=e.traverse(l,n,a))):(null==l?void 0:l._dep)&&(null==l?void 0:l._dep.length)>0&&(a=e.traverse(l,n,a))})),a},e.prototype.branch=function(t,n){var r=new e(2,t.toString());return this._dep.push([t,n,r]),r},e.prototype.stop=function(){var t=Date.now()-this._start;e._totals+=t;var n=!1;var i=[(0===this.type?"CREATE":"CALL")+" "+this.name,""+function e(t,i){var a,s,c=[],u=new Array(t+1).join("\t");try{for(var l=r.__values(i._dep),f=l.next();!f.done;f=l.next()){var d=r.__read(f.value,3),p=d[0],h=d[1],v=d[2];if(h&&v){n=!0,c.push(u+"CREATES -> "+o.getIdentifierName(p));var g=e(t+1,v);g&&c.push(g)}else c.push(u+"uses -> "+o.getIdentifierName(p))}}catch(y){a={error:y}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return c.join("\n")}(1,this),"DONE, took "+t.toFixed(2)+"ms (grand total "+e._totals.toFixed(2)+"ms)"];(t>2||n)&&console.log(i.join("\n"))},e._None=new(function(e){function t(){return e.call(this,-1,null)||this}return r.__extends(t,e),t.prototype.stop=function(){},t.prototype.branch=function(){return this},t}(e)),e._totals=0,e}();t.InstantiationTrace=a},29234:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInstantiationService=t.IInstantiationHookPoint=void 0;var r=n(26758);!function(e){e[e.POST_CONSTRUCTOR=0]="POST_CONSTRUCTOR"}(t.IInstantiationHookPoint||(t.IInstantiationHookPoint={})),t.IInstantiationService=r.createDecorator("IInstantiationService")},16414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyMapping=void 0;var r=n(80225),o=n(4559),i=n(16729),a=n(62920),s=function(){function e(){this.identifierMap=new Map,this.serviceKeyMap=new Map}return e.prototype.getMapping=function(e){var t=this,n=this.identifierMap.get(e),r=[];return null==n||n.forEach((function(e){t.serviceKeyMap.get(e)&&r.push(e)})),void 0===n&&"function"==typeof e&&"function"!=typeof e.toLegacyString&&this.serviceKeyMap.get(e)&&r.push(e),r},e.prototype.deleteMapping=function(e){var t=this;this.identifierMap.forEach((function(n){var r=n.indexOf(e);r>=0&&(n.splice(r,1),t.serviceKeyMap.delete(e))}))},e.prototype.clear=function(){this.identifierMap.clear(),this.serviceKeyMap.clear()},e.prototype.dispose=function(){this.clear()},e.prototype.generateServiceKey=function(e,t,n){return void 0===n&&(n=!1),t instanceof i.SyncDescriptor?this.generateDescriptorKey(e,t,n):this.generateValueInstanceKey(e,t,n)},e.prototype.generateValueInstanceKey=function(e,t,n){if(void 0===n&&(n=!1),n){var r=this.createRandomValueKey(t);return this.addMapping(e,t,{valueId:r}),r}var i=this.getMapping(e);if(0===i.length){r=this.createRandomValueKey(t);return this.addMapping(e,t,{valueId:r}),r}if(1===i.length){var s=i[0],c=this.serviceKeyMap.get(s);if(null==c?void 0:c.override){this.deleteMappingById(e,s);r=this.createRandomValueKey(t);return this.addMapping(e,t,{valueId:r}),r}return i[0]}throw new Error(o.AMBIGUOUS_OVERRIDE_SERVICE(a.getIdentifierName(e)))},e.prototype.generateDescriptorKey=function(e,t,n){void 0===n&&(n=!1);var r=this.getMapping(e);if(n)return(null==r?void 0:r.includes(t))||this.addMapping(e,t.ctor),t.ctor;if(0===r.length)return this.addMapping(e,t.ctor,{override:t.supportsOverride}),t.ctor;if(1===r.length){var i=r[0],s=this.serviceKeyMap.get(i);return(null==s?void 0:s.override)&&t.ctor!==i?(this.deleteMappingById(e,i),this.addMapping(e,t.ctor,{override:t.supportsOverride}),t.ctor):r[0]}throw new Error(o.AMBIGUOUS_OVERRIDE_SERVICE(a.getIdentifierName(e)))},e.prototype.addMapping=function(e,t,n){var r=this.identifierMap.get(e);if(null==n?void 0:n.valueId){var o=n.valueId;r?r.push(o):this.identifierMap.set(e,[o]),this.serviceKeyMap.set(o,{serviceKey:o})}else r?r.push(t):this.identifierMap.set(e,[t]),this.serviceKeyMap.set(t,{serviceKey:t,override:null==n?void 0:n.override})},e.prototype.createRandomValueKey=function(e){return e.constructor.name+"@"+r.v4()},e.prototype.deleteMappingById=function(e,t){var n=0;if(this.identifierMap.forEach((function(e){e.indexOf(t)>=0&&(n+=1)})),0!==n){var r=this.identifierMap.get(e);if(r&&r.length){var o=r.indexOf(t);o>=0&&r.splice(o,1),1===n&&this.serviceKeyMap.delete(t)}}},e}();t.KeyMapping=s},26758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.LegacyServiceIdCache=void 0;var r=n(39583),o=n(35337),i=n(4559),a=function(){function e(){}return e.has=function(e){return this.serviceIdsMap.has(e)},e.get=function(e){return this.serviceIdsMap.get(e)},e.set=function(e,t){this.serviceIdsMap.set(e,t)},e.serviceIdsMap=new Map,e}();t.LegacyServiceIdCache=a,t.createDecorator=function(e){if(a.has(e))return a.get(e);var t=function(e,n,a){if(3!==arguments.length)throw new Error(i.SERVICE_NAME_DECORATOR_MISUSE(n));r.addTypeParameterMeta(o.CLASS_CONSTRUCTOR_DEPS,e,void 0,t,a)};return t.toLegacyString=function(){return e},a.set(e,t),t}},72397:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderBase=t.paramsToArray=void 0;var r=n(80244),o=n(37687),i=n(4559),a=n(29234),s=n(50002);t.paramsToArray=function(e){return Array.isArray(e)?e:[e]};var c=function(){function e(e){this.instantiationHook=new s.InstantiationHook,this.selfInstantiationService=e}return e.prototype.createInstance=function(e,t){if(this.instance)return this.instance;var n=this.loaderInstantiationService(),i=n.createInstance.apply(n,r.__spread([e],t));return this.executeHooks(i,a.IInstantiationHookPoint.POST_CONSTRUCTOR),this.instance=i,o.tryToMarkDispose(i),i},e.prototype.loaderInstantiationService=function(){var t=this,n=this.getInstantion()||e.staticInstantiationService;if(n&&n!==this.selfInstantiationService){var r=!0;if(n.getHierarchyNode().walkUp((function(e){r&&e===t.selfInstantiationService&&(r=!1)})),r)throw new Error(i.LOADER_BASE_ORPHAN_INSTANTIATION)}return n||this.selfInstantiationService},e.prototype.getInstantion=function(){return null},e.prototype.addHook=function(e,t){this.instantiationHook.addHook(e,t)},e.prototype.executeHooks=function(e,t){this.instantiationHook.executeHooks(e,t)},e.initStaticInstantiationService=function(t){if(e.staticInstantiationService)throw new Error(i.LOADER_BASE_STATIC_INSTANTIATION);e.staticInstantiationService=t},e.prototype.dispose=function(e){var t,n;this.instance&&(o.isDisposable(this.instance)&&(e&&e.branch(((null===(n=null===(t=this.instance)||void 0===t?void 0:t.constructor)||void 0===n?void 0:n.name)||"")+"instance"),this.instance.dispose(e)),this.instance=null)},e}();t.LoaderBase=c},18466:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyValue=void 0;var r=n(37687),o=function(){function e(e){var t=this;this.didRun=!1,this.executor=function(){try{t.innerValue=e()}catch(n){t.innerError=n}finally{t.didRun=!0}}}return Object.defineProperty(e.prototype,"value",{get:function(){if(this.didRun||this.executor(),this.innerError)throw this.innerError;return this.innerValue},enumerable:!1,configurable:!0}),e.prototype.dispose=function(e){this.innerValue&&r.isDisposable(this.innerValue)&&this.innerValue.dispose(e)},e}();t.ProxyValue=o},85173:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Registry=void 0;var n=function(){function e(){this.data=new Map}return e.prototype.add=function(e,t){this.data.set(e,t)},e.prototype.knows=function(e){return this.data.has(e)},e.prototype.as=function(e){return this.data.get(e)||null},e}();t.Registry=new n},54493:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendService=void 0;var r=n(16729);t.appendService=function(e,t,n,o,i){e.addService(t,new r.SyncDescriptor(n,o,i))}},88538:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceCollection=void 0;var r=n(80244),o=n(37687),i=n(16729),a=n(29759),s=n(62920),c=n(16414),u=n(4559),l=function(){function e(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];this.innerEntries=new Map,this.keyMapping=new c.KeyMapping;try{for(var i=r.__values(n),a=i.next();!a.done;a=i.next()){var s=r.__read(a.value,2),u=s[0],l=s[1];this.set(u,l)}}catch(f){e={error:f}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}return e.prototype.set=function(e,t){var n=this.keyMapping.generateServiceKey(e,t),r=this.innerEntries.get(n);r?t instanceof i.SyncDescriptor?this.overrideExistServiceHolder(e,r,t):this.setHolderInstance(n,r,t):this.createNewServiceHolder(n,t)},e.prototype.setMulti=function(e,t){var n=this.keyMapping.generateServiceKey(e,t,!0);if(!this.innerEntries.get(n)){var r=this.createNewHolderByCondition(t);this.innerEntries.set(n,r)}},e.prototype.has=function(e){var t=this;return!!this.keyMapping.getMapping(e).find((function(e){return t.innerEntries.has(e)}))},e.prototype.get=function(e){var t=this.keyMapping.getMapping(e);if(0!==t.length){if(t.length>1)throw new Error(u.AMBIGUOUS_MATCH_SERVICE(s.getIdentifierName(e)));var n=this.innerEntries.get(t[0]);return(null==n?void 0:n.instance)||(null==n?void 0:n.descriptor)||void 0}},e.prototype.getAllHolder=function(e,t){var n=this,r=this.keyMapping.getMapping(e.serviceIdentifier),o=[];return r.forEach((function(e){var t=n.innerEntries.get(e);t&&(null==o||o.push(t))})),t?null==o?void 0:o.filter((function(e,n){return t(e,n)})):o.length>0?o:void 0},e.prototype.getHolder=function(e){var t=this.keyMapping.getMapping(e.serviceIdentifier);if(0!==t.length){if(t.length>1)throw new Error(u.AMBIGUOUS_MATCH_SERVICE(s.getIdentifierName(e.serviceIdentifier)));return this.innerEntries.get(t[0])}},e.prototype.getMapping=function(){return this.keyMapping},e.prototype.teardown=function(e,t,n,r){var i=this;this.innerEntries.forEach((function(a,c){var u=a.instance,l=a.descriptor;(null==e?void 0:e(u))&&o.tryToDispose(u,null==r?void 0:r.branch(s.getIdentifierName(c))),l&&u&&(null==t?void 0:t(u))&&(a.instance=null),!l&&u&&(null==n?void 0:n(u))&&(i.innerEntries.delete(c),i.keyMapping.deleteMapping(c))}))},e.prototype.createNewServiceHolder=function(e,t){var n=this.createNewHolderByCondition(t);this.innerEntries.set(e,n)},e.prototype.overrideExistServiceHolder=function(e,t,n){var r,o,i;if(null===(r=t.descriptor)||void 0===r?void 0:r.supportsOverride){var a=this.keyMapping.generateServiceKey(e,n),c=this.createHolderInstance(null,n);this.innerEntries.set(a,c)}else{if(t.instance)throw new Error(u.UPDATE_HOLDER_INSTANCE(s.getIdentifierName(e),null===(i=t.descriptor)||void 0===i?void 0:i.ctor.name));(null===(o=t.descriptor)||void 0===o?void 0:o.isEqualWith(n))||console.warn(u.OVERRIDE_WARNING(s.getIdentifierName(e)))}},e.prototype.setHolderInstance=function(e,t,n){o.tryToMarkDispose(n),t.instance=n,this.innerEntries.set(e,t)},e.prototype.createNewHolderByCondition=function(e){return e instanceof i.SyncDescriptor?this.createHolderInstance(null,e):(o.tryToMarkDispose(e),this.createHolderInstance(e,null))},e.prototype.createHolderInstance=function(e,t){return new a.ServiceHolder(e,t)},e}();t.ServiceCollection=l},62920:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIdentifierName=void 0,t.getIdentifierName=function(e){return"function"==typeof e?"function"==typeof e.toLegacyString?e.toLegacyString():e.name:String(e)}},34748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceRegister=void 0;var r=n(16729),o=function(){function e(){this.innerRegistry=[],this.innerMultiRegistry=[]}return e.prototype.register=function(e,t,n,o){this.innerRegistry.push([e,new r.SyncDescriptor(t,n,o)])},e.prototype.registerValue=function(e,t){this.innerRegistry.push([e,t])},e.prototype.registerMulti=function(e,t,n,o){this.innerMultiRegistry.push([e,new r.SyncDescriptor(t,n,o)])},e.prototype.registerMultiValue=function(e,t){this.innerMultiRegistry.push([e,t])},e.prototype.getServiceDescriptors=function(){return this.innerRegistry},e.prototype.getMulServiceDescriptor=function(){return this.innerMultiRegistry},e}();t.ServiceRegister=o},63132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transientService=t.TransientServiceHolder=void 0;var r=n(80244),o=n(29234),i=n(50002),a=function(){function e(e,t){void 0===e&&(e=[]),this.instantiationService=t,this.instantiationHook=new i.InstantiationHook,this.params=e}return e.prototype.getNewInstance=function(e){var t,n=e||(this.params.length>0?this.params:[]),i=this.getCtor(),a=(t=this.instantiationService).createInstance.apply(t,r.__spread([i],n));return this.executeHooks(a,o.IInstantiationHookPoint.POST_CONSTRUCTOR),a},e.prototype.addHook=function(e,t){this.instantiationHook.addHook(e,t)},e.prototype.executeHooks=function(e,t){this.instantiationHook.executeHooks(e,t)},e=r.__decorate([r.__param(1,o.IInstantiationService)],e)}();t.TransientServiceHolder=a,t.transientService=function(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.getCtor=function(){return e},n}(a)}},29759:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CyclicDependencyError=t.ServiceHolder=void 0;var r=n(80244),o=n(4559),i=function(e,t){this.instance=e,this.descriptor=t};t.ServiceHolder=i;var a=function(e){function t(t){var n=e.call(this,o.SERVICES_CYCLIC_DEPENDENCY)||this;return n.message=t.toString(),n}return r.__extends(t,e),t}(Error);t.CyclicDependencyError=a},26189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLoaderHook=t.isLoaderHolder=t.getPostConstructorMethodName=t.isPromise=t.arrayEquals=void 0;var r=n(35337),o=n(13705),i=n(72397),a=n(63132);t.arrayEquals=function(e,t,n){if(void 0===n&&(n=function(e,t){return e===t}),e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;r++)if(!n(e[r],t[r]))return!1;return!0},t.isPromise=function(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then},t.getPostConstructorMethodName=function(e){var t=o.MetadataHandler.getMethodMetadata(r.POST_CONSTRUCTOR,e);if(t)return t.methodName},t.isLoaderHolder=function(e){return e instanceof i.LoaderBase||e instanceof a.TransientServiceHolder},t.addLoaderHook=function(e,t,n){(e instanceof i.LoaderBase||e instanceof a.TransientServiceHolder)&&e.addHook(t,n)}},37762:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMethodMeta=void 0;var r=n(4559),o=n(13705);t.addMethodMeta=function(e,t,n){if(o.MetadataHandler.hasMetadata(e,n)){var i=o.MetadataHandler.getMethodMetadata(e,n);throw Error(r.DUPLICATED_METHOD_METADATA(e,null==i?void 0:i.methodName))}o.MetadataHandler.setMethodMetadata(e,t,n)}},39583:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTypeParameterMeta=void 0;var r=n(13705),o=n(62920),i=n(4559);t.addTypeParameterMeta=function(e,t,n,a,s){if(void 0!==n&&"number"==typeof s)throw new Error(i.INVALID_DECORATOR_OPERATION);var c=s.toString(),u=r.MetadataHandler.getDepsMetadata(e,t)||{},l=u[c];if(void 0!==(null==l?void 0:l[0])&&(null==l?void 0:l[0])!==a)throw new Error(i.DUPLICATED_PARAMETER_METADATA(t.name,c,o.getIdentifierName(l[0]),o.getIdentifierName(a)));l&&l[1]&&!l[1].serviceIdentifier?(l[0]=a,l[1].serviceIdentifier=a):void 0===l&&(u[c]=[a,{serviceIdentifier:a}],r.MetadataHandler.setDepsMetadata(e,u,t))}},13705:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataHandler=void 0;var n=function(){function e(){}return e.hasMetadata=function(e,t){return!!t[e]},e.getDepsMetadata=function(e,t){return t[e]},e.setDepsMetadata=function(e,t,n){n[e]=t},e.getMethodMetadata=function(e,t){return t[e]},e.setMethodMetadata=function(e,t,n){n[e]=t},e}();t.MetadataHandler=n},35337:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POST_CONSTRUCTOR=t.PROPS_DEPS=t.CLASS_CONSTRUCTOR_DEPS=void 0,t.CLASS_CONSTRUCTOR_DEPS="di:ctor_deps",t.PROPS_DEPS="di:props_deps",t.POST_CONSTRUCTOR="di:post_constructor"},34405:function(e,t,n){"use strict";n.r(t),n.d(t,{ConfigItem:function(){return y},default:function(){return m}});var r=n(70942),o=n(86235),i=n(10561),a=n(93700),s=n(99655),c=n.n(s),u=n(52435),l=n.n(u),f=n(43733),d=n.n(f),p=n(90478),h=n.n(p);var v=function(){function e(){(0,o.Z)(this,e),(0,a.Z)(this,"cache",void 0),this.cache={}}return(0,i.Z)(e,[{key:"bind",value:function(e){c()(this.cache,e)}},{key:"get",value:function(e){return l()(this.cache,e)}},{key:"clear",value:function(){this.cache={}}},{key:"getAll",value:function(){return this.cache}}]),e}(),g=function(){function e(){(0,o.Z)(this,e),(0,a.Z)(this,"cache",void 0),this.cache=new v,this.init()}return(0,i.Z)(e,[{key:"bind",value:function(e){d()(e)||this.cache.bind(e)}},{key:"clear",value:function(){this.cache.clear()}},{key:"getConfig",value:function(e){var t=this.cache.get(e);return"object"===(0,r.Z)(t)?h()(t):t}},{key:"getAllConfig",value:function(){var e,t=null!==(e=this.cache.getAll())&&void 0!==e?e:{};return h()(t)}},{key:"saveToSessionStorage",value:function(e){try{if("undefined"!=typeof self&&self.sessionStorage){var t,n=null!==(t=null!=e?e:this.cache.getAll())&&void 0!==t?t:{};return self.sessionStorage.setItem("configCache",JSON.stringify(n)),!0}}catch(r){console.error(r)}return!1}},{key:"loadFromSessionStorage",value:function(){try{if("undefined"==typeof self||!self.sessionStorage)throw new Error("browser is not support sessionStorage");var e=self.sessionStorage.getItem("configCache");if(e)return this.bind(JSON.parse(e)),!0}catch(t){console.error(t)}return!1}},{key:"init",value:function(){if("undefined"!=typeof self){var e=self.AppConfig;if("object"===(0,r.Z)(e)){var t,o,i,a,s,u=e[(t="mode",a=null,(s=(o?"?".concat(o.split("?")[1]||""):null===(i=n.g.location)||void 0===i?void 0:i.search)||"")&&(a=s.match(new RegExp("(\\?|&)".concat(t,"=([^&]*)(&|$)")))),a?decodeURIComponent(a[2]):"")]||e.normal,l=c()(u,null==u?void 0:u.custom);this.bind(l),this.saveToSessionStorage()}else console.error("加载 AppConfig 配置出错")}}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}();(0,a.Z)(g,"instance",void 0);var y=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,null,[{key:"getKey",value:function(e){if(""===this.configName)throw new Error("子类未重命名configName!");return"".concat(this.configName,".").concat(e)}}]),e}();(0,a.Z)(y,"configName","");var m=g},20473:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0,function(e){e.UNKNOWN="UNKNOWN",e.HEART_BEAT="HEART_BEAT",e.CLIENT_READY="CLIENT_READY",e.CURSOR_MESSAGE="CURSOR_MESSAGE",e.USER_NEWINFO="USER_NEWINFO",e.USER_NEWINFOS="USER_NEWINFOS",e.USER_LEAVE="USER_LEAVE",e.USER_LEAVES="USER_LEAVES",e.QUIT_NOTICE="QUIT_NOTICE",e.USER_CHANGES="USER_CHANGES",e.NEW_CHANGES="NEW_CHANGES",e.ACCEPT_COMMIT="ACCEPT_COMMIT",e.GET_PRIVILEGE="GET_PRIVILEGE",e.BIG_COLLAB_SWITCH="BIG_COLLAB_SWITCH",e.COMMON_REQUEST="COMMON_REQUEST",e.BIND_POST="BIND_POST",e.CLIENT_DISCONNECT="CLIENT_DISCONNECT",e.LIVE_MESSAGE="LIVE_MESSAGE",e.UPDATE_WEBOFFICE_TOKEN="UPDATE_WEBOFFICE_TOKEN"}(n||(n={})),t.Command=n},77107:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},49588:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.HttpError=void 0;var o=function(e){function t(t,n){var r=e.call(this,t+", statusCode:"+n+" ")||this;return r.name="HttpError",r.statusCode=n,r}return r(t,e),t}(Error);t.HttpError=o},63830:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(77107),t),o(n(20473),t),o(n(97242),t),o(n(49588),t),o(n(54513),t),o(n(11637),t)},54513:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.ContentTypeValue=t.ContentTypeValueMap=t.HttpStatus=t.Method=t.ContentType=void 0,function(e){e.JSON="JSON",e.FORM="FORM"}(n||(n={})),t.ContentType=n,function(e){e.JSON="application/json",e.FORM="application/x-www-form-urlencoded"}(r||(r={})),t.ContentTypeValue=r;var o,i,a=new Map([[n.JSON,r.JSON],[n.FORM,r.FORM]]);t.ContentTypeValueMap=a,function(e){e.POST="POST",e.GET="GET"}(o||(o={})),t.Method=o,function(e){e[e.SUCCESS=200]="SUCCESS",e[e.NOT_FOUND=404]="NOT_FOUND"}(i||(i={})),t.HttpStatus=i},97242:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Result=void 0;var n=function(e,t){e&&(this.error=e),void 0!==t&&(this.data=t)};t.Result=n},11637:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QUIT_TYPE=void 0,function(e){e.INACTIVE="INACTIVE",e.LOGIN_INVALIDATE="LOGIN_INVALIDATE",e.LOGIN_FORBIDDEN="LOGIN_FORBIDDEN"}(t.QUIT_TYPE||(t.QUIT_TYPE={}))},95854:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetCode=t.HttpStatus=t.Method=void 0;var r,o=n(63830);Object.defineProperty(t,"Method",{enumerable:!0,get:function(){return o.Method}}),Object.defineProperty(t,"HttpStatus",{enumerable:!0,get:function(){return o.HttpStatus}}),function(e){e[e.SUCCESS=0]="SUCCESS"}(r||(r={})),t.RetCode=r},9801:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseChannel=void 0;var i=n(36885),a=n(69318),s=function(){function e(e,t){this.options=e,this.defaultConfig=t}return e.prototype.dispose=function(){this.paramsPacker=void 0,this.responseHandler=void 0},e.prototype.sendMessage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,c,u;return o(this,(function(o){switch(o.label){case 0:return this.paramsPacker&&this.responseHandler?(n=this.paramsPacker.pack(e,this.options),r=e.requestUrl,s=e.method,c=e.contentType,[4,(new i.Request).sendRequest(null!=r?r:this.defaultConfig.requestUrl,null!=s?s:this.defaultConfig.method,null!=c?c:this.defaultConfig.contentType,n)]):(t="Channel Error, sendMessage failed paramsPacker:"+this.paramsPacker+", responseHandler:"+this.responseHandler+" ",a.ConnectionLog.error(t),[2,{error:t}]);case 1:return u=o.sent(),[2,this.responseHandler.handle(u)]}}))}))},e}();t.BaseChannel=s},36885:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var i=n(85854),a=n(69318),s=n(95854),c=n(63830),u=function(){function e(){}return e.prototype.sendRequest=function(e,t,n,u){var l,f,d;return void 0===t&&(t=s.Method.POST),void 0===n&&(n=c.ContentType.FORM),r(this,void 0,void 0,(function(){var r,p;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),r=void 0,t!==s.Method.GET?[3,2]:[4,i.networkRequest.get(e)];case 1:return r=o.sent(),[3,4];case 2:return[4,i.networkRequest.post(e,u,{contentType:c.ContentTypeValueMap.get(n)})];case 3:r=o.sent(),o.label=4;case 4:return[2,new c.Result(void 0,r)];case 5:return p=o.sent(),a.ConnectionLog.error("Request Failed, requestUrl:"+e+", status:"+(null===(l=null==p?void 0:p.request)||void 0===l?void 0:l.status)+", response:"+(null===(f=null==p?void 0:p.request)||void 0===f?void 0:f.response)+", responseText:"+(null===(d=null==p?void 0:p.request)||void 0===d?void 0:d.responseText)+", error stack:"+(null==p?void 0:p.stack)+", error message:"+(null==p?void 0:p.message)),[2,new c.Result(p)];case 6:return[2]}}))}))},e}();t.Request=u},66524:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},15283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildBigCollabChannel=t.BigCollabChannel=void 0;var r=n(69318),o=n(37877),i=n(64961),a=n(28500),s=function(){function e(e,t){this.tag="BigCollabChannel",this.connectStatusManager=new i.ConnectStatusManager(e,t),this.messageCenter=new a.MessageCenter(e,t,this.connectStatusManager)}return e.prototype.dispose=function(){this.connectStatusManager.dispose(),this.messageCenter.dispose()},e.prototype.connect=function(){r.ConnectionLog.info(this.tag+" connect"),this.connectStatusManager.connect()},e.prototype.isConnected=function(){return this.connectStatusManager.isConnected()},e.prototype.isDisconnected=function(){return this.connectStatusManager.isDisconnected()},e.prototype.disconnect=function(e){r.ConnectionLog.error(this.tag+" disconnect, shutdown:"+e.shutDown+", errCode:"+e.errCode+" reason:"+e.reason),this.connectStatusManager.disconnect(e)},e.prototype.sendMessage=function(e){var t,n=e.taskId,r=e.cmd,i=e.data;this.connectStatusManager.isConnected()?this.messageCenter.sendMessage(e):null===(t=e.onError)||void 0===t||t.call(e,n,r,i,{errCode:this.connectStatusManager.isDisconnected()?o.RoomErrorCode.ROOM_SHUTDOWN:o.RoomErrorCode.ROOM_STATE_ERR,errMsg:"can not send message in this room state."})},e}();t.BigCollabChannel=s;t.BuildBigCollabChannel=function(e,t){return new s(e,t)}},36138:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectStatus=void 0,function(e){e.INIT="INIT",e.LOGIN="LOGIN",e.LOGIN_FAIL="LOGIN_FAIL",e.LOGINED="LOGINED",e.CONNECTED="CONNECTED",e.DISCONNECT="DISCONNECT",e.WAIT_RECONNECTING="WAIT_RECONNECTING"}(n||(n={})),t.ConnectStatus=n},64961:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectStatusManager=void 0;var i=n(47484),a=n(72916),s=n(36138),c=n(69318),u=o(n(73120)),l=n(37877),f=o(n(12777)),d=function(){function e(e,t){this.options=e,this.dependency=t,this.onConnectEventEmitter=new i.Emitter,this.tag="ConnectStatusManager",this.connectStatus=s.ConnectStatus.INIT,this.onConnectEvent=this.onConnectEventEmitter.event,this.bigCollabLogin=new a.BigCollabLogin(this.options,r(r({},this.dependency),{connectStatusChange:this.connectStatusChange.bind(this)})),new f.default({disconnect:this.disconnect.bind(this)})}return e.prototype.dispose=function(){this.bigCollabLogin.dispose(),this.onConnectEventEmitter.dispose()},e.prototype.connect=function(){this.needLogin()?this.bigCollabLogin.login():c.ConnectionLog.warn(this.tag+" not connect. connectStatus:"+this.connectStatus)},e.prototype.isConnected=function(){return this.connectStatus===s.ConnectStatus.CONNECTED},e.prototype.reconnect=function(e){this.isDisconnected()?c.ConnectionLog.info(this.tag+" can not reconnect. connectStatus: disconnected"):(this.setConnnectStatus(s.ConnectStatus.WAIT_RECONNECTING),this.bigCollabLogin.relogin(e))},e.prototype.isDisconnected=function(){return this.connectStatus===s.ConnectStatus.DISCONNECT},e.prototype.disconnect=function(e){var t,n,r,o;if(c.ConnectionLog.info(this.tag+" disconnect errorCode:"+e.errCode+", reason:"+e.reason+" shutdown:"+e.shutDown),this.bigCollabLogin.unlogin(),e.shutDown)return this.bigCollabLogin.dispose(),this.setConnnectStatus(s.ConnectStatus.DISCONNECT),this.dependency.disconnect(e),void u.default.shutDownReport({module:this.options.module,attrName:String(null!==(t=e.errCode)&&void 0!==t?t:0),status:1,errorMessage:null!==(n=e.reason)&&void 0!==n?n:l.RoomUtil.getWebsocketChannelErrorMessage(null!==(r=e.errCode)&&void 0!==r?r:0)});this.bigCollabLogin.reset(),this.dependency.disconnect(e),u.default.reconnectReport({attrName:String(null!==(o=e.errCode)&&void 0!==o?o:0),errorMessage:e.reason,status:1}),this.reconnect(e.reconnectTime)},e.prototype.onConnectSuccess=function(){this.isConnected()||(this.setConnnectStatus(s.ConnectStatus.CONNECTED),this.dependency.connected())},e.prototype.connectStatusChange=function(e,t,n){this.setConnnectStatus(e,t),e===s.ConnectStatus.LOGIN_FAIL&&this.disconnect(null!=n?n:{shutDown:!1})},e.prototype.needLogin=function(){return[s.ConnectStatus.INIT,s.ConnectStatus.WAIT_RECONNECTING].includes(this.connectStatus)},e.prototype.setConnnectStatus=function(e,t){c.ConnectionLog.info(this.tag+" setConnnectStatus: oldState:"+this.connectStatus+", newStatus = "+e),e!==this.connectStatus&&(this.connectStatus=e,this.onConnectEventEmitter.fire({status:e,serverRequestParams:t}))},e}();t.ConnectStatusManager=d},52127:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAGE_UNLOAD_TIME=t.DEFAULT_MIN_TRY_COUNT=t.MAX_DELAY_TIME=t.DEFAULT_DELAY_TIME=void 0;t.DEFAULT_MIN_TRY_COUNT=1;t.DEFAULT_DELAY_TIME=0;t.PAGE_UNLOAD_TIME=3e3;t.MAX_DELAY_TIME=3e4},72916:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BigCollabLogin=void 0;var s=n(72411),c=n(63830),u=n(33542),l=n(95854),f=n(52127),d=n(37877),p=n(69318),h=a(n(73120)),v=n(36138),g=n(33471),y=Number.MIN_VALUE,m=function(){function e(e,t){this.options=e,this.dependency=t,this.retryCount=0,this.delayConnectTime=f.DEFAULT_DELAY_TIME,this.delayConnectTimer=0,this.setRouteKey()}return e.prototype.dispose=function(){clearTimeout(this.delayConnectTimer),this.delayConnectTimer=y},e.prototype.reset=function(){clearTimeout(this.delayConnectTimer),this.delayConnectTimer=0},e.prototype.login=function(){0!==this.retryCount?this.relogin():this.sendLoginRequest()},e.prototype.unlogin=function(){if(!this.sid||!this.token)return!1;var e=(new u.Request).sendBeacon(this.getUnbindPath(),r(r({},this.createBindPostMessage("CLIENT_DISCONNECT")),{sid:this.sid,token:this.token}));return this.sid=void 0,this.token=void 0,e},e.prototype.relogin=function(e,t){var n=this;if(!this.delayConnectTimer){var r=this.getDelayConnectTime(e);this.delayConnectTimer=setTimeout((function(){t||n.retryCount===s.DEFAULT_RETRY_COUNTS&&n.dependency.disconnect({shutDown:!1,reason:"big collab login timeout."}),n.retryCount=n.retryCount+1,n.reset(),n.sendLoginRequest()}),r)}},e.prototype.getDelayConnectTime=function(e){return void 0===e?(this.retryCount>s.DEFAULT_RETRY_COUNTS&&this.delayConnectTime===f.DEFAULT_DELAY_TIME&&(this.delayConnectTime=f.MAX_DELAY_TIME),this.delayConnectTime):e},e.prototype.sendLoginRequest=function(){var e,t;return o(this,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return n=this.createBindPostMessage("BIND_POST"),this.dependency.connectStatusChange(v.ConnectStatus.LOGIN),p.ConnectionLog.info("routeKey: "+this.routeKey+", Message: "+p.JsonUtil.jsonStringify(n)),[4,(new u.Request).sendRequest(this.getBindPath(),l.Method.POST,n,{contentType:c.ContentTypeValue.JSON})];case 1:return r=o.sent(),this.handleLoginResult(r),p.ConnectionLog.info("handleLoginResult result: "+p.JsonUtil.jsonStringify(null!==(t=null===(e=r.data)||void 0===e?void 0:e.data)&&void 0!==t?t:{})),[2]}}))}))},e.prototype.createBindPostMessage=function(e){return{head:p.createMessageHead(this.options,{command:e,baseRev:this.dependency.getVersion(),getHeaderGeneralPacket:this.dependency.getHeaderGeneralPacket(),taskId:p.generateMessageTaskId()}),body:this.createPostBody()}},e.prototype.createPostBody=function(){return p.JsonUtil.jsonStringify({})},e.prototype.handleLoginResult=function(e){if(e.error)this.relogin();else{var t=e.data.data;this.isLoginSuccess(t.retcode)?this.handleLoginSuccess(t):this.handleLoginFailed(t)}},e.prototype.isLoginSuccess=function(e){return d.SERVER_SUCCESS_CODES.includes(e)},e.prototype.handleLoginSuccess=function(e){this.reset(),this.retryCount=0,this.delayConnectTime=f.DEFAULT_DELAY_TIME,this.sid=e.data.sid,this.token=e.data.token;var t={sid:e.data.sid,token:e.data.token,routeKey:this.routeKey};this.dependency.connectStatusChange(v.ConnectStatus.LOGINED,t)},e.prototype.handleLoginFailed=function(e){var t=e.retcode,n=e.msg,r=e.data;if(this.setRouteKey(r.routeKey),p.ConnectionLog.info("connect failed, serverErrCode: "+t+", errorMessage:"+n),this.shouldReconnect(e))h.default.retryRequestReport({name:String(t),message:"login error, retcode: "+t+", msg: "+n},this.options.module),this.relogin(this.getDelayConnectTime(),t===d.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL&&!!r.routeKey);else{var o={errCode:t,reason:d.RoomUtil.getWebsocketChannelErrorMessage(t,"connect failed."),shutDown:!d.NEED_RETRY_ERRCODES.includes(t)};this.dependency.connectStatusChange(v.ConnectStatus.LOGIN_FAIL,void 0,o)}},e.prototype.setRouteKey=function(e){this.routeKey=null!=e?e:this.options.serverVars.globalPadId},e.prototype.shouldReconnect=function(e){var t=e.retcode,n=e.data;return t===d.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL?!!n.routeKey:d.NEED_RETRY_ERRCODES.includes(t)&&this.retryCount<3},e.prototype.getBindPath=function(){return this.routeKey||this.setRouteKey(),g.PATH+"?routeKey="+this.routeKey},e.prototype.getUnbindPath=function(){return this.routeKey||this.setRouteKey(),"/websocket/save?routeKey="+this.routeKey},e}();t.BigCollabLogin=m},12777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45650),o=n(52127),i=function(){function e(e){var t=this;this.dependency=e,this.disconnect=function(){t.dependency.disconnect({reason:"close by client, beforeunload",shutDown:!1,errCode:r.RoomErrorCode.ROOM_CLOSE,reconnectTime:o.PAGE_UNLOAD_TIME})},this.addBeforeunloadListener(this.disconnect)}return e.prototype.addBeforeunloadListener=function(e){window.addEventListener("beforeunload",e)},e}();t.default=i},77054:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(66524),t),o(n(15283),t)},28500:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageCenter=void 0;var c=n(69318),u=n(37877),l=n(36138),f=n(59246),d=n(62065),p=n(85076),h=n(12396),v=n(70452),g=n(11637),y=n(67819),m=n(80439),_=s(n(73120)),b=function(){function e(e,t,n){var r,o,i=this;this.options=e,this.dependency=t,this.connectManager=n,this.tag="MessageCenter",this.limitFrequencyManager=new p.LimitFrequencyManager(this.dependency),null===(o=null===(r=this.options.config)||void 0===r?void 0:r.messagePriority)||void 0===o||o.forEach((function(e,t){i.limitFrequencyManager.setPriority(t,e)}));var a={getServerParams:function(){return i.serverRequestParams},reconnect:function(e){return i.reconnect(e)},disconnect:function(e){return i.connectManager.disconnect(e)},isDisconnected:function(){return i.connectManager.isDisconnected()},handleServerMessage:function(e){return i.handleServerMessage(e)},onConnectSuccess:function(){return i.connectManager.onConnectSuccess()}};this.sender=new d.Sender({getServerParams:function(){return i.serverRequestParams},isConnected:function(){return i.connectManager.isConnected()},onMessageSending:function(e){return i.onMessageSending(e)},onMessageWaiting:function(e){return i.onMessageWaiting(e)}}),this.receiver=new f.Receiver(a);var s=new v.MessageClassification([["CURSOR_MESSAGE",v.MessageSendType.PARALLEL]]);this.messageSendQueue=new h.MessageSendQueue(s),this.timeoutChecker=new y.TimeoutChecker(this.messageSendQueue,{trySendMessage:function(){return i.trySendMessage()}}),this.initOnConnectEvent()}return e.prototype.dispose=function(){this.receiver.dispose(),this.sender.dispose(),this.timeoutChecker.dispose()},e.prototype.sendMessage=function(e){if(c.ConnectionLog.info(this.tag+" sendMessage cmd:"+e.cmd+" taskId:"+e.taskId),this.messageSendQueue.has(e.taskId))return c.ConnectionLog.warn(this.tag+" sendMessage taskId:"+e.taskId+" is sending."),void e.onError(e.taskId,e.cmd,e.data,{errCode:u.RoomErrorCode.EXIST,errMsg:"msg already exist."});var t=m.MessageCreater.createMessage(e,this.options,this.dependency);this.messageSendQueue.add(t),this.trySendMessage()},e.prototype.initOnConnectEvent=function(){var e=this;this.connectManager.onConnectEvent((function(t){var n,r=t.status,o=t.serverRequestParams;c.ConnectionLog.debug("onConnectEvent: "+r);var i=new Map([[""+l.ConnectStatus.LOGINED,function(){return e.handleLogined(o)}],[""+l.ConnectStatus.CONNECTED,function(){return e.trySendMessage()}],[""+l.ConnectStatus.DISCONNECT,function(){return e.handleDisconnect()}],[""+l.ConnectStatus.WAIT_RECONNECTING,function(){return e.handleWaitReconnecting()}]]);i.has(t.status)&&(null===(n=i.get(t.status))||void 0===n||n())}))},e.prototype.trySendMessage=function(){this.connectManager.isDisconnected()?this.triggerAllMessagesShutdown():(this.trySendParallelMessage(),this.trySendSerialMessage())},e.prototype.trySendSerialMessage=function(){if(!this.messageSendQueue.isCommittingSerialMessage())if(this.connectManager.isDisconnected())this.triggerAllMessagesShutdown();else{var e=this.messageSendQueue.nextSerialMessage();e&&this.sendBigCollabMessage(e)}},e.prototype.trySendParallelMessage=function(){var e=this;this.messageSendQueue.nextParallelMessages().forEach((function(t){return e.sendBigCollabMessage(t)}))},e.prototype.sendBigCollabMessage=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.onMessageSending(e),this.timeoutChecker.startCheckSendTimeout(),[4,this.sender.sendMessage(e)];case 1:return t=n.sent(),this.handleMessageResult(e,t),[2]}}))}))},e.prototype.onMessageSending=function(e){e.state=u.MessageState.SENDING,e.lastSendTime=Date.now(),e.retryCount+=1},e.prototype.onMessageWaiting=function(e){e.state=u.MessageState.WAITING},e.prototype.handleMessageResult=function(e,t){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){return t?e.syncCommit?(this.handleSyncMessage(e,t),[2]):(n={errCode:t.retcode,errMsg:t.msg,response:t.data.syncResult?c.JsonUtil.parseJson(t.data.syncResult):t},this.handleMessageResultSend(e,n),[2]):[2]}))}))},e.prototype.handleSyncMessage=function(e,t){var n=this;if(0===t.retcode){this.parseSyncMessageResult(e,t).forEach((function(e){n.handleServerMessage(e)}))}else{var o={task_id:e.taskId,type:u.MessageWaitAcceptCmd.COMMIT_ERROR},i={data:r(r({},t),{reason:t.retcode})};this.handleMessageResultSendAccept(o,i)}},e.prototype.parseSyncMessageResult=function(e,t){if(!t.data.syncResult)throw Error("Save Response Error, syncResult is undefined, taskId: "+e.taskId);return t.data.syncResult.split("\r\n").map((function(e){return e.split("\n")}))},e.prototype.hasWaitAcceptCommand=function(e,t){var n;return!!(null===(n=e.waitAcceptCmd)||void 0===n?void 0:n.includes(t))},e.prototype.handleMessageResultSend=function(e,t){var n,r;return o(this,void 0,void 0,(function(){var o,a,s;return i(this,(function(i){return o=e.taskId,a=e.cmd,s=e.data,e.onpostTime=u.RoomUtil.getCurrentTime(),this.shouldReconnect(t.errCode)?(this.reconnect({attrName:String(t.errCode),reason:"save Error, retcode: "+t.errCode+", msg: "+t.errMsg}),this.messageSendQueue.remove(e.taskId),[2]):0!==t.errCode?(this.handleSendMessageError(e,t),[2]):(null===(n=e.onsend)||void 0===n||n.call(e,o,a,s,t),e.onsendAccept?(null===(r=e.waitAcceptCmd)||void 0===r?void 0:r.length)&&(e.state=u.MessageState.WAIT_ACCEPT):(this.messageSendQueue.remove(o),this.trySendMessage()),[2])}))}))},e.prototype.shouldReconnect=function(e){return u.NEED_RECONNECT_ERRCODES.includes(e)},e.prototype.handleSendMessageError=function(e,t){var n,r=e.taskId,o=e.cmd,i=e.data;null===(n=e.onError)||void 0===n||n.call(e,r,o,i,t),this.reportCommitError(e,t.errCode,"save Error, retcode: "+t.errCode+", msg: "+t.errMsg),this.messageSendQueue.remove(r),this.trySendMessage()},e.prototype.handleMessageResultSendAccept=function(e,t){var n,r,o,i,a,s;if(e.task_id){var c=this.messageSendQueue.remove(e.task_id);if(c&&this.hasWaitAcceptCommand(c,e.type)){this.reportCommitError(c,null!==(r=null===(n=t.data)||void 0===n?void 0:n.reason)&&void 0!==r?r:0);var u=c.taskId,l=c.cmd,f=c.data,d=c.onsendAccept,p=e.type,h=e.new_rev;null==d||d(u,l,f,p,{errCode:null!==(i=null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.reason)&&void 0!==i?i:0,errMsg:null!==(s=null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.msg)&&void 0!==s?s:"",response:{body:t,new_rev:h}}),this.trySendSerialMessage()}}},e.prototype.handleServerMessage=function(e){var t,n,r=a(e.map((function(e){return c.JsonUtil.parseJson(e)})),2),o=r[0],i=r[1];if(this.messageSendQueue.get(o.task_id))this.handleMessageResultSendAccept(o,i);else if("QUIT_NOTICE"===(null==o?void 0:o.type)&&Object.values(g.QUIT_TYPE).includes(null==i?void 0:i.notice.quit_type)){var s=new Map([[g.QUIT_TYPE.INACTIVE,{code:u.RoomWebsocketErrorCode.INACTIVE,reason:g.QUIT_TYPE.INACTIVE}],[g.QUIT_TYPE.LOGIN_INVALIDATE,{code:u.RoomWebsocketErrorCode.LOGIN_INVALIDATE,reason:g.QUIT_TYPE.LOGIN_INVALIDATE}],[g.QUIT_TYPE.LOGIN_FORBIDDEN,{code:u.RoomWebsocketErrorCode.LOGIN_FORBIDDEN,reason:g.QUIT_TYPE.LOGIN_FORBIDDEN}]]);this.connectManager.disconnect({reason:null===(t=s.get(null==i?void 0:i.notice.quit_type))||void 0===t?void 0:t.reason,errCode:null===(n=s.get(null==i?void 0:i.notice.quit_type))||void 0===n?void 0:n.code,shutDown:!0})}else{var l={head:o,body:i,newRev:o.new_rev,ts:o.ts,needDeal:!0};this.limitFrequencyManager.handleMessage(l),l.needDeal&&this.dependency.receiveMessageFromServer(o.type,[l])}},e.prototype.handleWaitReconnecting=function(){this.handleDisconnect("WaitReconnecting"),this.messageSendQueue.updateMessageState(u.MessageState.WAITING)},e.prototype.handleDisconnect=function(e){c.ConnectionLog.info(this.tag+" handleDisconnect reason:"+e),this.receiver.stopToReceive(),this.sender.clearAllRetryTimer(),this.timeoutChecker.clearTimer(),this.triggerAllMessagesClose()},e.prototype.reconnect=function(e){var t,n;_.default.reconnectReport({module:this.options.module,attrName:e.attrName,status:1,errorMessage:null!==(t=e.reason)&&void 0!==t?t:u.RoomUtil.getWebsocketChannelErrorMessage(null!==(n=Number(e.attrName))&&void 0!==n?n:0)}),this.connectManager.reconnect()},e.prototype.handleLogined=function(e){this.serverRequestParams=e,this.serverRequestParams.routeKey||(this.serverRequestParams.routeKey=this.options.serverVars.globalPadId),this.receiver.receive()},e.prototype.triggerAllMessagesClose=function(){this.triggerAllMessagesError({errCode:u.RoomErrorCode.ROOM_CLOSE,errMsg:"room close"})},e.prototype.triggerAllMessagesShutdown=function(){this.triggerAllMessagesError({errCode:u.RoomErrorCode.ROOM_SHUTDOWN,errMsg:"room shutdown"})},e.prototype.triggerAllMessagesError=function(e){this.messageSendQueue.filter((function(e){return!!e})).forEach((function(t){var n,r=t.taskId,o=t.cmd,i=t.data;null===(n=t.onError)||void 0===n||n.call(t,r,o,i,e)}))},e.prototype.reportCommitError=function(e,t,n){_.default.commitError({attrName:String(t),status:1,cmd:e.cmd,module:this.options.module,errorMessage:null!=n?n:u.RoomUtil.getWebsocketChannelErrorMessage(null!=t?t:0),transports:"big-collab"})},e}();t.MessageCenter=b},80439:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageCreater=void 0;var o=n(72411),i=n(69318),a=n(37877),s=function(){function e(){}return e.createMessage=function(e,t,n){var s,c,u,l,f,d,p,h=this.createPostData(e,t,n),v=a.RoomUtil.createNewMessage(e.taskId||i.generateMessageTaskId(),h,null!==(c=null===(s=e.customParam)||void 0===s?void 0:s.timeout)&&void 0!==c?c:o.DEFAULT_SEND_MESSAGE_TIMEOUT,null!==(l=null===(u=e.customParam)||void 0===u?void 0:u.maxRetryCount)&&void 0!==l?l:o.DEFAULT_RETRY_COUNTS,e.cmd,e.data,null===(f=e.customParam)||void 0===f?void 0:f.waitAcceptCmd,e.onError,e.onsend,e.onsendAccept),g=!!(null===(p=null===(d=t.config)||void 0===d?void 0:d.bigCollabCommitConfig)||void 0===p?void 0:p.syncCommit)&&"USER_CHANGES"===e.cmd;return r({syncCommit:g},v)},e.createPostData=function(e,t,n){var r=o.prepareCommitMessage(e.data,t.userid,t.serverVars.pver);return{head:this.createSendHead(e,t,n),body:r}},e.createSendHead=function(e,t,n){var r=e.data;return i.createMessageHead(t,{getHeaderGeneralPacket:n.getHeaderGeneralPacket(),command:e.cmd,baseRev:"object"==typeof r&&"number"==typeof r.baseRev?r.baseRev:n.getVersion(),taskId:e.taskId||i.generateMessageTaskId(),additionalFieldsToHead:e.additionalFieldsToHead})},e}();t.MessageCreater=s},67819:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeoutChecker=void 0;var r=n(69318),o=n(37877),i=function(){function e(e,t){this.messageSendQueue=e,this.dependency=t,this.sendTimeoutTimer=0}return e.prototype.dispose=function(){this.clearTimer()},e.prototype.clearTimer=function(){clearTimeout(this.sendTimeoutTimer),this.sendTimeoutTimer=0},e.prototype.startCheckSendTimeout=function(){var e=this;this.sendTimeoutTimer&&(clearTimeout(this.sendTimeoutTimer),this.sendTimeoutTimer=0),this.sendTimeoutTimer=setTimeout((function(){e.checkSendTimeout()}),1e3)},e.prototype.checkSendTimeout=function(){var e=this.messageSendQueue.filter(this.timeoutMessage);e.forEach((function(e){e.state=o.MessageState.WAITING,e.retryCount>=e.maxRetryCount&&(r.ConnectionLog.warn("timeout-checker: send message timeout, taskId = "+e.taskId+", cmd = "+e.cmd+"."),e.retryCount=0)})),e.length>0&&this.dependency.trySendMessage(),0!==this.messageSendQueue.filter((function(e){return!!e})).length&&this.startCheckSendTimeout()},e.prototype.timeoutMessage=function(e){var t=o.RoomUtil.getCurrentTime();return(e.state===o.MessageState.SENDING||e.state===o.MessageState.WAIT_ACCEPT)&&t-e.lastSendTime>e.timeout},e}();t.TimeoutChecker=i},70452:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageClassification=t.MessageSendType=void 0,function(e){e.SERIAL="SERIAL",e.PARALLEL="PARALLEL"}(n=t.MessageSendType||(t.MessageSendType={}));var r=function(){function e(e){void 0===e&&(e=[]),this.messageClassfyMap=new Map(e)}return e.prototype.setMessageSendType=function(e,t){this.messageClassfyMap.set(e,t)},e.prototype.getMessageSendType=function(e){var t;return null!==(t=this.messageClassfyMap.get(e))&&void 0!==t?t:n.SERIAL},e}();t.MessageClassification=r},12396:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSendQueue=t.Queue=void 0;var i=n(70452),a=n(36062),s=function(){function e(){this.queue=[]}return e.prototype.get=function(e){var t=this.queue.filter((function(t){return t.taskId===e}));return 0===t.length?null:t[0]},e.prototype.has=function(e){return this.queue.some((function(t){return t.taskId===e}))},e.prototype.add=function(e){this.has(e.taskId)||this.queue.push(e)},e.prototype.remove=function(e){for(var t=0;t<this.queue.length;t++){if(this.queue[t].taskId===e)break}return t===this.queue.length?null:this.queue.splice(t,1)[0]},e.prototype.filter=function(e){return this.queue.filter(e)},e.prototype.some=function(e){return this.queue.some(e)},e}();t.Queue=s;var c=function(){function e(e){this.messageClassification=e,this.parallelQueue=new s,this.serialQueue=new s}return e.prototype.isCommittingSerialMessage=function(){return this.serialQueue.some((function(e){return e.state===a.MessageState.SENDING}))},e.prototype.nextSerialMessage=function(){var e=this.serialQueue.filter((function(e){return e.state===a.MessageState.WAITING}));return 0===e.length?null:e[0]},e.prototype.nextParallelMessages=function(){return this.parallelQueue.filter((function(e){return e.state===a.MessageState.WAITING}))},e.prototype.add=function(e){this.messageClassification.getMessageSendType(e.cmd)===i.MessageSendType.PARALLEL?this.parallelQueue.add(e):this.serialQueue.add(e)},e.prototype.remove=function(e){return this.parallelQueue.has(e)?this.parallelQueue.remove(e):this.serialQueue.remove(e)},e.prototype.get=function(e){return this.parallelQueue.has(e)?this.parallelQueue.get(e):this.serialQueue.get(e)},e.prototype.has=function(e){return this.serialQueue.has(e)||this.parallelQueue.has(e)},e.prototype.filter=function(e){return o(this.parallelQueue.filter(e),this.serialQueue.filter(e))},e.prototype.updateMessageState=function(e){var t,n=this.serialQueue.filter((function(e){return e.state!==a.MessageState.WAITING})).concat(this.parallelQueue.filter((function(e){return e.state!==a.MessageState.WAITING})));null===(t=n.forEach)||void 0===t||t.call(n,(function(t){t.state=e}))},e}();t.MessageSendQueue=c},91816:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageVisibilityChecker=void 0;var r=n(69318),o=function(){function e(e){var t=this;this.dependency=e,this.timer=0,this.isTimeout=!1,this.needGetReceiverClient=!1,this.onVisibilitychange=function(){"hidden"===document.visibilityState?t.onPageHide():t.onPageShow()},this.onPageHide=function(){r.ConnectionLog.info("pageVisibility: pagehide"),t.clearTimeout(),t.timer=setTimeout((function(){t.isTimeout=!0}),3e4)},this.onPageShow=function(){var e,n;r.ConnectionLog.info("pageVisibility: pageshow"),t.clearTimeout(),t.isTimeout&&t.needGetReceiverClient&&(null===(n=(e=t.dependency).resumeCallback)||void 0===n||n.call(e)),t.isTimeout=!1,t.needGetReceiverClient=!1},this.addListener()}return e.prototype.dispose=function(){this.clearTimeout(),document.removeEventListener("visibilitychange",this.onVisibilitychange),window.removeEventListener("pagehide",this.onPageHide),window.removeEventListener("pageshow",this.onPageShow)},Object.defineProperty(e.prototype,"isHidden",{get:function(){return document.hidden&&this.isTimeout},enumerable:!1,configurable:!0}),e.prototype.resumeAfterVisibility=function(){this.needGetReceiverClient=!0},e.prototype.addListener=function(){document.addEventListener("visibilitychange",this.onVisibilitychange),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(window.addEventListener("pagehide",this.onPageHide),window.addEventListener("pageshow",this.onPageShow))},e.prototype.clearTimeout=function(){this.timer&&(clearTimeout(this.timer),this.timer=0)},e}();t.PageVisibilityChecker=o},74050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReceiverClient=void 0;var r=n(69318),o=n(33471),i=n(45650),a=function(){function e(e){this.dependency=e,this.position=0,this.onceOpen=!1}return e.prototype.establishConnection=function(e){var t=this;try{!this.onceOpen&&this.checkConnectTimeoutTimer(),this.xmlHttpRequest=new XMLHttpRequest,this.position=0,this.xmlHttpRequest.onreadystatechange=function(){t.xmlHttpRequest.readyState===XMLHttpRequest.LOADING?(t.clearConnectTimoutTimer(!0),t.chunkParse(t.xmlHttpRequest.responseText)):t.xmlHttpRequest.readyState===XMLHttpRequest.DONE&&(t.clearConnectTimoutTimer(!0),t.closeConnection())},this.xmlHttpRequest.open("get",e),this.xmlHttpRequest.setRequestHeader("content-type","application/json"),this.xmlHttpRequest.send(),this.xmlHttpRequest.onerror=function(){r.ConnectionLog.info("bind/get onerror"),t.dependency.receive()}}catch(n){r.ConnectionLog.error("ReceiverClient XMLHttpRequest Error, error.message:"+(null==n?void 0:n.message)+",error.stack:"+(null==n?void 0:n.stack)),this.dependency.receive()}},e.prototype.abortConnection=function(){var e;null===(e=this.xmlHttpRequest)||void 0===e||e.abort()},e.prototype.chunkParse=function(e){for(var t=this.position,n=e.indexOf(o.DELIMITER,t);n>-1;){var r=e.substring(t,n);if(r&&(this.dependency.handleResponse(r),r.indexOf("connection closed")>-1))return void(this.position=0);t=n+o.DELIMITER.length,n=e.indexOf(o.DELIMITER,t)}this.position=t},e.prototype.closeConnection=function(){this.xmlHttpRequest.status!==XMLHttpRequest.UNSENT&&(this.xmlHttpRequest.status<200||this.xmlHttpRequest.status>=400?(r.ConnectionLog.info("closeConnection: "+this.xmlHttpRequest),this.dependency.receive()):this.chunkParse(this.xmlHttpRequest.responseText))},e.prototype.checkConnectTimeoutTimer=function(){var e=this;this.clearConnectTimoutTimer(!1),this.connectTimeoutTimer=setTimeout((function(){r.ConnectionLog.error("bind/get 12s 仍未收到回包"),e.dependency.disconnect({errCode:i.RoomErrorCode.BIG_COLLAB_CONNECT_TIMEOUT,shutDown:!0})}),12e3)},e.prototype.clearConnectTimoutTimer=function(e){e&&!this.onceOpen&&(this.onceOpen=!0),this.connectTimeoutTimer&&(window.clearTimeout(this.connectTimeoutTimer),this.connectTimeoutTimer=void 0)},e}();t.ReceiverClient=a},33471:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_DELAY_TIME=t.DELIMITER=t.ERROR_MESSAGE_INDEX=t.MAX_SERVER_REACHABLE_TIME=t.NOOP=t.PATH=void 0;t.PATH="/websocket/bind";t.NOOP="noop";t.DELIMITER="\r\n";t.MAX_SERVER_REACHABLE_TIME=45e3;t.CONNECT_DELAY_TIME=3e3;t.ERROR_MESSAGE_INDEX=[0,-1]},59246:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Receiver=void 0;var o=n(74050),i=n(69318),a=n(33471),s=n(37877),c=n(91816),u=function(){function e(e){var t=this;this.dependency=e,this.tag="Receiver",this.isConnectSuccess=!1,this.delayConnectTimer=0,this.connectionCheckTimer=0,this.retryTimes=0,this.pageVisibilityChecker=new c.PageVisibilityChecker({resumeCallback:function(){return t.receive()}})}return e.prototype.dispose=function(){this.stopToReceive(),this.receiverClientInstance=void 0},e.prototype.stopToReceive=function(){this.receiverClient.abortConnection(),this.clearTimer()},e.prototype.receive=function(){i.ConnectionLog.info("大协同bind get receive isHidden:"+this.pageVisibilityChecker.isHidden+", retryTimes:"+this.retryTimes),this.pageVisibilityChecker.isHidden?this.pageVisibilityChecker.resumeAfterVisibility():this.retryTimes?this.delayConnect():(this.retryTimes=this.retryTimes+1,this.isConnectSuccess=!1,this.receiverClient.establishConnection(this.getUrl()))},e.prototype.delayConnect=function(){var e=this;if(this.retryTimes>=3)return i.ConnectionLog.info("大协同bind get请求，重试三次失败，重新发起post鉴权"),this.retryTimes=0,void this.dependency.reconnect({attrName:"bind get 连续重试三次连接失败",reason:"超时、请求状态异常等错误"});this.isConnectSuccess=!1,this.delayConnectTimer&&(clearTimeout(this.delayConnectTimer),this.delayConnectTimer=0),this.delayConnectTimer=setTimeout((function(){e.retryTimes=e.retryTimes+1,e.receiverClient.establishConnection(e.getUrl())}),a.CONNECT_DELAY_TIME)},e.prototype.getUrl=function(){var e=this.dependency.getServerParams(),t=e.token,n=e.sid,r=e.routeKey;return a.PATH+"?sid="+n+"&token="+t+"&routeKey="+r+"&taskId="+i.generateMessageTaskId()},e.prototype.handleResponse=function(e){var t=this;if(!Number.parseInt(e,16)&&0!==Number.parseInt(e,16)){var n=i.JsonUtil.parseJson(e);Array.isArray(n)&&(n.forEach((function(e){var n=r(e,2),o=n[0],i=n[1];a.ERROR_MESSAGE_INDEX.includes(o)?t.handleResponseEnd(i):i.includes(a.NOOP)||t.dependency.handleServerMessage(i)})),this.connectionIsStable())}},e.prototype.connectionIsStable=function(){var e=this;clearTimeout(this.connectionCheckTimer),this.connectionCheckTimer=0,this.retryTimes=0,this.dependency.isDisconnected()?i.ConnectionLog.info(this.tag+" connectStatus is disconnected."):(this.isConnectSuccess||(this.isConnectSuccess=!0,this.dependency.onConnectSuccess()),this.connectionCheckTimer=setTimeout((function(){e.isConnectSuccess=!1,e.receive()}),a.MAX_SERVER_REACHABLE_TIME))},e.prototype.handleResponseEnd=function(e){var t=r(e,2),n=t[0],o=t[1];if(!this.notNeedToHandle(n))return n!==s.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS?(i.ConnectionLog.info("Bind Get Error, retcode: "+n+", msg: "+o),void this.dependency.reconnect({attrName:String(null!=n?n:0),reason:"Bind Get Error, retcode: "+n+", msg: "+o})):void this.receive()},e.prototype.notNeedToHandle=function(e){return s.NOT_NEED_TO_HANDLE_ERRCODES.includes(e)},Object.defineProperty(e.prototype,"receiverClient",{get:function(){var e=this;return this.receiverClientInstance||(this.receiverClientInstance=new o.ReceiverClient({handleResponse:function(t){return e.handleResponse(t)},receive:function(){return e.receive()},disconnect:function(t){return e.dependency.disconnect(t)}})),this.receiverClientInstance},enumerable:!1,configurable:!0}),e.prototype.clearTimer=function(){this.delayConnectTimer&&(clearTimeout(this.delayConnectTimer),this.delayConnectTimer=0),this.connectionCheckTimer&&(clearTimeout(this.connectionCheckTimer),this.connectionCheckTimer=0)},e}();t.Receiver=u},62065:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Sender=void 0;var a=n(33542),s=n(95854),c=n(63830),u=n(72411),l=function(){function e(e){this.dependency=e,this.requestId=0,this.retryTimerMap=new Map}return e.prototype.dispose=function(){this.clearAllRetryTimer()},e.prototype.sendMessage=function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return t=this.createRequestConfig(e),[4,this.commitMessage(e,t)];case 1:return n=r.sent(),[4,this.handleCommitResult(e,n)];case 2:return[2,r.sent()]}}))}))},e.prototype.clearAllRetryTimer=function(){var e,t;try{for(var n=i(this.retryTimerMap.values()),r=n.next();!r.done;r=n.next()){var o=r.value;clearTimeout(o)}}catch(a){e={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.retryTimerMap.clear()},e.prototype.createRequestConfig=function(e){return{timeout:e.timeout,maxRetry:u.DEFAULT_RETRY_COUNTS,contentType:c.ContentTypeValue.JSON}},e.prototype.commitMessage=function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,c,u,l;return o(this,(function(o){switch(o.label){case 0:return n=this.dependency.getServerParams(),r=n.token,i=n.sid,c=n.routeKey,u="/websocket/save?routeKey="+c,l={routeKey:c,token:r,sid:i,syncCommit:e.syncCommit,requestId:this.requestId,head:e.postData.head,body:e.postData.body},this.requestId+=1,[4,(new a.Request).sendRequest(u,s.Method.POST,l,t)];case 1:return[2,o.sent()]}}))}))},e.prototype.handleCommitResult=function(e,t){var n;return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return r=null===(n=t.data)||void 0===n?void 0:n.data,!t.error&&r?[3,2]:[4,this.retrySendMessage(e)];case 1:return[2,o.sent()];case 2:return[2,r]}}))}))},e.prototype.clearMessageRetryTimer=function(e){this.retryTimerMap.has(e.taskId)&&(clearTimeout(this.retryTimerMap.get(e.taskId)),this.retryTimerMap.delete(e.taskId))},e.prototype.retrySendMessage=function(e){return r(this,void 0,void 0,(function(){var t,n=this;return o(this,(function(i){return this.clearMessageRetryTimer(e),this.dependency.isConnected()?(t=this.getDelayDuration(e.retryCount),[2,new Promise((function(i){var a=setTimeout((function(){return r(n,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return this.dependency.onMessageSending(e),[4,this.sendMessage(e)];case 1:return t=n.sent(),i(t),[2]}}))}))}),t);n.retryTimerMap.set(e.taskId,a)}))]):(this.dependency.onMessageWaiting(e),e.retryCount=0,[2])}))}))},e.prototype.getDelayDuration=function(e){return 1e3*Math.min(2*e,30)},e}();t.Sender=l},19763:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9071:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},793:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BigDataChannel=t.BuildBigDataChannel=void 0;var a=n(69318),s=n(91143),c=n(36255),u="/dop-api/commitchanges",l=function(){function e(e,t){this.options=e,this.dependency=t}return e.prototype.dispose=function(){a.ConnectionLog.warn("BigDataChannel dispose.")},e.prototype.sendMessage=function(e){var t,n;return o(this,void 0,void 0,(function(){var r,o,s,c=this;return i(this,(function(i){switch(i.label){case 0:return 0!==(r=this.preCheck(e)).errCode||"object"!=typeof e.data?[3,2]:(o=[e.data],[4,this.bigChangesCommit(o)]);case 1:return s=i.sent(),a.ConnectionLog.info("bigChangesCommitResult : "+s.success+" retcode:"+s.retCode+" bodyLength:"+s.bodyLength),s.success?null===(t=s.data)||void 0===t||t.forEach((function(t){var n;if(t.commitId===e.taskId){var r={errCode:0,response:{new_rev:t.new_rev}};null===(n=e.onsendAccept)||void 0===n||n.call(e,t.commitId,"USER_CHANGES",e.data,"ACCEPT_COMMIT",r)}else{var o=c.createServerMessage(t);c.dependency.receiveMessageFromServer("NEW_CHANGES",[o])}})):e.onError(e.taskId,e.cmd,e.data,{errCode:null!==(n=s.retCode)&&void 0!==n?n:52e3,errMsg:s.reason}),[3,3];case 2:e.onError(e.taskId,e.cmd,e.data,r),i.label=3;case 3:return[2]}}))}))},e.prototype.batchCommitMessages=function(e,t,n){return o(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return r=this.packUserChanges(e,t,n),[4,this.batchChangesRequest(this.options.serverVars.globalPadId,r,n)];case 1:return o=i.sent(),[2,this.getCommitResult(o,t)]}}))}))},e.prototype.batchChangesRequest=function(e,t,n){return o(this,void 0,void 0,(function(){var r,o,c,l;return i(this,(function(i){return r=a.Cookie.getXsrf(),o=u+"?padId="+e+"&xsrf="+r+"&"+((null==n?void 0:n.urlParameter)?null==n?void 0:n.urlParameter:""),c=a.JsonUtil.jsonStringify(t),c=encodeURIComponent(c),l={url:o,method:s.Method.POST,body:"data="+c,contentType:s.ContentType.FORM},[2,(new s.Request).sendCommonRequest(l)]}))}))},e.prototype.bigChangesCommit=function(e){var t,n;return o(this,void 0,void 0,(function(){var r,o,a;return i(this,(function(i){switch(i.label){case 0:return r=this.packUserChanges(e),(o=this.bigChangesRequestBody(this.options.serverVars.globalPadId,r)).length>=((null===(n=null===(t=this.options.config)||void 0===t?void 0:t.bigDataCommitConfig)||void 0===n?void 0:n.maxContentLength)||20971520)?[2,{success:!1,retCode:52003,bodyLength:o.length,data:[]}]:[4,this.bigChangesRequest(o)];case 1:return a=i.sent(),[2,this.getCommitResult(a)]}}))}))},e.prototype.bigChangesRequest=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(n){return t={url:u,method:s.Method.POST,body:e,contentType:s.ContentType.JSON},[2,(new s.Request).sendCommonRequest(t)]}))}))},e.prototype.bigChangesRequestBody=function(e,t){var n=a.Cookie.getXsrf();return a.JsonUtil.jsonStringify({padId:e,xsrf:n,commitData:t})},e.prototype.getCommitResult=function(e,t){var n,r,o={success:!1,retCode:0,data:[]};if(e.error){o.type="NetworkException";var i=null===(n=e.error)||void 0===n?void 0:n.statusCode;return 413===i&&(o.retCode=52003),a.ConnectionLog.info("batchCommitMessages: "+(null===(r=e.error)||void 0===r?void 0:r.message)+", statusCode:"+i),o}try{var s=JSON.parse(e.data);0===(null==s?void 0:s.retcode)?(s.Data.respective.forEach((function(e){var n;a.ConnectionLog.info("batchCommitMessages rev:"+t+", newRev:"+e.newRev+", taskId:"+e.commitId),null===(n=o.data)||void 0===n||n.push(e)})),o.type="Success",o.success=!0):(o.retCode=s.retcode,o.type="ServerVerityException",o.reason=s.retmsg,a.ConnectionLog.info("batchCommitMessages retcode:"+(null==s?void 0:s.retcode)+" retmsg:"+(null==s?void 0:s.retmsg)))}catch(c){a.ConnectionLog.warn("getCommitResult parseJson error, data: "+e.data+"."),o.type="NetworkException"}return o},e.prototype.preCheck=function(e){var t={errCode:0};return e.data&&"string"!=typeof e.data||(t.errMsg="send data type is conrect.",t.errCode=52001),t},e.prototype.packUserChanges=function(e,t,n){var o,i=this,a=e[0];return{common:r(r({},null==n?void 0:n.additionalFieldsToCommon),{type:"USER_CHANGES",curRev:t,offlineMsg:!0,docid:this.options.serverVars.globalPadId,uid:this.options.uid,dver:this.options.serverVars.dver,base_rev:a.baseRev,code_ver:0,session_type:0,gray:this.options.serverVars.gray||0,generalpacket:null===(o=this.options.config)||void 0===o?void 0:o.headerGeneralPacket,pver:this.options.serverVars.pver,uuId:this.options.uuId}),respective:e.map((function(e){return i.getRespectiveItem(e)}))}},e.prototype.getRespectiveItem=function(e){var t={task_id:e.taskId,subId:e.subId,oSubId:e.oSubId||!1,head:e.head||!1,keydata:e.keydata||!1,changeSetCount:e.changeSetCount||1,changeset:e.changeset,changesetType:e.changesetType,apool:e.apool,isWorkbook:e.isWorkbook};return this.options.module===c.DOCUMENT_TYPE.DOC?(t.commands=e.base64Commands||e.changeset,t.changeset=""):t.changeset=e.changeset,t},e.prototype.createServerMessageHead=function(e){return{base_rev:e.new_rev-1,docid:this.options.serverVars.globalPadId,dver:this.options.serverVars.dver,new_rev:e.new_rev,session_type:0,type:"USER_CHANGES",uid:this.options.uid,uuid:this.options.uuId}},e.prototype.createServerMessageBody=function(e){var t;return{data:{apool:e.apool,author:e.author,changeset:e.changeset,commitId:e.commitId,head:e.head,isWorkbook:e.isWorkbook||!1,need:e.need,revert:e.revert,subId:null!==(t=e.subId)&&void 0!==t?t:e.subid,newRev:e.newRev,new_rev:e.newRev,type:e.type,uuId:this.options.uuId}}},e.prototype.createServerMessage=function(e){return{head:this.createServerMessageHead(e),body:this.createServerMessageBody(e),newRev:e.newRev,socketId:""}},e}();t.BigDataChannel=l,t.BuildBigDataChannel=function(e,t){return new l(e,t)}},30158:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(19763),t),o(n(793),t),o(n(9071),t)},91143:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentType=t.Request=t.Method=void 0;var i=n(69318),a=n(63830);Object.defineProperty(t,"Method",{enumerable:!0,get:function(){return a.Method}}),Object.defineProperty(t,"ContentType",{enumerable:!0,get:function(){return a.ContentType}});var s=function(){function e(){}return e.prototype.sendCommonRequest=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,new Promise((function(t){try{var n,r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE){var e="";200===r.status?e=r.responseText:n=new a.HttpError("StatusError",r.status),t(new a.Result(n,e))}};try{r.timeout=3e4}catch(o){i.ConnectionLog.error("request error message: "+(null==o?void 0:o.message))}r.ontimeout=function(){n=new Error("TimeOutError"),t(new a.Result(n))},r.open(e.method,e.url),e.contentType===a.ContentType.JSON?(r.setRequestHeader("content-type",a.ContentTypeValue.JSON),r.setRequestHeader("content-encoding","gzip")):r.setRequestHeader("content-type",a.ContentTypeValue.FORM),r.send(e.body)}catch(s){t(new a.Result(s))}}))]}))}))},e}();t.Request=s},14431:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},55780:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.buildCommonRequestChannel=void 0;var i=n(9801),a=n(50306),s=n(89995),c=n(95854),u=n(63830),l=function(e){function t(t){var n=e.call(this,t,{requestUrl:"/dop-api/commitchanges",method:c.Method.POST,contentType:u.ContentType.JSON})||this;return n.options=t,n.init(),n}return o(t,e),t.prototype.init=function(){this.paramsPacker=new a.CommonRequestParamsPacker,this.responseHandler=new s.CommonResponseHandler},t}(i.BaseChannel);t.buildCommonRequestChannel=function(e){return new l(e)}},50306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonRequestParamsPacker=void 0;var r=n(69318),o=function(){function e(){}return e.prototype.pack=function(e,t){var n,o={common:{type:e.data.type,docid:t.serverVars.globalPadId,uid:t.uid,session_type:0,uuId:t.uuId,padType:null!==(n=t.module)&&void 0!==n?n:"",padSubType:e.data.padSubType},respective:e.data.changeset},i=t.serverVars.globalPadId,a=r.Cookie.getXsrf();return r.JsonUtil.jsonStringify({padId:i,xsrf:a,data:r.JsonUtil.jsonStringify(o)})},e}();t.CommonRequestParamsPacker=o},89995:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonResponseHandler=void 0;var n=function(){function e(){}return e.prototype.handle=function(e){if(e.error)return{error:e.error};var t=e.data,n=t.status,r=t.data;return{status:n,retcode:null==r?void 0:r.retcode,message:null==r?void 0:r.retmsg,data:null==r?void 0:r.Data}},e}();t.CommonResponseHandler=n},95942:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(14431),t),o(n(55780),t)},59781:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(95942),t)},26956:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},68352:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DOCUMENT_TYPE=void 0,function(e){e.DOC="doc",e.SHEET="sheet",e.FORM="form",e.SLIDE="slide",e.SMARTSHEET="smartSheet",e.SMARTCANVAS="smartCanvas",e.FLOWCHART="flowchart",e.MIND="mind",e.PDF="pdf"}(n||(n={})),t.DOCUMENT_TYPE=n},91891:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectMode=void 0,function(e){e.WEBSOCKET="WEBSOCKET",e.BIG_COLLAB="BIG_COLLAB",e.WEBSOCKET_FORCED="WEBSOCKET_FORCED"}(n||(n={})),t.ConnectMode=n},75360:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionController=void 0;var i=n(93649),a=n(70325),s=n(47484),c=n(30158),u=n(69318),l=n(72411),f=n(91891),d=n(37877),p=n(95942),h=n(77054),v=n(85076),g=function(){function e(e){var t,n=this;this.onConnectionEventEmitter=new s.Emitter,this.middleWareCenter=new v.MiddleWareCenter,this.connectionFireEvent=function(e,t){n.onConnectionEventEmitter.fire({event:e,data:t})},this.options=e,this.setConnectMode((null===(t=this.options.config)||void 0===t?void 0:t.connectMode)||f.ConnectMode.WEBSOCKET),this.onConnectionEvent=this.onConnectionEventEmitter.event,this.initDependencyEvent(),i.network.changeEnd(this.handleNetWorkChangeCallback.bind(this))}return e.prototype.dispose=function(){i.network.remove(this.handleNetWorkChangeCallback.bind(this)),this.onConnectionEventEmitter.dispose(),this.destoryChannel()},e.prototype.useMiddleWare=function(e,t){this.middleWareCenter.useMiddleWare(e,t)},e.prototype.connect=function(e){void 0===e&&(e=f.ConnectMode.WEBSOCKET),u.ConnectionLog.info("connect mode:"+e),this.setConnectMode(e),this.connectChannel(e)},e.prototype.reConnect=function(e,t){void 0===t&&(t=f.ConnectMode.WEBSOCKET),this.reconnect(e,t)},e.prototype.reconnect=function(e,t){void 0===t&&(t=f.ConnectMode.WEBSOCKET),u.ConnectionLog.warn("reconnect mode:"+t),e&&(this.options=e),this.destoryChannel(),this.setConnectMode(t),this.connectChannel(t)},e.prototype.isConnecting=function(){return this.isConnected()},e.prototype.isConnected=function(){return this.isWebsocketRoomState(d.RoomState.OPENED)||this.isUseBigCollabChannel()&&this.bigCollabChannel.isConnected()},e.prototype.isDisconnect=function(){return this.isDisconnected()},e.prototype.isDisconnected=function(){return this.isWebsocketRoomState(d.RoomState.SHUTDOWN)||this.isUseBigCollabChannel()&&this.bigCollabChannel.isDisconnected()},e.prototype.disconnect=function(e){var t,n;this.isDisconnected()?u.ConnectionLog.warn("was disconnect, please do not disconnect. new errCode:"+e.errCode):this.isUseBigCollabChannel()?null===(t=this.bigCollabChannelInstance)||void 0===t||t.disconnect(e):null===(n=this.websocketChannelInstance)||void 0===n||n.disconnect(e)},e.prototype.isOnline=function(){return i.network.isOnline},e.prototype.setVersion=function(e){a.isNumber(e)?this.version=e:u.ConnectionLog.error("setVersion version is not number")},e.prototype.sendMessage=function(e){if(u.isInvalidMessage(e))return u.ConnectionLog.warn("sendMessage fail: params invalid!"),void e.onError(e.taskId,e.cmd,e.data,{errCode:d.RoomErrorCode.PARA_ERROR,errMsg:"msg param invalid."});this.configMessageParam(e),this.isUseBigDataChannel(e)?this.bigDataChannel.sendMessage(e):this.isUseBigCollabChannel()?this.bigCollabChannel.sendMessage(e):this.websocketChannel.sendMessage(e)},e.prototype.sendCommonRequest=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.commonRequestChannel.sendMessage(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.batchCommitMessages=function(e,t,n){return r(this,void 0,void 0,(function(){return o(this,(function(r){return(null==e?void 0:e.length)?[2,this.bigDataChannel.batchCommitMessages(e,t,n)]:[2,this.handleMessagesError()]}))}))},e.prototype.cancelMessageBySeq=function(e){this.websocketChannel.cancelMessageBySeq(e)},e.prototype.handleMessagesError=function(){var e="batchCommitMessages message is null!";return u.ConnectionLog.warn(e),{success:!1,retCode:52001,reason:e}},Object.defineProperty(e.prototype,"bigDataChannel",{get:function(){return this.bigDataChannelInstance||(this.bigDataChannelInstance=c.BuildBigDataChannel(this.options,this.dependency)),this.bigDataChannelInstance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bigCollabChannel",{get:function(){return this.bigCollabChannelInstance||(this.bigCollabChannelInstance=h.BuildBigCollabChannel(this.options,this.dependency)),this.bigCollabChannelInstance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketChannel",{get:function(){return this.websocketChannelInstance||(this.websocketChannelInstance=d.BuildRoomWebsocketChannel(this.options,this.dependency,this.middleWareCenter)),this.websocketChannelInstance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commonRequestChannel",{get:function(){return this.commonRequestChannelInstance||(this.commonRequestChannelInstance=p.buildCommonRequestChannel(this.options)),this.commonRequestChannelInstance},enumerable:!1,configurable:!0}),e.prototype.handleNetWorkChangeCallback=function(e){var t,n,r,o;"online"===e?null===(n=(t=this.dependency).enterOnline)||void 0===n||n.call(t):null===(o=(r=this.dependency).enterOffline)||void 0===o||o.call(r)},e.prototype.isUseBigCollabChannel=function(){var e;return(null===(e=this.options.config)||void 0===e?void 0:e.connectMode)===f.ConnectMode.BIG_COLLAB},e.prototype.isUseBigDataChannel=function(e){var t,n=null===(t=this.options.config)||void 0===t?void 0:t.bigDataCommitConfig;if("USER_CHANGES"===e.cmd&&!0===(null==n?void 0:n.isSupportBigDataCommit)){var r=l.getMessageDataLength(e.data);if(r>((null==n?void 0:n.minContentLength)||5242880))return u.ConnectionLog.info("sendMessage BigData, length:"+r),!0}return!1},e.prototype.initDependencyEvent=function(){var e=this;this.dependency={enterOnline:function(){e.connectionFireEvent("OnEnterOnline")},enterOffline:function(){e.connectionFireEvent("OnEnterOffline")},connected:function(){e.connectionFireEvent("OnRoomOpen")},connectedStateChange:function(t,n){e.connectionFireEvent("OnRoomStateChange",{roomState:{roomState:t,description:n}})},receiveMessageFromServer:function(t,n){e.connectionFireEvent("OnReceiveMsgFromServer",{serverMsg:{type:t,data:n}})},networkReconnectedFail:function(){e.connectionFireEvent("OnNetReconnectedFail")},getHeaderGeneralPacket:function(){var t,n;return null!==(n=null===(t=e.options.config)||void 0===t?void 0:t.headerGeneralPacket)&&void 0!==n?n:{}},getVersion:function(){return e.version},disconnect:function(t){t.shutDown?e.connectionFireEvent("OnRoomShutDown",{closeReason:t}):e.connectionFireEvent("OnRoomClose",{closeReason:t})},heartBeatCommon:function(t){e.connectionFireEvent("onHeartBeatCommon",{heartBeatCommon:t})}}},e.prototype.isWebsocketRoomState=function(e){return!!this.websocketChannelInstance&&this.websocketChannel.getRoomState()===e},e.prototype.connectChannel=function(e){e!==f.ConnectMode.BIG_COLLAB?this.websocketChannel.connect():this.bigCollabChannel.connect()},e.prototype.destoryChannel=function(){var e,t,n,r;null===(e=this.websocketChannelInstance)||void 0===e||e.dispose(),this.websocketChannelInstance=void 0,null===(t=this.bigDataChannelInstance)||void 0===t||t.dispose(),this.bigDataChannelInstance=void 0,null===(n=this.commonRequestChannelInstance)||void 0===n||n.dispose(),this.commonRequestChannelInstance=void 0,null===(r=this.bigCollabChannelInstance)||void 0===r||r.dispose(),this.bigCollabChannelInstance=void 0},e.prototype.setConnectMode=function(e){this.options.config?this.options.config.connectMode=e:this.options.config={connectMode:e}},e.prototype.configMessageParam=function(e){var t,n;e.customParam?((null===(t=e.customParam)||void 0===t?void 0:t.timeout)&&(e.customParam.timeout=Math.min(e.customParam.timeout,3e4)),(null===(n=e.customParam)||void 0===n?void 0:n.maxRetryCount)&&(e.customParam.maxRetryCount=Math.min(e.customParam.maxRetryCount,l.DEFAULT_RETRY_COUNTS))):e.customParam={timeout:l.DEFAULT_SEND_MESSAGE_TIMEOUT,maxRetryCount:l.DEFAULT_RETRY_COUNTS}},e}();t.ConnectionController=g},2282:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionCallBackEvent=void 0,function(e){e.onEnterOnline="OnEnterOnline",e.onEnterOffline="OnEnterOffline",e.onRoomOpen="OnRoomOpen",e.onRoomClose="OnRoomClose",e.onRoomShutDown="OnRoomShutDown",e.onRoomStateChange="OnRoomStateChange",e.onReceiveMsgFromServer="OnReceiveMsgFromServer",e.onNetReconnectedFail="OnNetReconnectedFail",e.onHeartBeatCommon="onHeartBeatCommon"}(t.ConnectionCallBackEvent||(t.ConnectionCallBackEvent={}))},36255:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(68352),t),o(n(26956),t),o(n(75360),t),o(n(91891),t),o(n(2282),t)},85470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureMessageCenter=void 0;var r=n(47484),o=n(15342),i=n(69318),a=n(45791),s=function(){function e(){this.onFeatureMessageEventEmitter=new r.Emitter,this.sendMessages=new Map,this.uid=e.configs.uid||o.getUid();var t=e.configs.userId||"p."+this.uid;this.userId=""+t,this.gtag="main_page_"+this.userId,this.onFeatureMessageEvent=this.onFeatureMessageEventEmitter.event}return e.config=function(t){e.configs=Object.assign(e.configs,t)},e.getInstance=function(){if(!n.g.featureMessageCenterInstance){var t=new e;n.g.featureMessageCenterInstance=t,t.connect()}return e.instance||(e.instance=n.g.featureMessageCenterInstance),e.instance},e.prototype.isConnecting=function(){return!!this.socketManager},e.prototype.connect=function(){this.isConnecting()||this.websocketConnect()},e.prototype.disConnect=function(e){var t;null===(t=this.socketManager)||void 0===t||t.disConnect(null!=e?e:"")},e.prototype.dispose=function(){var e;this.onFeatureMessageEventEmitter.dispose(),null===(e=this.socketManager)||void 0===e||e.dispose()},e.prototype.onConnect=function(){this.sendClientReady()},e.prototype.sendMessage=function(e){var t,n,r=this;if(e.type){var o=i.generateMessageTaskId(),a={uid:this.userId,type:e.type,task_id:o};a=Object.assign(a,e);var s=setTimeout((function(){var e;clearTimeout(s);var t=""+o;if(r.sendMessages.has(t)){var n=r.sendMessages.get(t);null===(e=null==n?void 0:n.onError)||void 0===e||e.call(n,new Error("sending timeout.")),r.sendMessages.delete(t)}}),e.timeout||3e4);this.sendMessages.set(""+o,e),null===(n=this.socketManager)||void 0===n||n.sendMessage(o+"="+i.JsonUtil.jsonStringify(a))}else null===(t=e.onError)||void 0===t||t.call(e,new Error("type is undefined"))},e.prototype.onConnectFail=function(){var e=this;if(!this.websocketDelayConnectTimer){this.socketManager=void 0;var t=1e3*Math.max(Math.floor(20*Math.random()),2);this.websocketDelayConnectTimer=setTimeout((function(){e.websocketConnect()}),t)}},e.prototype.onGetMessageFromServerPush=function(e){var t;if(this.onFeatureMessageEventEmitter.fire({data:e}),e){var n=i.JsonUtil.parseJson(e);if(null==n?void 0:n.task_id){var r=""+n.task_id,o=this.sendMessages.get(r);o&&(null===(t=o.onSuccess)||void 0===t||t.call(o,n),this.sendMessages.delete(r))}}},e.prototype.websocketConnect=function(){this.uid&&(this.resetWebsocketDelayConnectTimer(),this.socketManager=new a.WebsocketManager({userId:this.userId,gtag:this.gtag,host:window.location.host,featureMessageCenterReceiver:this}),this.socketManager.connect())},e.prototype.sendClientReady=function(){var e,t={type:"CLIENT_READY",uid:this.userId,gtag:this.gtag,cookie:i.getCookieForMessage()},n=i.generateMessageTaskId()+"="+i.JsonUtil.jsonStringify(t);null===(e=this.socketManager)||void 0===e||e.sendMessage(n)},e.prototype.resetWebsocketDelayConnectTimer=function(){this.websocketDelayConnectTimer&&(clearTimeout(this.websocketDelayConnectTimer),this.websocketDelayConnectTimer=0)},e.configs={},e}();t.FeatureMessageCenter=s},40492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(85470);Object.defineProperty(t,"FeatureMessageCenter",{enumerable:!0,get:function(){return r.FeatureMessageCenter}})},45791:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketManager=void 0;var a=i(n(74649)),s=n(69318),c=n(57867),u=function(){function e(e){var t=this;this.options=e,this.socket=null,this.socketStatus=0,this.handleConnect=function(){c.ConnectionLog.info("socket io connect readyState: "+t.socket.io.readyState+", id:"+t.socket.id),t.options.featureMessageCenterReceiver.onConnect()},this.handleError=function(e){c.ConnectionLog.info("socket io error, type:"+(null==e?void 0:e.type)+", message:"+(null==e?void 0:e.message)+", description:"+(null==e?void 0:e.description)),t.disConnect(s.JsonUtil.jsonStringify(e)+" socket io error Closed by client.")},this.handleReconnectFailed=function(e){c.ConnectionLog.info("socket io reconnect_failed"),t.disConnect(s.JsonUtil.jsonStringify(e)+" reconnect_failed Closed by client.")},this.handleConnectFailed=function(e){c.ConnectionLog.info("socket io connect_failed"),t.disConnect(s.JsonUtil.jsonStringify(e)+"  connect_failed Closed by client.")},this.handleMessageFromServerPush=function(e){t.options.featureMessageCenterReceiver.onGetMessageFromServerPush(e)},this.handlePost=function(e){var n,r;null===(r=(n=t.options.featureMessageCenterReceiver).onPostFromServer)||void 0===r||r.call(n,e)}}return e.prototype.dispose=function(){this.disConnectSocket()},e.prototype.connect=function(){var e=a.default("wss://"+this.options.host,{query:{gtag:this.options.gtag},transports:a.DEFAULT_TRANSPORT_MODE,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:a.WEBSOCKET_CONFIG.reconnectionDelay,reconnectionDelayMax:a.WEBSOCKET_CONFIG.reconnectionDelayMax,randomizationFactor:a.WEBSOCKET_CONFIG.randomizationFactor,timeout:a.WEBSOCKET_CONFIG.connectTimeout,path:"/socket.io"});this.socket=e,this.socket?(this.socket.on("get",this.handleMessageFromServerPush),this.socket.on("post",this.handlePost),this.socket.on("connect",this.handleConnect),this.socket.on("connect_failed",this.handleConnectFailed),this.socket.on("error",this.handleError),this.socket.on("reconnect_failed",this.handleReconnectFailed)):c.ConnectionLog.warn("socket is null")},e.prototype.disConnect=function(e){c.ConnectionLog.info("socket io disconnect reason: "+e),this.disConnectSocket(),this.options.featureMessageCenterReceiver.onConnectFail()},e.prototype.sendMessage=function(e){e&&this.socket&&this.socket.emit("post",e)},e.prototype.disConnectSocket=function(){this.socket&&(this.socket.disconnect(),this.socket=null)},e}();t.WebsocketManager=u},85076:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(86512),t),o(n(24846),t)},24846:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(31662),t),o(n(44878),t),o(n(73438),t),o(n(51578),t)},51578:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},73438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LimitFrequencyManager=void 0;var r=n(69318),o=n(31662),i=n(44878),a=n(11166),s=function(){function e(e){this.dependency=e,this.limitFrequencyMessageMap=new Map,this.limitFrequencyMessageMap.set(a.USER_INOUT_TYPE,new a.UserInoutMessage(a.USER_INOUT_TYPE,i.MessagePriority.MIDDLE,this.dependency))}return e.prototype.dispose=function(){this.limitFrequencyMessageMap.clear(),this.reset()},e.prototype.reset=function(){this.memberCount=0},e.prototype.setPriority=function(e,t){this.limitFrequencyMessageMap.get(e)&&r.ConnectionLog.warn("LimitFrequencyManager type:"+e+" is exit."),this.limitFrequencyMessageMap.set(e,new o.LimitFrequencyMessage(e,t,this.dependency))},e.prototype.handleMessage=function(e){var t=this;this.updateMemberCount(e),this.limitFrequencyMessageMap.forEach((function(n){var r=e.head.type;n.shouldLimit(r)&&(null==n||n.handleMessage(e,t.getLimitFrequencyLevel(),t.memberCount))}))},e.prototype.updateMemberCount=function(e){var t,n,r,o,i;if(["USER_NEWINFO","USER_NEWINFOS","USER_LEAVE","USER_LEAVES"].includes(e.head.type)){var a=null!==(i=null!==(r=null===(n=null===(t=e.body)||void 0===t?void 0:t.notice)||void 0===n?void 0:n.mem_count)&&void 0!==r?r:null===(o=e.body)||void 0===o?void 0:o.mem_count)&&void 0!==i?i:0;this.memberCount=a}},e.prototype.getLimitFrequencyLevel=function(){return this.memberCount<=i.MIN_THRESHOLD?i.LimitFrequencyLevel.LOW:this.memberCount<=i.MIDDLE_THRESHOLD?i.LimitFrequencyLevel.MIDDLE:this.memberCount<=i.MAX_THRESHOLD?i.LimitFrequencyLevel.HIGH:i.LimitFrequencyLevel.HIGHEST},e}();t.LimitFrequencyManager=s},31662:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LimitFrequencyMessage=void 0;var r=n(69318),o=n(44878),i=function(){function e(e,t,n){this.type=e,this.priority=t,this.dependency=n,this.duration=o.NOT_LIMIT_FREQUENCY,this.messages=[]}return e.prototype.shouldLimit=function(e){return this.type===e},e.prototype.handleMessage=function(e,t,n){var r=this;this.memberCount=n;var i=this.calculateLimitDuration(t);i!==o.NOT_LIMIT_FREQUENCY?(e.needDeal=!1,i!==o.FOREVER_LIMIT_FREQUENCY?(this.pushMessage(e),i!==this.duration&&(this.reset(),this.duration=i,this.transferTimer=setInterval((function(){r.transfer()}),this.duration))):this.duration=i):i!==this.duration&&(this.transfer(),this.reset())},e.prototype.pushMessage=function(e){this.messages.push(e)},e.prototype.transfer=function(){this.messages.length&&(r.ConnectionLog.info("transfer memberCount:"+this.memberCount+", type:"+this.type+", duration:"+this.duration),this.transferToBusiness(this.type,this.messages),this.messages.splice(0,this.messages.length))},e.prototype.transferToBusiness=function(e,t){this.dependency.receiveMessageFromServer(e,t)},e.prototype.reset=function(){clearInterval(this.transferTimer),this.transferTimer=0,this.duration=o.NOT_LIMIT_FREQUENCY},e.prototype.calculateLimitDuration=function(e){try{return this.priority===o.MessagePriority.HIGH?o.NOT_LIMIT_FREQUENCY:o.LIMIT_FREQUENCY_STRAGEGY[this.priority][e]}catch(t){return o.NOT_LIMIT_FREQUENCY}},e}();t.LimitFrequencyMessage=i},44878:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.FOREVER_LIMIT_FREQUENCY=t.NOT_LIMIT_FREQUENCY=t.LIMIT_FREQUENCY_STRAGEGY=t.MAX_THRESHOLD=t.MIDDLE_THRESHOLD=t.MIN_THRESHOLD=t.LimitFrequencyLevel=t.MessagePriority=void 0,function(e){e[e.HIGH=0]="HIGH",e[e.MIDDLE=1]="MIDDLE",e[e.LOW=2]="LOW"}(n||(n={})),t.MessagePriority=n,function(e){e[e.LOW=0]="LOW",e[e.MIDDLE=1]="MIDDLE",e[e.HIGH=2]="HIGH",e[e.HIGHEST=3]="HIGHEST"}(r||(r={})),t.LimitFrequencyLevel=r;t.MIN_THRESHOLD=20;t.MIDDLE_THRESHOLD=50;t.MAX_THRESHOLD=100;t.NOT_LIMIT_FREQUENCY=0;var o=Number.MAX_SAFE_INTEGER;t.FOREVER_LIMIT_FREQUENCY=o;var i=[[0,0,0,0],[0,5e3,1e4,2e4],[0,1e4,2e4,o]];t.LIMIT_FREQUENCY_STRAGEGY=i},11166:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.USER_INOUT_TYPE=t.UserInoutMessage=void 0;var i=n(69318),a=n(31662),s="USER_INOUT_TYPE";t.USER_INOUT_TYPE=s;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userNewInfos=new Map,t.userLeaves=new Map,t}return o(t,e),t.prototype.shouldLimit=function(e){return["USER_NEWINFO","USER_LEAVE"].includes(e)},t.prototype.pushMessage=function(e){var t=e.body.notice;"USER_NEWINFO"===e.head.type&&this.pushUserNewInfo(t),"USER_LEAVE"===e.head.type&&this.pushUserLeave(t)},t.prototype.transfer=function(){var e;(this.userNewInfos.size||(null===(e=this.userLeaves)||void 0===e?void 0:e.size))&&(i.ConnectionLog.info("transfer memberCount:"+this.memberCount+", type:"+s+", duration:"+this.duration),this.transferUserNewInfo(),this.transferUserLeave(),this.userNewInfos.clear(),this.userLeaves.clear())},t.prototype.transferUserNewInfo=function(){if(this.userNewInfos.size){var e=Array.from(this.userNewInfos.values());this.userNewInfos.clear();var t={head:{type:"USER_NEWINFOS"},body:{mem_count:this.memberCount,notices:e}};this.transferToBusiness("USER_NEWINFOS",[t])}},t.prototype.transferUserLeave=function(){var e;if(null===(e=this.userLeaves)||void 0===e?void 0:e.size){var t=Array.from(this.userLeaves.values());this.userLeaves.clear();var n={head:{type:"USER_LEAVES"},body:{mem_count:this.memberCount,notices:t}};this.transferToBusiness("USER_LEAVES",[n])}},t.prototype.pushUserNewInfo=function(e){e&&e.uuId&&(this.userLeaves.has(e.uuId)?this.userLeaves.delete(e.uuId):this.userNewInfos.set(e.uuId,e))},t.prototype.pushUserLeave=function(e){e&&e.uuId&&(this.userNewInfos.has(e.uuId)?this.userNewInfos.delete(e.uuId):this.userLeaves.set(e.uuId,e))},t}(a.LimitFrequencyMessage);t.UserInoutMessage=c},86512:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(50077),t)},50077:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MiddleWareCenter=t.MiddleWareType=void 0,function(e){e.RECEIVE_MESSAGE_FROM_SERVER="RECEIVE_MESSAGE_FROM_SERVER"}(n||(n={})),t.MiddleWareType=n;var r=function(){function e(){this.middleWares=new Map}return e.prototype.useMiddleWare=function(e,t){if(e&&t){var n=this.getMiddleWares(e);n.push(t),this.middleWares.set(e,n)}},e.prototype.run=function(e,t){var n=this.getMiddleWares(e);this.compose(n,t)},e.prototype.getMiddleWares=function(e){var t;return null!==(t=this.middleWares.get(e))&&void 0!==t?t:[]},e.prototype.compose=function(e,t){var n=-1;return function r(o){if(o<=n)throw new Error("next only called once");if(n=o,o===e.length)return t;var i=e[o];return null==i?void 0:i(t,r.bind(null,o+1))}(0)},e}();t.MiddleWareCenter=r},57201:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(63830),t),o(n(69318),t),o(n(85076),t),o(n(40492),t);var i=n(37877);Object.defineProperty(t,"RoomState",{enumerable:!0,get:function(){return i.RoomState}}),Object.defineProperty(t,"MessageWaitAcceptCmd",{enumerable:!0,get:function(){return i.MessageWaitAcceptCmd}}),Object.defineProperty(t,"RoomErrorCode",{enumerable:!0,get:function(){return i.RoomErrorCode}}),Object.defineProperty(t,"RoomWebsocketErrorCode",{enumerable:!0,get:function(){return i.RoomWebsocketErrorCode}}),o(n(36255),t),o(n(59781),t);var a=n(72411);Object.defineProperty(t,"NewChangeCommandsType",{enumerable:!0,get:function(){return a.NewChangeCommandsType}}),Object.defineProperty(t,"BatchCommitFailReason",{enumerable:!0,get:function(){return a.BatchCommitFailReason}}),Object.defineProperty(t,"CHANGESET_TYPE",{enumerable:!0,get:function(){return a.CHANGESET_TYPE}}),Object.defineProperty(t,"IBatchCommitChangesResultRetcode",{enumerable:!0,get:function(){return a.IBatchCommitChangesResultRetcode}}),Object.defineProperty(t,"DEFAULT_SEND_MESSAGE_TIMEOUT",{enumerable:!0,get:function(){return a.DEFAULT_SEND_MESSAGE_TIMEOUT}}),Object.defineProperty(t,"DEFAULT_RETRY_COUNTS",{enumerable:!0,get:function(){return a.DEFAULT_RETRY_COUNTS}}),Object.defineProperty(t,"DataEngineCodes",{enumerable:!0,get:function(){return a.DataEngineCodes}}),Object.defineProperty(t,"DocEditorError",{enumerable:!0,get:function(){return a.DocEditorError}})},13123:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},35491:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.IBatchCommitChangesResultRetcode=t.BatchCommitFailReason=void 0,function(e){e.UNKNOW="Unknow",e.SUCCESS="Success",e.NETWORK_EXCEPTION="NetworkException",e.SERVER_VERITY_EXCEPTION="ServerVerityException"}(n||(n={})),t.BatchCommitFailReason=n,function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ServerTimeout=101]="ServerTimeout",e[e.ServerInvalidParam=10001]="ServerInvalidParam",e[e.UNKNOWN_ERROR=52e3]="UNKNOWN_ERROR",e[e.USER_PRIVILEGE_FAILED=200111]="USER_PRIVILEGE_FAILED",e[e.PARAMETER_WRONG=52001]="PARAMETER_WRONG",e[e.WEBSOCKET_UNSUPPORT_BATCH_COMMIT=52002]="WEBSOCKET_UNSUPPORT_BATCH_COMMIT",e[e.CONTENT_LENGTH_EXCEED_LIMIT=52003]="CONTENT_LENGTH_EXCEED_LIMIT"}(r||(r={})),t.IBatchCommitChangesResultRetcode=r},94813:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},45451:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.DocEditorError=t.DataEngineCodes=void 0,function(e){e[e.ERR_OK=0]="ERR_OK",e[e.ERR_UNSPECIFIED=601900]="ERR_UNSPECIFIED",e[e.ERR_TABLEKV_FAILED=601901]="ERR_TABLEKV_FAILED",e[e.ERR_DUPLICATED_KEY=601902]="ERR_DUPLICATED_KEY",e[e.ERR_OIDB=601903]="ERR_OIDB",e[e.ERR_CollabRevisionStoreErr=50001]="ERR_CollabRevisionStoreErr",e[e.ERR_GetRevisionFromSQLErr=50002]="ERR_GetRevisionFromSQLErr",e[e.ERR_BatchGetRevisionFromSQLErr=50003]="ERR_BatchGetRevisionFromSQLErr",e[e.ERR_COSPutObjectErr=50004]="ERR_COSPutObjectErr",e[e.ERR_COSGetObjectErr=50005]="ERR_COSGetObjectErr",e[e.ERR_CollabRevisionRecordStoreErr=50006]="ERR_CollabRevisionRecordStoreErr",e[e.ERR_DataEngineMetaStoreErr=50007]="ERR_DataEngineMetaStoreErr",e[e.ERR_GetMetaFromSQLErr=50008]="ERR_GetMetaFromSQLErr",e[e.ERR_GetRevisionRecordFromSQLErr=50009]="ERR_GetRevisionRecordFromSQLErr",e[e.ERR_DataEngineServerStopExpired=50010]="ERR_DataEngineServerStopExpired",e[e.ERR_RangeRevisionFromSQLErr=50011]="ERR_RangeRevisionFromSQLErr",e[e.ERR_GetDataEngineLockErr=50012]="ERR_GetDataEngineLockErr",e[e.ERR_EditBaseVersionWrongErr=50013]="ERR_EditBaseVersionWrongErr",e[e.ERR_DataEngineGetFileWrongVersion=50014]="ERR_DataEngineGetFileWrongVersion",e[e.ERR_GetRevisionRecordCountFromSQLErr=50015]="ERR_GetRevisionRecordCountFromSQLErr",e[e.ERR_SaveWatermarkToSQLErr=50016]="ERR_SaveWatermarkToSQLErr",e[e.ERR_GetWatermarkFromSQLErr=50017]="ERR_GetWatermarkFromSQLErr",e[e.ERR_RevisionRangeInvalidAttrs=50018]="ERR_RevisionRangeInvalidAttrs",e[e.ERR_GetRevisionsInvalidAttrs=50019]="ERR_GetRevisionsInvalidAttrs",e[e.ERR_DeduplicateRevisionsFail=50020]="ERR_DeduplicateRevisionsFail",e[e.ERR_CollabChangeRptMsgHpReqBodyEmpty=50021]="ERR_CollabChangeRptMsgHpReqBodyEmpty",e[e.ERR_DeduplicateCommitErr=50022]="ERR_DeduplicateCommitErr",e[e.ERR_DataEngineBrokenData=50023]="ERR_DataEngineBrokenData",e[e.ERR_GetMaxRevisionVersionFromSQLErr=50024]="ERR_GetMaxRevisionVersionFromSQLErr",e[e.ERR_SaveRevisionToSQLDuplicateErr=50025]="ERR_SaveRevisionToSQLDuplicateErr",e[e.ERR_NoCollabChangePrivilege=50026]="ERR_NoCollabChangePrivilege",e[e.ERR_NoAnnotatePrivilege=50027]="ERR_NoAnnotatePrivilege",e[e.ERR_COSGetPreSignedURLErr=50028]="ERR_COSGetPreSignedURLErr",e[e.ERR_DataEngineWrongTextType=50029]="ERR_DataEngineWrongTextType",e[e.ERR_DataEngineEmptyData=50030]="ERR_DataEngineEmptyData",e[e.ERR_ExecuteTimeOutErr=50031]="ERR_ExecuteTimeOutErr",e[e.ERR_DataEngineCgoCacheMiss=50032]="ERR_DataEngineCgoCacheMiss",e[e.ERR_CgoProtoToJSONErr=50033]="ERR_CgoProtoToJSONErr",e[e.ERR_CgoJSONToProtoErr=50034]="ERR_CgoJSONToProtoErr",e[e.ERR_CgoTransformErr=50035]="ERR_CgoTransformErr",e[e.ERR_MarshalPbLenZeroErr=50036]="ERR_MarshalPbLenZeroErr",e[e.ERR_CgoSetMaxCacheSizeErr=50037]="ERR_CgoSetMaxCacheSizeErr",e[e.ERR_CgoApplyRevisionsErr=50038]="ERR_CgoApplyRevisionsErr",e[e.ERR_CgoApplyRevisionsToSpecificKFErr=50039]="ERR_CgoApplyRevisionsToSpecificKFErr",e[e.ERR_CgoGetKeyframeErr=50040]="ERR_CgoGetKeyframeErr",e[e.ERR_CgoGetSpecificKeyframeErr=50041]="ERR_CgoGetSpecificKeyframeErr",e[e.ERR_MarshalPbErr=50042]="ERR_MarshalPbErr",e[e.ERR_CallCgoErr=50043]="ERR_CallCgoErr",e[e.ERR_DataEngineCtxCanceledErr=50044]="ERR_DataEngineCtxCanceledErr",e[e.ERR_UnmarshalPbErr=50045]="ERR_UnmarshalPbErr",e[e.ERR_CreateEmptyKeyframe=50046]="ERR_CreateEmptyKeyframe",e[e.ERR_CgoGetCacheSizeErr=50047]="ERR_CgoGetCacheSizeErr",e[e.ERR_TableKVGetWatermarkErr=50048]="ERR_TableKVGetWatermarkErr",e[e.ERR_TableKVSaveWatermarkErr=50049]="ERR_TableKVSaveWatermarkErr",e[e.ERR_TableKVSaveRevisionRecordErr=50050]="ERR_TableKVSaveRevisionRecordErr",e[e.ERR_TableKVGetRevisionRecordErr=50051]="ERR_TableKVGetRevisionRecordErr",e[e.ERR_TableKVBatchGetRevisionRecordErr=50052]="ERR_TableKVBatchGetRevisionRecordErr",e[e.ERR_TableKVCountRevisionRecordErr=50053]="ERR_TableKVCountRevisionRecordErr",e[e.ERR_TableKVSaveMetaErr=50054]="ERR_TableKVSaveMetaErr",e[e.ERR_TableKVGetMetaErr=50055]="ERR_TableKVGetMetaErr",e[e.ERR_TableKVMetaUpdateVersionInfoErr=50056]="ERR_TableKVMetaUpdateVersionInfoErr",e[e.ERR_TableKVMetaAddKeyFrameErr=50057]="ERR_TableKVMetaAddKeyFrameErr",e[e.ERR_TableKVBatchGetMetaErr=50058]="ERR_TableKVBatchGetMetaErr",e[e.ERR_TableKVSaveRevisionErr=50059]="ERR_TableKVSaveRevisionErr",e[e.ERR_TableKVGetRevisionErr=50060]="ERR_TableKVGetRevisionErr",e[e.ERR_TableKVGetRevisionRangeErr=50061]="ERR_TableKVGetRevisionRangeErr",e[e.ERR_TableKVBatchGetRevisionErr=50062]="ERR_TableKVBatchGetRevisionErr",e[e.ERR_TableKVGetRevisionMaxVerErr=50063]="ERR_TableKVGetRevisionMaxVerErr",e[e.ERR_TableKVBatchSaveRevisionErr=50064]="ERR_TableKVBatchSaveRevisionErr",e[e.ERR_CgoBuildCommandErr=50065]="ERR_CgoBuildCommandErr",e[e.ERR_CgoGetJSONFullTextErr=50066]="ERR_CgoGetJSONFullTextErr",e[e.ERR_DocVersionErr=50067]="ERR_DocVersionErr",e[e.ERR_CgoClearAllSensitiveDataErr=50068]="ERR_CgoClearAllSensitiveDataErr",e[e.ERR_TableKVGetSliceCountErr=50069]="ERR_TableKVGetSliceCountErr",e[e.ERR_FileHasAlreadyEdited=50070]="ERR_FileHasAlreadyEdited",e[e.ERR_SaveRevisionToTableKVDuplicateErr=50071]="ERR_SaveRevisionToTableKVDuplicateErr",e[e.ERR_CgoReplaceMentionErr=50072]="ERR_CgoReplaceMentionErr",e[e.ERR_CgoReplaceDocLinkErr=50073]="ERR_CgoReplaceDocLinkErr",e[e.ERR_CgoReplaceHyperlinkErr=50074]="ERR_CgoReplaceHyperlinkErr",e[e.ERR_CgoInsertCommentErr=50075]="ERR_CgoInsertCommentErr",e[e.ERR_CgoReplaceImageURLErr=50076]="ERR_CgoReplaceImageURLErr",e[e.ERR_CgoGetReplaceContentErr=50077]="ERR_CgoGetReplaceContentErr",e[e.ERR_OverSizeDoc=50078]="ERR_OverSizeDoc",e[e.ERR_RollbackToMeloDocErr=50079]="ERR_RollbackToMeloDocErr",e[e.ERR_EmptyMetaVersionInfo=50080]="ERR_EmptyMetaVersionInfo",e[e.ERR_InvalidGetHistoryRsp=50081]="ERR_InvalidGetHistoryRsp",e[e.ERR_OOXMLDocNoNeedToUpgrade=50082]="ERR_OOXMLDocNoNeedToUpgrade",e[e.ERR_ParaQuoteDoc=50083]="ERR_ParaQuoteDoc",e[e.ERR_IllegalCopy=50084]="ERR_IllegalCopy",e[e.ERR_UIDToTinyIDErr=50085]="ERR_UIDToTinyIDErr",e[e.ERR_InvalidUpgradeTinyID=50086]="ERR_InvalidUpgradeTinyID",e[e.ERR_COSDeleteObjectErr=50087]="ERR_COSDeleteObjectErr",e[e.ERR_UpgradeFileError=50088]="ERR_UpgradeFileError",e[e.ERR_TableKVGetMetaEmpty=50089]="ERR_TableKVGetMetaEmpty",e[e.ERR_DocDataCannotClone=50090]="ERR_DocDataCannotClone",e[e.ERR_DataEngineRangeStoreErr=50091]="ERR_DataEngineRangeStoreErr",e[e.ERR_CheckUserRangePrivilegeRspNil=50092]="ERR_CheckUserRangePrivilegeRspNil",e[e.ERR_CloneMetaFailedError=50093]="ERR_CloneMetaFailedError",e[e.ERR_CannotEditRangeError=50094]="ERR_CannotEditRangeError",e[e.ERR_CommitMissChangesContainRevert=50095]="ERR_CommitMissChangesContainRevert",e[e.ERR_PermissionRangeLengthZeroError=50096]="ERR_PermissionRangeLengthZeroError",e[e.ERR_GetRangePrivilegeRspNil=50097]="ERR_GetRangePrivilegeRspNil",e[e.ERR_TableKVNonLoginUserTicketErr=50098]="ERR_TableKVNonLoginUserTicketErr",e[e.ERR_InvalidVersion=50099]="ERR_InvalidVersion",e[e.ERR_EditValidateErr=50100]="ERR_EditValidateErr",e[e.ERR_TableKVSaveUpgradeVersionErr=50101]="ERR_TableKVSaveUpgradeVersionErr",e[e.ERR_TableKVGetUpgradeVersionErr=50102]="ERR_TableKVGetUpgradeVersionErr",e[e.ERR_TableKVGetUpgradeVersionEmpty=50103]="ERR_TableKVGetUpgradeVersionEmpty",e[e.ERR_TableKVDeleteMetaErr=50104]="ERR_TableKVDeleteMetaErr",e[e.ERR_TableKVDeleteRevisionErr=50105]="ERR_TableKVDeleteRevisionErr",e[e.ERR_TableKVDeleteRevisionRecordErr=50106]="ERR_TableKVDeleteRevisionRecordErr",e[e.ERR_TableKVDeleteWatermarkErr=50107]="ERR_TableKVDeleteWatermarkErr",e[e.ERR_TableKVDeleteUpgradeVersionErr=50108]="ERR_TableKVDeleteUpgradeVersionErr",e[e.ERR_GetRevisionRecordNotFound=502001]="ERR_GetRevisionRecordNotFound",e[e.ERR_GetRevisionRecordCountNotFound=502002]="ERR_GetRevisionRecordCountNotFound",e[e.ERR_GetWatermarkNotFound=502003]="ERR_GetWatermarkNotFound",e[e.ERR_GetChunkMetaNotFound=502004]="ERR_GetChunkMetaNotFound",e[e.ERR_GetChunksNotFound=502005]="ERR_GetChunksNotFound",e[e.ERR_GetTextAndLinksNotFound=502006]="ERR_GetTextAndLinksNotFound",e[e.ERR_InvalidRevertVersion=502007]="ERR_InvalidRevertVersion"}(n||(n={})),t.DataEngineCodes=n,function(e){e[e.DocEditorErrorPlaceholder=0]="DocEditorErrorPlaceholder",e[e.DocEditorErrorServerError=1e4]="DocEditorErrorServerError",e[e.DocEditorErrorMissParam=10001]="DocEditorErrorMissParam",e[e.DocEditorErrordVerNotSupport=10002]="DocEditorErrordVerNotSupport",e[e.BodyTooLargeError=60100]="BodyTooLargeError"}(r||(r={})),t.DocEditorError=r},54524:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},72411:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(94813),t),o(n(83356),t),o(n(13123),t),o(n(35491),t),o(n(12092),t),o(n(96644),t),o(n(3481),t),o(n(54524),t),o(n(28823),t),o(n(35981),t),o(n(49143),t),o(n(2059),t),o(n(6329),t),o(n(45451),t)},6329:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3481:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.prepareCommitMessage=t.getMessageDataLength=t.CHANGESET_TYPE=void 0;var o,i=n(69318);!function(e){e.SMARTSHEET="smartsheet",e.SMARTCANVAS="smartcanvas"}(o||(o={})),t.CHANGESET_TYPE=o,t.getMessageDataLength=function(e){var t;return e?e instanceof Object?(null===(t=e.changeset)||void 0===t?void 0:t.length)||0:e.length||0:0},t.prepareCommitMessage=function(e,t,n){if("string"==typeof e)return e;var o=r(r({},e),{type:"USER_CHANGES",baseRev:e.baseRev,changeSetCount:e.changeSetCount,changeset:e.changeset,apool:e.apool,isWorkbook:e.isWorkbook,keydata:e.keydata||!1,head:e.head,subId:e.subId,changesetType:e.changesetType,oSubId:e.oSubId||!1,uuId:t,offlineMsg:e.offlineMsg,pver:n});return i.JsonUtil.jsonStringify(o)}},28823:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NewChangeCommandsType=void 0,function(e){e.JSON="JSON",e.BASE64="BASE64"}(n||(n={})),t.NewChangeCommandsType=n},12092:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_RETRY_COUNTS=t.DEFAULT_SEND_MESSAGE_TIMEOUT=void 0;t.DEFAULT_SEND_MESSAGE_TIMEOUT=25e3;t.DEFAULT_RETRY_COUNTS=3},96644:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2059:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},49143:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},35981:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},83356:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},73120:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(22855),i="big-collab",a=function(){function e(){}return e.prototype.loginRoomError=function(e){this.NeedToResetLastErrorCode(e)?this.resetLastErrorCode():(this.lastAttrName=e.attrName,this.reportToServer(r(r({},e),{source:"loginRoom"})))},e.prototype.commitError=function(e){this.NeedToResetLastErrorCode(e)?this.resetLastErrorCode():(this.lastAttrName=e.attrName,this.reportToServer(r(r({},e),{source:"commitError"})))},e.prototype.serverNotice=function(e){this.NeedToResetLastErrorCode(e)?this.resetLastErrorCode():(this.lastAttrName=e.attrName,this.reportToServer(r(r({},e),{source:"serverNotice"})))},e.prototype.shutDownReport=function(e){this.NeedToResetLastErrorCode(e)||e.attrName===this.lastAttrName?this.resetLastErrorCode():this.reportToServer(r(r({},e),{source:"shutDown"}))},e.prototype.reconnectReport=function(e){this.reportToServer(r(r({},e),{source:"reconnect",transports:i}))},e.prototype.retryRequestReport=function(e,t){this.reportToServer({attrName:e.name,module:t,errorMessage:e.message,status:1,source:"retryRequest",transports:i})},e.prototype.receiverParseError=function(e,t){this.reportToServer({attrName:"receiver-parse-error",module:t,errorMessage:e,status:1,source:"receiver-parse-error",transports:i})},e.prototype.reportSocketConnect=function(e){this.reportToServer(r(r({},e),{source:"socketConnect"}))},e.prototype.reportToServer=function(e){var t=e.module,n=void 0===t?"unkown":t,r=e.source,i=void 0===r?"":r,a=e.transports,s=void 0===a?"":a;o.zzsStatus({attrid:e.attrName,status:e.status,errmsg:e.errorMessage,dimensions:[n,i,s],project:"collab"})},e.prototype.resetLastErrorCode=function(){this.lastAttrName=""},e.prototype.NeedToResetLastErrorCode=function(e){return!(null==e?void 0:e.attrName)||"0"===(null==e?void 0:e.attrName)},e}();t.default=new a},14509:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_WMODE=t.TRANSPOET_MODE_MAP=t.DEFAULT_ATTEMPT_TRANSPORT_MODE=t.DEFAULT_TRANSPORT_MODE=t.WEBSOCKET_CONFIG=void 0;t.WEBSOCKET_CONFIG={reconnectMaxTimes:3,connectTimeout:5e3,reconnectionDelay:3e3,reconnectionDelayMax:5e3,randomizationFactor:1,pollingReopenCount:0,pollingAttemptCount:3};var n=["websocket"];t.DEFAULT_TRANSPORT_MODE=n;var r=["polling","websocket"];t.DEFAULT_ATTEMPT_TRANSPORT_MODE=r;var o=new Map([["w",n],["l",["polling"]],["b",r]]);t.TRANSPOET_MODE_MAP=o;t.DEFAULT_WMODE="ww"},74649:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(34854));o(n(14509),t),o(n(63873),t),t.default=a.default},63873:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},34854:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){"object"===(void 0===e?"undefined":o(e))&&(t=e,e=void 0),t=t||{};var n,r=i(e),a=r.source,l=r.id,f=r.path,d=u[l]&&f in u[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(c("ignoring socket cache for %s",a),n=s(a,t)):(u[l]||(c("new io instance for %s",a),u[l]=s(a,t)),n=u[l]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(7),s=n(12),c=n(3)("socket.io-client");e.exports=t=r;var u=t.managers={};t.protocol=a.protocol,t.connect=r,t.Manager=n(12),t.Socket=n(36)},function(e,t,n){"use strict";function r(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=o(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n}var o=n(2),i=n(3)("socket.io-client:url");e.exports=r},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,o=e.indexOf("["),i=e.indexOf("]");-1!=o&&-1!=i&&(e=e.substring(0,o)+e.substring(o,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=n.exec(e||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=o&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function c(){var e;try{e=t.storage.debug}catch(n){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}function u(){try{return window.localStorage}catch(e){}}(t=e.exports=n(5)).log=a,t.formatArgs=i,t.save=s,t.load=c,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:u(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(c())}).call(t,n(4))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!v){var e=o(a);v=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,v=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],v=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||v||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,i=r-(o||r);e.diff=i,e.prev=o,e.curr=r,o=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var i=a[c];n=o.call(e,i),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}var o;return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),n.destroy=i,"function"==typeof t.init&&t.init(n),t.instances.push(n),n}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function a(e){t.save(e),t.names=[],t.skips=[];var n,r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}}function s(){t.enable("")}function c(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}(t=e.exports=o.debug=o.default=o).coerce=u,t.disable=s,t.enable=a,t.enabled=c,t.humanize=n(6),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,u,"day")||i(e,c,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,u=24*c,l=365.25*u;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(){}function o(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var r=i(e.data);if(!1===r)return y;n+=r}return d("encoded %j as %s",e,n),n}function i(e){try{return JSON.stringify(e)}catch(t){return!1}}function a(e,t){function n(e){var n=h.deconstructPacket(e),r=o(n.packet),i=n.buffers;i.unshift(r),t(i)}h.removeBlobs(e,n)}function s(){this.reconstructor=null}function c(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return f("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var o="";"-"!==e.charAt(++n)&&(o+=e.charAt(n),n!=e.length););if(o!=Number(o)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(n+1))for(r.nsp="";++n&&","!==(a=e.charAt(n))&&(r.nsp+=a,n!==e.length););else r.nsp="/";var i=e.charAt(n+1);if(""!==i&&Number(i)==i){for(r.id="";++n;){var a;if(null==(a=e.charAt(n))||Number(a)!=a){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}if(e.charAt(++n)){var s=u(e.substr(n));if(!1===s||r.type!==t.ERROR&&!v(s))return f("invalid payload");r.data=s}return d("decoded %s as %j",e,r),r}function u(e){try{return JSON.parse(e)}catch(t){return!1}}function l(e){this.reconPack=e,this.buffers=[]}function f(e){return{type:t.ERROR,data:"parser error: "+e}}var d=n(3)("socket.io-parser"),p=n(8),h=n(9),v=n(10),g=n(11);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=s;var y=t.ERROR+'"encode error"';r.prototype.encode=function(e,n){d("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?a(e,n):n([o(e)])},p(s.prototype),s.prototype.add=function(e){var n;if("string"==typeof e)n=c(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new l(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!g(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){function r(e,t){if(!e)return e;if(a(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(i(e)){for(var o=new Array(e.length),s=0;s<e.length;s++)o[s]=r(e[s],t);return o}if("object"==typeof e&&!(e instanceof Date)){for(var c in o={},e)o[c]=r(e[c],t);return o}return e}function o(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(i(e))for(var n=0;n<e.length;n++)e[n]=o(e[n],t);else if("object"==typeof e)for(var r in e)e[r]=o(e[r],t);return e}var i=n(10),a=n(11),s=Object.prototype.toString,c="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),u="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,o=e;return o.data=r(n,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=o(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){function n(e,s,l){if(!e)return e;if(c&&e instanceof Blob||u&&e instanceof File){r++;var f=new FileReader;f.onload=function(){l?l[s]=this.result:o=this.result,--r||t(o)},f.readAsArrayBuffer(e)}else if(i(e))for(var d=0;d<e.length;d++)n(e[d],d,e);else if("object"==typeof e&&!a(e))for(var p in e)n(e[p],p,e)}var r=0,o=e;n(o),r||t(o)}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){function n(e){return r&&Buffer.isBuffer(e)||o&&(e instanceof ArrayBuffer||i(e))}e.exports=n;var r="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,o="function"==typeof ArrayBuffer,i=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"===(void 0===e?"undefined":o(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||c;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(13),a=n(36),s=n(8),c=n(7),u=n(38),l=n(39),f=n(3)("socket.io-client:manager"),d=n(35),p=n(40),h=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},s(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,t){if(f("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;f("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=u(n,"open",(function(){r.onopen(),e&&e()})),a=u(n,"error",(function(t){if(f("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;f("connect attempt will timeout after %d",s);var c=setTimeout((function(){f("connect attempt timed out after %d",s),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)}),s);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(a),this},r.prototype.onopen=function(){f("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",l(this,"ondata"))),this.subs.push(u(e,"ping",l(this,"onping"))),this.subs.push(u(e,"pong",l(this,"onpong"))),this.subs.push(u(e,"error",l(this,"onerror"))),this.subs.push(u(e,"close",l(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",l(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){f("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~d(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[e];if(!r){r=new a(this,e,t),this.nsps[e]=r;var o=this;r.on("connecting",n),r.on("connect",(function(){r.id=o.generateId(e)})),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=d(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){f("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){f("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){f("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){f("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)f("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();f("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(f("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(f("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(f("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(14),e.exports.parser=n(21)},function(e,t,n){function r(e,t){return this instanceof r?(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new r(e,t)}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=n(15),a=n(8),s=n(3)("engine.io-client:socket"),c=n(35),u=n(21),l=n(2),f=n(29);e.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=u.protocol,r.Socket=r,r.Transport=n(20),r.transports=n(15),r.parser=n(21),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=o(this.query);t.EIO=u.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},r.prototype.probe=function(e){function t(){if(d.onlyBinaryUpgrades){var t=!this.supportsBinary&&d.transport.supportsBinary;f=f||t}f||(s('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",(function(t){if(!f)if("pong"===t.type&&"probe"===t.data){if(s('probe transport "%s" pong',e),d.upgrading=!0,d.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"===l.name,s('pausing current transport "%s"',d.transport.name),d.transport.pause((function(){f||"closed"!==d.readyState&&(s("changing transport and sending upgrade packet"),u(),d.setTransport(l),l.send([{type:"upgrade"}]),d.emit("upgrade",l),l=null,d.upgrading=!1,d.flush())}))}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=l.name,d.emit("upgradeError",n)}})))}function n(){f||(f=!0,u(),l.close(),l=null)}function o(t){var r=new Error("probe error: "+t);r.transport=l.name,n(),s('probe transport "%s" failed because of error: %s',e,t),d.emit("upgradeError",r)}function i(){o("transport closed")}function a(){o("socket closed")}function c(e){l&&e.name!==l.name&&(s('"%s" works - aborting "%s"',e.name,l.name),n())}function u(){l.removeListener("open",t),l.removeListener("error",o),l.removeListener("close",i),d.removeListener("close",a),d.removeListener("upgrading",c)}s('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),f=!1,d=this;r.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",o),l.once("close",i),this.once("close",a),this.once("upgrading",c),l.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():e()})):this.upgrading?n():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~c(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t,n){function r(e){var t=!1,n=!1,r=!1!==e.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new o(e)&&!e.forceJSONP)return new i(e);if(!r)throw new Error("JSONP disabled");return new a(e)}var o=n(16),i=n(18),a=n(32),s=n(33);t.polling=r,t.websocket=s},function(e,t,n){var r=n(17);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(i){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(i){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){function r(){}function o(e){if(c.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var s=n(16),c=n(19),u=n(8),l=n(30),f=n(3)("engine.io-client:polling-xhr");if(e.exports=o,e.exports.Request=i,l(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new i(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",(function(e){o.onError("xhr post error",e)})),this.sendXhr=r},o.prototype.doPoll=function(){f("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},u(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),n=this;try{f("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(o){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(r){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError(t.status)}),0))},f("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout((function(){n.onError(o)}),0)}"undefined"!=typeof document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",a);else if("function"==typeof addEventListener){var d="onpagehide"in self?"pagehide":"unload";addEventListener(d,a,!1)}},function(e,t,n){function r(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=n(20),i=n(29),a=n(21),s=n(30),c=n(31),u=n(3)("engine.io-client:polling");e.exports=r;var l=null!=new(n(16))({xdomain:!1}).responseType;s(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){u("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--r||t()}))),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){u("pre-pause writing complete"),--r||t()})))}else t()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;u("polling got data %s",e);var n=function(e,n,r){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){u("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var o=n(21),i=n(8);e.exports=r,i(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){function r(e,n){return n("b"+t.packets[e.type]+e.data.data)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=m[e.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return r(a.buffer)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){t.encodePacket({type:e.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(e.data)}function a(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(y)return i(e,n,r);var o=new Uint8Array(1);return o[0]=m[e.type],r(new w([o.buffer,e.data]))}function s(e){try{e=h.decode(e,{strict:!1})}catch(t){return!1}return e}function c(e,t,n){for(var r=new Array(e.length),o=p(e.length,n),i=function(e,n,o){t(n,(function(t,n){r[e]=n,o(t,r)}))},a=0;a<e.length;a++)i(a,e[a],o)}var u,l=n(22),f=n(23),d=n(24),p=n(25),h=n(26);"undefined"!=typeof ArrayBuffer&&(u=n(27));var v="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),y=v||g;t.protocol=3;var m=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},_=l(m),b={type:"error",data:"parser error"},w=n(28);t.encodePacket=function(e,t,n,i){"function"==typeof t&&(i=t,t=!1),"function"==typeof n&&(i=n,n=null);var s=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer)return o(e,t,i);if(void 0!==w&&s instanceof w)return a(e,t,i);if(s&&s.base64)return r(e,i);var c=m[e.type];return void 0!==e.data&&(c+=n?h.encode(String(e.data),{strict:!1}):String(e.data)),i(""+c)},t.encodeBase64Packet=function(e,n){var r,o="b"+t.packets[e.type];if(void 0!==w&&e.data instanceof w){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];n(o+e)},i.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var s=new Uint8Array(e.data),c=new Array(s.length),u=0;u<s.length;u++)c[u]=s[u];r=String.fromCharCode.apply(null,c)}return o+=btoa(r),n(o)},t.decodePacket=function(e,n,r){if(void 0===e)return b;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=s(e)))return b;var o=e.charAt(0);return Number(o)==o&&_[o]?e.length>1?{type:_[o],data:e.substring(1)}:{type:_[o]}:b}o=new Uint8Array(e)[0];var i=d(e,1);return w&&"blob"===n&&(i=new w([i])),{type:_[o],data:i}},t.decodeBase64Packet=function(e,t){var n=_[e.charAt(0)];if(!u)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=u.decode(e.substr(1));return"blob"===t&&w&&(r=new w([r])),{type:n,data:r}},t.encodePayload=function(e,n,r){function o(e){return e.length+":"+e}function i(e,r){t.encodePacket(e,!!a&&n,!1,(function(e){r(null,o(e))}))}"function"==typeof n&&(r=n,n=null);var a=f(e);return n&&a?w&&!y?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void c(e,i,(function(e,t){return r(t.join(""))})):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===e)return r(b,0,1);for(var i,a,s="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"===l){if(""===s||s!=(i=Number(s)))return r(b,0,1);if(s!=(a=e.substr(c+1,i)).length)return r(b,0,1);if(a.length){if(o=t.decodePacket(a,n,!1),b.type===o.type&&b.data===o.data)return r(b,0,1);if(!1===r(o,c+i,u))return}c+=i,s=""}else s+=l}return""!==s?r(b,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}return e.length?void c(e,r,(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),o=new Uint8Array(r),i=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}o[i++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)o[i++]=parseInt(s[a]);for(o[i++]=255,r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]})),n(o.buffer)})):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,w){var s=new w([t.buffer,a.buffer,e]);n(null,s)}}))}c(e,r,(function(e,t){return n(new w(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var o=e,i=[];o.byteLength>0;){for(var a=new Uint8Array(o),s=0===a[0],c="",u=1;255!==a[u];u++){if(c.length>310)return r(b,0,1);c+=a[u]}o=d(o,2+c.length),c=parseInt(c);var l=d(o,0,c);if(s)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(f){var p=new Uint8Array(l);for(l="",u=0;u<p.length;u++)l+=String.fromCharCode(p[u])}i.push(l),o=d(o,c)}var h=i.length;i.forEach((function(e,o){r(t.decodePacket(e,n,!0),o,h)}))}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){function r(e){if(!e||"object"!=typeof e)return!1;if(o(e)){for(var t=0,n=e.length;t<n;t++)if(r(e[t]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||a&&e instanceof Blob||s&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return r(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&r(e[i]))return!0;return!1}var o=n(10),i=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);e.exports=r},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)i[s]=o[a];return i.buffer}},function(e,t){function n(e,t,n){function o(e,r){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=n):0!==o.count||i||t(null,r)}var i=!1;return n=n||r,o.count=e,0===e?t():o}function r(){}e.exports=n},function(e,t){function n(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function r(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=h((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=h(t);return o}function o(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function i(e,t){return h(e>>t&63|128)}function a(e,t){if(0==(4294967168&e))return h(e);var n="";return 0==(4294965248&e)?n=h(e>>6&31|192):0==(4294901760&e)?(o(e,t)||(e=65533),n=h(e>>12&15|224),n+=i(e,6)):0==(4292870144&e)&&(n=h(e>>18&7|240),n+=i(e,12),n+=i(e,6)),n+h(63&e|128)}function s(e,t){for(var r=!1!==(t=t||{}).strict,o=n(e),i=o.length,s=-1,c="";++s<i;)c+=a(o[s],r);return c}function c(){if(p>=d)throw Error("Invalid byte index");var e=255&f[p];if(p++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(e){var t,n;if(p>d)throw Error("Invalid byte index");if(p==d)return!1;if(t=255&f[p],p++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|c())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|c()<<6|c())>=2048)return o(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|c()<<12|c()<<6|c())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}function l(e,t){var o=!1!==(t=t||{}).strict;f=n(e),d=f.length,p=0;for(var i,a=[];!1!==(i=u(o));)a.push(i);return r(a)}var f,d,p,h=String.fromCharCode;e.exports={version:"2.1.2",encode:s,decode:l}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,r,o,i,a,s=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],f[u++]=r<<2|o>>4,f[u++]=(15&o)<<4|i>>2,f[u++]=(3&i)<<6|63&a;return l}}()},function(e,t){function n(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function r(e,t){t=t||{};var r=new i;return n(e).forEach((function(e){r.append(e)})),t.type?r.getBlob(t.type):r.getBlob()}function o(e,t){return new Blob(n(e),t||{})}var i=void 0!==i?i:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),s=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;"undefined"!=typeof Blob&&(r.prototype=Blob.prototype,o.prototype=Blob.prototype),e.exports=a?s?Blob:o:c?r:void 0},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";function n(e){var t="";do{t=a[e%s]+t,e=Math.floor(e/s)}while(e>0);return t}function r(e){var t=0;for(l=0;l<e.length;l++)t=t*s+c[e.charAt(l)];return t}function o(){var e=n(+new Date);return e!==i?(u=0,i=e):e+"."+n(u++)}for(var i,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,c={},u=0,l=0;l<s;l++)c[a[l]]=l;o.encode=n,o.decode=r,e.exports=o},function(e,t,n){(function(t){function r(){}function o(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{}}function i(e){if(a.call(this,e),this.query=this.query||{},!c){var t=o();c=t.___eio=t.___eio||[]}this.index=c.length;var n=this;c.push((function(e){n.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=r)}),!1)}var a=n(19),s=n(30);e.exports=i;var c,u=/\n/g,l=/\\n/g;s(i,a),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),a.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},i.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(e){(i=document.createElement("iframe")).name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,a=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=c,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(l,"\\\n"),this.area.value=e.replace(u,"\\n");try{this.form.submit()}catch(f){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=o&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=i),a.call(this,e)}var o,i,a=n(20),s=n(21),c=n(29),u=n(30),l=n(31),f=n(3)("engine.io-client:websocket");if("undefined"==typeof self)try{i=n(34)}catch(p){}else o=self.WebSocket||self.MozWebSocket;var d=o||i;e.exports=r,u(r,a),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(t){t&&window.log&&window.log.info&&window.log.info("ConnectionLog socket.io onclose code:"+t.code+", reason:"+t.reason+",wasClean:"+t.wasClean),e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){function t(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}var n=this;this.writable=!1;for(var r=e.length,o=0,i=r;o<i;o++)!function(e){s.encodePacket(e,n.supportsBinary,(function(o){if(!n.usingBrowserWebSocket){var i={};e.options&&(i.compress=e.options.compress),n.perMessageDeflate&&("string"==typeof o?Buffer.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,i)}catch(s){f("websocket closed before onclose event")}--r||t()}))}(e[o])},r.prototype.onClose=function(){a.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=c.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===r.prototype.name)}},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){"use strict";function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(7),a=n(8),s=n(37),c=n(38),u=n(39),l=n(3)("socket.io-client:socket"),f=n(29),d=n(23);e.exports=r;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=a.prototype.emit;a(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[c(e,"open",u(this,"onopen")),c(e,"packet",u(this,"onpacket")),c(e,"close",u(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},r.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(p.hasOwnProperty(e))return h.apply(this,arguments),this;var t=s(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:d(t))?i.BINARY_EVENT:i.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===o(this.query)?f.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},r.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===i.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);l("sending ack %j",r),t.packet({type:d(r)?i.BINARY_ACK:i.ACK,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags.compress=e,this},r.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){function n(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=n},function(e,t){"use strict";function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=n},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}])},48924:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isWebOffice=t.appConfigInstance=void 0;var o=r(n(34405));t.appConfigInstance=o.default.getInstance(),t.isWebOffice=["weboffice","paas-weboffice"].includes(t.appConfigInstance.getConfig("domain"))},91389:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getDecodeURIComponentValue=t.getCookieForMessage=t.Cookie=void 0;var r=function(e){try{return decodeURIComponent(e)}catch(t){return e}};t.getDecodeURIComponentValue=r;var o={get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?r(t[2]):""},getXsrf:function(){return o.get("TOK")||""}};t.Cookie=o;t.getCookieForMessage=function(){return document.cookie.split(";").map((function(e){var t=n(/(\w+)=(.*)/.exec(e.trim())||[],3),o=t[0],i=t[1],a=t[2];return i?i+"="+r(a):o})).join(";")}},11770:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageHead=void 0;var r=n(91389),o=n(37866);t.createMessageHead=function(e,t){var n,i,a=t.baseRev,s=t.taskId,c=t.command,u=t.additionalFieldsToHead,l=t.getHeaderGeneralPacket,f=e.serverVars,d=e.nowUserIndex,p=(e.config,Number(e.userid.startsWith("g"))),h={type:c,uid:e.uid||e.userid.replace("p.","").replace("g.",""),task_id:s,session_type:p,u:null!=d?d:window.nowUserIndex,base_rev:a,generalpacket:l,apid:f.apid,docid:f.globalPadId,code_ver:null!==(n=f.pver)&&void 0!==n?n:0,gray:null!==(i=f.gray)&&void 0!==i?i:0,dver:f.dver,docs_type:f.padType,wl:r.Cookie.get("wl"),cookie:r.getCookieForMessage()};return h=Object.assign(null!=u?u:{},h),o.JsonUtil.jsonStringify(h)}},69318:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(91389),t),o(n(57867),t),o(n(12924),t),o(n(37866),t),o(n(11770),t),o(n(33542),t),o(n(1669),t),o(n(36338),t),o(n(48924),t)},1669:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInvalidWaitAcceptCmd=t.isInvalidMessage=void 0;var n=function(e){var t;return!(!e.onsendAccept||(null===(t=e.customParam)||void 0===t?void 0:t.waitAcceptCmd)&&"[object Array]"===Object.prototype.toString.call(e.customParam.waitAcceptCmd)&&0!==e.customParam.waitAcceptCmd.length)};t.isInvalidWaitAcceptCmd=n;t.isInvalidMessage=function(e){return function(e){return"USER_CHANGES"===e.cmd&&!e.onsendAccept}(e)||n(e)}},37866:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonUtil=void 0;var r=n(57867),o=function(){function e(){}return e.parseJson=function(e){var t;try{t=JSON.parse(e)}catch(n){r.ConnectionLog.error("parseJson: error = "+n+".")}return t},e.jsonStringify=function(e){var t="";try{t=JSON.stringify(e)}catch(n){r.ConnectionLog.error("jsonStringify: error = "+n+".")}return t},e}();t.JsonUtil=o},57867:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initLogAndManager=t.ConnectionLog=void 0;var n={ConnectionLogModule:"ConnectionLog",liteReconnects:0,needSaveLog:function(){return n.liteReconnects<5},debug:function(){},info:function(){},warn:function(){},error:function(){}};t.ConnectionLog=n,t.initLogAndManager=function(e){e&&(n.debug=function(t){var r;n.needSaveLog()&&(null===(r=e.debug)||void 0===r||r.call(e,n.ConnectionLogModule,t))},n.info=function(t){var r;n.needSaveLog()&&(null===(r=e.info)||void 0===r||r.call(e,n.ConnectionLogModule,t))},n.warn=function(t){var r;n.needSaveLog()&&(null===(r=e.warn)||void 0===r||r.call(e,n.ConnectionLogModule,t))},n.error=function(t){var r;n.needSaveLog()&&(null===(r=e.error)||void 0===r||r.call(e,n.ConnectionLogModule,t))})}},30837:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RequestBackOff=void 0;var i=n(85854),a=function(e){function t(){return e.call(this,0)||this}return o(t,e),t.prototype.next=function(e){var t=e.result,n=e.attempt;if(t&&"error"in t)return t.error.code===i.REQUEST_ERROR_CODE.timeout?(this.duration=0,this):(this.duration=1e3*Math.min(2*n,30),this)},t}(i.BaseBackoff);t.RequestBackOff=a},33542:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var a=n(85854),s=n(69318),c=n(95854),u=n(63830),l=n(30837),f=a.createNetworkRequestInstance(),d=function(e){var t,n,r=null!==(t=e.code)&&void 0!==t?t:"";return!![a.REQUEST_ERROR_CODE.network,a.REQUEST_ERROR_CODE.timeout].includes(r)||200!==(null===(n=e.response)||void 0===n?void 0:n.status)},p=function(){function e(){}return e.prototype.sendRequest=function(e,t,n,a){return o(this,void 0,void 0,(function(){var o,p,h,v;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),o=void 0,p=new l.RequestBackOff,h=r(r({},a),{errorFilter:d,backoffFactory:p}),t!==c.Method.GET?[3,2]:[4,f.get(e,h)];case 1:return o=i.sent(),[3,4];case 2:return[4,f.post(e,n,h)];case 3:o=i.sent(),i.label=4;case 4:return[2,new u.Result(void 0,o)];case 5:return v=i.sent(),s.ConnectionLog.error("Request Failed, url:"+e+", stack: "+(null==v?void 0:v.stack)+", message: "+(null==v?void 0:v.message)+", code: "+(null==v?void 0:v.code)),[2,new u.Result(v)];case 6:return[2]}}))}))},e.prototype.sendBeacon=function(e,t,n){try{var r=null!=n?n:u.ContentTypeValue.JSON,o=new Blob([s.JsonUtil.jsonStringify(t)],{type:r});return navigator.sendBeacon(e,o)}catch(i){return s.ConnectionLog.error("sendBeacon Failed, url:"+e+", stack: "+(null==i?void 0:i.stack)+", message: "+(null==i?void 0:i.message)+", code: "+(null==i?void 0:i.code)),!1}},e}();t.Request=p},12924:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMessageTaskId=t.generateUuid=void 0;t.generateUuid=function(e,t){return t?e+t.slice(0,5):e};t.generateMessageTaskId=function(){return Math.ceil(0x4189374bc6a7f0*Math.random())}},36338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getURLParam=t.getHashValue=t.getQuery=void 0;t.getQuery=function(e,t){var r=function(e){return"string"==typeof e?e:e.search}(t||n.g.location||"").match(new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"));return r?decodeURIComponent(r[2]):""};t.getHashValue=function(e){var t,r=n.g.location||"",o=(t=r,t.hash||"").match(new RegExp("(#|&)"+e+"=([^&]*)(#|&|$)"));return o?decodeURIComponent(o[2]):""},t.getURLParam=function(e){return t.getHashValue(e)||t.getQuery(e)}},37877:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(36062),t),o(n(95536),t),o(n(50402),t),o(n(43633),t),o(n(45650),t),o(n(56195),t),o(n(14509),t),o(n(94415),t)},36062:function(e,t){"use strict";var n,r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageState=t.MessageWaitAcceptCmd=t.MessageResultEvent=t.RoomState=void 0,function(e){e.INIT="INIT",e.CONNECTING="CONNECTING",e.OPENED="OPENED",e.RECONNECTING_IN_CLOSED="RECONNECTING_In_CLOSED",e.SHUTDOWN="SHUTDOWN"}(n||(n={})),t.RoomState=n,function(e){e.ON_POST="onpost",e.NET_STATUS_CHANGE="netStatusChange",e.ON_SEND_ACCEPT="onsendAccept"}(r||(r={})),t.MessageResultEvent=r,function(e){e.ACCEPT_COMMIT="ACCEPT_COMMIT",e.COMMIT_ERROR="COMMIT_ERROR",e.TASK_DUPLICATE="TASK_DUPLICATE"}(o||(o={})),t.MessageWaitAcceptCmd=o,function(e){e.UNKNOWN="unknown",e.SENDING="sending",e.WAITING="waiting",e.WAIT_ACCEPT="waitAccept"}(i||(i={})),t.MessageState=i},45650:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.NEED_RECONNECT_ERRCODES=t.NOT_NEED_TO_HANDLE_ERRCODES=t.SERVER_SUCCESS_CODES=t.NEED_RETRY_ERRCODES=t.RoomWebsocketErrorCode=t.RoomErrorCode=void 0,function(e){e[e.SUCCESS=0]="SUCCESS",e[e.TIMEOUT=101]="TIMEOUT",e[e.PARA_ERROR=102]="PARA_ERROR",e[e.EXIST=103]="EXIST",e[e.ROOM_DISCONNECT=104]="ROOM_DISCONNECT",e[e.ROOM_CLOSE=105]="ROOM_CLOSE",e[e.ROOM_STATE_ERR=106]="ROOM_STATE_ERR",e[e.ROOM_SHUTDOWN=107]="ROOM_SHUTDOWN",e[e.STATUS_ERR=108]="STATUS_ERR",e[e.BIG_COLLAB_CONNECT_TIMEOUT=109]="BIG_COLLAB_CONNECT_TIMEOUT"}(n||(n={})),t.RoomErrorCode=n,function(e){e[e.SOCKET_SERVER_SUCCESS=0]="SOCKET_SERVER_SUCCESS",e[e.SOCKET_DATA_SERVER_UNKNOWN_ERROR=1e4]="SOCKET_DATA_SERVER_UNKNOWN_ERROR",e[e.SOCKET_DATA_PROTOCOL_FIELD_LACK=10001]="SOCKET_DATA_PROTOCOL_FIELD_LACK",e[e.SOCKET_DATA_SERVER_ERROR=4e4]="SOCKET_DATA_SERVER_ERROR",e[e.SOCKET_DATA_DOC_NOT_EXIST=40001]="SOCKET_DATA_DOC_NOT_EXIST",e[e.SOCKET_DATA_SUBID_ERROR=40002]="SOCKET_DATA_SUBID_ERROR",e[e.SOCKET_DATA_ACTION_LENGTH=40003]="SOCKET_DATA_ACTION_LENGTH",e[e.SOCKET_DATA_CHANGESET_EASYSYNC=40005]="SOCKET_DATA_CHANGESET_EASYSYNC",e[e.SOCKET_DATA_SAVE_FAIL=40006]="SOCKET_DATA_SAVE_FAIL",e[e.SOCKET_DATA_READ_FAIL=40020]="SOCKET_DATA_READ_FAIL",e[e.SOCKET_DATA_BASEREV_ERROR=40021]="SOCKET_DATA_BASEREV_ERROR",e[e.SOCKET_DATA_NOT_SUPPORTED_TYPE=40022]="SOCKET_DATA_NOT_SUPPORTED_TYPE",e[e.SOCKET_DATA_NOT_SUPPORTED_PROTO=40023]="SOCKET_DATA_NOT_SUPPORTED_PROTO",e[e.SOCKET_GRAY_VERSION_INCONFORMITY=40024]="SOCKET_GRAY_VERSION_INCONFORMITY",e[e.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT=40025]="SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT",e[e.SOCKET_DATA_CONTENT_LIMIT=40026]="SOCKET_DATA_CONTENT_LIMIT",e[e.SOCKET_DATA_REV_DIFF_UPPER_TEN=40027]="SOCKET_DATA_REV_DIFF_UPPER_TEN",e[e.SOCKET_DATA_EASYSYNC_TIMEOUT=40028]="SOCKET_DATA_EASYSYNC_TIMEOUT",e[e.SOCKET_CLIENT_VERSION_TOO_OLD=40029]="SOCKET_CLIENT_VERSION_TOO_OLD",e[e.SOCKET_JS_TOO_OLD=40030]="SOCKET_JS_TOO_OLD",e[e.SOCKET_NOT_CONFILCT_TO_COMMIT=40031]="SOCKET_NOT_CONFILCT_TO_COMMIT",e[e.SOCKET_COMMIT_QUEUE_NORMAL_LOCK=40032]="SOCKET_COMMIT_QUEUE_NORMAL_LOCK",e[e.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK=40033]="SOCKET_COMMIT_QUEUE_OFFLINE_LOCK",e[e.SOCKET_COMMIT_DVER_INCONFORMITY=40034]="SOCKET_COMMIT_DVER_INCONFORMITY",e[e.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR=40035]="SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR",e[e.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR=40036]="SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR",e[e.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR=40037]="SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR",e[e.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION=40038]="SOCKET_WEB_VERSION_GREATER_SERVER_VERSION",e[e.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT=40039]="SOCKET_SHEET_ROW_COL_NUMBER_LIIMT",e[e.SOCKET_DATA_DOCID_ERROR=41001]="SOCKET_DATA_DOCID_ERROR",e[e.SOCKET_DATA_PROTOCOL_TYPE_ERROR=41002]="SOCKET_DATA_PROTOCOL_TYPE_ERROR",e[e.COMMIT_CHANGES_CONTAIN_REVERT=50095]="COMMIT_CHANGES_CONTAIN_REVERT",e[e.SOCKET_SERVER_ERROR=6e4]="SOCKET_SERVER_ERROR",e[e.SOCKET_LAYER_ERROR=60001]="SOCKET_LAYER_ERROR",e[e.SOCKET_CLIENT_NOT_READY_ERROR=60002]="SOCKET_CLIENT_NOT_READY_ERROR",e[e.SOCKET_CLIENT_DATA_ERROR=60003]="SOCKET_CLIENT_DATA_ERROR",e[e.SOCKET_COLLAB_ROOM_TIMEOUT=60004]="SOCKET_COLLAB_ROOM_TIMEOUT",e[e.SOCKET_COLLAB_SERVER_TIMEOUT=60005]="SOCKET_COLLAB_SERVER_TIMEOUT",e[e.SOCKET_USER_AUTH_FAILED=60006]="SOCKET_USER_AUTH_FAILED",e[e.SOCKET_DOC_PRIVILEGE_FAILED=60007]="SOCKET_DOC_PRIVILEGE_FAILED",e[e.SOCKET_PACKAGE_SIZE_TOO_LARGE=60008]="SOCKET_PACKAGE_SIZE_TOO_LARGE",e[e.SOCKET_COLLAB_ROOM_ALREADY_EXIST=60009]="SOCKET_COLLAB_ROOM_ALREADY_EXIST",e[e.SOCKET_COLLAB_ROOM_MEMBER_FULL=60010]="SOCKET_COLLAB_ROOM_MEMBER_FULL",e[e.SOCKET_SERVER_STORAGE_TIMEOUT=60011]="SOCKET_SERVER_STORAGE_TIMEOUT",e[e.SOCKET_SERVER_CGI_TIMEOUT=60013]="SOCKET_SERVER_CGI_TIMEOUT",e[e.SOCKET_FREQUENCY_LIMIT=60014]="SOCKET_FREQUENCY_LIMIT",e[e.SOCKET_USER_DOC_NOPRIVILEGE=60015]="SOCKET_USER_DOC_NOPRIVILEGE",e[e.SOCKET_USER_CHANGE_PARAM_ERROR=60016]="SOCKET_USER_CHANGE_PARAM_ERROR",e[e.SOCKET_COMMAND_NOT_SUPPORTED=60017]="SOCKET_COMMAND_NOT_SUPPORTED",e[e.SOCKET_HACKPAD_TIMEOUT=60018]="SOCKET_HACKPAD_TIMEOUT",e[e.SOCKET_SERVER_WAITTING_TOO_LONG=60019]="SOCKET_SERVER_WAITTING_TOO_LONG",e[e.SOCKET_SERVER_WAITTING_TIMEOUT=60020]="SOCKET_SERVER_WAITTING_TIMEOUT",e[e.SOCKET_AUTH_TIMEOUT=60021]="SOCKET_AUTH_TIMEOUT",e[e.SOCKET_GET_PRIVILEGE_TIMEOUT=60022]="SOCKET_GET_PRIVILEGE_TIMEOUT",e[e.SOCKET_IP_BLACK_LIST=60030]="SOCKET_IP_BLACK_LIST",e[e.SOCKET_USER_BLACK_LIST=60031]="SOCKET_USER_BLACK_LIST",e[e.SOCKET_DOCMENT_BLACK_LIST=60032]="SOCKET_DOCMENT_BLACK_LIST",e[e.SOCKET_USERAGENT_BLACK_LIST=60033]="SOCKET_USERAGENT_BLACK_LIST",e[e.SOCKET_SWITCH_BIG_COLLAB=60034]="SOCKET_SWITCH_BIG_COLLAB",e[e.EXIT_BIG_COLLAB=60035]="EXIT_BIG_COLLAB",e[e.CLIENT_NOT_EXIST=62e3]="CLIENT_NOT_EXIST",e[e.WRITER_IS_EXIST=62001]="WRITER_IS_EXIST",e[e.SOCKET_UNKNOWN_ERROR=-1]="SOCKET_UNKNOWN_ERROR",e[e.SOCKET_COLLABROOM_GET_VIP_FAIL=7e4]="SOCKET_COLLABROOM_GET_VIP_FAIL",e[e.SOCKET_COLLABROOM_NOT_VIP_FULL=70001]="SOCKET_COLLABROOM_NOT_VIP_FULL",e[e.SOCKET_COLLABROOM_DOC_DELETED=70002]="SOCKET_COLLABROOM_DOC_DELETED",e[e.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN=1000001]="ROOM_WEBSOCKET_DISPOSE_SHUTDOWN",e[e.INACTIVE=1000002]="INACTIVE",e[e.CODEREV_NEW=1000003]="CODEREV_NEW",e[e.SOCKET_SEND_MESSAGE_TIMEOUT=1000004]="SOCKET_SEND_MESSAGE_TIMEOUT",e[e.LOGIN_INVALIDATE=1000005]="LOGIN_INVALIDATE",e[e.LOGIN_FORBIDDEN=1000006]="LOGIN_FORBIDDEN"}(r||(r={})),t.RoomWebsocketErrorCode=r;var o=[r.SOCKET_COLLAB_ROOM_TIMEOUT,r.SOCKET_COLLAB_SERVER_TIMEOUT,r.SOCKET_SERVER_STORAGE_TIMEOUT,r.SOCKET_SERVER_CGI_TIMEOUT,r.SOCKET_FREQUENCY_LIMIT,r.SOCKET_LAYER_ERROR,r.SOCKET_CLIENT_NOT_READY_ERROR,r.SOCKET_COLLAB_ROOM_MEMBER_FULL];t.NEED_RETRY_ERRCODES=o;var i=[r.SOCKET_SERVER_SUCCESS,r.SOCKET_COLLAB_ROOM_ALREADY_EXIST];t.SERVER_SUCCESS_CODES=i;var a=[r.WRITER_IS_EXIST];t.NOT_NEED_TO_HANDLE_ERRCODES=a;var s=[r.CLIENT_NOT_EXIST,r.SOCKET_USER_AUTH_FAILED,r.SOCKET_DOC_PRIVILEGE_FAILED];t.NEED_RECONNECT_ERRCODES=s},84357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomHeartBeat=void 0;var r=n(69318),o=n(36062),i=function(){function e(e,t,n){this.heartBeatInterval=15e3,this.messageSender=e,this.channelOption=t,this.roomStatusDependency=n}return e.prototype.dispose=function(){this.clearHeartBeatTimer()},e.prototype.startHeartBeatOnTimer=function(e){var t=this;e&&e!==this.heartBeatInterval&&(this.heartBeatInterval=e),this.heartBeatTimer||(this.heartBeatTimer=setTimeout((function(){t.sendHeartBeat()}),this.heartBeatInterval))},e.prototype.onHeartBeatResponse=function(e,t){var n,r,o,i;this.heartBeatCount=0;var a=(null===(n=null==t?void 0:t.onpost)||void 0===n?void 0:n.heartbeat_interval)||this.heartBeatInterval;this.startHeartBeatOnTimer(a),(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.common)&&(null===(i=(o=this.roomStatusDependency).heartBeatCommon)||void 0===i||i.call(o,t.data.common))},e.prototype.resetHeartBeat=function(){this.clearHeartBeatTimer(),this.heartBeatCount=0,this.heartBeatInterval=15e3},e.prototype.clearHeartBeatTimer=function(){this.heartBeatTimer&&(clearTimeout(this.heartBeatTimer),this.heartBeatTimer=0)},e.prototype.sendHeartBeat=function(){var e;this.clearHeartBeatTimer();var t=null===(e=this.roomStatusDependency)||void 0===e?void 0:e.getRoomState();if(t===o.RoomState.OPENED&&this.messageSender){if(this.heartBeatCount>0&&r.ConnectionLog.warn("sendHeartBeat: heart beat count over 1, count = "+this.heartBeatCount),this.heartBeatCount>3)return r.ConnectionLog.warn("sendHeartBeat: max heart beat count reached, the connection will be close."),void this.messageSender.closeAndDelayReopen({reason:"closed by heart beat error.",shutDown:!1},0);this.heartBeatCount+=1;var n=r.JsonUtil.jsonStringify(this.heartBeatHead)+"\n";this.messageSender.postMessageWithWebsocket(n),this.startHeartBeatOnTimer(this.heartBeatInterval)}else r.ConnectionLog.warn("sendHeartBeat: room state error, state = "+t)},Object.defineProperty(e.prototype,"heartBeatHead",{get:function(){var e,t,n={type:"HEART_BEAT",task_id:r.generateMessageTaskId(),docid:this.channelOption.globalPadId,uid:this.channelOption.uid||this.channelOption.userId.replace("p.","").replace("g.","")};return Object.assign(null!==(t=null===(e=this.channelOption.config)||void 0===e?void 0:e.heartBeatAdditionalHead)&&void 0!==t?t:{},n)},enumerable:!1,configurable:!0}),e}();t.RoomHeartBeat=i},38596:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomLogin=void 0;var o=n(69318),i=n(43633),a=n(36062),s=n(45650),c=r(n(73120)),u=[s.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT,s.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT,s.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT,s.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT,s.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT,s.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT],l=[s.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR,s.RoomWebsocketErrorCode.SOCKET_CLIENT_NOT_READY_ERROR],f=function(){function e(e,t,n){this.loginCount=0,this.delayLoginTimer=0,this.loginSeq=0,this.loginTimeout=0,this.loginTime=0,this.messageSender=e,this.channelOption=t,this.roomStatusDependency=n}return e.prototype.dispose=function(){this.resetLoginAll()},e.prototype.login=function(){this.isConnected()?this.loginInternal():o.ConnectionLog.info("loginRoom: not connected!")},e.prototype.resetLoginAll=function(){this.resetServerErrorInfo(),this.resetLogin()},e.prototype.resetServerErrorInfo=function(){this.serverErrorInfo=void 0},e.prototype.resetLogin=function(){var e;(null===(e=this.serverErrorInfo)||void 0===e?void 0:e.preventResetLoginCount)||(this.loginCount=0),this.loginSeq=0,this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0),this.delayLoginTimer&&(clearTimeout(this.delayLoginTimer),this.delayLoginTimer=0)},e.prototype.onLoginResponse=function(e,t){if("CLIENT_READY"===e.type){var n={errCode:s.RoomErrorCode.SUCCESS,errMsg:"",response:t};this.handleLoginResponse(e.task_id,e.type,n)}},e.prototype.isConnected=function(){return this.messageSender.isConnected()},e.prototype.loginInternal=function(){var e,t,n,r,a=this;this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0),this.loginCount+=1,this.loginSeq=o.generateMessageTaskId();var c={roomType:"padpage",roomName:"padpage/"+this.channelOption.globalPadId,upid:null!==(e=this.channelOption.upid)&&void 0!==e?e:"",gid:this.channelOption.globalPadId,sid:this.channelOption.sid,tid:this.channelOption.tid,sig:this.channelOption.sig,data:{stats:this.getStats()}};o.ConnectionLog.info("loginRoom: CLIENT_READY, taskId: "+this.loginSeq);var u=null!==(n=null===(t=this.channelOption.config)||void 0===t?void 0:t.customLoginMsgOptions)&&void 0!==n?n:c;this.loginPostData=this.messageSender.createPostData("CLIENT_READY",this.loginSeq,o.JsonUtil.jsonStringify(u),null===(r=this.channelOption.config)||void 0===r?void 0:r.loginAdditionalHead),this.messageSender.postMessageWithWebsocket(this.loginPostData),this.loginTime=i.RoomUtil.getCurrentTime(),this.loginTimeout=setTimeout((function(){o.ConnectionLog.warn("loginRoom: time out, seq = "+a.loginSeq);var e={errCode:s.RoomErrorCode.TIMEOUT,errMsg:"login room time out."};a.handleLoginResponse(a.loginSeq,"CLIENT_READY",e)}),3e3)},e.prototype.handleLoginResponse=function(e,t,n){this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0);var r={errCode:0,errMsg:"",event:a.MessageResultEvent.ON_POST,needRetry:!1};if(this.checkLoginResult(n)?(this.roomStatusDependency.notifyRoomOpened(n),r.errCode=n.response.onpost.result,this.resetLoginAll()):this.handleLoginResponseFail(n,r),0!==r.errCode){r.errMsg=i.RoomUtil.getWebsocketChannelErrorMessage(r.errCode);var o={module:this.channelOption.module,cmd:"CLIENT_READY",attrName:String(n.errCode||n.response.onpost.result),status:1,errorMessage:r.errMsg};c.default.loginRoomError(o)}},e.prototype.checkLoginResult=function(e){var t,n;return 0===e.errCode&&(0===(null===(n=null===(t=e.response)||void 0===t?void 0:t.onpost)||void 0===n?void 0:n.result)||e.response.onpost.result===s.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_ALREADY_EXIST)},e.prototype.handleLoginResponseFail=function(e,t){0!==e.errCode?(o.ConnectionLog.info("handleLoginFailed: client error, code = "+e.errCode+"."),this.loginCount>=3?(o.ConnectionLog.info("handleLoginFailed: login count = "+this.loginCount+"."),this.resetLogin(),this.messageSender.closeAndDelayReopen({reason:i.RoomUtil.getWebsocketChannelErrorMessage(e.errCode),shutDown:!1},0),t.needRetry=!1):(this.delayLogin(1500),t.needRetry=!0),t.errCode=e.errCode,t.event=a.MessageResultEvent.NET_STATUS_CHANGE):this.handleLoginResponseServerFail(e,t)},e.prototype.handleLoginResponseServerFail=function(e,t){var n=e.response.onpost.result;t.errCode=n;var r={errCode:n,reason:i.RoomUtil.getWebsocketChannelErrorMessage(n,"login failed."),shutDown:!1};if(o.ConnectionLog.info("handleLoginResponseSvrFail: errCode = "+n),this.updateServerErrorInfo(n),this.loginCount<3){if(u.includes(n))return this.handleLoginRetry(e,t);if(l.includes(n))return this.messageSender.closeAndDelayReopen(r,0)}this.shutdownByServerFailure(r,t)},e.prototype.shutdownByServerFailure=function(e,t){this.resetLoginAll(),e.shutDown=!0,this.messageSender.shutDown(e),t.needRetry=!1},e.prototype.handleLoginRetry=function(e,t){var n,r,o,a=e.response.onpost.result,c={errCode:a,reason:i.RoomUtil.getWebsocketChannelErrorMessage(a,"login failed."),shutDown:!1};if(this.loginCount>=3)this.resetLogin(),a===s.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT&&this.messageSender.closeAndDelayReopen(c,0),t.needRetry=!1;else{var u=null!==(o=null===(r=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.onpost)||void 0===r?void 0:r.retry_interval)&&void 0!==o?o:this.delayLoginTime;this.delayLogin(u),t.needRetry=!0}},e.prototype.updateServerErrorInfo=function(e){var t;(null===(t=this.serverErrorInfo)||void 0===t?void 0:t.preErrorCode)===e?this.serverErrorInfo.preventResetLoginCount=!0:(this.serverErrorInfo={preErrorCode:e,preventResetLoginCount:!1},this.loginCount=0)},e.prototype.delayLogin=function(e){var t=this;this.delayLoginTimer=setTimeout((function(){t.login()}),e)},e.prototype.getStats=function(){return{screen:""}},e}();t.RoomLogin=f},26022:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomStatus=void 0;var r=n(38596),o=n(84357),i=n(69318),a=n(36062),s=function(){function e(e,t,n){this.roomState=a.RoomState.INIT,this.channelOption=t,this.connectionControllerDependency=n,this.messageSender=e,this.roomLogin=new r.RoomLogin(e,t,this),this.roomHeartBeat=new o.RoomHeartBeat(e,this.channelOption,this)}return Object.defineProperty(e.prototype,"state",{get:function(){return this.roomState},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.roomState=a.RoomState.INIT,this.roomHeartBeat.dispose(),this.roomLogin.dispose()},e.prototype.openRoom=function(){this.checkRoomState()&&(this.messageSender.openWebsocketConnection(),this.roomState===a.RoomState.INIT?this.setRoomState(a.RoomState.CONNECTING):this.setRoomState(a.RoomState.RECONNECTING_IN_CLOSED))},e.prototype.onRoomClosed=function(e){e.shutDown?this.handleShutDown(e):this.handleRoomClose(e)},e.prototype.loginRoom=function(){this.roomLogin.login()},e.prototype.resetLogin=function(){this.roomLogin.resetLogin()},e.prototype.onLoginResponse=function(e,t){this.roomLogin.onLoginResponse(e,t)},e.prototype.resetHeartBeat=function(){this.roomHeartBeat.resetHeartBeat()},e.prototype.onHeartBeatResponse=function(e,t){this.roomHeartBeat.onHeartBeatResponse(e,t)},e.prototype.roomStateReconnecting=function(){this.setRoomState(a.RoomState.CONNECTING)},e.prototype.getRoomState=function(){return this.state},e.prototype.notifyRoomOpened=function(e){this.setRoomState(a.RoomState.OPENED),this.resetLogin(),this.roomHeartBeat.resetHeartBeat();var t=e.response;this.roomHeartBeat.startHeartBeatOnTimer(t.onpost.heartbeat_interval),this.messageSender.startMessageSending(),this.messageSender.notifyRoomOpened(),this.connectionControllerDependency.connected()},e.prototype.checkRoomState=function(){return this.state!==a.RoomState.OPENED&&this.state!==a.RoomState.SHUTDOWN||(i.ConnectionLog.warn("checkRoomState:state is "+this.state+"!"),!1)},e.prototype.setRoomState=function(e,t){void 0===t&&(t=""),e!==this.roomState&&(this.roomState=e,i.ConnectionLog.info("setRoomState:set new state = "+e),this.connectionControllerDependency.connectedStateChange(this.roomState,t))},e.prototype.handleShutDown=function(e){var t=this.roomState;this.setRoomState(a.RoomState.SHUTDOWN,e.reason),t!==a.RoomState.SHUTDOWN&&this.connectionControllerDependency.disconnect(e)},e.prototype.handleRoomClose=function(e){var t=this.roomState;this.setRoomState(a.RoomState.RECONNECTING_IN_CLOSED,e.reason),t!==a.RoomState.RECONNECTING_IN_CLOSED&&this.connectionControllerDependency.disconnect(e)},e.prototype.heartBeatCommon=function(e){var t,n;null===(n=(t=this.connectionControllerDependency).heartBeatCommon)||void 0===n||n.call(t,e)},e}();t.RoomStatus=s},43633:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.RoomUtil=void 0;var o=n(37877),i=n(45650),a=((r={})[i.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR]="Server internal error, code = "+i.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR]="Connection not exist, code = "+i.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED]="TX-LOGIN-PSKEY-EXPIRED 登录态校验失败, code = "+i.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED,r[i.RoomWebsocketErrorCode.SOCKET_CLIENT_DATA_ERROR]="请求数据出错, code = "+i.RoomWebsocketErrorCode.SOCKET_CLIENT_DATA_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT]="后台房间超时, code = "+i.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT,r[i.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT]="后台服务超时, code = "+i.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT,r[i.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT]="后台存储超时, code = "+i.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT,r[i.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT]="后台CGI超时, code = "+i.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT,r[i.RoomWebsocketErrorCode.SOCKET_DOC_PRIVILEGE_FAILED]="权限校验失败, code = "+i.RoomWebsocketErrorCode.SOCKET_DOC_PRIVILEGE_FAILED,r[i.RoomWebsocketErrorCode.SOCKET_USER_DOC_NOPRIVILEGE]="权限校验无权限, code = "+i.RoomWebsocketErrorCode.SOCKET_USER_DOC_NOPRIVILEGE,r[i.RoomWebsocketErrorCode.SOCKET_PACKAGE_SIZE_TOO_LARGE]="超过最大包长限制, code = "+i.RoomWebsocketErrorCode.SOCKET_PACKAGE_SIZE_TOO_LARGE,r[i.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL]="Member full, code = "+i.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL,r[i.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT]="频率限制, code = "+i.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT,r[i.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT]="TX-LOGIN-PSKEY-EXPIRED 鉴权超时, code = "+i.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT,r[i.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT]="权限超时, code = "+i.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT,r[i.RoomWebsocketErrorCode.SOCKET_DATA_SERVER_UNKNOWN_ERROR]="后台发生未知异常错误, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_SERVER_UNKNOWN_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_FIELD_LACK]="数据协议字段缺失, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_FIELD_LACK,r[i.RoomWebsocketErrorCode.SOCKET_DATA_DOC_NOT_EXIST]="文档不存在, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_DOC_NOT_EXIST,r[i.RoomWebsocketErrorCode.SOCKET_DATA_SUBID_ERROR]="subId不正确, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_SUBID_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_DATA_ACTION_LENGTH]="提交失败 action检查失败, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_ACTION_LENGTH,r[i.RoomWebsocketErrorCode.SOCKET_DATA_CHANGESET_EASYSYNC]="changeset easysync 异常, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_CHANGESET_EASYSYNC,r[i.RoomWebsocketErrorCode.SOCKET_DATA_SAVE_FAIL]="数据落盘失败, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_SAVE_FAIL,r[i.RoomWebsocketErrorCode.SOCKET_DATA_READ_FAIL]="读数据失败, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_READ_FAIL,r[i.RoomWebsocketErrorCode.SOCKET_DATA_BASEREV_ERROR]="baseRev错误, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_BASEREV_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_TYPE]="不支持文档类型, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_TYPE,r[i.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_PROTO]="不支持请求协议, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_PROTO,r[i.RoomWebsocketErrorCode.SOCKET_GRAY_VERSION_INCONFORMITY]="灰度版本号不一致, code = "+i.RoomWebsocketErrorCode.SOCKET_GRAY_VERSION_INCONFORMITY,r[i.RoomWebsocketErrorCode.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT]="编辑提交文档被禁止协同, code = "+i.RoomWebsocketErrorCode.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT,r[i.RoomWebsocketErrorCode.SOCKET_DATA_CONTENT_LIMIT]=" 编辑提交大小限制, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_CONTENT_LIMIT,r[i.RoomWebsocketErrorCode.SOCKET_DATA_REV_DIFF_UPPER_TEN]="base版本号与服务器最新版本差距超过10, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_REV_DIFF_UPPER_TEN,r[i.RoomWebsocketErrorCode.SOCKET_DATA_EASYSYNC_TIMEOUT]="当前提交后台处理协同冲突超时, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_EASYSYNC_TIMEOUT,r[i.RoomWebsocketErrorCode.SOCKET_CLIENT_VERSION_TOO_OLD]="CLIENT_READY 前端版本过期, code = "+i.RoomWebsocketErrorCode.SOCKET_CLIENT_VERSION_TOO_OLD,r[i.RoomWebsocketErrorCode.SOCKET_JS_TOO_OLD]="USER_CHANGES 前端版本过期, code = "+i.RoomWebsocketErrorCode.SOCKET_JS_TOO_OLD,r[i.RoomWebsocketErrorCode.SOCKET_NOT_CONFILCT_TO_COMMIT]="前端限制，存在冲突, code = "+i.RoomWebsocketErrorCode.SOCKET_NOT_CONFILCT_TO_COMMIT,r[i.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_NORMAL_LOCK]="提交队列被正常提交锁, code = "+i.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_NORMAL_LOCK,r[i.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK]="提交队列被离线提交锁, code = "+i.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK,r[i.RoomWebsocketErrorCode.SOCKET_COMMIT_DVER_INCONFORMITY]="编辑提交，dver 版本不一致, code = "+i.RoomWebsocketErrorCode.SOCKET_COMMIT_DVER_INCONFORMITY,r[i.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR]="表格编辑提交，中台服务器错误, code = "+i.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR]="表格编辑提交，提交mutaton格式错误, code = "+i.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR]="表格编辑提交，提交mutaton apply出错, code = "+i.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION]="前端版本大于后端版本, code = "+i.RoomWebsocketErrorCode.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION,r[i.RoomWebsocketErrorCode.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT]="表格编辑单元格数，行数、列数超限, code = "+i.RoomWebsocketErrorCode.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT,r[i.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR]="批量提交docid不一致, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR]="批量提交协议类型不一致, code = "+i.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_USER_CHANGE_PARAM_ERROR]="userchange 参数错误, code = "+i.RoomWebsocketErrorCode.SOCKET_USER_CHANGE_PARAM_ERROR,r[i.RoomWebsocketErrorCode.SOCKET_COMMAND_NOT_SUPPORTED]="任务管理层发现不支持命令, code = "+i.RoomWebsocketErrorCode.SOCKET_COMMAND_NOT_SUPPORTED,r[i.RoomWebsocketErrorCode.SOCKET_HACKPAD_TIMEOUT]="commit error：Hackpad调用超时, code = "+i.RoomWebsocketErrorCode.SOCKET_HACKPAD_TIMEOUT,r[i.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TOO_LONG]="onpost：队列超长，前端延迟重试, code = "+i.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TOO_LONG,r[i.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TIMEOUT]="commit error：队列超时，前端延迟重试, code = "+i.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TIMEOUT,r[i.RoomWebsocketErrorCode.SOCKET_COLLABROOM_GET_VIP_FAIL]="获取会员失败, code = "+i.RoomWebsocketErrorCode.SOCKET_COLLABROOM_GET_VIP_FAIL,r[i.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL]="登录非会员房间满员, code = "+i.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL,r[i.RoomWebsocketErrorCode.SOCKET_COLLABROOM_DOC_DELETED]="文档已经被删除, code = "+i.RoomWebsocketErrorCode.SOCKET_COLLABROOM_DOC_DELETED,r[i.RoomWebsocketErrorCode.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN]="连接层 dispose 时关闭房间层错误码, code = "+i.RoomWebsocketErrorCode.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN,r[i.RoomWebsocketErrorCode.INACTIVE]="后台房间踢人，原因是不活跃或者数据升级类, code = "+i.RoomWebsocketErrorCode.INACTIVE,r[i.RoomWebsocketErrorCode.CODEREV_NEW]=" 后台踢人，原因是数据版本dver、pver或者其他不匹配, code = "+i.RoomWebsocketErrorCode.CODEREV_NEW,r[i.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT]="Websocket 提交消息超时, code = "+i.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT,r),s=function(){function e(){}return e.getWebsocketChannelErrorMessage=function(e,t){var n;void 0===t&&(t="");var r=null!==(n=a[e])&&void 0!==n?n:"error msg, code = "+e;return t&&(r=t+" "+r),r},e.getCurrentTime=function(){return(new Date).getTime()},e.createNewMessage=function(e,t,n,r,i,a,s,c,u,l){return{taskId:e,postData:t,timeout:n,maxRetryCount:r,cmd:i,data:a,waitAcceptCmd:s,onError:c,onsend:u,onsendAccept:l,retryCount:0,lastSendTime:0,onpostTime:0,firstSendTime:0,state:o.MessageState.WAITING}},e.delay=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))},e}();t.RoomUtil=s},56195:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},95536:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BuildRoomWebsocketChannel=t.RoomWebsocketChannel=void 0;var s=n(26022),c=n(62840),u=n(43633),l=a(n(73120)),f=n(14509),d=function(){function e(e,t){this.padInfo=e,this.roomDependency=t,this.websocketMessageSender=new c.RoomWebsocketMessageSender(this.padInfo,this.roomDependency,this),this.roomStatus=new s.RoomStatus(this.websocketMessageSender,r({},this.padInfo),this.roomDependency)}return e.prototype.connect=function(){this.websocketMessageSender.openWebsocketConnection()},e.prototype.disconnect=function(e){var t,n,r={module:this.padInfo.module,attrName:String(null!==(t=e.errCode)&&void 0!==t?t:0),status:1,errorMessage:u.RoomUtil.getWebsocketChannelErrorMessage(null!==(n=e.errCode)&&void 0!==n?n:0)};this.websocketMessageSender.shutDown(e),l.default.shutDownReport(r)},e.prototype.dispose=function(){this.websocketMessageSender.dispose(),this.roomStatus.dispose()},e.prototype.sendMessage=function(e){this.websocketMessageSender.sendMessage(e)},e.prototype.batchCommitMessages=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,{success:!1,retCode:52002,reason:"websocket not support batch commit."}]}))}))},e.prototype.cancelMessageBySeq=function(e){this.websocketMessageSender.cancelMessageBySeq(e)},e.prototype.openRoom=function(){this.roomStatus.openRoom()},e.prototype.onRoomClosed=function(e){this.roomStatus.onRoomClosed(e)},e.prototype.roomStateReconnecting=function(){this.roomStatus.roomStateReconnecting()},e.prototype.getRoomState=function(){return this.roomStatus.getRoomState()},e.prototype.loginRoom=function(){this.roomStatus.loginRoom()},e.prototype.onLoginResponse=function(e,t){this.roomStatus.onLoginResponse(e,t)},e.prototype.resetLogin=function(){this.roomStatus.resetLogin()},e.prototype.onHeartBeatResponse=function(e,t){this.roomStatus.onHeartBeatResponse(e,t)},e.prototype.resetHeartBeat=function(){this.roomStatus.resetHeartBeat()},e}();t.RoomWebsocketChannel=d,t.BuildRoomWebsocketChannel=function(e,t,n){var r,o,i,a,s,c,u={module:e.module,padId:e.serverVars.padId,globalPadId:e.serverVars.globalPadId,codeVer:null!==(r=e.serverVars.pver)&&void 0!==r?r:0,gray:null!==(o=e.serverVars.gray)&&void 0!==o?o:0,dver:e.serverVars.dver,pver:e.serverVars.pver,apId:e.serverVars.apid,wmode:null!==(i=e.serverVars.wmode)&&void 0!==i?i:f.DEFAULT_WMODE,padType:e.serverVars.padType,websocketReopenCount:null!==(a=e.serverVars.websocketReopenCount)&&void 0!==a?a:f.WEBSOCKET_CONFIG.pollingReopenCount,pollingAttemptNumber:null!==(s=e.serverVars.pollingAttemptNumber)&&void 0!==s?s:f.WEBSOCKET_CONFIG.pollingAttemptCount,upid:e.serverVars.client.upid,sid:e.serverVars.client.sid,tid:e.serverVars.client.tid,sig:e.serverVars.client.sig,uid:e.uid,uuId:e.userid,userId:e.userid,nowUserIndex:null!==(c=e.nowUserIndex)&&void 0!==c?c:window.nowUserIndex,middleWareCenter:n,config:e.config};return new d(u,t)}},39837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketMessageQueue=void 0;var r=n(37877),o=n(69318),i=n(45650),a=function(){function e(e){this.messageWaittingQueue=[],this.messageFinishQueue=[],this.messageSenderDependency=e}return e.prototype.dispose=function(){this.messageWaittingQueue=[],this.messageFinishQueue=[]},e.prototype.messageCount=function(){return this.messageWaittingQueue.length},e.prototype.messageAlreadyExist=function(e){var t=this.getMessageByTaskId(e.taskId);return(null==t?void 0:t.cmd)===e.cmd},e.prototype.getMessageByTaskId=function(e){return this.messageWaittingQueue.find((function(t){return t.taskId===e}))},e.prototype.getFinishedMessageByTaskId=function(e){return this.messageFinishQueue.find((function(t){return t.taskId===e}))},e.prototype.readyToSendMessage=function(){if(0===this.messageWaittingQueue.length)return o.ConnectionLog.info("readyToSendMessage: empty messageQueue"),!1;var e=this.messageWaittingQueue.find((function(e){return e.state===r.MessageState.SENDING}));return!e||(o.ConnectionLog.info("readyToSendMessage: message is sending, taskId:"+e.taskId+", cmd:"+e.cmd),!1)},e.prototype.addWaittingMessage=function(e){this.messageWaittingQueue.push(e)},e.prototype.addFinishMessage=function(e,t){void 0===t&&(t=-1),this.removeMessageFromQueue(e,t),this.messageFinishQueue.push(e)},e.prototype.removeMessageFromQueue=function(e,t){void 0===t&&(t=-1);var n=t>=0&&t<this.messageWaittingQueue.length?t:this.getIndexOfMessage(e);this.messageWaittingQueue.splice(n,1)},e.prototype.handleMessageQueueByRoomClose=function(e){for(var t=0;t<this.messageWaittingQueue.length;){var n=this.messageWaittingQueue[t];this.handleMessageByRoomClose(n,e),t+=1}},e.prototype.handleMessageByRoomClose=function(e,t){this.messageSenderDependency.doErrorCallback(e,{errCode:t?i.RoomErrorCode.ROOM_SHUTDOWN:i.RoomErrorCode.ROOM_CLOSE,errMsg:"room "+(t?"shutDown":"close")})},e.prototype.handleMsgBySocketDisconnect=function(){for(var e=0;e<this.messageWaittingQueue.length;){var t=this.messageWaittingQueue[e];t.retryCount>=t.maxRetryCount?(this.handleRetryCountLimitedMessageBySocketDisconnect(t),this.removeMessageFromQueue(t,e)):(this.handleMesageBySocketDisconnect(t),e+=1)}},e.prototype.getFirstWaittingMessage=function(){return this.messageWaittingQueue.find((function(e){return e.state===r.MessageState.WAITING}))},e.prototype.processMessageQueue=function(){for(var e=!1,t=!1,n=!1,o=0;o<this.messageWaittingQueue.length;){var i=this.messageWaittingQueue[o];this.sendingMsgIsTimeout(i)?(e=!0,i.retryCount<i.maxRetryCount?(this.retryMessageByTimeout(i),o+=1):this.handleRetryCountLimitedMessageByTimeout(i)):(t=i.state===r.MessageState.SENDING,n=i.state===r.MessageState.WAITING,o+=1)}return this.clearFinishQueueIfNeed(),!t&&n&&(e=!0),e},e.prototype.cancelMessage=function(e){for(var t=0;t<this.messageWaittingQueue.length;){var n=this.messageWaittingQueue[t];if(n.taskId===e)return o.ConnectionLog.info("cancelMessageBySeq: seq = "+e),this.addFinishMessage(n),n;t+=1}},e.prototype.clearFinishQueueIfNeed=function(){this.messageFinishQueue.length>50&&this.messageFinishQueue.splice(0,this.messageFinishQueue.length-50)},e.prototype.sendingMsgIsTimeout=function(e){var t=r.RoomUtil.getCurrentTime();return(e.state===r.MessageState.SENDING||e.state===r.MessageState.WAIT_ACCEPT)&&t>e.lastSendTime&&t-e.lastSendTime>e.timeout},e.prototype.handleRetryCountLimitedMessageBySocketDisconnect=function(e){this.messageIsSendingOrWaitAccept(e)&&this.messageSenderDependency.doErrorCallback(e,{errCode:i.RoomErrorCode.ROOM_DISCONNECT,errMsg:"room disconnect"})},e.prototype.handleMesageBySocketDisconnect=function(e){this.messageIsSendingOrWaitAccept(e)&&(e.state=r.MessageState.WAITING)},e.prototype.messageIsSendingOrWaitAccept=function(e){return e.state===r.MessageState.SENDING||e.state===r.MessageState.WAIT_ACCEPT},e.prototype.handleRetryCountLimitedMessageByTimeout=function(e){o.ConnectionLog.warn("send message timeout, taskId = "+e.taskId+", cmd = "+e.cmd+"."),e.retryCount=0,this.messageSenderDependency.closeAndDelayReopen({reason:"websocket send message timeout.",errCode:r.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT,shutDown:!1},0)},e.prototype.retryMessageByTimeout=function(e){o.ConnectionLog.warn("send message timeout, try again, taskId = "+e.taskId+",\n        cmd = "+e.cmd+", retryCount = "+e.retryCount+", maxRetryCount = "+e.maxRetryCount+", state = "+e.state),e.state=r.MessageState.WAITING},e.prototype.getIndexOfMessage=function(e){return this.messageWaittingQueue.findIndex((function(t){return t.taskId===e.taskId}))},e}();t.RoomWebsocketMessageQueue=a},62840:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketMessageSender=void 0;var i=n(63830),a=n(60047),s=n(69318),c=n(36062),u=n(43633),l=n(45650),f=n(36255),d=o(n(73120)),p=n(72411),h=n(39837),v=n(85076),g=function(){function e(e,t,n){var r,o,i=this;this.reconnectTimes=[],this.liteReconnects=0,this.socketDisconnectTimer=0,this.reopenDelayTimer=0,this.websocketDisconneted=!1,this.hasSocketReconnected=!1,this.messageSenderTimer=0,this.channelOption=e,this.controllerDependency=t,this.roomChannelDependency=n,this.roomMsgQueue=new h.RoomWebsocketMessageQueue(this),this.limitFrequencyManager=new v.LimitFrequencyManager(this.controllerDependency),null===(o=null===(r=this.channelOption.config)||void 0===r?void 0:r.messagePriority)||void 0===o||o.forEach((function(e,t){i.limitFrequencyManager.setPriority(t,e)}))}return e.prototype.dispose=function(){var e,t;null===(e=this.roomWebsocket)||void 0===e||e.dispose(),this.roomMsgQueue.dispose(),this.clearSocket(),null===(t=this.limitFrequencyManager)||void 0===t||t.dispose()},e.prototype.openWebsocketConnection=function(){this.isConnected()?s.ConnectionLog.warn("openWebsocketConnection: already exist."):this.roomChannelDependency.getRoomState()!==c.RoomState.SHUTDOWN?this.createWebsocketAndConnect():s.ConnectionLog.error("openWebsocketConnection: room state shut down.")},e.prototype.isConnected=function(){var e,t;return!this.websocketDisconneted&&null!==(t=null===(e=this.roomWebsocket)||void 0===e?void 0:e.isConnected())&&void 0!==t&&t},e.prototype.shutDown=function(e){var t;s.ConnectionLog.info("shutDown, close reason: "+e.reason+", errCode:"+e.errCode),e.reason=null!==(t=e.reason)&&void 0!==t?t:"close by client.",this.clearSocket(),e.shutDown=!0,this.notifyRoomClosed(e,0)},e.prototype.sendMessage=function(e){if(s.isInvalidWaitAcceptCmd(e))s.ConnectionLog.error("sendMessage: waitAcceptCmd params invalid!"),this.doErrorCallback(e,{errCode:l.RoomErrorCode.PARA_ERROR,errMsg:"msg param invalid."});else if(this.roomChannelDependency.getRoomState()!==c.RoomState.OPENED){var t=this.roomChannelDependency.getRoomState();s.ConnectionLog.warn("sendMessage: room state error, state = "+t+"!"),this.needReopen()&&this.reopen(),this.doErrorCallback(e,{errCode:t===c.RoomState.SHUTDOWN?l.RoomErrorCode.ROOM_SHUTDOWN:l.RoomErrorCode.ROOM_STATE_ERR,errMsg:"can not send message in this room state."})}else this.sendMessageInternal(e)},e.prototype.cancelMessageBySeq=function(e){var t=this.roomMsgQueue.cancelMessage(e);(null==t?void 0:t.state)===c.MessageState.SENDING&&this.startMessageSending()},e.prototype.postMessageWithWebsocket=function(e){var t;null===(t=this.roomWebsocket)||void 0===t||t.postMessageForWebSocket(e)},e.prototype.createPostData=function(e,t,n,r){var o,i,a=Number(this.channelOption.userId.startsWith("g")),c=this.channelOption.uid||this.channelOption.userId.replace("p.","").replace("g.",""),u={apid:this.channelOption.apId,type:e,task_id:t,docid:this.channelOption.globalPadId,uid:c,cookie:s.getCookieForMessage(),base_rev:"object"==typeof n&&"number"==typeof n.baseRev?n.baseRev:this.controllerDependency.getVersion(),code_ver:this.channelOption.codeVer,session_type:a,gray:this.channelOption.gray,dver:this.channelOption.dver,wl:s.Cookie.get("wl"),u:this.channelOption.nowUserIndex,generalpacket:this.controllerDependency.getHeaderGeneralPacket(),docs_type:this.channelOption.padType};(null===(o=this.channelOption.config)||void 0===o?void 0:o.connectMode)===f.ConnectMode.WEBSOCKET_FORCED&&(u.model="websocket"),u=Object.assign(null!=r?r:{},u);var l=s.JsonUtil.jsonStringify(u)+"\n";return l+=null!==(i=p.prepareCommitMessage(n,this.channelOption.uuId,this.channelOption.pver))&&void 0!==i?i:""},e.prototype.startMessageSending=function(){this.roomMsgQueue.messageCount()>0&&this.trySendPendingMessage()},e.prototype.notifyRoomOpened=function(){this.limitFrequencyManager.reset()},e.prototype.closeAndDelayReopen=function(e,t){var n;e.reason=null!==(n=e.reason)&&void 0!==n?n:"close by client.",s.ConnectionLog.info("closeAndDelayReopen: close reason = "+e.reason+", delay time = "+t),this.clearSocket(),e.shutDown=!1,this.notifyRoomClosed(e,t)},e.prototype.onSocketStatusChanged=function(e){e.event?("open"!==e.event&&this.roomChannelDependency.getRoomState()!==c.RoomState.SHUTDOWN&&this.roomChannelDependency.roomStateReconnecting(),this.handleSocketStatusChangeEvent(e)):s.ConnectionLog.warn("onSocketStatusChanged: channel info error.")},e.prototype.onGetMessageFromServerPush=function(e){var t=e.split("\r\n");t instanceof Array?this.parseGetMsgDataList(t):s.ConnectionLog.error("onGetMessageFromServer: message data error.")},e.prototype.onPostFromServer=function(e){var t=e.split("\n"),n=r(t.map((function(e){return s.JsonUtil.parseJson(e)})),2),o=n[0],i=n[1];o&&i?"HEART_BEAT"!==o.type?"CLIENT_READY"!==o.type?this.parsePostCommonMessageFromServer(o,i):this.roomChannelDependency.onLoginResponse(o,i):this.roomChannelDependency.onHeartBeatResponse(o,i):s.ConnectionLog.error("onPostFromServer: message data parsed error.")},e.prototype.onSocketOpen=function(){this.liteReconnects=0,this.reconnectTimes=[],this.websocketDisconneted=!1,this.hasSocketReconnected=!1,s.ConnectionLog.info("onSocketOpenEvent"),this.clearDisconnectTimer(),this.clearReopenDelayTimer(),this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.roomChannelDependency.loginRoom()},e.prototype.onSocketClosed=function(e){s.ConnectionLog.info("onSocketClosedEvent: socket closed!"),this.roomWebsocket=null,this.notifyRoomClosed({reason:e,shutDown:!1},0),this.hasSocketReconnected&&this.controllerDependency.networkReconnectedFail()},e.prototype.onReopenCount=function(){return this.liteReconnects},e.prototype.doErrorCallback=function(e,t){e.onError(e.taskId,e.cmd,e.data,t)},e.prototype.reportMessage=function(e,t){var n={cmd:e.cmd,attrName:String(t.errCode),status:1,module:this.channelOption.module,errorMessage:t.errMsg,waitAcceptCmd:t.waitAcceptCmd};d.default.commitError(n)},e.prototype.sendMessageInternal=function(e){var t,n,r,o,i,a;if(this.roomMsgQueue.messageAlreadyExist(e))this.doErrorCallback(e,{errCode:l.RoomErrorCode.EXIST,errMsg:"msg already exist."});else{var c,f=e.taskId||s.generateMessageTaskId(),d=this.createPostData(e.cmd,f,e.data,e.additionalFieldsToHead);(null===(t=e.customParam)||void 0===t?void 0:t.waitAcceptCmd)&&(c=null===(n=e.customParam)||void 0===n?void 0:n.waitAcceptCmd);var h=u.RoomUtil.createNewMessage(f,d,null!==(o=null===(r=e.customParam)||void 0===r?void 0:r.timeout)&&void 0!==o?o:p.DEFAULT_SEND_MESSAGE_TIMEOUT,null!==(a=null===(i=e.customParam)||void 0===i?void 0:i.maxRetryCount)&&void 0!==a?a:p.DEFAULT_RETRY_COUNTS,e.cmd,e.data,c,e.onError,e.onsend,e.onsendAccept);this.roomMsgQueue.addWaittingMessage(h),this.startMessageSending(),this.startMessageTimer()}},e.prototype.handleSocketStatusChangeEvent=function(e){var t;s.ConnectionLog.info("handleSocketStatusChangeEvent: "+e.event+" reason: "+(null!==(t=e.disconnectReason)&&void 0!==t?t:e.failReason)),"reconnecting"===e.event?this.hasSocketReconnected=!0:"disconnect"===e.event&&this.handleDisconnectEvent(e)},e.prototype.createWebsocketAndConnect=function(){if(this.roomWebsocket)s.ConnectionLog.warn("createWebsocketAndConnect:socket has exist");else{var e={padId:this.channelOption.padId,roomWebSocketDependency:this,tag:this.channelOption.padId,gid:this.channelOption.globalPadId,upid:this.channelOption.upid||"",sig:this.channelOption.sig,uid:this.channelOption.uid,uidKey:s.Cookie.get("uid_key"),wmode:this.channelOption.wmode,websocketReopenCount:this.channelOption.websocketReopenCount,pollingAttemptNumber:this.channelOption.pollingAttemptNumber,nowUserIndex:this.channelOption.nowUserIndex,module:this.channelOption.module,config:this.channelOption.config};this.roomWebsocket=new a.RoomWebsocket(e),this.roomWebsocket.connect(),this.setupSocketTime=u.RoomUtil.getCurrentTime()}},e.prototype.clearSocket=function(){this.roomWebsocket&&(this.roomWebsocket.disconnect(""),this.clearDisconnectTimer()),this.roomWebsocket=null},e.prototype.reopen=function(){s.ConnectionLog.info("reopen: socket reopen."),this.clearSocket(),this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.openWebsocketConnection()},e.prototype.needReopen=function(){var e=this.roomChannelDependency.getRoomState();if(e===c.RoomState.CONNECTING||e===c.RoomState.RECONNECTING_IN_CLOSED){var t=u.RoomUtil.getCurrentTime();if(this.setupSocketTime&&t>this.setupSocketTime&&t-this.setupSocketTime>5e4)return!0}return!1},e.prototype.notifyRoomClosed=function(e,t){s.ConnectionLog.info("notifyRoomClosed: reason = "+e.reason+", shutdown = "+e.shutDown),this.clearDisconnectTimer(),this.websocketDisconneted=!0,this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.roomChannelDependency.onRoomClosed(e),this.roomMsgQueue.handleMessageQueueByRoomClose(e.shutDown),e.shutDown?(this.reset(),this.clearMessageSenderTimer()):this.delayReopen(t)},e.prototype.delayReopen=function(e){var t=this;if(!this.reopenDelayTimer){this.reconnectTimes.push(u.RoomUtil.getCurrentTime()),this.liteReconnects+=1;var n=e;e||(n=Math.min(3e4,1e3*Math.pow(2,this.liteReconnects+1)),n=this.generateFuzzyInterval(n,.4*n)),this.reopenDelayTimer=setTimeout((function(){t.clearReopenDelayTimer(),t.roomChannelDependency.openRoom()}),n)}},e.prototype.generateFuzzyInterval=function(e,t){return e+Math.floor(Math.random()*(2*t+1)-t)},e.prototype.reset=function(){this.roomWebsocket=null,this.liteReconnects=0,this.reconnectTimes=[],this.clearDisconnectTimer(),this.clearReopenDelayTimer(),this.roomChannelDependency.resetLogin(),this.roomChannelDependency.resetHeartBeat()},e.prototype.parsePostCommonMessageFromServer=function(e,t){var n=this.roomMsgQueue.getMessageByTaskId(e.task_id);n&&n.cmd===e.type?(this.handleCommonMessage(n,t),this.finishParseMessage(n,t)):this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id)||s.ConnectionLog.warn("parsePostCommonMessageFromServer: msg not found! seq = "+e.task_id+", cmd = "+e.type);this.startMessageSending(),this.roomMsgQueue.clearFinishQueueIfNeed()},e.prototype.finishParseMessage=function(e,t){var n,r=t.onpost.result;(null===(n=e.waitAcceptCmd)||void 0===n?void 0:n.length)&&0===r?e.state=c.MessageState.WAIT_ACCEPT:this.roomMsgQueue.addFinishMessage(e),this.startMessageSending()},e.prototype.handleCommonMessage=function(e,t){e.onpostTime=u.RoomUtil.getCurrentTime();var n=t.onpost.result,r=t.onpost.retry_interval;if(n!==l.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS&&s.ConnectionLog.error("handleCommonMessage: server response error, code = "+n),this.reportMsgParseErrorIfNeed(n,e,t),n!==l.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR&&n!==l.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED)if(n!==l.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR){var o={errCode:n,errMsg:"",response:t};n===l.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS?this.doMsgOnSendSuccessCallback(e,o):this.doErrorCallback(e,o)}else this.closeAndDelayReopen({errCode:n,reason:u.RoomUtil.getWebsocketChannelErrorMessage(n),shutDown:!1},r);else this.shutDown({errCode:n,reason:u.RoomUtil.getWebsocketChannelErrorMessage(n),shutDown:!0})},e.prototype.reportMsgParseErrorIfNeed=function(e,t,n){if(e!==l.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS){var r={errCode:e,errMsg:u.RoomUtil.getWebsocketChannelErrorMessage(e),event:c.MessageResultEvent.ON_POST,response:n,needRetry:!1};this.reportMessage(t,r)}},e.prototype.trySendPendingMessage=function(){this.needReopen()?this.reopen():this.readyToSendMessage()&&this.sendWaitingMessage()},e.prototype.sendWaitingMessage=function(){var e=this.roomMsgQueue.getFirstWaittingMessage();e&&(this.postOneMessage(e),this.startMessageTimer())},e.prototype.postOneMessage=function(e){this.preparePostMessage(e),this.postMessageWithWebsocket(e.postData)},e.prototype.preparePostMessage=function(e){0!==e.retryCount&&e.firstSendTime||(e.firstSendTime=u.RoomUtil.getCurrentTime()),e.retryCount+=1,e.lastSendTime=u.RoomUtil.getCurrentTime(),e.onpostTime=0,e.state=c.MessageState.SENDING},e.prototype.startMessageTimer=function(){var e=this;this.messageSenderTimer||(this.messageSenderTimer=setTimeout((function(){e.handleMessageTimer()}),1e3))},e.prototype.handleMessageTimer=function(){this.clearMessageSenderTimer();var e=this.roomMsgQueue.processMessageQueue();this.roomMsgQueue.messageCount()>0&&(e&&this.startMessageSending(),this.startMessageTimer())},e.prototype.readyToSendMessage=function(){return this.roomChannelDependency.getRoomState()===c.RoomState.OPENED&&this.isConnected()?this.roomMsgQueue.readyToSendMessage():(s.ConnectionLog.warn("readyToSendMessage: roomstate = "+this.roomChannelDependency.getRoomState()+", websocket connected = "+this.isConnected()),!1)},e.prototype.handleMessageErrorCode=function(e,t){var n={attrName:String(e),status:1,module:this.channelOption.module,errorMessage:u.RoomUtil.getWebsocketChannelErrorMessage(e)};this.shutDown({reason:t,errCode:e,shutDown:!0}),d.default.shutDownReport(n)},e.prototype.receiveMessageFromServer=function(e,t){var n,r={head:e,body:t,newRev:e.new_rev,ts:e.ts,socketId:(null===(n=this.roomWebsocket)||void 0===n?void 0:n.socketId)||"",needDeal:!0};this.limitFrequencyManager.handleMessage(r),r.needDeal&&this.controllerDependency.receiveMessageFromServer(e.type,[r])},e.prototype.handleWaitAcceptMessage=function(e,t){var n=this.roomMsgQueue.getMessageByTaskId(e.task_id);n?this.processWaitAcceptMessage(n,e,t)?this.roomMsgQueue.addFinishMessage(n):s.ConnectionLog.error("processWaitAcceptMessage: msg found but waitcmd not match. seq = "+n.taskId+", cmd = "+n.cmd+", wait cmd = "+e.type):(n=this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id))||this.receiveMessageFromServer(e,t)},e.prototype.hasWaitAcceptCommand=function(e,t){var n;return!!(null===(n=e.waitAcceptCmd)||void 0===n?void 0:n.includes(t))},e.prototype.processWaitAcceptMessage=function(e,t,n){var r,o,i,a;if(this.hasWaitAcceptCommand(e,t.type)){this.doMsgOnSendAcceptSuccessCallback(e,t,n);var s={errCode:null!==(o=null===(r=n.data)||void 0===r?void 0:r.reason)&&void 0!==o?o:0,errMsg:u.RoomUtil.getWebsocketChannelErrorMessage(null!==(a=null===(i=n.data)||void 0===i?void 0:i.reason)&&void 0!==a?a:0),waitAcceptCmd:t.type,event:c.MessageResultEvent.ON_SEND_ACCEPT,response:n,needRetry:!1};return this.reportMessage(e,s),!0}return!1},e.prototype.parseGetMsgDataList=function(e){for(var t=0;t<e.length;t++){var n=e[t].split("\n");if(n.length<2)return void s.ConnectionLog.error("onGetMessageFromServer: message data error.");this.parseGetMsgList(n)}},e.prototype.parseGetMsgList=function(e){var t,n,o=r(e.map((function(e){return s.JsonUtil.parseJson(e)})),2),a=o[0],c=o[1];if("QUIT_NOTICE"===(null==a?void 0:a.type)&&Object.values(i.QUIT_TYPE).includes(null==c?void 0:c.notice.quit_type)){var u=new Map([[i.QUIT_TYPE.INACTIVE,{code:l.RoomWebsocketErrorCode.INACTIVE,reason:i.QUIT_TYPE.INACTIVE}],[i.QUIT_TYPE.LOGIN_INVALIDATE,{code:l.RoomWebsocketErrorCode.LOGIN_INVALIDATE,reason:i.QUIT_TYPE.LOGIN_INVALIDATE}],[i.QUIT_TYPE.LOGIN_FORBIDDEN,{code:l.RoomWebsocketErrorCode.LOGIN_FORBIDDEN,reason:i.QUIT_TYPE.LOGIN_FORBIDDEN}]]);this.handleMessageErrorCode(null===(t=u.get(null==c?void 0:c.notice.quit_type))||void 0===t?void 0:t.code,null===(n=u.get(null==c?void 0:c.notice.quit_type))||void 0===n?void 0:n.reason)}else 0!==this.roomMsgQueue.messageCount()?this.handleWaitAcceptMessage(a,c):this.processFinishedGetMsg(a,c)},e.prototype.processFinishedGetMsg=function(e,t){this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id)||this.receiveMessageFromServer(e,t)},e.prototype.handleDisconnectEvent=function(e){var t=this;e.event&&(this.websocketDisconneted=!0,this.socketDisconnectTimer||(this.roomChannelDependency.resetLogin(),this.roomChannelDependency.resetHeartBeat(),this.roomMsgQueue.handleMsgBySocketDisconnect(),this.socketDisconnectTimer=setTimeout((function(){var n,r;e.socketId||e.socketId!==(null===(n=t.roomWebsocket)||void 0===n?void 0:n.socketId)||t.disConnect(null!==(r=e.disconnectReason)&&void 0!==r?r:"")}),25e3)))},e.prototype.clearDisconnectTimer=function(){this.socketDisconnectTimer&&(clearTimeout(this.socketDisconnectTimer),this.socketDisconnectTimer=0)},e.prototype.clearReopenDelayTimer=function(){this.reopenDelayTimer&&(clearTimeout(this.reopenDelayTimer),this.reopenDelayTimer=0)},e.prototype.clearMessageSenderTimer=function(){this.messageSenderTimer&&(clearTimeout(this.messageSenderTimer),this.messageSenderTimer=0)},e.prototype.disConnect=function(e){s.ConnectionLog.info("disConnect, reason:"+e),this.roomChannelDependency.getRoomState()!==c.RoomState.SHUTDOWN&&(this.clearSocket(),this.notifyRoomClosed({reason:"close by disconnect, reason "+e,shutDown:!1},0))},e.prototype.doMsgOnSendAcceptSuccessCallback=function(e,t,n){var r,o,i,a,s;null===(r=e.onsendAccept)||void 0===r||r.call(e,e.taskId,e.cmd,e.data,t.type,{errCode:null!==(i=null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.reason)&&void 0!==i?i:0,errMsg:null!==(s=null===(a=null==n?void 0:n.data)||void 0===a?void 0:a.msg)&&void 0!==s?s:"",response:{body:n,new_rev:t.new_rev}})},e.prototype.doMsgOnSendSuccessCallback=function(e,t){var n;null===(n=e.onsend)||void 0===n||n.call(e,e.taskId,e.cmd,e.data,t)},e}();t.RoomWebsocketMessageSender=g},50402:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},94415:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketEvent=void 0,function(e){e.open="open",e.close="close",e.connect="connect",e.connectFail="connectfail",e.reconnecting="reconnecting",e.disconnect="disconnect",e.connectTimeout="connect_timeout",e.connectError="connect_error"}(n||(n={})),t.RoomWebsocketEvent=n},60047:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocket=void 0;var a=n(93649),s=i(n(79760)),c=n(14509),u=i(n(34854)),l=n(69318),f=i(n(73120)),d=function(){function e(e){var t=this;this.option=e,this.socketId=String(Math.floor(1e12*Math.random())),this.isWebSocketOpen=!1,this.socketChannel=null,this.socketAttempts=0,this.handleReconnectAttempt=function(){t.socketChannel.io.opts.transports=t.attemptTransports},this.handleConnectError=function(e){var n,r,o;if(l.ConnectionLog.info("socket io connect_error, isOnline:"+a.network.isOnline+", type:"+(null==e?void 0:e.type)+", code:"+(null==e?void 0:e.code)+",\n      message:"+(null==e?void 0:e.message)+", description:"+(null==e?void 0:e.description)),a.network.isOnline){var i="number"==typeof(null==e?void 0:e.description)?null==e?void 0:e.description:void 0;f.default.reportSocketConnect({attrName:"SocketConnect",status:1,module:null===(n=t.option)||void 0===n?void 0:n.module,errorMessage:(null==e?void 0:e.message)+", status:"+i,transports:null===(o=null===(r=t.socketChannel)||void 0===r?void 0:r.io.opts.transports)||void 0===o?void 0:o[0]})}var s=t.getSocketChannelInfo();s.event="connect_error",s.failReason="io connect_error unknown",(null==e?void 0:e.type)&&(s.failReason=e.type),t.option.roomWebSocketDependency.onSocketStatusChanged(s)},this.handleConnectTimeout=function(e){var n,r,o,i=t.getSocketChannelInfo();i.event="connect_timeout",i.failReason="connect_timeout timeout:"+e,t.option.roomWebSocketDependency.onSocketStatusChanged(i),f.default.reportSocketConnect({attrName:"SocketConnect",status:2,module:null===(n=t.option)||void 0===n?void 0:n.module,errorMessage:i.failReason,transports:null===(o=null===(r=t.socketChannel)||void 0===r?void 0:r.io.opts.transports)||void 0===o?void 0:o[0]})},this.handleMessageFromServerPush=function(e){t.option.roomWebSocketDependency.onGetMessageFromServerPush(e)},this.handlePost=function(e){t.option.roomWebSocketDependency.onPostFromServer(e)},this.handleConnect=function(){var e,n,r,o,i;l.ConnectionLog.info("socket io connect readyState: "+(null===(e=t.socketChannel)||void 0===e?void 0:e.io.readyState)+", id:"+(null===(n=t.socketChannel)||void 0===n?void 0:n.id)),f.default.reportSocketConnect({module:null===(r=t.option)||void 0===r?void 0:r.module,attrName:"SocketConnect",status:0,errorMessage:"Success",transports:null===(i=null===(o=t.socketChannel)||void 0===o?void 0:o.io.opts.transports)||void 0===i?void 0:i[0]}),t.isWebSocketOpen=!0,t.option.roomWebSocketDependency.onSocketOpen()},this.handleReconnect=function(e){var n,r,o,i="socket io reconnect number: "+e+" channel.readyState: "+t.socketChannel.io.readyState;l.ConnectionLog.info(i),t.socketAttempts=0,Math.random()<.01&&f.default.reconnectReport({attrName:"SocketReconnect",status:0,module:null===(n=t.option)||void 0===n?void 0:n.module,errorMessage:i,transports:null===(o=null===(r=t.socketChannel)||void 0===r?void 0:r.io.opts.transports)||void 0===o?void 0:o[0]})},this.handleReconnecting=function(e){t.socketAttempts=e,t.socketChannel.io.opts.transports=t.initTransports,t.option.roomWebSocketDependency.onReopenCount()>=t.option.websocketReopenCount&&e>=t.option.pollingAttemptNumber&&(t.socketChannel.io.opts.transports=t.attemptTransports),l.ConnectionLog.info("socket io reconnecting number:"+e+" readyState: "+t.socketChannel.io.readyState+", transports:"+t.socketChannel.io.opts.transports);var n=t.getSocketChannelInfo();n.event="reconnecting",t.option.roomWebSocketDependency.onSocketStatusChanged(n)},this.handleRetry=function(e){l.ConnectionLog.info("socket io retry, msg:"+e),t.doDisconnect("Server restarted or socket timed out on server. serverRetry offlineEdit")},this.handleDisconnect=function(e){var n,r,o,i;l.ConnectionLog.info("socket io disconnect, msg: "+l.JsonUtil.jsonStringify(e)+" channel.readyState: "+(null===(n=t.socketChannel)||void 0===n?void 0:n.io.readyState));var a=l.JsonUtil.jsonStringify(e)+"，ClosedByOthers.",s=t.getSocketChannelInfo();s.event="disconnect",s.disconnectReason=""+a,s.socketId=t.socketId,t.option.roomWebSocketDependency.onSocketStatusChanged(s),t.socketAttempts=0,f.default.reportSocketConnect({attrName:"SocketDisconnect",status:1,module:null===(r=t.option)||void 0===r?void 0:r.module,errorMessage:s.disconnectReason,transports:null===(i=null===(o=t.socketChannel)||void 0===o?void 0:o.io.opts.transports)||void 0===i?void 0:i[0]})},this.handleConnectFailed=function(e){l.ConnectionLog.info("socket io connect_failed"),t.socketAttempts=0,t.doDisconnect(l.JsonUtil.jsonStringify(e)+"  connect_failed Closed by client.")},this.handleError=function(e){var n,r,o,i="type:"+(null==e?void 0:e.type)+", code:"+(null==e?void 0:e.code)+",\n    message:"+(null==e?void 0:e.message)+", description:"+(null==e?void 0:e.description);l.ConnectionLog.info("socket io error, "+i),t.doDisconnect(l.JsonUtil.jsonStringify(e)+" socket io error Closed by client."),f.default.reportSocketConnect({attrName:"SocketError",status:1,module:null===(n=t.option)||void 0===n?void 0:n.module,errorMessage:i,transports:null===(o=null===(r=t.socketChannel)||void 0===r?void 0:r.io.opts.transports)||void 0===o?void 0:o[0]})},this.handleReconnectFailed=function(e){var n,r,o;l.ConnectionLog.info("socket io reconnect_failed"),t.socketAttempts=0;var i=l.JsonUtil.jsonStringify(e)+" reconnect_failed Closed by client.";t.doDisconnect(i),f.default.reportSocketConnect({attrName:"SocketReconnect",status:1,module:null===(n=t.option)||void 0===n?void 0:n.module,errorMessage:i,transports:null===(o=null===(r=t.socketChannel)||void 0===r?void 0:r.io.opts.transports)||void 0===o?void 0:o[0]})},this.handleReconnectError=function(e){var n,r,o,i="number"==typeof(null==e?void 0:e.description)?null==e?void 0:e.description:void 0,a=(null==e?void 0:e.message)+", status:"+i;f.default.reportSocketConnect({attrName:"SocketReconnect",status:1,module:null===(n=t.option)||void 0===n?void 0:n.module,errorMessage:a,transports:null===(o=null===(r=t.socketChannel)||void 0===r?void 0:r.io.opts.transports)||void 0===o?void 0:o[0]}),l.ConnectionLog.info("socket io reconnect_error, "+a)},this.initTransports=this.getTransports(e.wmode),this.attemptTransports=this.getAttemptTransports(e.wmode)}return e.prototype.dispose=function(){this.disconnect("socket io dispose")},e.prototype.isConnected=function(){return this.isWebSocketOpen},e.prototype.connect=function(){var e,t,n,i,a,s;return r(this,void 0,void 0,(function(){var r,f,d,p;return o(this,(function(o){switch(o.label){case 0:return r="wss://"+(null!==(n=null===(t=null===(e=this.option.config)||void 0===e?void 0:e.location)||void 0===t?void 0:t.host)&&void 0!==n?n:window.location.host),f={query:{tag:this.option.tag,gtag:this.option.gid,utag:this.option.upid,sig:this.option.sig,uid:this.option.uid,uid_key:this.option.uidKey,u:this.option.nowUserIndex,padid:this.option.padId},transports:this.initTransports,reconnection:!0,reconnectionAttempts:c.WEBSOCKET_CONFIG.reconnectMaxTimes,reconnectionDelay:c.WEBSOCKET_CONFIG.reconnectionDelay,reconnectionDelayMax:c.WEBSOCKET_CONFIG.reconnectionDelayMax,randomizationFactor:c.WEBSOCKET_CONFIG.randomizationFactor,timeout:c.WEBSOCKET_CONFIG.connectTimeout,path:null!==(s=null===(a=null===(i=this.option.config)||void 0===i?void 0:i.location)||void 0===a?void 0:a.path)&&void 0!==s?s:"/websocket"},l.isWebOffice?[4,this.getToken()]:[3,2];case 1:d=o.sent(),f.transportOptions={websocket:{protocols:d}},o.label=2;case 2:return p=u.default(r,f),this.socketChannel=p,l.ConnectionLog.info("socket io new channel transports: "+p.io.opts.transports+", pollingReopenCount =\n      "+this.option.websocketReopenCount+", pollingAttemptNumber= "+this.option.pollingAttemptNumber),p.on("reconnect_attempt",this.handleReconnectAttempt),p.on("connect_error",this.handleConnectError),p.on("connect_timeout",this.handleConnectTimeout),p.on("get",this.handleMessageFromServerPush),p.on("post",this.handlePost),p.on("connect",this.handleConnect),p.on("reconnect",this.handleReconnect),p.on("reconnecting",this.handleReconnecting),p.on("retry",this.handleRetry),p.on("disconnect",this.handleDisconnect),p.on("connect_failed",this.handleConnectFailed),p.on("error",this.handleError),p.on("reconnect_failed",this.handleReconnectFailed),p.on("reconnect_error",this.handleReconnectError),[2]}}))}))},e.prototype.postMessageForWebSocket=function(e){this.socketChannel&&this.socketChannel.emit("post",e)},e.prototype.getSocketConnectCount=function(){return this.socketAttempts},e.prototype.getSocketChannelInfo=function(){var e={};return this.socketChannel&&(e.connected=this.socketChannel.connected,e.disconnected=this.socketChannel.disconnected,this.socketChannel.io&&(e.readyState=this.socketChannel.io.readyState,e.reconnecting=this.socketChannel.io.reconnecting)),e},e.prototype.disconnect=function(e){l.ConnectionLog.info("socket io disconnect reason: "+e),this.socketChannel&&(this.socketChannel.disconnect(),this.socketChannel=null),this.isWebSocketOpen=!1},e.prototype.getTransports=function(e){return c.TRANSPOET_MODE_MAP.get(e.charAt(0))||c.DEFAULT_TRANSPORT_MODE},e.prototype.getAttemptTransports=function(e){return c.TRANSPOET_MODE_MAP.get(e.charAt(1))||c.DEFAULT_ATTEMPT_TRANSPORT_MODE},e.prototype.doDisconnect=function(e){this.disconnect("socket io doDisconnect reason: "+e),this.option.roomWebSocketDependency.onSocketClosed(e)},e.prototype.getToken=function(){var e;return r(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:return t=l.getURLParam("_o_appId"),n=null!==(e=window.userToken)&&void 0!==e?e:"",[4,s.default.post("/api/weboffice/session",{appId:t,token:n})];case 1:return[2,0===(r=o.sent().data).retcode?r.result.token:[]]}}))}))},e}();t.RoomWebsocket=d},70945:function(e,t,n){"use strict";n.r(t),n.d(t,{authenticate:function(){return Et},authenticateIndependentPassword:function(){return Ct},autoLogin:function(){return Ge},checkLogin:function(){return bt},doEidLogout:function(){return Nt},fetchUserInfo:function(){return mt},getNowUserIndex:function(){return vt},getUid:function(){return dt},getUidKey:function(){return ht},getUserInfo:function(){return gt},isAuthenticationFailureCode:function(){return ft},isEidAdmin:function(){return Lt},isIndependentPasswordTokenValid:function(){return Tt},isLogin:function(){return Oe},isPrivateEnv:function(){return q},isSaaSTdocsEnv:function(){return W},login:function(){return We},loginOnce:function(){return Ve},logout:function(){return Pt},miniProgramLogin:function(){return de},mobileFallbackLogin:function(){return he},mobileQQLogin:function(){return ge},mobileTencentDocsLogin:function(){return Ie},pcLogin:function(){return Le},requestIndependentPassword:function(){return xt},wechatLogin:function(){return Ue},weworkLogin:function(){return Be}});var r=/\d+([._]\d+)*/;function o(e){var t,n=r.exec(e);return null!==(t=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==t?t:null}function i(e){var t=o(e);return(null==t?void 0:t.split(".").map(Number))||[]}function a(e,t){return n=i(e),r=i(t),(o=Array(Math.max(n.length,r.length)).fill(0).map((function(e,t){return(n[t]||0)-(r[t]||0)})).find((function(e){return 0!==e}))||0)<0?-1:o>0?1:0;var n,r,o}function s(e,t){var n;try{n=new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")}catch(i){return null}var r=n.exec(t);return r?o(r[0].substring(e.length)):null}var c=function(){var e;return function(){return void 0===e&&(e="undefined"!=typeof navigator?navigator.userAgent:""),e}}();function u(e){return function(t){return e(t||c())}}function l(e){return function(t,n){return e(n||c(),t)}}var f,d,p=u((function(e){return/(mobile)/i.test(e)||g(e)})),h=u((function(e){return/(mobile)/i.test(e)&&!v(e)})),v=u((function(e){return/(ipad)/i.test(e)})),g=u((function(e){return!/(mobile)/i.test(e)&&y(e)})),y=u((function(e){return/android|adr/i.test(e)})),m=u((function(e){return/MicroMessenger/i.test(e)&&!_(e)&&!I(e)})),_=u((function(e){return/(wxwork)/i.test(e)})),b=u((function(e){return/(wxworklocal)/i.test(e)})),w=u((function(e){return/QQ\//i.test(e)&&!C(e)&&!R(e)&&!E(e)})),E=u((function(e){return/TIM/i.test(e)})),S=u((function(e){return E(e)||w(e)})),O=u((function(e){return/miniprogram|miniapp(?!enable)/i.test(e)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment})),I=u((function(e){return/MicroMessenger/i.test(e)&&O(e)})),R=u((function(e){return/QQ\/|TIM/i.test(e)&&O(e)})),C=u((function(e){return/TencentDocs/i.test(e)})),T=u((function(e){return s("TencentDocs",e)})),x=l((function(e,t){return a(T(e)||"",t)>=0})),A=c();function k(){return"undefined"!=typeof document?document.cookie:""}function D(e,t){var n,r=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)");return void 0===t&&(t=k()),null==(n=t.match(r))?void 0:n[1]}function M(e,t,n,r,o){if(void 0===n&&(n=2592e6),void 0===r&&(r="/"),"undefined"!=typeof document){var i=new Date(Date.now()+864e5*n);document.cookie=e+"="+encodeURIComponent(t)+";expires="+i.toUTCString()+";path="+r+";"+(o?"domain="+o+";":"")}}function P(e,t,n){"undefined"!=typeof document&&(document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path="+(t||"/")+";"+(n?"domain="+n+";":""))}function N(e,t){var n;void 0===t&&(t=function(){if("undefined"==typeof location)return"";return location.search}());var r=new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"),o=null==(n=t.match(r))?void 0:n[2];return void 0===o?o:decodeURIComponent(o)}function L(){return D("TOK")}function j(){var e,t;return null==(t=null==(e=window.AppConfig)?void 0:e.normal)?void 0:t.runtime}function U(){var e;return null==(e=window.AppConfig)?void 0:e.normal}function F(){var e;return(null==(e=j())?void 0:e.domainName)||"docs.qq.com"}var B="qydocs.qq.com"===F(),q="private-tdocs"===(null==(f=U())?void 0:f.domain),W="saas-tdocs"===(null==(d=U())?void 0:d.domain),V=0===location.pathname.indexOf("/desktop"),G=0===location.pathname.indexOf("/mall");function H(){return"toc"===U().domain}function K(e){throw z(e)}function Q(e){return Promise.reject(z(e))}function Y(e,t){console.error(Z(e,t))}function Z(e,t){return"[docs-login] "+e+" failed: "+((null==t?void 0:t.stack)||(null==t?void 0:t.message)||t)}function z(e){return new Error("[docs-login] "+e)}var $=0,J=1;function X(e,t){void 0===t&&(t=""),te(e,t,$)}function ee(e,t){void 0===t&&(t=""),te(e,t,J)}function te(e,t,n){try{if(oe())return;var r=[["fc_login","status","docs-login/"+e,n,[t,ie()]]],o=((null==(a=null==(i=j())?void 0:i.reportCgiMap)?void 0:a.zzsReport)||"https://report.idqqimg.com/node_b/zzsreport")+"?datas="+encodeURIComponent(JSON.stringify(r))+"&version=0.7.1";navigator.sendBeacon(o)}catch(s){Y("report",s)}var i,a}function ne(e,t){try{if(Y(e,t),ee(e,"string"==typeof t?t:"error"),"undefined"==typeof aegis)return;aegis.error(Z(e,t))}catch(n){Y("reportError",n)}}var re,oe=function(){return void 0===re&&(re="undefined"==typeof navigator||!navigator.sendBeacon),re},ie=function(){var e;return function(){if(void 0===e){var t=location.pathname.match(/^(\/.*?)(\/|$)/);e=location.hostname+((null==t?void 0:t[1])||"/")}return e}}(),ae="docs-login#login",se=3e5;function ce(){try{var e=Number(localStorage.getItem(ae));if(!e)return;return e}catch(t){}}function ue(){try{localStorage.removeItem(ae)}catch(e){}}function le(e,t,n){return Promise.resolve().then((function(){var r,o;if(!(e in window)){var i,a=(null==(o=null==(r=j())?void 0:r.library)?void 0:o[t])||n;return i=a,new Promise((function(e,t){var n=document.createElement("script");n.src=i,n.onload=function(){return e()},n.onerror=function(){return t(new Error("Failed to load script"))},document.body.appendChild(n)}))}})).then((function(){return window[e]}))}function fe(){return le("mqq","TENCENT_DOCS_LIBRARY__docs_qqapi","https://docs.gtimg.com/lib/js/docs_qqapi-1e4364.js")}function de(e){return void 0===e&&(e={}),pe(He(e))}function pe(e){X("login-mini-program");var t="/pages/detail/detail?reason=pskey_error&url="+encodeURIComponent(e.successUrl),n=N("rtkey");return n&&(t+="&scene="+n),(R(A)?le("qq","TENCENT_DOCS_LIBRARY__qqjssdk_1_0_0","https://docs.gtimg.com/lib/js/qqjssdk_1_0_0.js"):le("wx","TENCENT_DOCS_LIBRARY__jweixin_1_6_0","https://docs.gtimg.com/lib/js/jweixin_1_6_0.js")).then((function(e){var n;return(null==(n=null==e?void 0:e.miniProgram)?void 0:n.reLaunch)||K("MissingJSSDK"),e.miniProgram.reLaunch({url:t}),Ke()}))}function he(e){return void 0===e&&(e={}),ve(He(e))}function ve(e){return X("login-mobile-fallback"),location.href="/login.html?jump_url="+encodeURIComponent(e.successUrl),Ke()}function ge(e){return void 0===e&&(e={}),ye(He(e))}function ye(e){return X("login-qq"),"1"===N("nojump",e.successUrl)?Qe():fe().then((function(e){var t=new Promise((function(t){return e.invoke("data","updateLoginInfo",{key:"pskey"},t)})),n=new Promise((function(e){return setTimeout(e,1e3)}));return Promise.race([t,n])})).then((function(){return location.replace("/api/user/qq/login?u=login&redirect_uri="+encodeURIComponent(e.successUrl)),Ke()}))}var me="DOC_SID",_e="SID",be="uid",we="TDOCS_UID",Ee="uid_key",Se="TDOCS_UID_KEY";function Oe(){var e;if(window.basicClientVars){var t=window.basicClientVars.userInfo.uidSource;return(!V&&!G||!H()||3!==t)&&!!(null==(e=window.basicClientVars.userInfo)?void 0:e.tinyId)}var n=k();return!!(function(e){void 0===e&&(e=k());return D(me,e)||D(_e,e)||void 0}(n)||D(be,n)&&D(Ee,n)||D(we,n)&&D(Se,n))}function Ie(e){return void 0===e&&(e={}),Re(He(e))}function Re(e){return X("login-mobile-tencent-docs"),x("3.0.0",A)?fe().then((function(e){return sessionStorage.getItem(Ce)?(sessionStorage.removeItem(Ce),e.invoke("nav","showLoginPage"),Ke()):new Promise((function(t){return e.invoke("docx","getAppCookies",{},t)}))})).then((function(t){var n=null==t?void 0:t.cookies,r=D(be,n),o=D(Ee,n),i=D(me,n)||D(_e,n)||void 0;return i||r&&o?(r&&M(be,r,void 0,"/",F()),o&&M(Ee,o,void 0,"/",F()),i&&M(me,i,void 0,"/",F()),i&&M(_e,i,void 0,"/",F()),sessionStorage.setItem(Ce,"1"),setTimeout((function(){location.replace(e.successUrl)})),Ke()):fe().then((function(e){return e.invoke("nav","showLoginPage"),Ke()}))})):Qe()}var Ce="docs-login-app-has-tried-login";function Te(e){return Promise.resolve(e).then((function(e){return"function"==typeof e?e():e}))}function xe(e){return Te(e||ke)}function Ae(){return!!window.__ARK_EXTENSION_SERVICE__}function ke(){var e=window.__ARK_EXTENSION_SERVICE__;return e||K("MissingExtensionService"),e}function De(e,t){return(n=e,Te(n||ke).then((function(e){return"getExtension"in e?e.dependentServiceCombinder.accountApplication:e}))).then((function(e){var n=e.accountDomainService,r=e.loginDomainService;n.createPersonalEnvAccountAggregateByUserInfoCgi(t,t.nowUserIndex),r.createLoginAggregate(t.tinyId),e.initDomainService(),e.isInitFinish=!0})).catch((function(e){ne("initAccountApplication",e)}));var n}var Me=3;function Pe(e,t){return xe(e).then((function(e){return e.scanAndHandleExtensions([t]).then((function(){return e.getExtension(t.name)}))}))}function Ne(e){return Pe(e,{name:"docs-component-login",loadType:Me})}function Le(e){return void 0===e&&(e={}),je(He(e))}function je(e){return X("login-pc"),Ne(e.extensionService).then((function(t){return new Promise((function(n){var r=e.cancellable;t.show({usageScenario:r?"OPEN_LOGIN_BOX":"OPEN_FULL_LOGIN_BOX",fullscreenMode:!r,isShowCloseBtn:r,closeBoxCallback:function(){return n(Qe())}})}))}))}function Ue(e){return void 0===e&&(e={}),Fe(He(e))}function Fe(e){return X("login-wechat","start"),function(e){return(t=e.extensionService,Pe(t,{name:"docs-component-login-button-mobile",loadType:Me})).then((function(t){var n=t.renderPopup;return new Promise((function(t){n((function(){return t(!0)}),(function(){return t(!1)})).showPopup(0,e.cancellable)}))}));var t}(e).then((function(t){return t?(X("login-wechat","oauth"),function(e){var t="wx46dfe750eef96da7",n="https://"+F()+"/scenario/wx-login.html?target="+encodeURIComponent(e.successUrl),r="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t+"&redirect_uri="+encodeURIComponent(n)+"&response_type=code&scope=snsapi_userinfo&state=onweixinlogin#wechat_redirect";return location.replace(r),Ke()}(e)):(X("login-wechat","cancelled"),Qe())}))}function Be(e){return void 0===e&&(e={}),qe(He(e))}function qe(e){X("login-wework");var t="https://"+F()+"/api/account/wecom/login?u=login&redirect_uri="+encodeURIComponent(e.successUrl),n="https://open.weixin.qq.com/connect/oauth2/authorize?"+("appid=ww20388f7040b655b7&redirect_uri="+encodeURIComponent(t)+"&response_type=code&scope=snsapi_userinfo&state=weworklogin")+"#wechat_redirect";return location.replace(n),Ke()}function We(e){return void 0===e&&(e={}),Ye("login",(function(){return function(e){if(B)return location.replace("https://"+F()+"/scenario/enterprise-experience-entry.html"),Ke();if(q)return function(e){X("login-eid");var t="https://"+F()+"/eid-auth-callback/?success_jump_url="+encodeURIComponent(e.successUrl),n="client_id=PUcgmpFSpi95uEc0uPffUDxwTX90bRQe&response_type=code&redirect_uri="+encodeURIComponent(t),r="https://"+F()+"/eid/gw/oauth2/v1/authorize?"+n;return location.replace(r),Ke()}(e);if(C(A))return Re(e);if(O(A))return pe(e);if(m(A))return Fe(e);if(_(A)&&!b(A)){if(!((V||G)&&H()))return qe(e)}if(S(A))return ye(e);if(h(A))return ve(e);return je(e)}(He(e))}))}function Ve(e){return void 0===e&&(e={}),Ve.req||(Ve.req=We(e).then((function(e){return Ve.req=null,e}))),Ve.req}function Ge(e){return void 0===e&&(e={}),Ye("autoLogin",(function(){return function(e){if(m(A))return Fe(e);if(_(A)&&!b(A))return qe(e);return Qe()}(He(e))}))}function He(e){var t;return{extensionService:e.extensionService,cancellable:null==(t=e.cancellable)||t,successUrl:e.successUrl||location.href}}function Ke(){return new Promise((function(){}))}function Qe(){return ue(),Promise.resolve({cancelled:!0})}function Ye(e,t){return X(e,"start"),function(){ce()&&ee("login-track","previous-trace-exists");try{localStorage.setItem(ae,String(Date.now()))}catch(e){}}(),Promise.resolve().then(t).then((function(t){return X(e,"done"),t})).catch((function(t){throw ne(e,t),t}))}Ve.req=null;const Ze=Object.assign;function ze(e){return e.toLowerCase()}var $e=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Je=/[^A-Z0-9]+/gi;function Xe(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function et(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function tt(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?$e:n,o=t.stripRegexp,i=void 0===o?Je:o,a=t.transform,s=void 0===a?ze:a,c=t.delimiter,u=void 0===c?" ":c,l=Xe(Xe(e,r,"$1\0$2"),i,"\0"),f=0,d=l.length;"\0"===l.charAt(f);)f++;for(;"\0"===l.charAt(d-1);)d--;return l.slice(f,d).split("\0").map(s).join(u)}(e,Ze({delimiter:"",transform:et},t))}function nt(e,t){return 0===t?e.toLowerCase():et(e,t)}function rt(e,t){return void 0===t&&(t={}),tt(e,Ze({transform:nt},t))}var ot=function(e){return"object"==typeof e&&null!==e},it=function(e){return ot(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date)&&!(globalThis.Blob&&e instanceof globalThis.Blob)},at=Symbol("mapObjectSkip"),st=function(e,t,n,r){if(void 0===r&&(r=new WeakMap),n=Object.assign({},{deep:!1,target:{}},n),r.has(e))return r.get(e);r.set(e,n.target);var o=n.target;delete n.target;var i=function(e){return e.map((function(e){return it(e)?st(e,t,n,r):e}))};if(Array.isArray(e))return i(e);for(var a=0,s=Object.entries(e);a<s.length;a+=1){var c=s[a],u=c[0],l=c[1],f=t(u,l,e);if(f!==at){var d=f[0],p=f[1],h=f[2];void 0===h&&(h={});var v=h.shouldRecurse;void 0===v&&(v=!0),"__proto__"!==d&&(n.deep&&v&&it(p)&&(p=Array.isArray(p)?i(p):st(p,t,n,r)),o[d]=p)}}return o};function ct(e){return"object"!=typeof(t=e)||null===t?e:Array.isArray(e)?e.map(ct):function(e,t,n){if(!ot(e))throw new TypeError("Expected an object, got `"+e+"` ("+typeof e+")");if(Array.isArray(e))throw new TypeError("Expected an object, got an array");return st(e,t,n)}(e,(function(e,t){return[rt(e),ct(t)]}));var t}function ut(e,t,n){var r=Object.assign({},{header:{"Content-Type":"application/x-www-form-urlencoded"}},n);return new Promise((function(n,o){var i=new XMLHttpRequest,a=r.header["Content-Type"];i.open("POST",lt(e)),i.setRequestHeader("Content-Type",a),i.timeout=3e3,i.onabort=o,i.onerror=o,i.ontimeout=o,i.onreadystatechange=function(){if(4===i.readyState)try{var e=JSON.parse(i.responseText);n([e,i])}catch(t){ne("post",new SyntaxError(i.responseText)),o(t)}},t?"application/json"===a?i.send(JSON.stringify(t)):i.send("xsrf="+L()+"&"+t):i.send()}))}function lt(e){if(/[&?]u=/.test(e))return e;var t="u="+(vt()||""),n=e.indexOf("?")>=0?"&":"?";return e+n+t}function ft(e){return 11e3===e||12100===e||11005===e||12105===e||11006===e}function dt(){return pt()||D(q?we:be)||(null==(e=window.global_multi_user)?void 0:e.uid)||function(){var e,t=(null==(e=window.clientVars)?void 0:e.userInfo)||{},n=t.tinyId,r=t.uid;return n||r}();var e}function pt(){var e;return null==(e=window.basicClientVars)?void 0:e.userInfo.tinyId}function ht(){return D(q?Se:Ee)}function vt(){var e;return window.nowUserIndex||(null==(e=window.basicClientVars)?void 0:e.userInfo.nowUserIndex)||N("u")}function gt(){if(Oe())return yt()}function yt(){return function(){if(!pt())return;var e=window.basicClientVars.userInfo,t=e.tinyId,n=e.corpId||"",r=e.corpName||"",o=e.englishName||"",i=e.loginType||0,a=e.uin||"0",s=e.uidSource||0,c=e.openId||"",u=e.userPic||"",l=e.userName||"",f=e.nowUserIndex||"";return Object.assign({},_t,{uid:t,corpId:n,corpName:r,englishName:o,loginType:i,login:!!t,uin:a,uidSource:s,wxOpenid:c,openId:c,tinyid:t,tinyId:t,userId:t,avatar:u,userPic:u,nick:l,userName:l,toid:t,xu:f,nowUserIndex:f,wechatOfficialAccount:e.officialAuthInfo?Object.assign({},e.officialAuthInfo,{isOfficialAccount:!0}):_t.wechatOfficialAccount})}()||(e=dt()||"",t=vt()||"",Object.assign({},_t,{uid:e,corpId:"",corpName:"",englishName:"",loginType:0,login:!0,uin:"0",uidSource:0,wxOpenid:"",openId:"",tinyid:e,tinyId:e,userId:e,avatar:"",userPic:"",nick:"",userName:"",toid:e,xu:t,nowUserIndex:t}));var e,t}function mt(e){return void 0===e&&(e=vt()),wt(e,"get_vip_info=1").then((function(e){var t=e[0],n=e[1];if(!ft(t.retcode))return 0!==t.retcode?Q("FetchUserInfoFailed"):function(e,t){var n=vt()||"",r=function(e){try{return ct(JSON.parse(e))}catch(t){return null}}(e.vip);return Object.assign({},ct(e),{vip:r,uin:String(e.uin),tinyId:e.tinyid,openId:e.wx_openid,userName:e.nick,userPic:e.avatar,xu:n,nowUserIndex:n})}(t,n.getResponseHeader("x-u"))}))}var _t={qqAvatar:"",qqNick:"",wxAvatar:"",wxNick:"",domain:"",domainId:"",loginTime:0,vip:{vipLevel:0,avatarFrameUrl:"",renewalStatus:0,expiredStatus:0,corpVipLevel:0,cursorId:"",cursor:"",badgeUrl:""},wechatOfficialAccount:{avatar:"",nick:"",introduction:"",type:0,principal:"",credential:"",isOfficialAccount:!1}};function bt(e){return void 0===e&&(e=vt()),Oe()?wt(e,"only_check=1").then((function(e){return 0===e[0].retcode})):Promise.resolve(!1)}function wt(e,t){var n="/cgi-bin/online_docs/user_info?xsrf="+L()+"&"+t;return e&&(n+="&u="+encodeURIComponent(e)),function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",lt(e)),r.timeout=3e3,r.onabort=n,r.onerror=n,r.ontimeout=n,r.onreadystatechange=function(){if(4===r.readyState)try{var e=JSON.parse(r.responseText);t([e,r])}catch(o){n(o)}},r.send()}))}(n)}function Et(e){return void 0===e&&(e={}),X("authenticate","start"),Promise.resolve().then((function(){return function(e){var t=Oe();if(It(t),!t&&!e.login)return;return Promise.resolve().then((function(){if(t)return e.fetchUserInfo?mt():yt();X("authenticate","login");var n=e.login;(0,n[0])(n[1]).catch((function(){return ee("authenticate","login")}))})).then((function(t){return t&&e.fetchUserInfo&&!1!==e.accountApplication?De(e.accountApplication,t).then((function(){return t})):t}))}(function(e){var t;return{login:St(e),fetchUserInfo:null!=(t=e.fetchUserInfo)?t:!("basicClientVars"in window),accountApplication:void 0!==e.accountApplication?e.accountApplication:!!Ae()&&void 0}}(e))})).then((function(e){var t=!!e;return X("authenticate",Rt(t)),It(t),e})).catch((function(e){ne("authenticate",e),ue()}))}function St(e){if("1"!==N("nologin")){if(e.login||void 0===e.login&&"1"===N("autoshowlogin"))return[We,Ot(e.login)];if(!1!==e.autoLogin&&(void 0!==e.autoLogin||Ae()))return[Ge,Ot(e.autoLogin)]}}function Ot(e){return"object"==typeof e?e:void 0}function It(e){var t=ce();if(t){var n=Rt(e);Date.now()-t>se?X("login-track","timeout/"+n):e?X("login-track",n):ne("login-track",n),ue()}}function Rt(e){return e?"logged-in":"not-logged-in"}function Ct(e){return void 0===e&&(e={}),X("authenticateIndependentPassword","start"),function(e){return Tt().then((function(t){return t?(X("authenticateIndependentPassword","valid"),!0):(X("authenticateIndependentPassword","requestIndependentPassword"),xt(e))}))}(e).catch((function(e){return ne("authenticateIndependentPassword",e),!1}))}function Tt(){return X("isIndependentPasswordTokenValid","start"),Oe()?ut("/cgi-bin/online_docs/doclist","list_type=59184").then((function(e){var t=e[0].retcode;if(ft(t))return ee("isIndependentPasswordTokenValid","not-logged-in"),Mt();var n=20062!==t;return X("isIndependentPasswordTokenValid",n?"valid":"invalid"),n}),(function(e){return ne("isIndependentPasswordTokenValid",e),!0})):(ee("isIndependentPasswordTokenValid","not-logged-in"),Mt())}function xt(e){if(void 0===e&&(e={}),!Oe())return ee("requestIndependentPassword","not-logged-in"),Mt();var t=function(e){return Object.assign({},e,{successUrl:e.successUrl||location.href})}(e);return(p()?kt:At)(t).catch((function(e){throw ne("requestIndependentPassword",e),e}))}function At(e){return Promise.all([Ne(e.extensionService),xe(e.extensionService),Dt(e.userInfo)]).then((function(e){var t=e[0],n=e[1],r=e[2];return function(e,t){e.dependentServiceCombinder.accountDomain.accountAggregate.userInfo.jsonObj2Class(t,!0)}(n,{userName:r.nick,userPic:r.avatar}),t.show({usageScenario:"OPEN_FULL_LOGIN_FOR_PASSWORD"}),Ke()}))}function kt(e){var t;return Promise.all([(t=e.extensionService,Pe(t,{name:"docs-component-independent-pwd-mobile",loadType:Me})),Dt(e.userInfo)]).then((function(t){var n=t[0],r=t[1];return n.show({userInfo:r,isDesktop:!0,successUrl:e.successUrl}),Object.assign(n.container.style,{position:"fixed",left:"0",top:"0",width:"100vw",height:"100vh",zIndex:"999999"}),Ke()}))}function Dt(e){var t=e||gt();return(null==t?void 0:t.nick)&&t.avatar||(t=mt()),Promise.resolve(t).then((function(e){return e||Mt()}))}function Mt(){return Q("UserIsNotLoggedIn")}function Pt(){var e;e=F(),P(me,"/",e),P(_e,"/",e),P(be,"/",e),P(Ee,"/",e),P(we,"/",e),P(Se,"/",e)}function Nt(){return ut("/api/enterprise/account/logout",null,{header:{"Content-Type":"application/json"}}).then((function(e){var t=e[0];return(null==t?void 0:t.retcode)?Promise.reject(!1):Promise.resolve(!0).then((function(){return window.location.reload(),!0}))}))}function Lt(){return ut("/api/enterprise/relationship/contacts/role",null,{header:{"Content-Type":"application/json"}}).then((function(e){var t,n=e[0];return!(null==n?void 0:n.retcode)&&!!(null==(t=null==n?void 0:n.result)?void 0:t.is_admin)}))}},15342:function(e,t,n){"use strict";n.r(t),n.d(t,{authenticate:function(){return ft},authenticateIndependentPassword:function(){return ht},autoLogin:function(){return at},checkLogin:function(){return We},doEidLogout:function(){return wt},fetchUserInfo:function(){return Be},getNowUserIndex:function(){return je},getUid:function(){return Me},getUidFromCookie:function(){return Ne},getUidKey:function(){return Le},getUserInfo:function(){return Ue},isAuthenticationFailureCode:function(){return Ke},isEidAdmin:function(){return Et},isIndependentPasswordTokenValid:function(){return vt},isLogin:function(){return ee},isTestEnv:function(){return _},loadScript:function(){return N},loadWXMiniProgramSDK:function(){return L},login:function(){return ot},loginOnce:function(){return it},logout:function(){return me},miniProgramLogin:function(){return U},mobileFallbackLogin:function(){return G},mobileQQLogin:function(){return K},mobileTencentDocsLogin:function(){return te},openPrivateAccountCenter:function(){return St},openPrivateAdminCenter:function(){return Ot},openSaaSAccountCenter:function(){return Xe},openSaaSAdminCenter:function(){return et},openSaaSAuthorizePage:function(){return Je},openSaaSTdocsPrivacyPolicy:function(){return nt},openSaaSTdocsServiceAgreement:function(){return tt},pcLogin:function(){return de},requestIndependentPassword:function(){return gt},wechatLogin:function(){return he},weworkLogin:function(){return ge}});var r=n(49879),o=(0,n(86168).ij)();function i(){return"undefined"!=typeof document?document.cookie:""}function a(e,t){var n,r=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)");return void 0===t&&(t=i()),null==(n=t.match(r))?void 0:n[1]}function s(e,t,n,r,o){if(void 0===n&&(n=2592e6),void 0===r&&(r="/"),"undefined"!=typeof document){var i=new Date(Date.now()+864e5*n);document.cookie=e+"="+encodeURIComponent(t)+";expires="+i.toUTCString()+";path="+r+";"+(o?"domain="+o+";":"")}}function c(e,t,n){"undefined"!=typeof document&&(document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path="+(t||"/")+";"+(n?"domain="+n+";":""))}function u(e,t){var n;void 0===t&&(t=function(){if("undefined"==typeof location)return"";return location.search}());var r=new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"),o=null==(n=t.match(r))?void 0:n[2];return void 0===o?o:decodeURIComponent(o)}function l(){return a("TOK")}function f(){var e,t;return null==(t=null==(e=window.AppConfig)?void 0:e.normal)?void 0:t.runtime}function d(){var e;return null==(e=window.AppConfig)?void 0:e.normal}function p(){var e;return(null==(e=f())?void 0:e.domainName)||"docs.qq.com"}var h=function(){return"qydocs.qq.com"===p()},v=function(){return 0===location.pathname.indexOf("/desktop")},g=function(){return 0===location.pathname.indexOf("/mall")},y=function(){return 0===location.pathname.indexOf("/resume")};function m(){var e;return"toc"===(null==(e=d())?void 0:e.domain)}var _=function(){var e=a("env_id")||"",t=a("env_name")||"";return/^(uat|sit(-[0-9a-z]{8})?)$/.test(e)&&!/^(release|hotfix)\//i.test(t)};function b(e){throw O(e)}function w(e){return Promise.reject(O(e))}function E(e,t){console.error(S(e,t))}function S(e,t){return"[docs-login] "+e+" failed: "+((null==t?void 0:t.stack)||(null==t?void 0:t.message)||t)}function O(e){return new Error("[docs-login] "+e)}var I=0,R=1;function C(e,t){void 0===t&&(t=""),x(e,t,I)}function T(e,t){void 0===t&&(t=""),x(e,t,R)}function x(e,t,n){try{if(D())return;if("private-tdocs"===(null==(i=d())?void 0:i.domain))return;var r=[["fc_login","status","docs-login/"+e,n,[t,M()]]],o=function(){var e,t;return(null==(t=null==(e=f())?void 0:e.reportCgiMap)?void 0:t.zzsReport)||"https://report.idqqimg.com/node_b/zzsreport"}()+"?datas="+encodeURIComponent(JSON.stringify(r))+"&version=0.9.19";navigator.sendBeacon(o)}catch(a){E("report",a)}var i}function A(e,t){try{if(E(e,t),T(e,"string"==typeof t?t:"error"),"undefined"==typeof aegis)return;aegis.error(S(e,t))}catch(n){E("reportError",n)}}var k,D=function(){return void 0===k&&(k="undefined"==typeof navigator||!navigator.sendBeacon),k},M=function(){var e;return function(){if(void 0===e){var t=location.pathname.match(/^(\/.*?)(\/|$)/);e=location.hostname+((null==t?void 0:t[1])||"/")}return e}}();function P(e,t,n){return Promise.resolve().then((function(){var r,o;if(!(e in window))return N((null==(o=null==(r=f())?void 0:r.library)?void 0:o[t])||n)})).then((function(){return window[e]}))}function N(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.onload=function(){return t()},r.onerror=function(){return n(new Error("Failed to load script"))},document.body.appendChild(r)}))}function L(){return P("wx","TENCENT_DOCS_LIBRARY__jweixin_1_6_0","https://docs.gtimg.com/lib/js/jweixin_1_6_0.js")}function j(){return P("mqq","TENCENT_DOCS_LIBRARY__docs_qqapi","https://docs.gtimg.com/lib/js/docs_qqapi-1e4364.js")}function U(e){return void 0===e&&(e={}),F(st(e))}function F(e){C("login-mini-program");var t="/pages/detail/detail?reason=pskey_error&url="+encodeURIComponent(e.successUrl),n=u("rtkey");return n&&(t+="&scene="+n),(r.gP(o)?P("qq","TENCENT_DOCS_LIBRARY__qqjssdk_1_0_0","https://docs.gtimg.com/lib/js/qqjssdk_1_0_0.js"):L()).then((function(e){var n;return(null==(n=null==e?void 0:e.miniProgram)?void 0:n.reLaunch)||b("MissingJSSDK"),e.miniProgram.reLaunch({url:t}),ct()}))}var B="#",q="?",W="&";function V(e,t){var n,r=e.split(q),o=null===(n=r[1])||void 0===n?void 0:n.split(W);if(!o)return e;var i=o;return t.forEach((function(e){o.forEach((function(t){if(0===t.indexOf("".concat(e,"="))){var n=i.indexOf(t);i.splice(n,1)}}))})),0===i.length?r[0]:(r[1]=i.join(W),r.join(q))}function G(e){return void 0===e&&(e={}),H(st(e))}function H(e){var t=e.successUrl;return C("login-mobile-fallback"),"1"===u("nojump")&&(t=function(e){for(var t=arguments,n=[],r=1;r<arguments.length;r++)n[r-1]=t[r];if(e.split(q).length<2||n.length<1)return e;if(e.includes(B)){var o=e.split(B);return o[0]=V(o[0],n),o.join(B)}return V(e,n)}(location.href,"nojump")),location.href="/login.html?jump_url="+encodeURIComponent(t),ct()}function K(e){return void 0===e&&(e={}),Q(st(e))}function Q(e){return C("login-qq"),"1"===u("nojump")?ut():j().then((function(e){var t=new Promise((function(t){return e.invoke("data","updateLoginInfo",{key:"pskey"},t)})),n=new Promise((function(e){return setTimeout(e,1e3)}));return Promise.race([t,n])})).then((function(){return location.replace("/api/user/qq/login?u=login&redirect_uri="+encodeURIComponent(e.successUrl)),ct()}))}var Y="DOC_SID",Z="SID",z="uid",$="TDOCS_UID",J="uid_key",X="TDOCS_UID_KEY";function ee(){var e;if(window.basicClientVars){var t=window.basicClientVars.userInfo.uidSource;return(!(v()||g()||y())||!m()||3!==t)&&!!(null==(e=window.basicClientVars.userInfo)?void 0:e.tinyId)}var n=i();return!!(function(e){void 0===e&&(e=i());return a(Y,e)||a(Z,e)||void 0}(n)||a(z,n)&&a(J,n)||a($,n)&&a(X,n))}function te(e){return void 0===e&&(e={}),ne(st(e))}function ne(e){return C("login-mobile-tencent-docs"),r.ZB("3.0.0",o)?j().then((function(e){return sessionStorage.getItem(re)?(sessionStorage.removeItem(re),e.invoke("nav","showLoginPage"),ct()):new Promise((function(t){return e.invoke("docx","getAppCookies",{},t)}))})).then((function(t){var n=null==t?void 0:t.cookies,r=a(z,n),o=a(J,n),i=a(Y,n)||a(Z,n)||void 0;return i||r&&o?(r&&s(z,r,void 0,"/",p()),o&&s(J,o,void 0,"/",p()),i&&s(Y,i,void 0,"/",p()),i&&s(Z,i,void 0,"/",p()),sessionStorage.setItem(re,"1"),setTimeout((function(){location.replace(e.successUrl)})),ct()):j().then((function(e){return e.invoke("nav","showLoginPage"),ct()}))})):ut()}var re="docs-login-app-has-tried-login";function oe(e){return Promise.resolve(e).then((function(e){return"function"==typeof e?e():e}))}function ie(e){return oe(e||se)}function ae(){return!!window.__ARK_EXTENSION_SERVICE__}function se(){var e=window.__ARK_EXTENSION_SERVICE__;return e||b("MissingExtensionService"),e}function ce(e,t){return(n=e,oe(n||se).then((function(e){return"getExtension"in e?e.dependentServiceCombinder.accountApplication:e}))).then((function(e){var n=e.accountDomainService,r=e.loginDomainService;n.createPersonalEnvAccountAggregateByUserInfoCgi(t,t.nowUserIndex),r.createLoginAggregate(t.tinyId),e.initDomainService(),e.isInitFinish=!0})).catch((function(e){A("initAccountApplication",e)}));var n}var ue=3;function le(e,t){return ie(e).then((function(e){return e.scanAndHandleExtensions([t]).then((function(){return e.getExtension(t.name)}))}))}function fe(e){return le(e,{name:"docs-component-login",loadType:ue})}function de(e){return void 0===e&&(e={}),pe(st(e))}function pe(e){return C("login-pc"),fe(e.extensionService).then((function(t){return new Promise((function(n){var r=e.cancellable,o=e.useQQOAuth,i=e.useWechatOfficialAccount;t.show({usageScenario:r?"OPEN_LOGIN_BOX":"OPEN_FULL_LOGIN_BOX",fullscreenMode:!r,isShowCloseBtn:r,closeBoxCallback:function(){return n(ut())},useQQOAuth:o,useWechatOfficialAccount:i})}))}))}function he(e){return void 0===e&&(e={}),ve(st(e))}function ve(e){return C("login-wechat","start"),function(e){return(t=e.extensionService,le(t,{name:"docs-component-login-button-mobile",loadType:ue})).then((function(t){var n=t.renderPopup;return new Promise((function(t){n((function(){return t(!0)}),(function(){return t(!1)})).showPopup(0,e.cancellable)}))}));var t}(e).then((function(t){return t?(C("login-wechat","oauth"),function(e){var t="wx46dfe750eef96da7",n="https://"+p()+"/scenario/wx-login.html?target="+encodeURIComponent(e.successUrl),r="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t+"&redirect_uri="+encodeURIComponent(n)+"&response_type=code&scope=snsapi_userinfo&state=onweixinlogin#wechat_redirect";return location.replace(r),ct()}(e)):(C("login-wechat","cancelled"),ut())}))}function ge(e){return void 0===e&&(e={}),ye(st(e))}function ye(e){C("login-wework");var t="https://"+p()+"/api/account/wecom/login?u=login&redirect_uri="+encodeURIComponent(e.successUrl),n="https://open.weixin.qq.com/connect/oauth2/authorize?"+("appid=ww20388f7040b655b7&redirect_uri="+encodeURIComponent(t)+"&response_type=code&scope=snsapi_userinfo&state=weworklogin")+"#wechat_redirect";return location.replace(n),ct()}function me(){var e;e=p(),c(Y,"/",e),c(Z,"/",e),c(z,"/",e),c(J,"/",e),c($,"/",e),c(X,"/",e)}const _e=Object.assign;function be(e){return e.toLowerCase()}var we=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Ee=/[^A-Z0-9]+/gi;function Se(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function Oe(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function Ie(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?we:n,o=t.stripRegexp,i=void 0===o?Ee:o,a=t.transform,s=void 0===a?be:a,c=t.delimiter,u=void 0===c?" ":c,l=Se(Se(e,r,"$1\0$2"),i,"\0"),f=0,d=l.length;"\0"===l.charAt(f);)f++;for(;"\0"===l.charAt(d-1);)d--;return l.slice(f,d).split("\0").map(s).join(u)}(e,_e({delimiter:"",transform:Oe},t))}function Re(e,t){return 0===t?e.toLowerCase():Oe(e,t)}function Ce(e,t){return void 0===t&&(t={}),Ie(e,_e({transform:Re},t))}var Te=function(e){return"object"==typeof e&&null!==e},xe=function(e){return Te(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date)&&!(globalThis.Blob&&e instanceof globalThis.Blob)},Ae=Symbol("mapObjectSkip"),ke=function(e,t,n,r){if(void 0===r&&(r=new WeakMap),n=Object.assign({},{deep:!1,target:{}},n),r.has(e))return r.get(e);r.set(e,n.target);var o=n.target;delete n.target;var i=function(e){return e.map((function(e){return xe(e)?ke(e,t,n,r):e}))};if(Array.isArray(e))return i(e);for(var a=0,s=Object.entries(e);a<s.length;a+=1){var c=s[a],u=c[0],l=c[1],f=t(u,l,e);if(f!==Ae){var d=f[0],p=f[1],h=f[2];void 0===h&&(h={});var v=h.shouldRecurse;void 0===v&&(v=!0),"__proto__"!==d&&(n.deep&&v&&xe(p)&&(p=Array.isArray(p)?i(p):ke(p,t,n,r)),o[d]=p)}}return o};function De(e){return"object"!=typeof(t=e)||null===t?e:Array.isArray(e)?e.map(De):function(e,t,n){if(!Te(e))throw new TypeError("Expected an object, got `"+e+"` ("+typeof e+")");if(Array.isArray(e))throw new TypeError("Expected an object, got an array");return ke(e,t,n)}(e,(function(e,t){return[Ce(e),De(t)]}));var t}function Me(){return Pe()||Ne()||(null==(e=window.global_multi_user)?void 0:e.uid)||function(){var e,t=(null==(e=window.clientVars)?void 0:e.userInfo)||{},n=t.tinyId,r=t.uid;return n||r}();var e}function Pe(){var e;return null==(e=window.basicClientVars)?void 0:e.userInfo.tinyId}function Ne(){var e,t;return(null==(t=null==(e=d())?void 0:e.npm["@tencent/docs-login"])?void 0:t.USE_TDOCS_UID)?a($):a(z)}function Le(){return(null==(t=null==(e=d())?void 0:e.npm["@tencent/docs-login"])?void 0:t.USE_TDOCS_UID)?a(X):a(J);var e,t}function je(){var e;return window.nowUserIndex||(null==(e=window.basicClientVars)?void 0:e.userInfo.nowUserIndex)||u("u")}function Ue(){if(ee())return Fe()}function Fe(){return function(){if(!Pe())return;var e=window.basicClientVars.userInfo,t=e.tinyId,n=e.corpId||"",r=e.corpName||"",o=e.englishName||"",i=e.loginType||0,a=e.uin||"0",s=e.uidSource||0,c=e.openId||"",u=e.userPic||"",l=e.userName||"",f=e.nowUserIndex||"";return Object.assign({},qe,{uid:t,corpId:n,corpName:r,englishName:o,loginType:i,login:!!t,uin:a,uidSource:s,wxOpenid:c,openId:c,tinyid:t,tinyId:t,userId:t,avatar:u,userPic:u,nick:l,userName:l,toid:t,xu:f,nowUserIndex:f,wechatOfficialAccount:e.officialAuthInfo?Object.assign({},e.officialAuthInfo,{isOfficialAccount:!0}):qe.wechatOfficialAccount})}()||(e=Me()||"",t=je()||"",Object.assign({},qe,{uid:e,corpId:"",corpName:"",englishName:"",loginType:0,login:!0,uin:"0",uidSource:0,wxOpenid:"",openId:"",tinyid:e,tinyId:e,userId:e,avatar:"",userPic:"",nick:"",userName:"",toid:e,xu:t,nowUserIndex:t}));var e,t}function Be(e){return void 0===e&&(e=je()),Ve(e,"get_vip_info=1").then((function(e){var t=e[0],n=e[1];if(!Ke(t.retcode))return 0!==t.retcode?w("FetchUserInfoFailed"):function(e,t){var n=je()||"",r=function(e){try{return De(JSON.parse(e))}catch(t){return null}}(e.vip);return Object.assign({},De(e),{vip:r,uin:String(e.uin),tinyId:e.tinyid,openId:e.wx_openid,userName:e.nick,userPic:e.avatar,xu:n,nowUserIndex:n})}(t,n.getResponseHeader("x-u"))}))}var qe={qqAvatar:"",qqNick:"",wxAvatar:"",wxNick:"",domain:"",domainId:"",loginTime:0,vip:{vipLevel:0,avatarFrameUrl:"",renewalStatus:0,expiredStatus:0,corpVipLevel:0,cursorId:"",cursor:"",badgeUrl:""},wechatOfficialAccount:{avatar:"",nick:"",introduction:"",type:0,principal:"",credential:"",isOfficialAccount:!1}};function We(e){return void 0===e&&(e=je()),ee()?Ve(e,"only_check=1").then((function(e){return 0===e[0].retcode})):Promise.resolve(!1)}function Ve(e,t){var n="/cgi-bin/online_docs/user_info?xsrf="+l()+"&"+t;return e&&(n+="&u="+encodeURIComponent(e)),function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",He(e)),r.onabort=n,r.onerror=n,r.ontimeout=n,r.onreadystatechange=function(){if(4===r.readyState)try{var e=JSON.parse(r.responseText);t([e,r])}catch(o){n(o)}},r.send()}))}(n)}function Ge(e,t,n){var r=Object.assign({},{header:{"Content-Type":"application/x-www-form-urlencoded"}},n);return new Promise((function(n,o){var i=new XMLHttpRequest,a=r.header["Content-Type"];i.open("POST",He(e)),i.setRequestHeader("Content-Type",a),i.timeout=3e3,i.onabort=o,i.onerror=o,i.ontimeout=o,i.onreadystatechange=function(){if(4===i.readyState)try{var e=JSON.parse(i.responseText);n([e,i])}catch(t){A("post",new SyntaxError(i.responseText)),o(t)}},t?"application/json"===a?i.send(JSON.stringify(t)):i.send("xsrf="+l()+"&"+t):i.send()}))}function He(e){if(/[&?]u=/.test(e))return e;var t="u="+(je()||""),n=e.indexOf("?")>=0?"&":"?";return e+n+t}function Ke(e){return 11e3===e||12100===e||11005===e||12105===e||11006===e}function Qe(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=new RegExp("([?&])"+n+"=.*?(&|$)","i"),o=t[n],i=-1!==e.indexOf("?")?"&":"?";e=e.match(r)?e.replace(r,"$1"+n+"="+o+"$2"):e+i+n+"="+o}return e}var Ye=_()?"ci-756.account.tencentcs.com":"account.tencent.com",Ze=_()?"ci-756.workspace.tencentcs.com":"workspace.tencent.com",ze=_()?"//oauth2.ci-756.account.tencentcs.com/v1/authorize":"//oauth2.account.tencent.com/v1/authorize",$e=_()?"cXCIqAyyINIOLhZXWkZvKRGj":"ZHedOjkJuhiGQYbEjBshoehx",Je=function(e){var t=(e||{}).target_link_uri;void 0===t&&(t="");var n=Qe("https://saas.docs.qq.com/scenario/saas-login-callback",t?{target_link_uri:t}:{}),r=Qe(ze,{client_id:$e,response_type:"code",redirect_uri:encodeURIComponent(n),scope:"openid profile"});location.replace(r)},Xe=function(){var e="//"+Ye+"/#/profile";window.open(e)},et=function(){var e="//"+Ze+"/admin/#/users";window.open(e)},tt=function(){window.open("https://docs.qq.com/doc/p/8c9b7590b5484c7532c636a1011da1d915829ac8")},nt=function(){window.open("https://docs.qq.com/doc/p/198d55cb4f92b4acb5c9d82c060ab65bebe8a4db")},rt=function(e){var t=e.successUrl;return void 0===t&&(t=""),Je({target_link_uri:t}),ct()};function ot(e){return void 0===e&&(e={}),lt("login",(function(){return function(e){var t,n,i;if(h())return location.replace("https://"+p()+"/scenario/enterprise-experience-entry.html"),ct();if("saas-tdocs"===(null==(t=d())?void 0:t.domain))return rt(e);if(null==(i=null==(n=d())?void 0:n.npm["@tencent/docs-login"])?void 0:i.DO_EID_LOGIN)return function(e){return C("login-eid"),me(),location.replace(e.successUrl),ct()}(e);if(r.VJ(o))return ne(e);if(r.C0(o))return F(e);if(r.e3(o))return ve(e);if(r.ow(o)&&!r.i4(o)){if(!((v()||g())&&m()))return ye(e)}if(r.xB(o))return Q(e);if(r.p(o))return H(e);return pe(e)}(st(e))}))}function it(e){return void 0===e&&(e={}),it.req||(it.req=ot(e).then((function(e){return it.req=null,e}))),it.req}function at(e){return void 0===e&&(e={}),lt("autoLogin",(function(){return function(e){if(r.e3(o))return ve(e);if(r.ow(o)&&!r.i4(o))return ye(e);return ut()}(st(e))}))}function st(e){var t,n,r;return{extensionService:e.extensionService,cancellable:null==(t=e.cancellable)||t,successUrl:e.successUrl||location.href,useQQOAuth:null!=(n=e.useQQOAuth)&&n,useWechatOfficialAccount:null!=(r=e.useWechatOfficialAccount)&&r}}function ct(){return new Promise((function(){}))}function ut(){return Promise.resolve({cancelled:!0})}function lt(e,t){return C(e,"start"),Promise.resolve().then(t).then((function(t){return C(e,"done"),t})).catch((function(t){throw A(e,t),t}))}function ft(e){return void 0===e&&(e={}),C("authenticate","start"),Promise.resolve().then((function(){return function(e){var t=ee();if(!t&&!e.login)return;return Promise.resolve().then((function(){if(t)return e.fetchUserInfo?Be():Fe();C("authenticate","login");var n=e.login;(0,n[0])(n[1]).catch((function(){return T("authenticate","login")}))})).then((function(t){return t&&e.fetchUserInfo&&!1!==e.accountApplication?ce(e.accountApplication,t).then((function(){return t})):t}))}(function(e){var t;return{login:dt(e),fetchUserInfo:null!=(t=e.fetchUserInfo)?t:!("basicClientVars"in window),accountApplication:void 0!==e.accountApplication?e.accountApplication:!!ae()&&void 0}}(e))})).then((function(e){return C("authenticate",function(e){return e?"logged-in":"not-logged-in"}(!!e)),e})).catch((function(e){A("authenticate",e)}))}function dt(e){if("1"!==u("nologin")){if(e.login||void 0===e.login&&"1"===u("autoshowlogin"))return[ot,pt(e.login)];if(!1!==e.autoLogin&&(void 0!==e.autoLogin||ae()))return[at,pt(e.autoLogin)]}}function pt(e){return"object"==typeof e?e:void 0}function ht(e){return void 0===e&&(e={}),C("authenticateIndependentPassword","start"),function(e){return vt().then((function(t){return t?(C("authenticateIndependentPassword","valid"),!0):(C("authenticateIndependentPassword","requestIndependentPassword"),gt(e))}))}(e).catch((function(e){return A("authenticateIndependentPassword",e),!1}))}function vt(){return C("isIndependentPasswordTokenValid","start"),ee()?Ge("/cgi-bin/online_docs/doclist","list_type=59184").then((function(e){var t=e[0].retcode;if(Ke(t))return T("isIndependentPasswordTokenValid","not-logged-in"),bt();var n=20062!==t;return C("isIndependentPasswordTokenValid",n?"valid":"invalid"),n}),(function(e){return A("isIndependentPasswordTokenValid",e),!0})):(T("isIndependentPasswordTokenValid","not-logged-in"),bt())}function gt(e){if(void 0===e&&(e={}),!ee())return T("requestIndependentPassword","not-logged-in"),bt();var t=function(e){return Object.assign({},e,{successUrl:e.successUrl||location.href})}(e);return(r.tq()?mt:yt)(t).catch((function(e){throw A("requestIndependentPassword",e),e}))}function yt(e){return Promise.all([fe(e.extensionService),ie(e.extensionService),_t(e.userInfo)]).then((function(e){var t=e[0],n=e[1],r=e[2];return function(e,t){e.dependentServiceCombinder.accountDomain.accountAggregate.userInfo.jsonObj2Class(t,!0)}(n,{userName:r.nick,userPic:r.avatar}),t.show({usageScenario:"OPEN_FULL_LOGIN_FOR_PASSWORD"}),ct()}))}function mt(e){var t;return Promise.all([(t=e.extensionService,le(t,{name:"docs-component-independent-pwd-mobile",loadType:ue})),_t(e.userInfo)]).then((function(t){var n=t[0],r=t[1];return n.show({userInfo:r,isDesktop:!0,successUrl:e.successUrl}),Object.assign(n.container.style,{position:"fixed",left:"0",top:"0",width:"100vw",height:"100vh",zIndex:"999999"}),ct()}))}function _t(e){var t=e||Ue();return(null==t?void 0:t.nick)&&t.avatar||(t=Be()),Promise.resolve(t).then((function(e){return e||bt()}))}function bt(){return w("UserIsNotLoggedIn")}function wt(){var e=Qe("https://"+p()+"/api/enterprise/account/logout",{redirect_uri:encodeURIComponent(location.href),xsrf:l()||""});return location.replace(e),Promise.resolve(!0)}function Et(){return Ge("//"+p()+"/api/enterprise/relationship/contacts/role?xsrf="+l(),null,{header:{"Content-Type":"application/json"}}).then((function(e){var t,n=e[0];return!(null==n?void 0:n.retcode)&&!!(null==(t=null==n?void 0:n.result)?void 0:t.is_admin)}))}it.req=null;var St=function(){var e="https://"+p()+"/eid/idp/#/profile";window.open(e)},Ot=function(){var e="https://"+p()+"/eid/admin";window.open(e)}},97752:function(e,t,n){window,e.exports=function(e,t,n,r,o){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r,o,i;n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),function(e){e.DOC_SID="DOC_SID",e.SID="SID",e.UID="uid",e.UID_KEY="uid_key",e.USER_TYPE="utype"}(r||(r={})),function(e){e.P_LONG_UIN="p_luin",e.P_LONG_SKEY="p_lskey",e.P_UIN="p_uin",e.P_SKEY="p_skey"}(o||(o={})),function(e){e.UID="tdoc_uid",e.SKEY="wedoc_skey"}(i||(i={}))},function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";n.r(t),n.d(t,"getUid",(function(){return a})),n.d(t,"getNowUserId",(function(){return s})),n.d(t,"isLogin",(function(){return c})),n.d(t,"getSid",(function(){return u})),n.d(t,"loginType",(function(){return l})),n.d(t,"checkWeWork",(function(){return f}));var r=n(0),o=n(1);function i(){return"doc.weixin.qq.com"===location.hostname}function a(){var e,t,n;return(null===(e=window.global_multi_user)||void 0===e?void 0:e.uid)||(null===(n=null===(t=window.clientVars)||void 0===t?void 0:t.userInfo)||void 0===n?void 0:n.uid)||Object(r.getCookie)("uid")||(i()?Object(r.getCookie)(o.a.UID):"")}function s(){return window.nowUserIndex||a()}function c(){return!!(Object(r.getCookie)(o.c.UID)&&Object(r.getCookie)(o.c.UID_KEY)||Object(r.getCookie)(o.c.DOC_SID)||Object(r.getCookie)(o.c.SID)||Object(r.getCookie)(o.b.P_UIN)&&Object(r.getCookie)(o.b.P_SKEY)||Object(r.getCookie)(o.b.P_LONG_UIN)&&Object(r.getCookie)(o.b.P_LONG_SKEY))||!(!i()||!Object(r.getCookie)(o.a.SKEY))}function u(){var e,t;return null!==(t=null!==(e=Object(r.getCookie)(o.c.DOC_SID))&&void 0!==e?e:Object(r.getCookie)(o.c.SID))&&void 0!==t?t:""}function l(){var e,t=Object(r.getCookie)(o.c.USER_TYPE);return(null===(e=window.global_multi_user)||void 0===e?void 0:e.utype)||t}function f(){return"ww"===l()}},function(e,n){e.exports=t},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=n},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function f(){}function d(){}function p(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,o)&&(h=g);var y=p.prototype=f.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,s(y,"constructor",p),s(p,"constructor",d),d.displayName=s(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(_.prototype),s(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n.r(t),n.d(t,"isMultiLoginGray",(function(){return B})),n.d(t,"checkMultiLoginGrayAsync",(function(){return q})),n.d(t,"mobileIsMultiLoginGray",(function(){return W})),n.d(t,"mobileCheckMultiLoginGrayAsync",(function(){return V})),n.d(t,"quickQQLoginAsync",(function(){return G})),n.d(t,"quickQQLogin",(function(){return H})),n.d(t,"getUid",(function(){return K})),n.d(t,"getNowUserId",(function(){return Q})),n.d(t,"isLogin",(function(){return Y})),n.d(t,"loginType",(function(){return Z})),n.d(t,"getLoginType",(function(){return z})),n.d(t,"getUtype",(function(){return $})),n.d(t,"inWeWork",(function(){return J}));var r,o=n(3),i=n(2),a=n.n(i),s=n(4),c=n.n(s),u=n(0),l=n(8),f=n.n(l),d=n(5),p=n.n(d),h=n(6),v=n.n(h),g=n(9),y=n.n(g),m=n(10),_=n.n(m),b=n(1),w=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},E=function(e){return e},S=function(){var e,t,n;return Object(u.getCookie)(b.c.UID)||(null===(e=window.global_multi_user)||void 0===e?void 0:e.uid)||(null===(n=null===(t=window.clientVars)||void 0===t?void 0:t.userInfo)||void 0===n?void 0:n.uid)},O=function(){function e(){p()(this,e),this.url="https://service-4y7r0fta-1251316161.gz.apigw.tencentcs.com/release/toggleProxy-1613409159",this.productEn="tdocs_manager",this.productKey="ab1ef06b-d248-4d99-b937-e18af1b82d14",this.productId="698ba977-c8d4-47cb-bf51-b79b305e38d4",this.version="1.0.1",this.moduleId="219"}return v()(e,[{key:"isEnabled",value:function(e,t){return w(this,void 0,void 0,a.a.mark((function n(){var r,o,i,s,c,u,l;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.productId,o=this.productEn,i=this.moduleId,s=this.version,c=this.productKey,u={productEn:o,productKey:c,toggleKey:e,productId:r,version:s,moduleId:i,data:JSON.stringify(t)},n.next=4,y.a.post(this.url,_.a.stringify(u));case 4:if(!(l=n.sent).data||0!==l.data.retCode){n.next=7;break}return n.abrupt("return",l.data.isEnabled);case 7:return n.abrupt("return",!1);case 8:case"end":return n.stop()}}),n,this)})))}}]),e}(),I=function(){function e(t){var n=this,r=t.toggleAPI,o=t.toggleKey,i=t.handlerMap,s=t.localStorageKey;p()(this,e),this.checkMultiLoginGrayAsync=function(e){return w(n,void 0,void 0,a.a.mark((function t(){var n,r,o,i,s,c,u,l,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(r=null===(n=this.handlerMap)||void 0===n?void 0:n.checkMultiLoginGrayAsync)||void 0===r||r.call(n),void 0===e&&(e=S()||"0"),u=this._getDevContext(),l=Object.assign({userId:e},u),t.next=6,this.toggleAPI.isEnabled(this.toggleKey,l);case 6:if(!0!==(f=t.sent)){t.next=10;break}return null===(i=null===(o=this.handlerMap)||void 0===o?void 0:o.isEnabledTrue)||void 0===i||i.call(o),t.abrupt("return",this._enterGray(e));case 10:if(!1!==f){t.next=14;break}return null===(c=null===(s=this.handlerMap)||void 0===s?void 0:s.isEnabledFalse)||void 0===c||c.call(s),t.next=14,this._checkAllUserGrayState(e);case 14:case"end":return t.stop()}}),t,this)})))},this.isMultiLoginGray=function(){var e,t,r,o,i,a=n._getLocalHashMap(),s=[];for(var c in a)s.push(a[c]);var l=0!==s.length&&s.every(E),f=null!==(e=Object(u.getCookie)(b.c.DOC_SID))&&void 0!==e?e:Object(u.getCookie)(b.c.SID);return l?null===(r=null===(t=n.handlerMap)||void 0===t?void 0:t.isGrayTrue)||void 0===r||r.call(t):null===(i=null===(o=n.handlerMap)||void 0===o?void 0:o.isGrayFalse)||void 0===i||i.call(o),l||!!f},this.toggleAPI=r,this.toggleKey=o,this.handlerMap=i,this.localStorageKey=s}return v()(e,[{key:"_getLocalHashMap",value:function(){var e=localStorage.getItem(this.localStorageKey);return e&&(e=JSON.parse(e)),e||{}}},{key:"_setLocalHashMap",value:function(e){e&&localStorage.setItem(this.localStorageKey,JSON.stringify(e))}},{key:"_enterGray",value:function(e){void 0===e&&(e="0");var t=f()({},"".concat(e),!0),n=this._getLocalHashMap();this._setLocalHashMap(Object.assign(Object.assign({},n),t))}},{key:"_checkAllUserGrayState",value:function(e){return w(this,void 0,void 0,a.a.mark((function e(){var t,n,r,o,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._getLocalHashMap(),n=Object.keys(t),r=[],o=0;case 4:if(!(o<n.length)){e.next=13;break}return i={userId:n[o]},e.next=8,this.toggleAPI.isEnabled(this.toggleKey,i);case 8:s=e.sent,r.push(s);case 10:o++,e.next=4;break;case 13:if(0===r.length||!r.every(E)){e.next=16;break}return e.abrupt("return");case 16:case"end":return e.stop()}}),e,this)})))}},{key:"_getDevContext",value:function(){var e=Object(u.getCookie)("dev_route_id"),t={};return e&&(t.properties={dev_route_id:e,fd:Object(u.getCookie)("fd")||"webserver"}),t}}]),e}(),R=function(e){var t;try{null===(t=null===window||void 0===window?void 0:window.AlloyReport)||void 0===t||t.zzsValue({attrid:e,value:1})}catch(e){console.warn(e)}},C=new O,T=n(7);function x(){return A("TOK")||""}function A(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?decodeURIComponent(t[2]):""}/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&(812===window.screen.width&&375===window.screen.height||375===window.screen.width&&window.screen.height),/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&(414===window.screen.width&&896===window.screen.height||896===window.screen.width&&window.screen.height),/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&2===window.devicePixelRatio&&(414===window.screen.width&&896===window.screen.height||896===window.screen.width&&window.screen.height);var k=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function D(e){var t="",n=window.location;return(null==n?void 0:n.search)&&(t=n.search.match(new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}var M=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function P(e,t){var n=e.split("?");if(t=Array.isArray(t)?t:[t],n.length>=2){for(var r=n[1].split(/[&;]/g),o=0,i=t.length;o<i;o++)for(var a="".concat(encodeURIComponent(t[o]),"="),s=r.length-1;s>=0;s--)-1!==r[s].lastIndexOf(a,0)&&r.splice(s,1);return n[0]+(r.length>0?"?".concat(r.join("&")):"")}return e}var N=(r||(r=new I({toggleAPI:C,toggleKey:"PC_multi_login",handlerMap:{isGrayTrue:function(){R("pc_multi_gray_true")},isGrayFalse:function(){R("pc_multi_gray_false")},isEnabledTrue:function(){R("pc_multi_endabled_true")},isEnabledFalse:function(){R("pc_multi_endabled_false")},checkMultiLoginGrayAsync:function(){R("pc_multi_check_multi_login")}},localStorageKey:"multi-login-gray"})),r),L=function(){return N.isMultiLoginGray()};function j(){var e=D("jumpuin");return new Promise((function(t,n){var r;(r=parseInt(e),k(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n={xsrf:x()};Object(T.ajaxGet)({url:"https://docs.qq.com/cgi-bin/api/account-list",param:n,success:function(n){if(0===n.retcode){var o=n.data,i=!1;null==o||o.forEach((function(t){if(t.uin===r&&"qq"===t.uType)return e(!0),void(i=!0)})),i||t(!1)}t(!1)},error:function(){t(!1)}})})));case 1:case"end":return e.stop()}}),e)})))).then((function(e){t(e)})).catch((function(){n(!1)}))}))}function U(){var e=D("jumpuin"),t=Object(u.getCookie)("utype"),n=Object(u.getCookie)("p_luin")||Object(u.getCookie)("p_uin"),r=n?n.replace(/^[o0]+/i,""):null;return new Promise((function(n,o){"qq"===t&&e==r?k(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n={xsrf:x()};Object(T.ajaxGet)({url:"https://docs.qq.com/cgi-bin/online_docs/user_info",param:n,success:function(n){console.log(n),0===n.retcode?e(!0):t(!1)},error:function(){t(!1)}})})));case 1:case"end":return e.stop()}}),e)}))).then((function(e){if(console.log("checkUserLogin:",e),e){console.error("jump uin already login");var t=P(window.location.href,"jumpuin");window.history.replaceState(window.history.state,null,t)}n(e)})).catch((function(){o(!1)})):o(!1)}))}function F(){return!(c.a.isMobilePhone||c.a.isAndroidPad||!D("jumpuin"))}var B=function(){return!0},q=function(){return new Promise((function(e){return e(!0)}))},W=function(){return!0},V=function(){return new Promise((function(e){return e(!0)}))},G=function(){return M(this,void 0,void 0,a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L(),!F()){e.next=11;break}if(!t){e.next=8;break}return e.next=5,j();case 5:case 10:return e.abrupt("return",e.sent);case 8:return e.next=10,U();case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})))},H=function(e){var t=L();F()&&(t?j().then((function(t){if(console.log("multiQuickLogin:",t),t){console.error("jump uin already login");var n=P(window.location.href,"jumpuin");window.history.replaceState(null,"",n)}e&&e(t)})).catch((function(t){console.log(t),e&&e(!1)})):U().then((function(t){e&&e(t)})).catch((function(){e&&e(!1)})))},K=o.getUid,Q=o.getNowUserId,Y=o.isLogin,Z=o.loginType,z=Z,$=Z,J=o.checkWeWork}])}(n(66166),n(84986),n(56449),n(79760),n(85576))},21846:function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t){e.exports=n(66166)},function(e,t,n){"use strict";var r,o,i;n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),function(e){e.DOC_SID="DOC_SID",e.SID="SID",e.UID="uid",e.UID_KEY="uid_key",e.USER_TYPE="utype"}(r||(r={})),function(e){e.P_LONG_UIN="p_luin",e.P_LONG_SKEY="p_lskey",e.P_UIN="p_uin",e.P_SKEY="p_skey"}(o||(o={})),function(e){e.UID="tdoc_uid",e.SKEY="wedoc_skey"}(i||(i={}))},function(e,t){e.exports=n(3211)},function(e,t){e.exports=n(81390)},function(e,t,n){"use strict";n.r(t),n.d(t,"getUid",(function(){return s})),n.d(t,"getNowUserId",(function(){return c})),n.d(t,"isLogin",(function(){return u})),n.d(t,"getSid",(function(){return l})),n.d(t,"loginType",(function(){return f})),n.d(t,"checkWeWork",(function(){return d}));var r=n(2),o=n(0),i=n(1);function a(){return location.hostname===(null===r.npmConfig||void 0===r.npmConfig?void 0:r.npmConfig.WECOM_DOMAIN)||"doc.weixin.qq.com"}function s(){var e,t,n;return(null===(e=window.global_multi_user)||void 0===e?void 0:e.uid)||(null===(n=null===(t=window.clientVars)||void 0===t?void 0:t.userInfo)||void 0===n?void 0:n.uid)||Object(o.getCookie)("uid")||(a()?Object(o.getCookie)(i.a.UID):"")}function c(){return window.nowUserIndex||s()}function u(){return!!(Object(o.getCookie)(i.c.UID)&&Object(o.getCookie)(i.c.UID_KEY)||Object(o.getCookie)(i.c.DOC_SID)||Object(o.getCookie)(i.c.SID)||Object(o.getCookie)(i.b.P_UIN)&&Object(o.getCookie)(i.b.P_SKEY)||Object(o.getCookie)(i.b.P_LONG_UIN)&&Object(o.getCookie)(i.b.P_LONG_SKEY))||!(!a()||!Object(o.getCookie)(i.a.SKEY))}function l(){var e,t;return null!==(t=null!==(e=Object(o.getCookie)(i.c.DOC_SID))&&void 0!==e?e:Object(o.getCookie)(i.c.SID))&&void 0!==t?t:""}function f(){var e,t=Object(o.getCookie)(i.c.USER_TYPE);return(null===(e=window.global_multi_user)||void 0===e?void 0:e.utype)||t}function d(){return"ww"===f()}},function(e,t){e.exports=n(22258)},function(e,t){e.exports=n(71121)},function(e,t){e.exports=n(42970)},function(e,t){e.exports=n(10018)},function(e,t){e.exports=n(56449)},function(e,t){e.exports=n(68987)},function(e,t){e.exports=n(82554)},function(e,t){e.exports=n(79760)},function(e,t){e.exports=n(85576)},function(e,t,n){"use strict";n.r(t),n.d(t,"isMultiLoginGray",(function(){return G})),n.d(t,"checkMultiLoginGrayAsync",(function(){return H})),n.d(t,"mobileIsMultiLoginGray",(function(){return K})),n.d(t,"mobileCheckMultiLoginGrayAsync",(function(){return Q})),n.d(t,"quickQQLoginAsync",(function(){return Y})),n.d(t,"quickQQLogin",(function(){return Z})),n.d(t,"getUid",(function(){return z})),n.d(t,"getNowUserId",(function(){return $})),n.d(t,"isLogin",(function(){return J})),n.d(t,"loginType",(function(){return X})),n.d(t,"getLoginType",(function(){return ee})),n.d(t,"getUtype",(function(){return te})),n.d(t,"inWeWork",(function(){return ne}));var r,o=n(4),i=n(3),a=n.n(i),s=n(6),c=n.n(s),u=n(0),l=n(11),f=n.n(l),d=n(7),p=n.n(d),h=n(8),v=n.n(h),g=n(2),y=n.n(g),m=n(12),_=n.n(m),b=n(13),w=n.n(b),E=n(1),S=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},O=function(e){return e},I=function(){var e,t,n;return Object(u.getCookie)(E.c.UID)||(null===(e=window.global_multi_user)||void 0===e?void 0:e.uid)||(null===(n=null===(t=window.clientVars)||void 0===t?void 0:t.userInfo)||void 0===n?void 0:n.uid)},R=function(){function e(){p()(this,e),this.url=(null===g.npmConfig||void 0===g.npmConfig?void 0:g.npmConfig.TOGGLE_PROXY_URL)||"https://service-4y7r0fta-1251316161.gz.apigw.tencentcs.com/release/toggleProxy-1613409159",this.productEn="tdocs_manager",this.productKey="ab1ef06b-d248-4d99-b937-e18af1b82d14",this.productId="698ba977-c8d4-47cb-bf51-b79b305e38d4",this.version="1.0.1",this.moduleId="219"}return v()(e,[{key:"isEnabled",value:function(e,t){return S(this,void 0,void 0,a.a.mark((function n(){var r,o,i,s,c,u,l;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.productId,o=this.productEn,i=this.moduleId,s=this.version,c=this.productKey,u={productEn:o,productKey:c,toggleKey:e,productId:r,version:s,moduleId:i,data:JSON.stringify(t)},n.next=4,_.a.post(this.url,w.a.stringify(u));case 4:if(!(l=n.sent).data||0!==l.data.retCode){n.next=7;break}return n.abrupt("return",l.data.isEnabled);case 7:return n.abrupt("return",!1);case 8:case"end":return n.stop()}}),n,this)})))}}]),e}(),C=function(){function e(t){var n=this,r=t.toggleAPI,o=t.toggleKey,i=t.handlerMap,s=t.localStorageKey;p()(this,e),this.checkMultiLoginGrayAsync=function(e){return S(n,void 0,void 0,a.a.mark((function t(){var n,r,o,i,s,c,u,l,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(r=null===(n=this.handlerMap)||void 0===n?void 0:n.checkMultiLoginGrayAsync)||void 0===r||r.call(n),void 0===e&&(e=I()||"0"),u=this._getDevContext(),l=Object.assign({userId:e},u),t.next=6,this.toggleAPI.isEnabled(this.toggleKey,l);case 6:if(!0!==(f=t.sent)){t.next=10;break}return null===(i=null===(o=this.handlerMap)||void 0===o?void 0:o.isEnabledTrue)||void 0===i||i.call(o),t.abrupt("return",this._enterGray(e));case 10:if(!1!==f){t.next=14;break}return null===(c=null===(s=this.handlerMap)||void 0===s?void 0:s.isEnabledFalse)||void 0===c||c.call(s),t.next=14,this._checkAllUserGrayState(e);case 14:case"end":return t.stop()}}),t,this)})))},this.isMultiLoginGray=function(){var e,t,r,o,i,a=n._getLocalHashMap(),s=[];for(var c in a)s.push(a[c]);var l=0!==s.length&&s.every(O),f=null!==(e=Object(u.getCookie)(E.c.DOC_SID))&&void 0!==e?e:Object(u.getCookie)(E.c.SID);return l?null===(r=null===(t=n.handlerMap)||void 0===t?void 0:t.isGrayTrue)||void 0===r||r.call(t):null===(i=null===(o=n.handlerMap)||void 0===o?void 0:o.isGrayFalse)||void 0===i||i.call(o),l||!!f},this.toggleAPI=r,this.toggleKey=o,this.handlerMap=i,this.localStorageKey=s}return v()(e,[{key:"_getLocalHashMap",value:function(){var e=localStorage.getItem(this.localStorageKey);return e&&(e=JSON.parse(e)),e||{}}},{key:"_setLocalHashMap",value:function(e){e&&localStorage.setItem(this.localStorageKey,JSON.stringify(e))}},{key:"_enterGray",value:function(e){void 0===e&&(e="0");var t=f()({},"".concat(e),!0),n=this._getLocalHashMap();this._setLocalHashMap(Object.assign(Object.assign({},n),t))}},{key:"_checkAllUserGrayState",value:function(e){return S(this,void 0,void 0,a.a.mark((function e(){var t,n,r,o,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._getLocalHashMap(),n=Object.keys(t),r=[],o=0;case 4:if(!(o<n.length)){e.next=13;break}return i={userId:n[o]},e.next=8,this.toggleAPI.isEnabled(this.toggleKey,i);case 8:s=e.sent,r.push(s);case 10:o++,e.next=4;break;case 13:if(0===r.length||!r.every(O)){e.next=16;break}return e.abrupt("return");case 16:case"end":return e.stop()}}),e,this)})))}},{key:"_getDevContext",value:function(){var e=Object(u.getCookie)("dev_route_id"),t={};return e&&(t.properties={dev_route_id:e,fd:Object(u.getCookie)("fd")||"webserver"}),t}}]),e}(),T=function(e){var t;try{null===(t=null===window||void 0===window?void 0:window.AlloyReport)||void 0===t||t.zzsValue({attrid:e,value:1})}catch(e){console.warn(e)}},x=new R,A=n(9),k=n(10),D=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},M=y.a.getConfig("runtime.domainName")||"docs.qq.com",P="https://".concat(M,"/cgi-bin/online_docs/user_info"),N="https://".concat(M,"/cgi-bin/api/account-list"),L=n(5),j=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function U(e,t){var n=e.split("?");if(t=Array.isArray(t)?t:[t],n.length>=2){for(var r=n[1].split(/[&;]/g),o=0,i=t.length;o<i;o++)for(var a="".concat(encodeURIComponent(t[o]),"="),s=r.length-1;s>=0;s--)-1!==r[s].lastIndexOf(a,0)&&r.splice(s,1);return n[0]+(r.length>0?"?".concat(r.join("&")):"")}return e}var F=(r||(r=new C({toggleAPI:x,toggleKey:"PC_multi_login",handlerMap:{isGrayTrue:function(){T("pc_multi_gray_true")},isGrayFalse:function(){T("pc_multi_gray_false")},isEnabledTrue:function(){T("pc_multi_endabled_true")},isEnabledFalse:function(){T("pc_multi_endabled_false")},checkMultiLoginGrayAsync:function(){T("pc_multi_check_multi_login")}},localStorageKey:"multi-login-gray"})),r),B=function(){return F.isMultiLoginGray()};function q(){var e=Object(L.getQuery)("jumpuin");return new Promise((function(t,n){var r;(r=parseInt(e),D(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n={xsrf:Object(k.getXsrf)()};Object(A.ajaxGet)({url:N,param:n,success:function(n){if(0===n.retcode){var o=n.data,i=!1;null==o||o.forEach((function(t){if(t.uin===r&&"qq"===t.uType)return e(!0),void(i=!0)})),i||t(!1)}t(!1)},error:function(){t(!1)}})})));case 1:case"end":return e.stop()}}),e)})))).then((function(e){t(e)})).catch((function(){n(!1)}))}))}function W(){var e=Object(L.getQuery)("jumpuin"),t=Object(u.getCookie)("utype"),n=Object(u.getCookie)("p_luin")||Object(u.getCookie)("p_uin"),r=n?n.replace(/^[o0]+/i,""):null;return new Promise((function(n,o){"qq"===t&&e==r?D(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n={xsrf:Object(k.getXsrf)()};Object(A.ajaxGet)({url:P,param:n,success:function(n){console.log(n),0===n.retcode?e(!0):t(!1)},error:function(){t(!1)}})})));case 1:case"end":return e.stop()}}),e)}))).then((function(e){if(console.log("checkUserLogin:",e),e){console.error("jump uin already login");var t=U(window.location.href,"jumpuin");window.history.replaceState(window.history.state,null,t)}n(e)})).catch((function(){o(!1)})):o(!1)}))}function V(){return!(c.a.isMobilePhone||c.a.isAndroidPad||!Object(L.getQuery)("jumpuin"))}var G=function(){return!0},H=function(){return new Promise((function(e){return e(!0)}))},K=function(){return!0},Q=function(){return new Promise((function(e){return e(!0)}))},Y=function(){return j(this,void 0,void 0,a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=B(),!V()){e.next=11;break}if(!t){e.next=8;break}return e.next=5,q();case 5:case 10:return e.abrupt("return",e.sent);case 8:return e.next=10,W();case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})))},Z=function(e){var t=B();V()&&(t?q().then((function(t){if(console.log("multiQuickLogin:",t),t){console.error("jump uin already login");var n=U(window.location.href,"jumpuin");window.history.replaceState(null,"",n)}e&&e(t)})).catch((function(t){console.log(t),e&&e(!1)})):W().then((function(t){e&&e(t)})).catch((function(){e&&e(!1)})))},z=o.getUid,$=o.getNowUserId,J=o.isLogin,X=o.loginType,ee=X,te=X,ne=o.checkWeWork}])},31638:function(e){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=41)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(22)("wks"),o=n(23),i=n(0).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},function(e,t,n){var r=n(35),o=n(36);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return o.testNumeric(e)?t.NUMERIC:o.testAlphanumeric(e)?t.ALPHANUMERIC:o.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(16);i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}();var o=i.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function i(e,t,n){return i.TYPED_ARRAY_SUPPORT||this instanceof i?"number"==typeof e?c(this,e):function(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var o;return o=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?o.__proto__=i.prototype:o=u(e,o),o}(e,t,n,r):"string"==typeof t?function(e,t){var n=0|f(t),r=s(e,n),o=r.write(t);return o!==n&&(r=r.slice(0,o)),r}(e,t):function(e,t){if(i.isBuffer(t)){var n=0|a(t.length),r=s(e,n);return 0===r.length||t.copy(r,0,0,n),r}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?s(e,0):u(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return u(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,n):new i(e,t,n)}function a(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function s(e,t){var n;return i.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=i.prototype:(null===(n=e)&&(n=new i(t)),n.length=t),n}function c(e,t){var n=s(e,t<0?0:0|a(t));if(!i.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)n[r]=0;return n}function u(e,t){for(var n=t.length<0?0:0|a(t.length),r=s(e,n),o=0;o<n;o+=1)r[o]=255&t[o];return r}function l(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function f(e){return i.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:l(e).length)}i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),i.prototype.write=function(e,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(e,t,n,r){return function(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}(l(t,e.length-n),e,n,r)}(this,e,t,n)},i.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),i.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=i.prototype;else{var o=t-e;n=new i(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+e]}return n},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=i.isBuffer(e)?e:new i(e),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this},i.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s(null,0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=c(null,t),a=0;for(n=0;n<e.length;++n){var u=e[n];if(!i.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(o,a),a+=u.length}return o},i.byteLength=f,i.prototype._isBuffer=!0,i.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports.alloc=function(e){var t=new i(e);return t.fill(0),t},e.exports.from=function(e){return new i(e)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=!n(25)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(7),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(14),o=n(45);e.exports=n(11)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(9),o=n(43),i=n(44),a=Object.defineProperty;t.f=n(11)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(0),o=n(13),i=n(27),a=n(23)("src"),s=n(46),c=(""+s).split("toString");n(8).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},function(e,t){function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,o=e.scale||4;return{width:r,scale:r?4:o,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){for(var o=n.modules.size,i=n.modules.data,a=t.getScale(o,r),s=Math.floor((o+2*r.margin)*a),c=r.margin*a,u=[r.color.light,r.color.dark],l=0;l<s;l++)for(var f=0;f<s;f++){var d=4*(l*s+f),p=r.color.light;l>=c&&f>=c&&l<s-c&&f<s-c&&(p=u[i[Math.floor((l-c)/a)*o+Math.floor((f-c)/a)]?1:0]),e[d++]=p.r,e[d++]=p.g,e[d++]=p.b,e[d]=p.a}}},function(e,t,n){e.exports=n(20)},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function l(){}function f(){}function d(){}var p={};p[o]=function(){return this};var h=Object.getPrototypeOf,v=h&&h(h(S([])));v&&v!==t&&n.call(v,o)&&(p=v);var g=d.prototype=l.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function m(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,d[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(m.prototype),m.prototype[i]=function(){return this},e.AsyncIterator=m,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new m(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){e.exports=!1},function(e,t,n){var r=n(8),o=n(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(21)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(0),o=n(8),i=n(13),a=n(15),s=n(6),c=function(e,t,n){var u,l,f,d,p=e&c.F,h=e&c.G,v=e&c.S,g=e&c.P,y=e&c.B,m=h?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,_=h?o:o[t]||(o[t]={}),b=_.prototype||(_.prototype={});for(u in h&&(n=t),n)f=((l=!p&&m&&void 0!==m[u])?m:n)[u],d=y&&l?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,m&&a(m,u,f,e&c.U),_[u]!=f&&i(_,u,d),g&&b[u]!=f&&(b[u]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(4),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports={}},function(e,t,n){var r=n(51),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r,o,i,a=n(6),s=n(54),c=n(55),u=n(26),l=n(0),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,g=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},_=function(e){m.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete y[e]},"process"==n(7)(f)?r=function(e){f.nextTick(a(m,e,1))}:v&&v.now?r=function(e){v.now(a(m,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=_,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){"use strict";var r=n(10);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){var r=n(2).getSymbolSize;t.getPositions=function(e){var t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},function(e,t,n){var r=n(17),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}}},function(e,t,n){var r=n(2),o=n(33),i=n(17),a=n(3),s=n(35),c=n(16),u=r.getBCHDigit(7973);function l(e,t){return a.getCharCountIndicator(e,t)+4}function f(e,t){var n=0;return e.forEach((function(e){var r=l(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);var i=8*(r.getSymbolTotalCodewords(e)-o.getTotalCodewordsCount(e,t));if(n===a.MIXED)return i;var c=i-l(n,e);switch(n){case a.NUMERIC:return Math.floor(c/10*3);case a.ALPHANUMERIC:return Math.floor(c/11*2);case a.KANJI:return Math.floor(c/13);case a.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,n){var r,o=i.from(n,i.M);if(c(e)){if(e.length>1)return function(e,n){for(var r=1;r<=40;r++)if(f(e,r)<=t.getCapacity(r,n,a.MIXED))return r}(e,o);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(var o=1;o<=40;o++)if(n<=t.getCapacity(o,r,e))return o}(r.mode,r.getLength(),o)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;r.getBCHDigit(t)-u>=0;)t^=7973<<r.getBCHDigit(t)-u;return e<<12|t}},function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},function(e,t){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(r,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var o=new RegExp("^"+n+"$"),i=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return o.test(e)},t.testNumeric=function(e){return i.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},function(e,t,n){var r=n(3),o=n(94),i=n(95),a=n(96),s=n(97),c=n(36),u=n(2),l=n(98);function f(e){return unescape(encodeURIComponent(e)).length}function d(e,t,n){for(var r,o=[];null!==(r=e.exec(n));)o.push({data:r[0],index:r.index,mode:t,length:r[0].length});return o}function p(e){var t,n,o=d(c.NUMERIC,r.NUMERIC,e),i=d(c.ALPHANUMERIC,r.ALPHANUMERIC,e);return u.isKanjiModeEnabled()?(t=d(c.BYTE,r.BYTE,e),n=d(c.KANJI,r.KANJI,e)):(t=d(c.BYTE_KANJI,r.BYTE,e),n=[]),o.concat(i,t,n).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function h(e,t){switch(t){case r.NUMERIC:return o.getBitsLength(e);case r.ALPHANUMERIC:return i.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return a.getBitsLength(e)}}function v(e,t){var n,c=r.getBestModeForData(e);if((n=r.from(t,c))!==r.BYTE&&n.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(c));switch(n!==r.KANJI||u.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new o(e);case r.ALPHANUMERIC:return new i(e);case r.KANJI:return new s(e);case r.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(v(t,null)):t.data&&e.push(v(t.data,t.mode)),e}),[])},t.fromString=function(e,n){for(var o=function(e,t){for(var n={},o={start:{}},i=["start"],a=0;a<e.length;a++){for(var s=e[a],c=[],u=0;u<s.length;u++){var l=s[u],f=""+a+u;c.push(f),n[f]={node:l,lastCount:0},o[f]={};for(var d=0;d<i.length;d++){var p=i[d];n[p]&&n[p].node.mode===l.mode?(o[p][f]=h(n[p].lastCount+l.length,l.mode)-h(n[p].lastCount,l.mode),n[p].lastCount+=l.length):(n[p]&&(n[p].lastCount=l.length),o[p][f]=h(l.length,l.mode)+4+r.getCharCountIndicator(l.mode,t))}}i=c}for(d=0;d<i.length;d++)o[i[d]].end=0;return{map:o,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];switch(o.mode){case r.NUMERIC:t.push([o,{data:o.data,mode:r.ALPHANUMERIC,length:o.length},{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.ALPHANUMERIC:t.push([o,{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.KANJI:t.push([o,{data:o.data,mode:r.BYTE,length:f(o.data)}]);break;case r.BYTE:t.push([{data:o.data,mode:r.BYTE,length:f(o.data)}])}}return t}(p(e,u.isKanjiModeEnabled())),n),i=l.find_path(o.map,"start","end"),a=[],s=1;s<i.length-1;s++)a.push(o.table[i[s]].node);return t.fromArray(function(e){return e.reduce((function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(a))},t.rawSplit=function(e){return t.fromArray(p(e,u.isKanjiModeEnabled()))}},function(e,t){function n(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){var r=n(65),o=n(66),i=n(67),a=n(69);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()}},function(e,t,n){var r=n(79),o=n(80),i=n(99),a=n(100);function s(e,t,n,i,a){var s=[].slice.call(arguments,1),c=s.length,u="function"==typeof s[c-1];if(!u&&!r())throw new Error("Callback required as last argument");if(!u){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=t,t=i=void 0):2!==c||t.getContext||(i=n,n=t,t=void 0),new Promise((function(r,a){try{var s=o.create(n,i);r(e(s,t,i))}catch(e){a(e)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(a=n,n=t,t=i=void 0):3===c&&(t.getContext&&void 0===a?(a=i,i=void 0):(a=i,i=n,n=t,t=void 0));try{var l=o.create(n,i);a(null,e(l,t,i))}catch(e){a(e)}}t.create=o.create,t.toCanvas=s.bind(null,i.render),t.toDataURL=s.bind(null,i.renderToDataURL),t.toString=s.bind(null,(function(e,t,n){return a.render(e,n)}))},function(e,t,n){"use strict";n.r(t);var r=n(19),o=n.n(r),i=(n(42),n(64),n(20),n(38)),a=n.n(i),s=n(39),c=n.n(s),u=(n(70),n(40)),l=n.n(u),f=n(18),d=n(34),p=n(37),h=n(32),v=function(e,t,n,r){return!!e.find((function(e){var o=c()(e,2),i=o[0],a=o[1];return n>=i&&n<i+t&&r>=a&&r<a+t}))};f.qrToImageData=function(e,t,n){for(var r=t.modules.size,o=t.modules.data,i=f.getScale(r,n),a=Math.floor((r+2*n.margin)*i),s=n.margin*i,c=[n.color.light,n.color.dark],u=h.getPositions(t.version),l=r>21?[[r-9,r-9]]:[],d=0;d<a;d++)for(var p=0;p<a;p++){var g=4*(d*a+p),y=n.color.light;if(d>=s&&p>=s&&d<a-s&&p<a-s){var m=Math.floor((d-s)/i),_=Math.floor((p-s)/i);(v(u,7,m,_)||v(l,5,m,_)||d%i>i/4&&d%i<=i/4*3&&p%i>i/4&&p%i<=i/4*3)&&(y=c[o[m*r+_]?1:0])}e[g++]=y.r,e[g++]=y.g,e[g++]=y.b,e[g]=y.a}};var g={make:function(){var e=a()(o.a.mark((function e(t){var n,r,i,a,s,c,u,f,h,v,g,y,m,_,b,w,E,S,O,I,R,C,T,x,A,k,D,M=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=M.length>1&&void 0!==M[1]?M[1]:{},r=n.size,i=void 0===r?640:r,a=n.paddingSize,s=void 0===a?i/20:a,c=n.iconURL,u=void 0===c?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABNVBMVEUqZPQqZfQAAACxxvspZPUpZfYqZPUqZPUqZPUqZfUqZPUqZPYqZPkoZfcqY/8qZPQqZfUrZPUqZPUqZPUqZfUqZPcoZv9+ovgbjvk+dPYqZfUqZPUrZfYpY/UmZv8rZfX///8C3P+VsvoLvv37/P/E1Pz9/v8D1f+6zfyZtfoza/X3+f+wxvsifPc+c/Y4bvUvaPXx9f/m7f6/0fyduPoakvlJe/YobPUJxf21yfyrwvuNrPp/ovlvlvhOf/bt8v/e5/7W4f3K2f3H1/2kvfuhuvt5nflbiPdSgvdDdvbT3/2mv/uEpvl0mvhmj/hgi/dXhffa5P6txPsTqPuSsPoWoPqJqfljjvcggvfp8P7h6f6yx/xqk/ji6v7O3P3O2/0Rr/sldPYGzf4Ot/yhvPsYmfkdivissIOZAAAAH3RSTlPBwADkZTT246PZznEoHQbtqpl+eUk/DNXSxLGSiUsUjRqlfAAABE5JREFUeNq124dSU1EUheFrpNl7L3tdTCIkMY0Yld57V7FhL+//CJIgoxu4iyOX9T3BP8mcPXf2mRNl2h5cvdttMi+f2T5nes51ZtraARcik3r8fLfAu3dxL6Cjy7Ti+NCCM527AR0m9jZOKOg63wq40GViv+KkgrOtgMjUXseJBVczUafJvYwTCy5lonMm9yje9fiJHXA+umxy3+Lkgo6o2+TiOLmgJzK5JzEpiNIFFMLGAClIGdAYDjqFpCBlQA79IaeQFKQMqAOlgFNICtIFFLBjoGrc83h/wduTCphDy+eKUfFBT08oYBht42UjvsakIGXAEnbVm/QUkoKUAZP4Y2zeEv2MSUHKgCL2FN+QMUAK0gWU8Vd2hZxCUpAqYBX/yC+TgISCtAFbcBokIKEgZUAJTsJQ/BIne5kuYBHwctXD5sBjUvAlVUAW+y1W7KBnr78/SnQ7RUATDhmKRJpfYAQOG4qagFc4TG3dDtIE9MFhQ1ETMI7DZWdtP0lANY8E+SHzNAHzSDZtjiZgFsQLcyQBDTC5gjmCgByoCTcUFQF1cO8XjEgfUMBR3jWNSB0whyPV5szhAeu9/TsajcbMzMz09PTS0tLg4ODmZqlU+vBiR1/LwI7cjqmpyckNHK24HRjQNoWTl5/9j4DCBARehQdY5SMEpsMDbGEMAn3V4AAbrUFgshAcYOtFCExUaICzmoXA+wUW4K1AYWyUBXhDUKjNsQBvBgrZERbgfYBCfpgFeDlI9AYHVBchMUgCvMo4JPqqJMAp1yHxuUACnOYYJDbKJMCZL0KivkACnLUsJMbmSYAzkodEcY0EOMvQyI6QAKcfGvlhF0AMQqTfBRBDvYfKgfnQe7RREhBgBsyoBUgXMAUia44koAZiwhxFQBlMyRxFwBswQ+YoArbArJqjCNgEUzZHEbAIomaOJCALYtIcRUATzJI5ioARMMPmKAJegZkzRxHQB6ZgjiJgHETdHEVANQ9iwBxFwDyYfnMUAbNgVsxRBDTCv0Y0ATkQeXMkAe9AbJijCKgg+KZEE7AW/jWiCVgGs22OImAQzII5ioBPIIrmSAKKID6ZowhYCF9DaQK2wSybowgYArNmjiLgBZiKOYqADRDvzJEE5EHkzFEEjIJpmKMIWAEza44ioB/MvDmKgAEQ+ao5ioA6iHFzFAEFMH3mKALmwu+JNQHDYEbMUQRMg2maowiYDF8QagJqIBbNUQSUwWyaowhYBbNljiJgC8wbcxQBpfAFoSZgInxBqAnIgpgyRxHQBPPDiNAA6YIwfUAvmHUjQgOkC8L0Ae9BfLRjORWdsVBVMAN2LFeiyxZqPXxBGK4jumaOYEFIdUbXzRFcV1IXo4tnzRFcVxL3W89+L1mYMX5deRxR++HzDQtSAVOyY+h+2A7InHf/gnJB6PXczLQCWq512ZGWU19Xet3X917ft9y8ca7nFHfrNHPn1H+50tGZ2fUblSLbLbJxjtoAAAAASUVORK5CYII=":c,f=n.iconSize,h=void 0===f?i/5:f,v=n.iconMargin,g=void 0===v?0:v,y=n.errorCorrectionLevel,m=void 0===y?"Q":y,(_=document.createElement("canvas")).width=i,_.height=i,b=_.getContext("2d")){e.next=8;break}throw Error("Cannot create canvas context");case 8:return b.fillStyle="#ffffff",b.fillRect(0,0,i,i),w=4*Math.ceil(i/320),E=p.rawSplit(t),S=Math.max(4,d.getBestVersionForData(E,m)),e.next=15,l.a.toDataURL(t,{margin:0,scale:w,version:S,errorCorrectionLevel:m});case 15:return O=e.sent,(I=new Image).src=O,e.next=20,new Promise((function(e,t){var n=[e,t];I.onload=n[0],I.onerror=n[1]}));case 20:if(R=i-2*s,null==b||b.drawImage(I,s,s,R,R),!u){e.next=35;break}return C=h+2*g,T=Math.round(I.naturalWidth/w),x=R/T,C=Math.ceil((2*Math.ceil((C-x)/(2*x))+1)*x),A=(i-C)/2,b.fillRect(A,A,C,C),k=(i-h)/2,(D=new Image).src=u,e.next=34,new Promise((function(e,t){var n=[e,t];D.onload=n[0],D.onerror=n[1]}));case 34:b.drawImage(D,k,k,h,h);case 35:return e.abrupt("return",_.toDataURL("png"));case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.default=g},function(e,t,n){"use strict";var r,o,i,a,s=n(21),c=n(0),u=n(6),l=n(12),f=n(24),d=n(4),p=n(10),h=n(47),v=n(48),g=n(53),y=n(30).set,m=n(56)(),_=n(31),b=n(57),w=n(58),E=n(59),S=c.TypeError,O=c.process,I=O&&O.versions,R=I&&I.v8||"",C=c.Promise,T="process"==l(O),x=function(){},A=o=_.f,k=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n(1)("species")]=function(e){e(x,x)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t&&0!==R.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),D=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;m((function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(o||(2==e._h&&L(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?u(S("Promise-chain cycle")):(i=D(n))?i.call(n,c,u):c(n)):u(r)}catch(e){l&&!a&&l.exit(),u(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&P(e)}))}},P=function(e){y.call(c,(function(){var t,n,r,o=e._v,i=N(e);if(i&&(t=b((function(){T?O.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=T||N(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){y.call(c,(function(){var t;T?O.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=D(e))?m((function(){var r={_w:n,_d:!1};try{t.call(e,u(U,r,1),u(j,r,1))}catch(e){j.call(r,e)}})):(n._v=e,n._s=1,M(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};k||(C=function(e){h(this,C,"Promise","_h"),p(e),r.call(this);try{e(u(U,this,1),u(j,this,1))}catch(e){j.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(60)(C.prototype,{then:function(e,t){var n=A(g(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(U,e,1),this.reject=u(j,e,1)},_.f=A=function(e){return e===C||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!k,{Promise:C}),n(61)(C,"Promise"),n(62)("Promise"),a=n(8).Promise,f(f.S+f.F*!k,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!k),"Promise",{resolve:function(e){return E(s&&this===a?C:this,e)}}),f(f.S+f.F*!(k&&n(63)((function(e){C.all(e).catch(x)}))),"Promise",{all:function(e){var t=this,n=A(t),r=n.resolve,o=n.reject,i=b((function(){var n=[],i=0,a=1;v(e,!1,(function(e){var s=i++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,o=b((function(){v(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(e,t,n){e.exports=!n(11)&&!n(25)((function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.exports=n(22)("native-function-to-string",Function.toString)},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(6),o=n(49),i=n(50),a=n(9),s=n(29),c=n(52),u={},l={};(t=e.exports=function(e,t,n,f,d){var p,h,v,g,y=d?function(){return e}:c(e),m=r(n,f,t?2:1),_=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(p=s(e.length);p>_;_++)if((g=t?m(a(h=e[_])[0],h[1]):m(e[_]))===u||g===l)return g}else for(v=y.call(e);!(h=v.next()).done;)if((g=o(v,m,h.value,t))===u||g===l)return g}).BREAK=u,t.RETURN=l},function(e,t,n){var r=n(9);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(28),o=n(1)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(12),o=n(1)("iterator"),i=n(28);e.exports=n(8).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(9),o=n(10),i=n(1)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(0).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(0),o=n(30).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(7)(a);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var f=!0,d=document.createTextNode("");new i(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(0).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(9),o=n(4),i=n(31);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(15);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){var r=n(14).f,o=n(27),i=n(1)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(0),o=n(14),i=n(11),a=n(1)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(1)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(12),o={};o[n(1)("toStringTag")]="z",o+""!="[object z]"&&n(15)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}},function(e,t,n){var r=n(68);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r=n(24),o=n(71)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(78)("find")},function(e,t,n){var r=n(6),o=n(72),i=n(73),a=n(29),s=n(75);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,g,y=i(t),m=o(y),_=r(s,h,3),b=a(m.length),w=0,E=n?p(t,b):c?p(t,0):void 0;b>w;w++)if((d||w in m)&&(g=_(v=m[w],w,y),e))if(n)E[w]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:E.push(v)}else if(l)return!1;return f?-1:u||l?l:E}}},function(e,t,n){var r=n(7);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(74);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(76);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(4),o=n(77),i=n(1)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(7);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(1)("unscopables"),o=Array.prototype;null==o[r]&&n(13)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(e,t,n){var r=n(5),o=n(2),i=n(17),a=n(81),s=n(82),c=n(83),u=n(32),l=n(84),f=n(33),d=n(85),p=n(34),h=n(93),v=n(3),g=n(37),y=n(16);function m(e,t,n){var r,o,i=e.size,a=h.getEncodedBits(t,n);for(r=0;r<15;r++)o=1==(a>>r&1),r<6?e.set(r,8,o,!0):r<8?e.set(r+1,8,o,!0):e.set(i-15+r,8,o,!0),r<8?e.set(8,i-r-1,o,!0):r<9?e.set(8,15-r-1+1,o,!0):e.set(8,15-r-1,o,!0);e.set(i-8,8,1,!0)}function _(e,t,n){var i=new a;n.forEach((function(t){i.put(t.mode.bit,4),i.put(t.getLength(),v.getCharCountIndicator(t.mode,e)),t.write(i)}));var s=8*(o.getSymbolTotalCodewords(e)-f.getTotalCodewordsCount(e,t));for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);for(var c=(s-i.getLengthInBits())/8,u=0;u<c;u++)i.put(u%2?17:236,8);return function(e,t,n){for(var i=o.getSymbolTotalCodewords(t),a=i-f.getTotalCodewordsCount(t,n),s=f.getBlocksCount(t,n),c=s-i%s,u=Math.floor(i/s),l=Math.floor(a/s),p=l+1,h=u-l,v=new d(h),g=0,y=new Array(s),m=new Array(s),_=0,b=r.from(e.buffer),w=0;w<s;w++){var E=w<c?l:p;y[w]=b.slice(g,g+E),m[w]=v.encode(y[w]),g+=E,_=Math.max(_,E)}var S,O,I=r.alloc(i),R=0;for(S=0;S<_;S++)for(O=0;O<s;O++)S<y[O].length&&(I[R++]=y[O][S]);for(S=0;S<h;S++)for(O=0;O<s;O++)I[R++]=m[O][S];return I}(i,e,t)}function b(e,t,n,r){var i;if(y(e))i=g.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var a=t;if(!a){var f=g.rawSplit(e);a=p.getBestVersionForData(f,n)}i=g.fromString(e,a||40)}var d=p.getBestVersionForData(i,n);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else t=d;var h=_(t,n,i),v=o.getSymbolSize(t),b=new s(v);return function(e,t){for(var n=e.size,r=u.getPositions(t),o=0;o<r.length;o++)for(var i=r[o][0],a=r[o][1],s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(var c=-1;c<=7;c++)a+c<=-1||n<=a+c||(s>=0&&s<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===s||6===s)||s>=2&&s<=4&&c>=2&&c<=4?e.set(i+s,a+c,!0,!0):e.set(i+s,a+c,!1,!0))}(b,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2==0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(b),function(e,t){for(var n=c.getPositions(t),r=0;r<n.length;r++)for(var o=n[r][0],i=n[r][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(o+a,i+s,!0,!0):e.set(o+a,i+s,!1,!0)}(b,t),m(b,n,0),t>=7&&function(e,t){for(var n,r,o,i=e.size,a=p.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+i-8-3,o=1==(a>>s&1),e.set(n,r,o,!0),e.set(r,n,o,!0)}(b,t),function(e,t){for(var n=e.size,r=-1,o=n-1,i=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!e.isReserved(o,s-c)){var u=!1;a<t.length&&(u=1==(t[a]>>>i&1)),e.set(o,s-c,u),-1==--i&&(a++,i=7)}if((o+=r)<0||n<=o){o-=r,r=-r;break}}}(b,h),isNaN(r)&&(r=l.getBestMask(b,m.bind(null,b,n))),l.applyMask(r,b),m(b,n,r),{modules:b,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,r,a=i.M;return void 0!==t&&(a=i.from(t.errorCorrectionLevel,i.M),n=p.from(t.version),r=l.from(t.maskPattern),t.toSJISFunc&&o.setToSJISFunction(t.toSJISFunc)),b(e,n,a,r)}},function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},function(e,t,n){var r=n(5);function o(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=r.alloc(e*e),this.reservedBit=r.alloc(e*e)}o.prototype.set=function(e,t,n,r){var o=e*this.size+t;this.data[o]=n,r&&(this.reservedBit[o]=!0)},o.prototype.get=function(e,t){return this.data[e*this.size+t]},o.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},o.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=o},function(e,t,n){var r=n(2).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=r(e),o=145===n?26:2*Math.ceil((n-13)/(2*t-2)),i=[n-7],a=1;a<t-1;a++)i[a]=i[a-1]-o;return i.push(6),i.reverse()},t.getPositions=function(e){for(var n=[],r=t.getRowColCoords(e),o=r.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||n.push([r[i],r[a]]);return n}},function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n=3,r=3,o=40,i=10;function a(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,r=0,o=0,i=0,a=null,s=null,c=0;c<t;c++){o=i=0,a=s=null;for(var u=0;u<t;u++){var l=e.get(c,u);l===a?o++:(o>=5&&(r+=n+(o-5)),a=l,o=1),(l=e.get(u,c))===s?i++:(i>=5&&(r+=n+(i-5)),s=l,i=1)}o>=5&&(r+=n+(o-5)),i>=5&&(r+=n+(i-5))}return r},t.getPenaltyN2=function(e){for(var t=e.size,n=0,o=0;o<t-1;o++)for(var i=0;i<t-1;i++){var a=e.get(o,i)+e.get(o,i+1)+e.get(o+1,i)+e.get(o+1,i+1);4!==a&&0!==a||n++}return n*r},t.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,i=0,a=0;a<t;a++){r=i=0;for(var s=0;s<t;s++)r=r<<1&2047|e.get(a,s),s>=10&&(1488===r||93===r)&&n++,i=i<<1&2047|e.get(s,a),s>=10&&(1488===i||93===i)&&n++}return n*o},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*i},t.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,a(e,o,r))},t.getBestMask=function(e,n){for(var r=Object.keys(t.Patterns).length,o=0,i=1/0,a=0;a<r;a++){n(a),t.applyMask(a,e);var s=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),s<i&&(i=s,o=a)}return o}},function(e,t,n){var r=n(5),o=n(86),i=n(88).Buffer;function a(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(e){this.degree=e,this.genPoly=o.generateECPolynomial(this.degree)},a.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=r.alloc(this.degree),n=i.concat([e,t],e.length+this.degree),a=o.mod(n,this.genPoly),s=this.degree-a.length;if(s>0){var c=r.alloc(this.degree);return a.copy(c,s),c}return a},e.exports=a},function(e,t,n){var r=n(5),o=n(87);t.mul=function(e,t){for(var n=r.alloc(e.length+t.length-1),i=0;i<e.length;i++)for(var a=0;a<t.length;a++)n[i+a]^=o.mul(e[i],t[a]);return n},t.mod=function(e,t){for(var n=r.from(e);n.length-t.length>=0;){for(var i=n[0],a=0;a<t.length;a++)n[a]^=o.mul(t[a],i);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},t.generateECPolynomial=function(e){for(var n=r.from([1]),i=0;i<e;i++)n=t.mul(n,[1,o.exp(i)]);return n}},function(e,t,n){var r=n(5),o=r.alloc(512),i=r.alloc(256);!function(){for(var e=1,t=0;t<255;t++)o[t]=e,i[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)o[t]=o[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},t.exp=function(e){return o[e]},t.mul=function(e,t){return 0===e||0===t?0:o[i[e]+i[t]]}},function(e,t,n){"use strict";(function(e){var r=n(90),o=n(91),i=n(92);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,o){var i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var f=!0,d=0;d<c;d++)if(u(e,i+d)!==u(t,d)){f=!1;break}if(f)return i}return-1}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return W(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return W(q(t),e,n,r)}function O(e,t,n,r){return W(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,u=e[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function A(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):v.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n),f=0;f<s;++f)if(u[f]!==l[f]){i=u[f],a=l[f];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);D(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);D(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=c.isBuffer(e)?e:B(new c(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(89))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(2),o=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,i=n<<10;r.getBCHDigit(i)-o>=0;)i^=1335<<r.getBCHDigit(i)-o;return 21522^(n<<10|i)}},function(e,t,n){var r=n(3);function o(e){this.mode=r.NUMERIC,this.data=e.toString()}o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var o=this.data.length-t;o>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*o+1))},e.exports=o},function(e,t,n){var r=n(3),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(e){this.mode=r.ALPHANUMERIC,this.data=e}i.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*o.indexOf(this.data[t]);n+=o.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},e.exports=i},function(e,t,n){var r=n(5),o=n(3);function i(e){this.mode=o.BYTE,this.data=r.from(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=i},function(e,t,n){var r=n(3),o=n(2);function i(e){this.mode=r.KANJI,this.data=e}i.getBitsLength=function(e){return 13*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=o.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=i},function(e,t,n){"use strict";var r={single_source_shortest_paths:function(e,t,n){var o={},i={};i[t]=0;var a,s,c,u,l,f,d,p=r.PriorityQueue.make();for(p.push(t,0);!p.empty();)for(c in s=(a=p.pop()).value,u=a.cost,l=e[s]||{})l.hasOwnProperty(c)&&(f=u+l[c],d=i[c],(void 0===i[c]||d>f)&&(i[c]=f,p.push(c,f),o[c]=s));if(void 0!==n&&void 0===i[n]){var h=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(h)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){var o=r.single_source_shortest_paths(e,t,n);return r.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(e){var t,n=r.PriorityQueue,o={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(o[t]=n[t]);return o.queue=[],o.sorter=e.sorter||n.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=r},function(e,t,n){var r=n(18);t.render=function(e,t,n){var o=n,i=t;void 0!==o||t&&t.getContext||(o=t,t=void 0),t||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),o=r.getOptions(o);var a=r.getImageWidth(e.modules.size,o),s=i.getContext("2d"),c=s.createImageData(a,a);return r.qrToImageData(c.data,e,o),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,i,a),s.putImageData(c,0,0),i},t.renderToDataURL=function(e,n,r){var o=r;void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={});var i=t.render(e,n,o),a=o.type||"image/png",s=o.rendererOpts||{};return i.toDataURL(a,s.quality)}},function(e,t,n){var r=n(18);function o(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function i(e,t,n){var r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){var a=r.getOptions(t),s=e.modules.size,c=e.modules.data,u=s+2*a.margin,l=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",f="<path "+o(a.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",o=0,a=!1,s=0,c=0;c<e.length;c++){var u=Math.floor(c%t),l=Math.floor(c/t);u||a||(a=!0),e[c]?(s++,c>0&&u>0&&e[c-1]||(r+=a?i("M",u+n,.5+l+n):i("m",o,0),o=0,a=!1),u+1<t&&e[c+1]||(r+=i("h",s),s=0)):o++}return r}(c,s,a.margin)+'"/>',d='viewBox="0 0 '+u+" "+u+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+f+"</svg>\n";return"function"==typeof n&&n(null,p),p}}])},93285:function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=n(66166)},function(e,t){e.exports=n(81390)},function(e,t){e.exports=n(42970)},function(e,t){e.exports=n(10018)},function(e,t){e.exports=n(21846)},function(e,t){e.exports=n(67359)},function(e,t){e.exports=n(5489)},function(e,t){e.exports=n(37508)},function(e,t){e.exports=n(14370)},function(e,t){e.exports=n(70945)},function(e,t){e.exports=n(79760)},function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorCode",(function(){return C})),n.d(t,"ErrorMsg",(function(){return T})),n.d(t,"UID",(function(){return A})),n.d(t,"UID_KEY",(function(){return k}));var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=n(7),c=n.n(s),u=n(8),l=n.n(u),f=n(5),d=n.n(f),p=n(1),h=n.n(p),v=n(0),g=n(4),y=n(9),m=function(){function e(t){o()(this,e),this.channelName="".concat(t,"Channel"),this.storageName="".concat(t,"Storage"),this.cookieName="".concat(t,"Cookie"),this.init(),this.nowUid=Object(v.getCookie)("uid");var n="".concat(Math.floor(1e9*Math.random()),"_").concat(+new Date);window.messageCenterTabKey||(window.messageCenterTabKey=n),this.tabKey=window.messageCenterTabKey||n}return a()(e,[{key:"init",value:function(){window&&window.BroadcastChannel&&(this.msgCenter=new BroadcastChannel(this.channelName))}},{key:"postMessage",value:function(e){var t,n,r,o;e.key=this.tabKey,null===(n=null===(t=null===window||void 0===window?void 0:window.log)||void 0===t?void 0:t.log)||void 0===n||n.call(t,"message center get message:, ".concat(JSON.stringify(e)," time: ").concat(+new Date)),this.msgCenter&&this.msgCenter.postMessage(e);try{localStorage.setItem(this.storageName,JSON.stringify(e))}catch(t){null===(o=null===(r=null===window||void 0===window?void 0:window.log)||void 0===r?void 0:r.log)||void 0===o||o.call(r,"message center set message fail:, ".concat(JSON.stringify(e)," time: ").concat(+new Date))}}},{key:"initListener",value:function(){var e=this;this.msgCenter&&(this.msgCenter.onmessage=function(t){t&&(null==e||e.channelHandler(t))}),window.addEventListener("storage",(function(t){t.key===e.storageName&&(null==e||e.storageHandler(t))})),document.addEventListener("visibilitychange",(function(){setTimeout((function(){null==e||e.visibilityHandle()}),100)}))}},{key:"listenerHandleFun",value:function(e){var t=e.channelHandler,n=e.storageHandler,r=e.visibilityHandle;t&&(this.channelHandler=t),r&&(this.visibilityHandle=r),this.storageHandler=n,this.initListener()}},{key:"messageHandleFun",value:function(e){}}]),e}(),_=n(6);function b(e,t,n){if(!n){var r=new RegExp("(\\?|&)"+t+"=[^&]*(&)?","g"),o=e.replace(r,(function(e,t,n){return"?"===t||n?t:""}));return"?"===o[o.length-1]?o.substr(0,o.length-1):o}var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(i)?e.replace(i,"$1"+t+"="+n+"$2"):e+a+t+"="+n}function w(e,t){var n,r=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)"));return void 0===t&&(t="undefined"!=typeof document?document.cookie:""),null===(n=t.match(r))||void 0===n?void 0:n[1]}var E=n(10),S=n.n(E),O=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function I(){return O(this,void 0,void 0,h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("/session/api/multiacc/account_list","?xrsf=").concat(w("TOK")),e.abrupt("return",S.a.get(t));case 2:case"end":return e.stop()}}),e)})))}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var C,T,x=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};!function(e){e[e.switchLogin=1e4]="switchLogin",e[e.logoutLogin=10001]="logoutLogin"}(C||(C={})),function(e){e.switchLogin="user switch login in other tab",e.logoutLogin="user logout login in other tab"}(T||(T={}));var A="uid",k="uid_key",D=new(function(e){c()(n,e);var t=R(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).hadSendMsg=!1,r.nowUsesId=Object(g.getNowUserId)(),r.isMulti=Object(g.isMultiLoginGray)(),r.listenerHandleFun({channelHandler:r.channelFun,storageHandler:r.storageFun,visibilityHandle:r.visibilityFun}),r}return a()(n,[{key:"checkIsSame",value:function(e){return!this.isMulti||e===Object(g.getNowUserId)()}},{key:"getCookieValue",value:function(){var e=(Object(v.getCookie)(this.cookieName)||"").split("_");return{type:e[0],userIndex:e[1]}}},{key:"dispatchMsg",value:function(e){this.isMulti&&("logoutLogin"!==e&&"logout"!==e||document.dispatchEvent(new CustomEvent("logoutAccount")))}},{key:"checkSameUser",value:function(){return Object(y.getUid)()===this.nowUid}},{key:"checkNoNeedVisibility",value:function(){var e=window.clientVars,t="101520907"===(null==e?void 0:e.ownerAppid);return this.hadSendMsg||"visible"!==document.visibilityState||this.isMulti||!t}},{key:"visibilityFun",value:function(){var e;this.checkNoNeedVisibility()||this.checkSameUser()||null===(e=this.messageHandleFun)||void 0===e||e.call(this,this.getErrorMsg("switch"))}},{key:"channelFun",value:function(e){var t=this;if(e){var n=e.data;n.key!==this.tabKey&&this.checkNeedLogin(n,(function(e){var r,o,i;null===(r=t.messageHandleFun)||void 0===r||r.call(t,t.getErrorMsg(e)),null===(i=null===(o=null===window||void 0===window?void 0:window.log)||void 0===o?void 0:o.log)||void 0===i||i.call(o,"channel Event:".concat(e,", source tab:").concat(n.key,"， now tabKey:").concat(t.tabKey,"， :").concat((new Date).getTime())),t.dispatchMsg(e),t.hadSendMsg=!0}))}}},{key:"storageFun",value:function(e){var t=this,n=e.newValue;if(n){var r=JSON.parse(n);r.key!==this.tabKey&&this.checkNeedLogin(r,(function(e){setTimeout((function(){var n,o,i;t.hadSendMsg||(null===(n=t.messageHandleFun)||void 0===n||n.call(t,t.getErrorMsg(e)),null===(i=null===(o=null===window||void 0===window?void 0:window.log)||void 0===o?void 0:o.log)||void 0===i||i.call(o,"storage Event:".concat(e,", source tab:").concat(r.key,"， now tabKey:").concat(t.tabKey,"， :").concat((new Date).getTime())),t.dispatchMsg(e),t.hadSendMsg=!0)}),100)}))}}},{key:"getErrorMsg",value:function(e){return"switchLogin"===e||"switch"===e?{code:C.switchLogin,msg:T.switchLogin}:"logoutLogin"===e||"logout"===e?{code:C.logoutLogin,msg:T.logoutLogin}:void 0}},{key:"checkNeedLogin",value:function(e,t){var n=this;if("true"===Object(v.getCookie)("gray_user"))return"switch"===e.type&&t("switchLogin"),"login"===e.type&&t("login"),"logout"===e.type&&t("logoutLogin"),void document.addEventListener("visibilitychange",(function(){return x(n,void 0,void 0,h.a.mark((function e(){var t,n,r,o,i,a,s,c,u,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(o=null===(r=null===(n=null===(t=null===window||void 0===window?void 0:window.__ARK_EXTENSION_SERVICE__)||void 0===t?void 0:t.dependentServiceCombinder)||void 0===n?void 0:n.accountApplication)||void 0===r?void 0:r.getAccountProfileList)||void 0===o?void 0:o.call(r);case 3:i=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,I();case 10:i=e.sent;case 11:a=Object(v.getCookie)(A),s=Object(v.getCookie)(k),a&&s&&i?(c=i.find((function(e){return e.uid===a})),u=b(location.href,"u",c.userIndex),Object(_.tencentDocOpenUrlForAll)({replace:!0,url:u})):(l=b(location.href,"u",""),Object(_.tencentDocOpenUrlForAll)({replace:!0,url:l,noUserIndex:!0}));case 14:case"end":return e.stop()}}),e,null,[[0,6]])})))}));this.checkIsSame(e.data)&&("switch"===e.type?t("switchLogin"):"logout"===e.type&&t("logoutLogin"))}},{key:"setCallback",value:function(e){this.messageHandleFun=e}}]),n}(m))("docMessageCenter");t.default=D}])},3211:function(e,t,n){"use strict";var r=n(9765).default;Object.defineProperty(t,"__esModule",{value:!0}),t.npmConfig=t.getAppConfigInstance=t.default=void 0;var o=r(n(34405)),i=function(){return null===o.default||void 0===o.default?void 0:o.default.getInstance()};t.getAppConfigInstance=i;var a=i(),s=null==a?void 0:a.getConfig('npm["@tencent/docs-scenario-components"]');t.npmConfig=s;var c=a;t.default=c},68987:function(e,t){"use strict";function n(){var e=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&(812===window.screen.width&&375===window.screen.height||375===window.screen.width&&812===window.screen.height),t=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&(414===window.screen.width&&896===window.screen.height||896===window.screen.width&&414===window.screen.height),n=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&2===window.devicePixelRatio&&(414===window.screen.width&&896===window.screen.height||896===window.screen.width&&414===window.screen.height);return e||t||n}Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsIphoneX=n,t.checkPayTencentDocs=function(){var e,t,n=/TencentDocs\/[\d\.]+/.exec(window.navigator.userAgent),r=n&&n[0].split("/")||!1,o=0,i=0;if(r){var a=String(r[1]).split("."),s="1.8.1".split(".");for(o=0,t=Math.max(a.length,s.length);o<t;o++){if((i=isFinite(Number(a[o]))&&Number(a[o])||0)<(e=isFinite(Number(s[o]))&&Number(s[o])||0))return-1;if(i>e)return 1}}return 0},t.closest=function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;for(;e;){if(n.call(e,t))return e;e=e.parentElement}return null},t.getBkn=function(){var e=i("skey"),t=5381;if(!e)return;for(var n=0,r=e.length;r>n;++n)t+=(t<<5)+e.charAt(n).charCodeAt();return 2147483647&t},t.getCookie=i,t.getIOSVersion=function(){var e=navigator.userAgent.toLowerCase(),t=null;if(e.indexOf("like mac os x")>0){var n=e.match(/os [\d._]+/gi);t=String(n).replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),t=parseInt(t.split(".")[0],10)}return t},t.getLoginType=function(){var e=i("utype");if("qq"===e)return 1;if("wx"===e)return 2;if("ww"===e)return 3;return 0},t.getXsrf=function(){return i("TOK")||""},t.inWhichSplitView=function(){var e=o()?window.screen.width:window.screen.height,t=window.innerWidth/e;return t<.4?.33:t>=.4&&t<.6?.5:t>=.6&&t<.9?.66:1},t.isIphoneX=void 0,t.isPortrait=o;var r=n();function o(){if("number"==typeof window.orientation)return window.orientation/90%2==0;try{var e=window.screen.orientation.angle;if("number"==typeof e)return e/90%2==0}catch(t){}return!0}function i(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?decodeURIComponent(t[2]):""}t.isIphoneX=r},22258:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQuery=function(e){var t="",n=window.location;null!=n&&n.search&&(t=n.search.match(new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)")));return t?decodeURIComponent(t[2]):""}},29983:function(e,t,n){"use strict";n.d(t,{TX:function(){return o},X4:function(){return i},Ym:function(){return r},y8:function(){return a}});var r,o,i="AppBitShiftToggle",a=new RegExp("".concat(i,"/(\\d+)"));!function(e){e[e.fullOfflineModeAvailable=1]="fullOfflineModeAvailable",e[e.nativeDatabaseAvailable=2]="nativeDatabaseAvailable",e[e.nativeDatabaseWillDeprecated=4]="nativeDatabaseWillDeprecated"}(r||(r={})),function(e){e[e.nativeDatabaseAndFullOfflineModeAvailable=2]="nativeDatabaseAndFullOfflineModeAvailable"}(o||(o={}))},84986:function(e,t,n){"use strict";n.r(t),n.d(t,{UserAgent:function(){return i},compareVersion:function(){return o.yC},getVersionFromUA:function(){return o.H7}});var r=n(49879),o=n(84458),i=function(){function e(e){void 0===e&&(e=(0,o.ij)());var t=this;this.getAndroidVersion=function(){return r.dl(t.userAgent)},this.isAndroidVersionAboveOrEqual=function(e){return r.Ez(e,t.userAgent)},this.getIOSVersion=function(){return r.oK(t.userAgent)},this.isIOSVersionAboveOrEqual=function(e){return r.$M(e,t.userAgent)},this.getPCQQBrowserVersion=function(){return r.H2(t.userAgent)},this.isPCQQBrowserVersionAboveOrEqual=function(e){return r.uw(e,t.userAgent)},this.getMobileQQBrowserVersion=function(){return r.IR(t.userAgent)},this.isMobileQQBrowserVersionAboveOrEqual=function(e){return r.K1(e,t.userAgent)},this.getChromeVersion=function(){return r.vu(t.userAgent)},this.isChromeVersionAboveOrEqual=function(e){return r.Br(e,t.userAgent)},this.getSafariVersion=function(){return r.Rl(t.userAgent)},this.isSafariVersionAboveOrEqual=function(e){return r.AM(e,t.userAgent)},this.getFirefoxVersion=function(){return r.hY(t.userAgent)},this.isFirefoxVersionAboveOrEqual=function(e){return r.Gf(e,t.userAgent)},this.getWeChatVersion=function(){return r.C9(t.userAgent)},this.isWeChatVersionAboveOrEqual=function(e){return r.SA(e,t.userAgent)},this.isWxWorkCEFVersionAboveOrEqual=function(e){return r.PF(e,t.userAgent)},this.getWxDriveVersion=function(){return r.mQ(t.userAgent)},this.isWxDriveVersionAboveOrEqual=function(e){return r.st(e,t.userAgent)},this.getWxWorkVersion=function(){return r.Vm(t.userAgent)},this.isWxWorkVersionAboveOrEqual=function(e){return r.vs(e,t.userAgent)},this.getWxWorkPrivateVersion=function(){return r.bN(t.userAgent)},this.isWxWorkPrivateVersionAboveOrEqual=function(e){return r.Gp(e,t.userAgent)},this.getQQVersion=function(){return r.Ev(t.userAgent)},this.isQQVersionAboveOrEqual=function(e){return r.d5(e,t.userAgent)},this.getTimVersion=function(){return r.Rb(t.userAgent)},this.isTimVersionAboveOrEqual=function(e){return r.gI(e,t.userAgent)},this.getTencentDocsAppVersion=function(){return r.x6(t.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(e){return r.ZB(e,t.userAgent)},this.getPCTencentDocsClientVersion=function(){return r._u(t.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(e){return r.eN(e,t.userAgent)},this.getElectronTencentDocsClientVersion=function(){return r.zy(t.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(e){return r.m9(e,t.userAgent)},this.getBitToggleSettings=function(e){return r.KR(e)},Object.defineProperty(this,"userAgent",{value:e,writable:!1})}return Object.defineProperty(e.prototype,"isMobile",{get:function(){return r.tq(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobilePhone",{get:function(){return r.p(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIPhone",{get:function(){return r.IN(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIPad",{get:function(){return r.zc(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroidPhone",{get:function(){return r.$b(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroidPad",{get:function(){return r.Q7(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPC",{get:function(){return r.Ro(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMac",{get:function(){return r.V5(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIPadEmulatedMac",{get:function(){return r.QY(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroid",{get:function(){return r.Dt(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIOS",{get:function(){return r.gn(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWindows",{get:function(){return r.ED(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWindowsUWP",{get:function(){return r.Xw(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLinux",{get:function(){return r.IJ(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLinuxKylin",{get:function(){return r.O7(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLinuxUOS",{get:function(){return r.VA(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPCQQBrowser",{get:function(){return r.J$(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileQQBrowser",{get:function(){return r.I0(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQQBrowser",{get:function(){return r.z6(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isChrome",{get:function(){return r.i7(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSafari",{get:function(){return r.G6(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIE",{get:function(){return r.w1(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOldEdge",{get:function(){return r.EA(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isChromiumEdge",{get:function(){return r.tN(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFirefox",{get:function(){return r.vU(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeChat",{get:function(){return r.e3(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxWork",{get:function(){return r.ow(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxWorkQt",{get:function(){return r.ez(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxWorkCustom",{get:function(){return r.zZ(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxWorkCEF",{get:function(){return r.ZR(this.userAgent)},enumerable:!1,configurable:!0}),e.prototype.getWxWorkCEFVersion=function(){return r.AO(this.userAgent)},Object.defineProperty(e.prototype,"isWxWorkPrivate",{get:function(){return r.i4(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxDrive",{get:function(){return r.w6(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQQ",{get:function(){return r.GP(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQQForGooglePlay",{get:function(){return r.Ep(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTim",{get:function(){return r.Of(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPCTim",{get:function(){return r.yQ(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTimOrQQ",{get:function(){return r.xB(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTimOrQQFamily",{get:function(){return r.J0(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMiniProgram",{get:function(){return r.C0(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxMiniProgram",{get:function(){return r.Ks(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQQMiniProgram",{get:function(){return r.gP(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTencentDocsApp",{get:function(){return r.VJ(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPCTencentDocsClient",{get:function(){return r.Gk(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPCTencentDocsApp",{get:function(){return r.Rg(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isElectronTencentDocsClient",{get:function(){return r.nK(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeiYunApp",{get:function(){return r.T4(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSouGou",{get:function(){return r.ab(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTencentMeeting",{get:function(){return r.ag(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxWorkTencentMeeting",{get:function(){return r.X5(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTencentMeetingRooms",{get:function(){return r.UQ(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSupportNativeDatabase",{get:function(){return r.OB(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSupportFullOfflineMode",{get:function(){return r.QE(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNativeDatabaseWillDeprecated",{get:function(){return r.fw(this.userAgent)},enumerable:!1,configurable:!0}),e}();t.default=new i},49879:function(e,t,n){"use strict";n.d(t,{$M:function(){return _},$b:function(){return u},AM:function(){return U},AO:function(){return J},Br:function(){return N},C0:function(){return me},C9:function(){return K},Dt:function(){return h},EA:function(){return B},ED:function(){return b},Ep:function(){return ue},Ev:function(){return le},Ez:function(){return g},G6:function(){return L},GP:function(){return ce},Gf:function(){return G},Gk:function(){return Oe},Gp:function(){return se},H2:function(){return R},I0:function(){return T},IJ:function(){return E},IN:function(){return s},IR:function(){return x},J$:function(){return I},J0:function(){return ye},K1:function(){return A},KR:function(){return Le},Ks:function(){return _e},O7:function(){return S},OB:function(){return je},Of:function(){return de},PF:function(){return X},Q7:function(){return l},QE:function(){return Ue},QY:function(){return p},Rb:function(){return he},Rg:function(){return Ie},Rl:function(){return j},Ro:function(){return f},SA:function(){return Q},T4:function(){return ke},UQ:function(){return Ne},V5:function(){return d},VA:function(){return O},VJ:function(){return we},Vm:function(){return oe},X5:function(){return Pe},Xw:function(){return w},ZB:function(){return Se},ZR:function(){return $},_u:function(){return Re},ab:function(){return De},ag:function(){return Me},bN:function(){return ae},d5:function(){return fe},dl:function(){return v},e3:function(){return H},eN:function(){return Ce},ez:function(){return Z},fw:function(){return Fe},gI:function(){return ve},gP:function(){return be},gn:function(){return y},hY:function(){return V},i4:function(){return ee},i7:function(){return D},m9:function(){return Ae},mQ:function(){return ne},nK:function(){return Te},oK:function(){return m},ow:function(){return Y},p:function(){return a},st:function(){return re},tN:function(){return q},tq:function(){return i},uw:function(){return C},vU:function(){return W},vs:function(){return ie},vu:function(){return P},w1:function(){return F},w6:function(){return te},x6:function(){return Ee},xB:function(){return ge},yQ:function(){return pe},z6:function(){return k},zZ:function(){return z},zc:function(){return c},zy:function(){return xe}});var r=n(29983),o=n(84458),i=(0,o.c$)((function(e){return/(mobile)/i.test(e)||l(e)})),a=(0,o.c$)((function(e){return/(mobile)/i.test(e)&&!c(e)})),s=(0,o.c$)((function(e){return/(iphone)/i.test(e)})),c=(0,o.c$)((function(e){return/(ipad)/i.test(e)})),u=(0,o.c$)((function(e){return/(mobile)/i.test(e)&&h(e)})),l=(0,o.c$)((function(e){return!/(mobile)/i.test(e)&&h(e)})),f=(0,o.c$)((function(e){return!i(e)})),d=(0,o.c$)((function(e){return!i(e)&&/Mac OS X/i.test(e)})),p=(0,o.c$)((function(e){return d(e)&&navigator.maxTouchPoints>1})),h=(0,o.c$)((function(e){return/android|adr/i.test(e)})),v=(0,o.c$)((function(e){return h(e)?(0,o.H7)("Android",e):null})),g=(0,o.$9)((function(e,t){return(0,o.yC)(v(e)||"",t)>=0})),y=(0,o.c$)((function(e){return/(iphone|ipad|ipod)/i.test(e)})),m=(0,o.c$)((function(e){return y(e)?(0,o.H7)("OS",e):null})),_=(0,o.$9)((function(e,t){return(0,o.yC)(m(e)||"",t)>=0})),b=(0,o.c$)((function(e){return/(win64|wow64|win32|wow32|windows nt)/i.test(e)})),w=(0,o.c$)((function(e){return/MSAppHost/i.test(e)})),E=(0,o.c$)((function(e){return/linux/i.test(e)&&!h(e)})),S=(0,o.c$)((function(e){return/linux-kylin/i.test(e)})),O=(0,o.c$)((function(e){return/linux-uos/i.test(e)})),I=(0,o.c$)((function(e){return!i(e)&&/QQBrowser/i.test(e)&&!/QBCore/i.test(e)})),R=(0,o.c$)((function(e){return I(e)?(0,o.H7)("QQBrowser",e):null})),C=(0,o.$9)((function(e,t){return(0,o.yC)(R(e)||"",t)>=0})),T=(0,o.c$)((function(e){return i(e)&&/MQQBrowser/i.test(e)&&!ge(e)&&!H(e)&&!Y(e)&&!we(e)&&!ke(e)&&!me(e)&&!Me(e)})),x=(0,o.c$)((function(e){return T(e)?(0,o.H7)("MQQBrowser",e):null})),A=(0,o.$9)((function(e,t){return(0,o.yC)(x(e)||"",t)>=0})),k=(0,o.c$)((function(e){return i(e)?T(e):I(e)})),D=(0,o.c$)((function(e){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(e)})),M=(0,o.c$)((function(e){return/Chrome\/\S+ Safari\/\S+ /i.test(e)&&Y(e)})),P=(0,o.c$)((function(e){return(0,o.H7)("Chrome",e)})),N=(0,o.$9)((function(e,t){return(0,o.yC)(P(e)||"",t)>=0})),L=(0,o.c$)((function(e){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(e)})),j=(0,o.c$)((function(e){return L(e)?(0,o.H7)("Version",e):null})),U=(0,o.$9)((function(e,t){return(0,o.yC)(j(e)||"",t)>=0})),F=(0,o.c$)((function(e){return/MSIE/i.test(e)&&!/opera/i.test(e)||/Trident/i.test(e)})),B=(0,o.c$)((function(e){return/Edge/i.test(e)})),q=(0,o.c$)((function(e){return/Edg\//i.test(e)})),W=(0,o.c$)((function(e){return/(Firefox|Focus|FxiOS)\//i.test(e)})),V=(0,o.c$)((function(e){return W(e)?(0,o.H7)("(Firefox|Focus|FxiOS)",e):null})),G=(0,o.$9)((function(e,t){return(0,o.yC)(V(e)||"",t)>=0})),H=(0,o.c$)((function(e){return/MicroMessenger/i.test(e)&&!Y(e)&&!_e(e)})),K=(0,o.c$)((function(e){return H(e)||_e(e)?(0,o.H7)("MicroMessenger",e):null})),Q=(0,o.$9)((function(e,t){return(0,o.yC)(K(e)||"",t)>=0})),Y=(0,o.c$)((function(e){return/(wxwork)/i.test(e)})),Z=(0,o.c$)((function(e){return/(wxworkQt)/i.test(e)})),z=(0,o.c$)((function(e){return/WeComCEF/i.test(e)&&Y(e)})),$=(0,o.c$)((function(e){return!(!Y(e)||!f(e))&&(d(e)?z(e):M(e))})),J=(0,o.c$)((function(e){return Y(e)&&f(e)?d(e)?(0,o.H7)("WeComCEF",e):P(e):null})),X=(0,o.$9)((function(e,t){return(0,o.yC)(J(e)||"",t)>=0})),ee=(0,o.c$)((function(e){return/(wxworklocal)/i.test(e)})),te=(0,o.c$)((function(e){return/WXDrive/i.test(e)})),ne=(0,o.c$)((function(e){return te(e)?(0,o.H7)("WXDrive",e):null})),re=(0,o.$9)((function(e,t){return(0,o.yC)(ne(e)||"",t)>=0})),oe=(0,o.c$)((function(e){return Y(e)?(0,o.H7)("wxwork",e):null})),ie=(0,o.$9)((function(e,t){return(0,o.yC)(oe(e)||"",t)>=0})),ae=(0,o.c$)((function(e){return ee(e)?(0,o.H7)("wxworklocal",e):null})),se=(0,o.$9)((function(e,t){return(0,o.yC)(ae(e)||"",t)>=0})),ce=(0,o.c$)((function(e){return/QQ\//i.test(e)&&!we(e)&&!be(e)&&!de(e)})),ue=(0,o.c$)((function(e){return/QQ\//i.test(e)&&/_GM/i.test(e)})),le=(0,o.c$)((function(e){return ce(e)||be(e)?(0,o.H7)("QQ",e):null})),fe=(0,o.$9)((function(e,t){return(0,o.yC)(le(e)||"",t)>=0})),de=(0,o.c$)((function(e){return/TIM/i.test(e)})),pe=(0,o.c$)((function(e){return/QBCore/i.test(e)&&/TIM2.0/i.test(e)})),he=(0,o.c$)((function(e){return de(e)?(0,o.H7)("TIM",e):null})),ve=(0,o.$9)((function(e,t){return(0,o.yC)(he(e)||"",t)>=0})),ge=(0,o.c$)((function(e){return de(e)&&!be(e)||ce(e)})),ye=(0,o.c$)((function(e){return de(e)||/QQ/i.test(e)})),me=(0,o.c$)((function(e){return/miniprogram|miniapp(?!enable)/i.test(e)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment})),_e=(0,o.c$)((function(e){return/MicroMessenger/i.test(e)&&me(e)})),be=(0,o.c$)((function(e){return/QQ\/|TIM/i.test(e)&&me(e)})),we=(0,o.c$)((function(e){return/TencentDocs/i.test(e)})),Ee=(0,o.c$)((function(e){return(0,o.H7)("TencentDocs",e)})),Se=(0,o.$9)((function(e,t){return(0,o.yC)(Ee(e)||"",t)>=0})),Oe=(0,o.c$)((function(e){return/TxDocsPC/i.test(e)})),Ie=(0,o.c$)((function(e){return Oe(e)})),Re=(0,o.c$)((function(e){return(0,o.H7)("TxDocsPC",e)})),Ce=(0,o.$9)((function(e,t){return(0,o.yC)(Re(e)||"",t)>=0})),Te=(0,o.c$)((function(e){return/TDAppDesktop/i.test(e)})),xe=(0,o.c$)((function(e){return(0,o.H7)("TDAppDesktop",e)})),Ae=(0,o.$9)((function(e,t){return(0,o.yC)(xe(e)||"",t)>=0})),ke=(0,o.c$)((function(e){return/weiyun/i.test(e)})),De=(0,o.c$)((function(e){return/SE 2\.X MetaSr 1\.0/i.test(e)})),Me=(0,o.c$)((function(e){return/tencent_wemeet/i.test(e)})),Pe=(0,o.c$)((function(e){return Me(e)&&/meeting_wework/i.test(e)})),Ne=(0,o.c$)((function(e){return/TencentMeetingRooms/i.test(e)})),Le=function(e){return(0,o.up)(e)},je=(0,o.c$)((function(e){var t=e.match(/_tdocFlag\/(\d+)/);if(null==t?void 0:t[1])return!!(parseInt(t[1],10)&r.TX.nativeDatabaseAndFullOfflineModeAvailable);var n=e.match(r.y8);return!!(null==n?void 0:n[1])&&!!(parseInt(n[1],10)&r.Ym.nativeDatabaseAvailable)})),Ue=(0,o.c$)((function(e){var t=e.match(/_tdocFlag\/(\d+)/);if(null==t?void 0:t[1])return!!(parseInt(t[1],10)&r.TX.nativeDatabaseAndFullOfflineModeAvailable);var n=e.match(r.y8);return!!(null==n?void 0:n[1])&&!!(parseInt(n[1],10)&r.Ym.fullOfflineModeAvailable)})),Fe=(0,o.c$)((function(e){var t=e.match(r.y8);return!!(null==t?void 0:t[1])&&!!(parseInt(t[1],10)&r.Ym.nativeDatabaseWillDeprecated)}))},84458:function(e,t,n){"use strict";n.d(t,{$9:function(){return d},H7:function(){return u},c$:function(){return f},ij:function(){return l},up:function(){return p},yC:function(){return c}});var r=n(29983),o=/\d+([._]\d+)*/,i=function(e){return new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")};function a(e){var t,n=o.exec(e);return null!==(t=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==t?t:null}function s(e){var t=a(e);return(null==t?void 0:t.split(".").map(Number))||[]}function c(e,t){return n=s(e),r=s(t),(o=Array(Math.max(n.length,r.length)).fill(0).map((function(e,t){return(n[t]||0)-(r[t]||0)})).find((function(e){return 0!==e}))||0)<0?-1:o>0?1:0;var n,r,o}function u(e,t){var n;try{n=i(e)}catch(o){return null}var r=n.exec(t);return r?a(r[0].substring(e.length)):null}var l=function(){var e;return function(){return void 0===e&&(e="undefined"!=typeof navigator?navigator.userAgent:""),e}}();function f(e){return function(t){return e(t||l())}}function d(e){return function(t,n){return e(n||l(),t)}}function p(e){var t=0;return e.fullOffline&&(t|=r.Ym.fullOfflineModeAvailable),e.nativeDatabase&&(t|=r.Ym.nativeDatabaseAvailable),e.nativeDatabaseWillDeprecated&&(t|=r.Ym.nativeDatabaseWillDeprecated),"".concat(r.X4,"/").concat(t)}},66574:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TDocFlag=t.TDBitToggle=t.TOGGLE_KEY_PATTERN=t.TOGGLE_KEY_NAME=void 0,t.TOGGLE_KEY_NAME="AppBitShiftToggle",t.TOGGLE_KEY_PATTERN=new RegExp("".concat(t.TOGGLE_KEY_NAME,"/(\\d+)")),function(e){e[e.fullOfflineModeAvailable=1]="fullOfflineModeAvailable",e[e.nativeDatabaseAvailable=2]="nativeDatabaseAvailable",e[e.nativeDatabaseWillDeprecated=4]="nativeDatabaseWillDeprecated"}(t.TDBitToggle||(t.TDBitToggle={})),function(e){e[e.nativeDatabaseAndFullOfflineModeAvailable=2]="nativeDatabaseAndFullOfflineModeAvailable"}(t.TDocFlag||(t.TDocFlag={}))},86168:function(e,t,n){"use strict";t.ij=t.e0=t.gh=void 0;var r=n(66574);t.gh=/\d+([._]\d+)*/;var o;function i(e){var n,r=t.gh.exec(e);return null!==(null==r?void 0:r[0].replace(/_/g,"."))&&void 0!==n?n:null}function a(e){var t=i(e);return(null==t?void 0:t.split(".").map(Number))||[]}function s(e,t){var n=Array(Math.max(e.length,t.length)).fill(0).map((function(n,r){return(e[r]||0)-(t[r]||0)})).find((function(e){return 0!==e}))||0;return n<0?-1:n>0?1:0}t.e0=function(e){return new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")},t.ij=function(){return void 0===o&&(o="undefined"!=typeof navigator?navigator.userAgent:""),o}},16195:function(e,t,n){"use strict";n.d(t,{TX:function(){return o},X4:function(){return i},Ym:function(){return r},y8:function(){return a}});var r,o,i="AppBitShiftToggle",a=new RegExp("".concat(i,"/(\\d+)"));!function(e){e[e.fullOfflineModeAvailable=1]="fullOfflineModeAvailable",e[e.nativeDatabaseAvailable=2]="nativeDatabaseAvailable",e[e.nativeDatabaseWillDeprecated=4]="nativeDatabaseWillDeprecated"}(r||(r={})),function(e){e[e.nativeDatabaseAndFullOfflineModeAvailable=2]="nativeDatabaseAndFullOfflineModeAvailable"}(o||(o={}))},71121:function(e,t,n){"use strict";n.r(t),n.d(t,{UserAgent:function(){return i},compareVersion:function(){return o.yC},getVersionFromUA:function(){return o.H7}});var r=n(75992),o=n(3582),i=function(){function e(e){void 0===e&&(e=(0,o.ij)());var t=this;this.getAndroidVersion=function(){return r.dl(t.userAgent)},this.isAndroidVersionAboveOrEqual=function(e){return r.Ez(e,t.userAgent)},this.getIOSVersion=function(){return r.oK(t.userAgent)},this.isIOSVersionAboveOrEqual=function(e){return r.$M(e,t.userAgent)},this.getPCQQBrowserVersion=function(){return r.H2(t.userAgent)},this.isPCQQBrowserVersionAboveOrEqual=function(e){return r.uw(e,t.userAgent)},this.getMobileQQBrowserVersion=function(){return r.IR(t.userAgent)},this.isMobileQQBrowserVersionAboveOrEqual=function(e){return r.K1(e,t.userAgent)},this.getChromeVersion=function(){return r.vu(t.userAgent)},this.isChromeVersionAboveOrEqual=function(e){return r.Br(e,t.userAgent)},this.getSafariVersion=function(){return r.Rl(t.userAgent)},this.isSafariVersionAboveOrEqual=function(e){return r.AM(e,t.userAgent)},this.getFirefoxVersion=function(){return r.hY(t.userAgent)},this.isFirefoxVersionAboveOrEqual=function(e){return r.Gf(e,t.userAgent)},this.getWeChatVersion=function(){return r.C9(t.userAgent)},this.isWeChatVersionAboveOrEqual=function(e){return r.SA(e,t.userAgent)},this.isWxWorkCEFVersionAboveOrEqual=function(e){return r.PF(e,t.userAgent)},this.getWxDriveVersion=function(){return r.mQ(t.userAgent)},this.isWxDriveVersionAboveOrEqual=function(e){return r.st(e,t.userAgent)},this.getWxWorkVersion=function(){return r.Vm(t.userAgent)},this.isWxWorkVersionAboveOrEqual=function(e){return r.vs(e,t.userAgent)},this.getWxWorkPrivateVersion=function(){return r.bN(t.userAgent)},this.isWxWorkPrivateVersionAboveOrEqual=function(e){return r.Gp(e,t.userAgent)},this.getQQVersion=function(){return r.Ev(t.userAgent)},this.isQQVersionAboveOrEqual=function(e){return r.d5(e,t.userAgent)},this.getTimVersion=function(){return r.Rb(t.userAgent)},this.isTimVersionAboveOrEqual=function(e){return r.gI(e,t.userAgent)},this.getTencentDocsAppVersion=function(){return r.x6(t.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(e){return r.ZB(e,t.userAgent)},this.getPCTencentDocsClientVersion=function(){return r._u(t.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(e){return r.eN(e,t.userAgent)},this.getElectronTencentDocsClientVersion=function(){return r.zy(t.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(e){return r.m9(e,t.userAgent)},this.getBitToggleSettings=function(e){return r.KR(e)},Object.defineProperty(this,"userAgent",{value:e,writable:!1})}return Object.defineProperty(e.prototype,"isMobile",{get:function(){return r.tq(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobilePhone",{get:function(){return r.p(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIPhone",{get:function(){return r.IN(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIPad",{get:function(){return r.zc(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroidPhone",{get:function(){return r.$b(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroidPad",{get:function(){return r.Q7(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPC",{get:function(){return r.Ro(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMac",{get:function(){return r.V5(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIPadEmulatedMac",{get:function(){return r.QY(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroid",{get:function(){return r.Dt(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIOS",{get:function(){return r.gn(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWindows",{get:function(){return r.ED(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWindowsUWP",{get:function(){return r.Xw(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLinux",{get:function(){return r.IJ(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLinuxKylin",{get:function(){return r.O7(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLinuxUOS",{get:function(){return r.VA(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPCQQBrowser",{get:function(){return r.J$(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileQQBrowser",{get:function(){return r.I0(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQQBrowser",{get:function(){return r.z6(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isChrome",{get:function(){return r.i7(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSafari",{get:function(){return r.G6(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIE",{get:function(){return r.w1(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOldEdge",{get:function(){return r.EA(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isChromiumEdge",{get:function(){return r.tN(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFirefox",{get:function(){return r.vU(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeChat",{get:function(){return r.e3(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxWork",{get:function(){return r.ow(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxWorkQt",{get:function(){return r.ez(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxWorkCustom",{get:function(){return r.zZ(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxWorkCEF",{get:function(){return r.ZR(this.userAgent)},enumerable:!1,configurable:!0}),e.prototype.getWxWorkCEFVersion=function(){return r.AO(this.userAgent)},Object.defineProperty(e.prototype,"isWxWorkPrivate",{get:function(){return r.i4(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxDrive",{get:function(){return r.w6(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQQ",{get:function(){return r.GP(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQQForGooglePlay",{get:function(){return r.Ep(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTim",{get:function(){return r.Of(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPCTim",{get:function(){return r.yQ(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTimOrQQ",{get:function(){return r.xB(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTimOrQQFamily",{get:function(){return r.J0(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMiniProgram",{get:function(){return r.C0(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxMiniProgram",{get:function(){return r.Ks(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQQMiniProgram",{get:function(){return r.gP(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTencentDocsApp",{get:function(){return r.VJ(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPCTencentDocsClient",{get:function(){return r.Gk(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPCTencentDocsApp",{get:function(){return r.Rg(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isElectronTencentDocsClient",{get:function(){return r.nK(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMacAppStoreTencentDocsClient",{get:function(){return r.BP(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeiYunApp",{get:function(){return r.T4(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSouGou",{get:function(){return r.ab(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTencentMeeting",{get:function(){return r.ag(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWxWorkTencentMeeting",{get:function(){return r.X5(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTencentMeetingRooms",{get:function(){return r.UQ(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSupportNativeDatabase",{get:function(){return r.OB(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSupportFullOfflineMode",{get:function(){return r.QE(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNativeDatabaseWillDeprecated",{get:function(){return r.fw(this.userAgent)},enumerable:!1,configurable:!0}),e}();t.default=new i},75992:function(e,t,n){"use strict";n.d(t,{$M:function(){return _},$b:function(){return u},AM:function(){return U},AO:function(){return J},BP:function(){return ke},Br:function(){return N},C0:function(){return me},C9:function(){return K},Dt:function(){return h},EA:function(){return B},ED:function(){return b},Ep:function(){return ue},Ev:function(){return le},Ez:function(){return g},G6:function(){return L},GP:function(){return ce},Gf:function(){return G},Gk:function(){return Oe},Gp:function(){return se},H2:function(){return R},I0:function(){return T},IJ:function(){return E},IN:function(){return s},IR:function(){return x},J$:function(){return I},J0:function(){return ye},K1:function(){return A},KR:function(){return je},Ks:function(){return _e},O7:function(){return S},OB:function(){return Ue},Of:function(){return de},PF:function(){return X},Q7:function(){return l},QE:function(){return Fe},QY:function(){return p},Rb:function(){return he},Rg:function(){return Ie},Rl:function(){return j},Ro:function(){return f},SA:function(){return Q},T4:function(){return De},UQ:function(){return Le},V5:function(){return d},VA:function(){return O},VJ:function(){return we},Vm:function(){return oe},X5:function(){return Ne},Xw:function(){return w},ZB:function(){return Se},ZR:function(){return $},_u:function(){return Re},ab:function(){return Me},ag:function(){return Pe},bN:function(){return ae},d5:function(){return fe},dl:function(){return v},e3:function(){return H},eN:function(){return Ce},ez:function(){return Z},fw:function(){return Be},gI:function(){return ve},gP:function(){return be},gn:function(){return y},hY:function(){return V},i4:function(){return ee},i7:function(){return D},m9:function(){return Ae},mQ:function(){return ne},nK:function(){return Te},oK:function(){return m},ow:function(){return Y},p:function(){return a},st:function(){return re},tN:function(){return q},tq:function(){return i},uw:function(){return C},vU:function(){return W},vs:function(){return ie},vu:function(){return P},w1:function(){return F},w6:function(){return te},x6:function(){return Ee},xB:function(){return ge},yQ:function(){return pe},z6:function(){return k},zZ:function(){return z},zc:function(){return c},zy:function(){return xe}});var r=n(16195),o=n(3582),i=(0,o.c$)((function(e){return/(mobile)/i.test(e)||l(e)})),a=(0,o.c$)((function(e){return/(mobile)/i.test(e)&&!c(e)})),s=(0,o.c$)((function(e){return/(iphone)/i.test(e)})),c=(0,o.c$)((function(e){return/(ipad)/i.test(e)})),u=(0,o.c$)((function(e){return/(mobile)/i.test(e)&&h(e)})),l=(0,o.c$)((function(e){return!/(mobile)/i.test(e)&&h(e)})),f=(0,o.c$)((function(e){return!i(e)})),d=(0,o.c$)((function(e){return!i(e)&&/Mac OS X/i.test(e)})),p=(0,o.c$)((function(e){return d(e)&&navigator.maxTouchPoints>1})),h=(0,o.c$)((function(e){return/android|adr/i.test(e)})),v=(0,o.c$)((function(e){return h(e)?(0,o.H7)("Android",e):null})),g=(0,o.$9)((function(e,t){return(0,o.yC)(v(e)||"",t)>=0})),y=(0,o.c$)((function(e){return/(iphone|ipad|ipod)/i.test(e)})),m=(0,o.c$)((function(e){return y(e)?(0,o.H7)("OS",e):null})),_=(0,o.$9)((function(e,t){return(0,o.yC)(m(e)||"",t)>=0})),b=(0,o.c$)((function(e){return/(win64|wow64|win32|wow32|windows nt)/i.test(e)})),w=(0,o.c$)((function(e){return/MSAppHost/i.test(e)})),E=(0,o.c$)((function(e){return/linux/i.test(e)&&!h(e)})),S=(0,o.c$)((function(e){return/linux-kylin/i.test(e)})),O=(0,o.c$)((function(e){return/linux-uos/i.test(e)})),I=(0,o.c$)((function(e){return!i(e)&&/QQBrowser/i.test(e)&&!/QBCore/i.test(e)})),R=(0,o.c$)((function(e){return I(e)?(0,o.H7)("QQBrowser",e):null})),C=(0,o.$9)((function(e,t){return(0,o.yC)(R(e)||"",t)>=0})),T=(0,o.c$)((function(e){return i(e)&&/MQQBrowser/i.test(e)&&!ge(e)&&!H(e)&&!Y(e)&&!we(e)&&!De(e)&&!me(e)&&!Pe(e)})),x=(0,o.c$)((function(e){return T(e)?(0,o.H7)("MQQBrowser",e):null})),A=(0,o.$9)((function(e,t){return(0,o.yC)(x(e)||"",t)>=0})),k=(0,o.c$)((function(e){return i(e)?T(e):I(e)})),D=(0,o.c$)((function(e){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(e)})),M=(0,o.c$)((function(e){return/Chrome\/\S+ Safari\/\S+ /i.test(e)&&Y(e)})),P=(0,o.c$)((function(e){return(0,o.H7)("Chrome",e)})),N=(0,o.$9)((function(e,t){return(0,o.yC)(P(e)||"",t)>=0})),L=(0,o.c$)((function(e){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(e)})),j=(0,o.c$)((function(e){return L(e)?(0,o.H7)("Version",e):null})),U=(0,o.$9)((function(e,t){return(0,o.yC)(j(e)||"",t)>=0})),F=(0,o.c$)((function(e){return/MSIE/i.test(e)&&!/opera/i.test(e)||/Trident/i.test(e)})),B=(0,o.c$)((function(e){return/Edge/i.test(e)})),q=(0,o.c$)((function(e){return/Edg\//i.test(e)})),W=(0,o.c$)((function(e){return/(Firefox|Focus|FxiOS)\//i.test(e)})),V=(0,o.c$)((function(e){return W(e)?(0,o.H7)("(Firefox|Focus|FxiOS)",e):null})),G=(0,o.$9)((function(e,t){return(0,o.yC)(V(e)||"",t)>=0})),H=(0,o.c$)((function(e){return/MicroMessenger/i.test(e)&&!Y(e)&&!_e(e)})),K=(0,o.c$)((function(e){return H(e)||_e(e)?(0,o.H7)("MicroMessenger",e):null})),Q=(0,o.$9)((function(e,t){return(0,o.yC)(K(e)||"",t)>=0})),Y=(0,o.c$)((function(e){return/(wxwork)/i.test(e)})),Z=(0,o.c$)((function(e){return/(wxworkQt)/i.test(e)})),z=(0,o.c$)((function(e){return/WeComCEF/i.test(e)&&Y(e)})),$=(0,o.c$)((function(e){return!(!Y(e)||!f(e))&&(d(e)?z(e):M(e))})),J=(0,o.c$)((function(e){return Y(e)&&f(e)?d(e)?(0,o.H7)("WeComCEF",e):P(e):null})),X=(0,o.$9)((function(e,t){return(0,o.yC)(J(e)||"",t)>=0})),ee=(0,o.c$)((function(e){return/(wxworklocal)/i.test(e)})),te=(0,o.c$)((function(e){return/WXDrive/i.test(e)})),ne=(0,o.c$)((function(e){return te(e)?(0,o.H7)("WXDrive",e):null})),re=(0,o.$9)((function(e,t){return(0,o.yC)(ne(e)||"",t)>=0})),oe=(0,o.c$)((function(e){return Y(e)?(0,o.H7)("wxwork",e):null})),ie=(0,o.$9)((function(e,t){return(0,o.yC)(oe(e)||"",t)>=0})),ae=(0,o.c$)((function(e){return ee(e)?(0,o.H7)("wxworklocal",e):null})),se=(0,o.$9)((function(e,t){return(0,o.yC)(ae(e)||"",t)>=0})),ce=(0,o.c$)((function(e){return/QQ\//i.test(e)&&!we(e)&&!be(e)&&!de(e)})),ue=(0,o.c$)((function(e){return/QQ\//i.test(e)&&/_GM/i.test(e)})),le=(0,o.c$)((function(e){return ce(e)||be(e)?(0,o.H7)("QQ",e):null})),fe=(0,o.$9)((function(e,t){return(0,o.yC)(le(e)||"",t)>=0})),de=(0,o.c$)((function(e){return/TIM/i.test(e)})),pe=(0,o.c$)((function(e){return/QBCore/i.test(e)&&/TIM2.0/i.test(e)})),he=(0,o.c$)((function(e){return de(e)?(0,o.H7)("TIM",e):null})),ve=(0,o.$9)((function(e,t){return(0,o.yC)(he(e)||"",t)>=0})),ge=(0,o.c$)((function(e){return de(e)&&!be(e)||ce(e)})),ye=(0,o.c$)((function(e){return de(e)||/QQ/i.test(e)})),me=(0,o.c$)((function(e){return/miniprogram|miniapp(?!enable)/i.test(e)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment})),_e=(0,o.c$)((function(e){return/MicroMessenger/i.test(e)&&me(e)})),be=(0,o.c$)((function(e){return/QQ\/|TIM/i.test(e)&&me(e)})),we=(0,o.c$)((function(e){return/TencentDocs/i.test(e)})),Ee=(0,o.c$)((function(e){return(0,o.H7)("TencentDocs",e)})),Se=(0,o.$9)((function(e,t){return(0,o.yC)(Ee(e)||"",t)>=0})),Oe=(0,o.c$)((function(e){return/TxDocsPC/i.test(e)})),Ie=(0,o.c$)((function(e){return Oe(e)})),Re=(0,o.c$)((function(e){return(0,o.H7)("TxDocsPC",e)})),Ce=(0,o.$9)((function(e,t){return(0,o.yC)(Re(e)||"",t)>=0})),Te=(0,o.c$)((function(e){return/TDAppDesktop/i.test(e)})),xe=(0,o.c$)((function(e){return(0,o.H7)("TDAppDesktop",e)})),Ae=(0,o.$9)((function(e,t){return(0,o.yC)(xe(e)||"",t)>=0})),ke=(0,o.c$)((function(e){return"30020"===(0,o.H7)("TDAppDesktopChannel",e)})),De=(0,o.c$)((function(e){return/weiyun/i.test(e)})),Me=(0,o.c$)((function(e){return/SE 2\.X MetaSr 1\.0/i.test(e)})),Pe=(0,o.c$)((function(e){return/tencent_wemeet/i.test(e)})),Ne=(0,o.c$)((function(e){return Pe(e)&&/meeting_wework/i.test(e)})),Le=(0,o.c$)((function(e){return/TencentMeetingRooms/i.test(e)})),je=function(e){return(0,o.up)(e)},Ue=(0,o.c$)((function(e){var t=e.match(/_tdocFlag\/(\d+)/);if(null==t?void 0:t[1])return!!(parseInt(t[1],10)&r.TX.nativeDatabaseAndFullOfflineModeAvailable);var n=e.match(r.y8);return!!(null==n?void 0:n[1])&&!!(parseInt(n[1],10)&r.Ym.nativeDatabaseAvailable)})),Fe=(0,o.c$)((function(e){var t=e.match(/_tdocFlag\/(\d+)/);if(null==t?void 0:t[1])return!!(parseInt(t[1],10)&r.TX.nativeDatabaseAndFullOfflineModeAvailable);var n=e.match(r.y8);return!!(null==n?void 0:n[1])&&!!(parseInt(n[1],10)&r.Ym.fullOfflineModeAvailable)})),Be=(0,o.c$)((function(e){var t=e.match(r.y8);return!!(null==t?void 0:t[1])&&!!(parseInt(t[1],10)&r.Ym.nativeDatabaseWillDeprecated)}))},3582:function(e,t,n){"use strict";n.d(t,{$9:function(){return d},H7:function(){return u},c$:function(){return f},ij:function(){return l},up:function(){return p},yC:function(){return c}});var r=n(16195),o=/\d+([._]\d+)*/,i=function(e){return new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")};function a(e){var t,n=o.exec(e);return null!==(t=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==t?t:null}function s(e){var t=a(e);return(null==t?void 0:t.split(".").map(Number))||[]}function c(e,t){return n=s(e),r=s(t),(o=Array(Math.max(n.length,r.length)).fill(0).map((function(e,t){return(n[t]||0)-(r[t]||0)})).find((function(e){return 0!==e}))||0)<0?-1:o>0?1:0;var n,r,o}function u(e,t){var n;try{n=i(e)}catch(o){return null}var r=n.exec(t);return r?a(r[0].substring(e.length)):null}var l=function(){var e;return function(){return void 0===e&&(e="undefined"!=typeof navigator?navigator.userAgent:""),e}}();function f(e){return function(t){return e(t||l())}}function d(e){return function(t,n){return e(n||l(),t)}}function p(e){var t=0;return e.fullOffline&&(t|=r.Ym.fullOfflineModeAvailable),e.nativeDatabase&&(t|=r.Ym.nativeDatabaseAvailable),e.nativeDatabaseWillDeprecated&&(t|=r.Ym.nativeDatabaseWillDeprecated),"".concat(r.X4,"/").concat(t)}},11496:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TDocFlag=t.TDBitToggle=t.TOGGLE_KEY_PATTERN=t.TOGGLE_KEY_NAME=void 0,t.TOGGLE_KEY_NAME="AppBitShiftToggle",t.TOGGLE_KEY_PATTERN=new RegExp("".concat(t.TOGGLE_KEY_NAME,"/(\\d+)")),function(e){e[e.fullOfflineModeAvailable=1]="fullOfflineModeAvailable",e[e.nativeDatabaseAvailable=2]="nativeDatabaseAvailable",e[e.nativeDatabaseWillDeprecated=4]="nativeDatabaseWillDeprecated"}(t.TDBitToggle||(t.TDBitToggle={})),function(e){e[e.nativeDatabaseAndFullOfflineModeAvailable=2]="nativeDatabaseAndFullOfflineModeAvailable"}(t.TDocFlag||(t.TDocFlag={}))},27561:function(e,t,n){"use strict";t.ij=t.e0=t.gh=void 0;var r=n(11496);t.gh=/\d+([._]\d+)*/;var o;function i(e){var n,r=t.gh.exec(e);return null!==(null==r?void 0:r[0].replace(/_/g,"."))&&void 0!==n?n:null}function a(e){var t=i(e);return(null==t?void 0:t.split(".").map(Number))||[]}function s(e,t){var n=Array(Math.max(e.length,t.length)).fill(0).map((function(n,r){return(e[r]||0)-(t[r]||0)})).find((function(e){return 0!==e}))||0;return n<0?-1:n>0?1:0}t.e0=function(e){return new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")},t.ij=function(){return void 0===o&&(o="undefined"!=typeof navigator?navigator.userAgent:""),o}},8522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80244).__importDefault(n(2567));t.default="data-dui-"+r.default.replace(/\./g,"-")},33649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n=t.i18nInstance=void 0;var r=n(80244),o=r.__importDefault(n(72545)),i=r.__importDefault(n(21615)),a=r.__importDefault(n(83141)),s=r.__importDefault(n(85288)),c=n(62940),u=new s.default;"undefined"==typeof window||u.addDetector({name:"userAgent",lookup:function(){var e=navigator.userAgent.match(/language\/([a-zA-Z'-_]+)/i);if(e)return e[1].replace("_","-")}});var l={};["en","zh-CN"].forEach((function(e,t){var n=o.default({},c.translationMap,(function(e,n){return n[t]}));i.default(l,[e,"translation"],n)})),t.i18nInstance=a.default.createInstance(),t.i18nInstance.use(u).init({resources:l,fallbackLng:{"zh-TW":["zh-HK","zh-CN"],default:["zh-CN"]},detection:{order:["querystring","userAgent","cookie"],lookupCookie:"language",caches:[]}}),t.i18n=function(e){return t.i18nInstance.t(e)}},2567:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="1.5.0"},62940:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translationMap=void 0;var r=n(80244).__importDefault(n(71121)).default.isMac?"Command":"Ctrl";t.translationMap={avatar:["Avatar","头像"],ok:["OK","确定"],cancel:["Cancel","取消"],select:["Select","请选择"],search:["Search","搜索选项"],hour:["H","时"],minute:["M","分"],second:["S","秒"],now:["Now","此刻"],inputHour:["Input Hour","输入小时"],inputMinute:["Input Minute","输入分"],inputSecond:["Input Second","输入秒"],close:["Close","关闭"],loadingFailed:["Loading Failed","加载失败"],noOptions:["No Options","暂无选项"],copySuccessed:["Copy Succeeded","复制成功"],copyFailed:["Copy Failed","复制失败"],eyedropper:["Eyedropper","取色器"],eyedropperFailedSafari:["Eyedropper is not supported by this browser. Please open it in Chrome","取色器暂不支持本浏览器, 请在 Chrome 中使用"],eyedropperFailedEdge:["Eyedropper is not supported by this browser. Please open it in Chrome","取色器暂不支持本浏览器, 请在 Chrome 中使用"],zoomIn:["Zoom In","放大"],zoomOut:["Zoom Out","缩小"],fitScreen:["Fit Screen","适应屏幕"],actualSize:["Actual Size","原图"],download:["Download","下载"],monthPostfix:["","月"],name:["zh-cn","en"],today:["Today","今天"],backToToday:["Back to Today","返回今天"],timeSelect:["Select Time","选择时间"],dateSelect:["Select Date","选择日期"],weekSelect:["Select Week","选择周"],clear:["Clear","清除"],month:["Month","月"],year:["Year","年"],previousMonth:["Previous Month (PageUp)","上个月 (翻页上键)"],nextMonth:["Next Month (PageDown)","下个月 (翻页下键)"],monthSelect:["Select Month","选择月份"],yearSelect:["Select Year","选择年份"],decadeSelect:["Select Decade","选择年代"],yearFormat:["YYYY","YYYY年"],dayFormat:["D","D日"],dateFormat:["M/D/YYYY","YYYY年M月D日"],dateTimeFormat:["M/D/YYYY HH:mm:ss","YYYY年M月D日 HH时mm分ss秒"],monthBeforeYear:["true",""],previousYear:["Previous Year ("+r+" + Left)","上一年 ("+r+"键加左方向键)"],nextYear:["Next Year ("+r+" + Right)","下一年 ("+r+"键加右方向键)"],previousDecade:["Previous Decade","上一年代"],nextDecade:["Next Decade","下一年代"],previousCentury:["Previous Century","上一世纪"],nextCentury:["Next Century","下一世纪"],monthFormat:["MMM","M月"],time:["Time","时间"]}},32802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80244),o=n(34653).h,i=r.__importStar(n(1024)),a=r.__importStar(n(59018));n(71372).D("components/Loading/style/spin.css",'[data-dui-1-5-0~="dui-spin"]{position:relative;width:100%;height:100%}[data-dui-1-5-0~="dui-spin-container"]{position:absolute;left:50%;top:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:48px;height:48px}[data-dui-1-5-0~="dui-spin-circle"]{border-radius:50%;width:100%;height:100%;-webkit-animation:dui-spin-rotate .8s linear infinite;animation:dui-spin-rotate .8s linear infinite;-webkit-box-sizing:border-box;box-sizing:border-box}[data-dui-1-5-0~="dui-spin-circle-light"]{border:4px solid hsla(0,0%,100%,.4);border-top-color:#fff}[data-dui-1-5-0~="dui-spin-circle-dark"]{border:4px solid rgba(0,0,0,.12);border-top-color:rgba(0,0,0,.32)}[data-dui-1-5-0~="dui-spin-circle-primary"]{border:4px solid rgba(30,111,255,.24);border-top:4px solid var(--accent-default,#1e6fff)}@-webkit-keyframes dui-spin-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes dui-spin-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}');var s=n(23994),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootRef=i.createRef(),t.themedRender=function(e){var n=t.props,r=n.prefixCls,i=n.className,a=n.style,s=n.type,c=n.circleClassName,u=n.circleStyle,l=e(r,i),f=e(r+"-circle",r+"-circle-"+s,c);return o("div",{className:l,style:a,ref:t.rootRef},o("div",{className:e(r+"-container"),style:t.calcContainerTransform()},o("div",{className:f,style:u})))},t}return r.__extends(t,e),t.prototype.calcContainerTransform=function(){var e=this.rootRef.current;if(e){var t=e.clientWidth,n=e.clientHeight;return{transform:"translate(-50%,-50%) scale("+Math.min(t,n)/48+")"}}},t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.render=function(){return s.consumeTheme(this.themedRender)},t}(i.PureComponent);t.default=c,c.defaultProps={prefixCls:"dui-spin",type:"dark"},c.propTypes={prefixCls:a.string,style:a.object,className:a.string,type:a.oneOf(["light","dark","primary"]),circleClassName:a.string,circleStyle:a.object}},1574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80244),o=n(34653).h,i=r.__importStar(n(1024)),a=r.__importStar(n(59018)),s=n(89976),c=n(23994),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=i.createRef(),t.themedRender=function(e){var n=t.props,i=n.prefixCls,a=n.className,c=n.style,u=n.children,l=e(i,a);return o("div",{className:l,style:r.__assign({position:"relative"},c),ref:t.ref},o(s.ContainerContext.Provider,{value:t.ref.current},u))},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.render=function(){return c.consumeTheme(this.themedRender)},t}(i.Component);t.default=u,u.defaultProps={prefixCls:"dui-snackbar-container"},u.propTypes={prefixCls:a.string,style:a.object,className:a.string}},79172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80244),o=n(34653).h,i=r.__importStar(n(1024)),a=r.__importDefault(n(30314)),s=n(57438),c=n(6240),u=r.__importDefault(n(32802)),l=n(89976),f=n(23994),d=n(78467),p=n(21706),h=n(33649),v=function(e){function t(){var t,n=e.apply(this,arguments)||this;return n.selfRef=i.createRef(),n.disableAutoFocus=s.isBrowser&&(null===(t=window.__dui_disable_auto_focus_map__)||void 0===t?void 0:t.Snackbar),n.handleClickAction=function(){n.getEffectiveProps().onClickAction(),n.handleClose()},n.handleClose=function(){n.getEffectiveProps().onClose()},n.themedRender=function(e){var t,i=n.getEffectiveProps(),s=i.prefixCls,u=i.className,l=i.style,f=i.action,h=i.children,v=i.message,g=i.visible,y=i.closable,m=i.type,_=i.zIndex,b=i.showIcon,w=i.testId,E=i.emphasize,S=e(s+"-message");if(!c.decideKeepDom.call(n,p.SNACKBAR_LEAVING_TRANSITION_DURATION,g))return null;var O=n.getContainerDom(),I=e(s,u,s+"-top",s+"-"+m,((t={})[s+"-emphasize"]=E,t[s+"-with-icon"]=b&&!n.renderUserSetIcon(e),t[s+"-hidden"]=!g,t[s+"-in-container"]=O!==document.body,t));return a.default.createPortal(o("div",{className:I,style:r.__assign({zIndex:_,marginTop:d.getMarginTop(n)+"px"},l),ref:n.selfRef,role:"alert","aria-live":"assertive","aria-atomic":!0,"data-testid":w},n.renderIcon(e),o("span",{className:S},h||v),f||y?o("span",{className:e(s+"-controls")},n.renderAction(e),n.renderClose(e)):null),O)},n}return r.__extends(t,e),t.prototype.getContainerDom=function(){return s.isDom(this.context)?this.context:this.getEffectiveProps().containerDom},t.prototype.getEffectiveProps=function(){var e=this.props,t=e.type,n=e.emphasize;return["error","warning"].includes(t)?"warning"===t?r.__assign(r.__assign({},this.props),{type:"error",emphasize:!1}):"error"===t&&void 0===n?r.__assign(r.__assign({},this.props),{type:"error",emphasize:!0}):this.props:this.props},t.prototype.componentDidMount=function(){this.handleEffect()},t.prototype.componentDidUpdate=function(){this.handleEffect()},t.prototype.handleEffect=function(){d.updateVisibleSnackbars(this)},t.prototype.renderUserSetIcon=function(e){var t=this.getEffectiveProps(),n=t.prefixCls,r=t.type,a=t.showIcon,s=t.icon;if(!a||!s)return null;if(i.isValidElement(s))return o("div",{className:e(n+"-icon-container")},s);if("object"==typeof s){var c=s[this.props.type]||s[r];return o("div",{className:e(n+"-icon-container")},c)}return null},t.prototype.renderAction=function(e){var t=this,n=this.getEffectiveProps(),r=n.prefixCls,i=n.action;return i?Array.isArray(i)&&i.length>0&&i[0].text?o("span",{className:e(r+"-actions")},i.map((function(n,i){return o("button",{key:i,className:e(r+"-action"),onClick:function(){var e;null===(e=n.onClick)||void 0===e||e.call(n),t.handleClose()},autoFocus:!t.disableAutoFocus&&0===i},n.text)}))):o("button",{className:e(r+"-action"),onClick:this.handleClickAction,autoFocus:!this.disableAutoFocus},i):null},t.prototype.renderIcon=function(e){var t=this.getEffectiveProps(),n=t.prefixCls,r=t.spinType,i=t.type;if(!t.showIcon)return null;var a=this.renderUserSetIcon(e);return a||("loading"===i?o(u.default,{type:r,className:e(n+"-loading-indicator"),circleClassName:e(n+"-loading-indicator-circle")}):null)},t.prototype.renderClose=function(e){var t=this.getEffectiveProps(),n=t.prefixCls;return t.closable?o("button",{className:e(n+"-close"),onClick:this.handleClose,"aria-label":h.i18n("close")}):null},t.prototype.render=function(){return f.consumeTheme(this.themedRender)},t.contextType=l.ContainerContext,t}(i.Component);t.default=v,v.defaultProps={prefixCls:"dui-snackbar",onClickAction:s.emptyFn,closable:!1,type:"info",onClose:s.emptyFn,showIcon:!0,containerDom:"undefined"!=typeof document?document.body:void 0,spinType:"primary"}},21706:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SNACKBAR_LEAVING_TRANSITION_DURATION=void 0,t.SNACKBAR_LEAVING_TRANSITION_DURATION=200},89976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerContext=void 0;var r=n(80244).__importStar(n(1024));t.ContainerContext=r.createContext(null)},95442:function(e,t,n){"use strict";var r=n(80244),o=r.__importDefault(n(79172));o.default,n(71372).D("components/Snackbar/style/index.css",'@-webkit-keyframes dui-snackbar-slide-in{0%{opacity:0;-webkit-transform:translate(-50%,-20px);transform:translate(-50%,-20px)}to{opacity:1;-webkit-transform:translate(-50%);transform:translate(-50%)}}@keyframes dui-snackbar-slide-in{0%{opacity:0;-webkit-transform:translate(-50%,-20px);transform:translate(-50%,-20px)}to{opacity:1;-webkit-transform:translate(-50%);transform:translate(-50%)}}@-webkit-keyframes dui-snackbar-slide-in-container{0%{opacity:0;-webkit-transform:translate(-50%,-10px);transform:translate(-50%,-10px)}to{opacity:1;-webkit-transform:translate(-50%);transform:translate(-50%)}}@keyframes dui-snackbar-slide-in-container{0%{opacity:0;-webkit-transform:translate(-50%,-10px);transform:translate(-50%,-10px)}to{opacity:1;-webkit-transform:translate(-50%);transform:translate(-50%)}}[data-dui-1-5-0~="dui-snackbar"]{-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;z-index:10000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;left:50%;height:40px;border-radius:4px;padding:10px 10px 10px 12px;-webkit-box-shadow:0 4px 20px 0 rgba(0,0,0,.08);box-shadow:0 4px 20px 0 rgba(0,0,0,.08);border:1px solid rgba(0,0,0,.08);background-color:var(--bg-lv4-default,#fff);color:var(--text-ultrastrong,rgba(0,0,0,.88));font-size:14px;white-space:nowrap;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:dui-snackbar-slide-in .4s cubic-bezier(.4,0,.2,1);animation:dui-snackbar-slide-in .4s cubic-bezier(.4,0,.2,1);-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1)}[data-dui-1-5-0~="dui-snackbar-with-icon"]:before{content:"";display:inline-block;background-position:50%;background-repeat:no-repeat;background-size:contain}[data-dui-1-5-0~="dui-snackbar-icon-container"],[data-dui-1-5-0~="dui-snackbar-with-icon"]:before{width:20px;height:20px;margin-right:8px}[data-dui-1-5-0~="dui-snackbar-info"]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'20\' height=\'20\' fill-rule=\'evenodd\'%3E%3Ccircle cx=\'10\' cy=\'10\' r=\'8\' fill=\'%231e6fff\'/%3E%3Cg fill=\'%23fff\'%3E%3Cpath d=\'M11.778 14.89V14h-.9V8.668H8.223v.89h.888V14h-.89v.89h3.556z\'/%3E%3Ccircle cx=\'10\' cy=\'6.444\' r=\'1.333\'/%3E%3C/g%3E%3C/svg%3E")}[data-dui-1-5-0~="dui-snackbar-error"]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'20\' height=\'20\'%3E%3Cpath fill=\'%23ff4747\' d=\'M10 2a8 8 0 110 16 8 8 0 110-16zm0 10.222a1.333 1.333 0 100 2.665 1.333 1.333 0 000-2.664zm1.333-7.1H8.667l.444 6.22h1.778l.444-6.222z\' fill-rule=\'evenodd\'/%3E%3C/svg%3E")}[data-dui-1-5-0~="dui-snackbar-success"]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'20\' height=\'20\' fill-rule=\'evenodd\'%3E%3Ccircle cx=\'10\' cy=\'10\' r=\'8\' fill=\'%2300d689\'/%3E%3Cpath fill=\'%23fff\' d=\'M7.47 9.167l1.645 1.646 4.126-4.125 1.178 1.178-5.303 5.303-2.824-2.824L7.47 9.167z\'/%3E%3C/svg%3E")}[data-dui-1-5-0~="dui-snackbar-error"][data-dui-1-5-0~="dui-snackbar-emphasize"]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'20\' height=\'20\'%3E%3Cpath fill=\'%23fff\' d=\'M10 2a8 8 0 110 16 8 8 0 110-16zm0 10.222a1.333 1.333 0 100 2.665 1.333 1.333 0 000-2.664zm1.333-7.1H8.667l.444 6.22h1.778l.444-6.222z\' fill-rule=\'evenodd\'/%3E%3C/svg%3E")}[data-dui-1-5-0~="dui-snackbar-emphasize"]{color:var(--bg-lv1-default,#fff);border-color:transparent}[data-dui-1-5-0~="dui-snackbar-emphasize"]:before{-webkit-filter:brightness(1.2);filter:brightness(1.2)}[data-dui-1-5-0~="dui-snackbar-emphasize"][data-dui-1-5-0~="dui-snackbar-info"]{background-color:var(--accent-default,#1e6fff)}[data-dui-1-5-0~="dui-snackbar-emphasize"][data-dui-1-5-0~="dui-snackbar-success"]{background-color:var(--success-default,#00d689)}[data-dui-1-5-0~="dui-snackbar-emphasize"][data-dui-1-5-0~="dui-snackbar-error"]{background-color:var(--critical-default,#ff4747)}[data-dui-1-5-0~="dui-snackbar-emphasize"][data-dui-1-5-0~="dui-snackbar-loading"]{background-color:var(--accent-default,#1e6fff)}[data-dui-1-5-0~="dui-snackbar-loading"]:before{content:none}[data-dui-1-5-0~="dui-snackbar-loading-indicator"]{width:16px;height:16px;margin:0 10px 0 2px}[data-dui-1-5-0~="dui-snackbar-loading-indicator-circle"]{border-width:6px}[data-dui-1-5-0~="dui-snackbar-hidden"]{opacity:0;-webkit-transform:translateX(-50%) translateY(-20px);transform:translateX(-50%) translateY(-20px)}[data-dui-1-5-0~="dui-snackbar-top"]{top:105px}[data-dui-1-5-0~="dui-snackbar-bottom"]{bottom:105px}[data-dui-1-5-0~="dui-snackbar-in-container"]{-webkit-animation-name:dui-snackbar-slide-in-container;animation-name:dui-snackbar-slide-in-container;position:absolute;top:14px}[data-dui-1-5-0~="dui-snackbar-in-container"][data-dui-1-5-0~="dui-snackbar-hidden"]{-webkit-transform:translate(-50%,-10px);transform:translate(-50%,-10px)}[data-dui-1-5-0~="dui-snackbar-message"]{color:inherit}[data-dui-1-5-0~="dui-snackbar-controls"]{margin-left:12px;line-height:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[data-dui-1-5-0~="dui-snackbar-controls"]>:not(:last-child){margin-right:10px}[data-dui-1-5-0~="dui-snackbar-action"],[data-dui-1-5-0~="dui-snackbar-close"]{display:inline-block;border-radius:2px;cursor:pointer;border:none;margin:0;padding:0;background:transparent;-webkit-tap-highlight-color:transparent}[data-dui-1-5-0~="dui-snackbar-action"]:hover,[data-dui-1-5-0~="dui-snackbar-close"]:hover{background-color:var(--feedback-hover,rgba(51,77,102,.06))}[data-dui-1-5-0~="dui-snackbar-action"]:active,[data-dui-1-5-0~="dui-snackbar-close"]:active{background-color:var(--feedback-active,rgba(51,77,102,.08))}[data-dui-1-5-0~="dui-snackbar-actions"]>:not(:first-child){margin-left:7px}[data-dui-1-5-0~="dui-snackbar-action"]{color:var(--text-link,#175ceb);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 4px;font-weight:500;font-size:14px}[data-dui-1-5-0~="dui-snackbar-emphasize"] [data-dui-1-5-0~="dui-snackbar-action"],[data-dui-1-5-0~="dui-snackbar-emphasize"] [data-dui-1-5-0~="dui-snackbar-close"]{color:var(--bg-lv1-default,#fff)}[data-dui-1-5-0~="dui-snackbar-emphasize"] [data-dui-1-5-0~="dui-snackbar-action"]:hover,[data-dui-1-5-0~="dui-snackbar-emphasize"] [data-dui-1-5-0~="dui-snackbar-close"]:hover{background-color:hsla(0,0%,100%,.24)}[data-dui-1-5-0~="dui-snackbar-emphasize"] [data-dui-1-5-0~="dui-snackbar-action"]:active,[data-dui-1-5-0~="dui-snackbar-emphasize"] [data-dui-1-5-0~="dui-snackbar-close"]:active{background-color:hsla(0,0%,100%,.4)}[data-dui-1-5-0~="dui-snackbar-close"]{width:20px;height:20px;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\'%3E%3Cpath fill=\'%2381868f\' fill-rule=\'evenodd\' d=\'M8.63 8L13 12.368l-.632.632L8 8.63 3.632 13 3 12.368 7.368 8 3 3.632 3.632 3 8 7.368 12.368 3l.632.632L8.63 8z\'/%3E%3C/svg%3E");background-position:50%;background-size:16px;background-repeat:no-repeat}[data-dui-1-5-0~="dui-snackbar-emphasize"] [data-dui-1-5-0~="dui-snackbar-close"]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\'%3E%3Cpath fill=\'%23fff\' fill-rule=\'evenodd\' d=\'M8.63 8L13 12.368l-.632.632L8 8.63 3.632 13 3 12.368 7.368 8 3 3.632 3.632 3 8 7.368 12.368 3l.632.632L8.63 8z\'/%3E%3C/svg%3E")}');var i=r.__importDefault(n(10663)),a=r.__importDefault(n(1574)),s=n(78467);o.default.show=i.default,o.default.closeAll=s.closeAll,o.default.closeById=s.closeById,o.default.hasVisibleInstances=s.hasVisibleInstances,o.default.Container=a.default,t.ZP=o.default},78467:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasVisibleInstances=t.closeById=t.closeAll=t.getMarginTop=t.updateVisibleSnackbars=void 0;var n=50;function r(e){var t=e.getContainerDom();return t.__dui_visible_snackbars__=t.__dui_visible_snackbars__||[],t.__dui_visible_snackbars__}function o(e){return r(e).findIndex((function(t){return t.instance===e}))}function i(e){var t=r(e),n=e.props.id;if(n){var o=t.findIndex((function(e){return e.instance.props.id===n}));if(o>=0)return t[o]}var i=t.findIndex((function(e){return e.instance.props.autoClose}));return i>=0?t[i]:null}function a(e){var t=i(e);if(t)return t.marginTop;var o=r(e).map((function(e){return e.marginTop})).sort((function(e,t){return e-t}));if(0===o.length)return 0;for(var a=0;a<o.length;a++){var s=n*a;if(s!==o[a])return s}return o[o.length-1]+n}t.updateVisibleSnackbars=function(e){var t=e.props.visible,n=o(e),s=r(e);if(t&&-1===n){var c=i(e);null==c||c.instance.handleClose(),s.push({instance:e,marginTop:a(e)})}t||-1===n||s.splice(n,1)},t.getMarginTop=function(e){var t=o(e),n=r(e);return-1!==t?n[t].marginTop:a(e)},t.closeAll=function(e){var t=document.body.__dui_visible_snackbars__;null==t||t.filter((function(t){var n=t.instance.props,r=n.autoClose,o=n.closable;return e||r||o})).forEach((function(e){return e.instance.handleClose()}))},t.closeById=function(e){var t=document.body.__dui_visible_snackbars__;null==t||t.filter((function(t){return t.instance.props.id===e})).forEach((function(e){return e.instance.handleClose()}))},t.hasVisibleInstances=function(){var e;return Boolean(null===(e=document.body.__dui_visible_snackbars__)||void 0===e?void 0:e.length)}},10663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80244).__importDefault(n(79172)),o=n(76015),i=n(57438),a=n(21706);t.default=i.wrapWithConfigDefaults((function(e){var t=e.autoClose,n=void 0===t||t;return e.autoClose=n,o.showWithTransition({Component:r.default,transitionDuration:a.SNACKBAR_LEAVING_TRANSITION_DURATION,autoClose:n,props:e,injectClosePropNames:["onClose"],contexts:e.contexts})}))},69941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80244),o=n(34653).h,i=r.__importStar(n(1024)),a=r.__importDefault(n(30314)),s=n(57438),c=r.__importDefault(n(81208)),u=n(23994),l=n(6240),f=n(1702),d={position:{left:"0px",top:"0px"},effectivePlacement:"bottom"},p={top:"translate(-50%, -50%) rotate(225deg)",bottom:"translate(-50%, 50%) rotate(45deg)",left:"translate(-50%, -50%) rotate(135deg)",right:"translate(50%, -50%) rotate(-45deg)"},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootRef=i.createRef(),t.overlayContainerRef=i.createRef(),t.forceRenderDom=!1,t.cancelPositionChangeChecker=null,t.state=r.__assign({currentVisible:!!t.props.defaultVisible},d),t.show=function(){t.props.disabled||(t.forceRenderDom=!0,t.setState(d,(function(){t.runVisibleEffects(),t.setStateVisible(!0),t.forceRenderDom=!1})))},t.hide=function(){clearTimeout(t.showTimeout),t.isVisible()&&t.setStateVisible(!1)},t.toggle=function(){t.props.disabled||(t.isVisible()?t.hide():t.show())},t.handleClickAnchor=function(){var e=t.props,n=e.trigger,r=e.hideOnClick;"click"===n?t.toggle():"hover"===n&&r&&t.hide()},t.handleMouseDownAnchor=function(){var e=t.props,n=e.trigger;e.hideOnMouseDown&&"hover"===n&&t.hide()},t.handleMouseEnter=function(){clearTimeout(t.hideTimeout),clearTimeout(t.showTimeout),t.showTimeout=setTimeout(t.show,"object"==typeof t.props.hoverDelay?t.props.hoverDelay.show:t.props.hoverDelay)},t.handleMouseLeave=function(){clearTimeout(t.showTimeout),t.hideTimeout=setTimeout(t.hide,"object"==typeof t.props.hoverDelay?t.props.hoverDelay.hide:t.props.hoverDelay)},t.themedRender=function(e){var n,i=t.props,s=i.className,u=i.style,f=i.prefixCls,d=i.children,p=i.overlayClassName,h=i.overlayStyle,v=i.trigger,g=i.offset,y=i.zIndex,m=i.containerClassName,_=i.containerStyle,b=i.destroyOnClose,w=i.overlayHoverable,E=i.containerDom,S=t.state.effectivePlacement,O=e(f,s,f+"-wrapper"),I=e(f+"-content",p),R=r.__assign(r.__assign({},h),{transform:"translate"+("top"===S||"bottom"===S?"X":"Y")+"("+g+"px)"}),C=t.isVisible(),T=e(f+"-container",m,((n={})[f+"-container-visible"]=C,n)),x=!t.forceRenderDom&&b&&!l.decideKeepDom.call(t,200,C),A="";return"hover"===v&&(A=w?"outer":"inner"),o(c.default,{className:O,style:u,action:t.hide,disabled:"click"!==v},o("div",{onMouseEnter:"outer"===A?t.handleMouseEnter:void 0,onMouseLeave:"outer"===A?t.handleMouseLeave:void 0,ref:t.rootRef},o("div",{onClick:t.handleClickAnchor,onMouseDown:t.handleMouseDownAnchor,onMouseEnter:"inner"===A?t.handleMouseEnter:void 0,onMouseLeave:"inner"===A?t.handleMouseLeave:void 0},d),x?null:a.default.createPortal(o("div",{className:T,ref:t.overlayContainerRef,style:r.__assign(r.__assign({zIndex:y},_),t.state.position)},o("div",{className:I,style:R,"aria-atomic":!0,"aria-live":"assertive"},t.renderTitle(e)),t.renderArrow(e)),E||document.body)))},t}return r.__extends(t,e),t.getDerivedStateFromProps=function(e,t){return e.disabled?{currentVisible:!1}:null},t.prototype.componentDidMount=function(){this.isVisible()&&this.runVisibleEffects()},t.prototype.componentWillUnmount=function(){var e;null===(e=this.cancelPositionChangeChecker)||void 0===e||e.call(this),clearTimeout(this.showTimeout),clearTimeout(this.hideTimeout)},t.prototype.componentDidUpdate=function(e){var t;!e.visible&&this.props.visible&&this.runVisibleEffects(),this.isVisible()||null===(t=this.cancelPositionChangeChecker)||void 0===t||t.call(this)},t.prototype.isVisible=function(){var e=this.props,t=e.visible;if(e.disabled)return!1;var n=this.state.currentVisible;return"boolean"==typeof t?t:n},t.prototype.setStateVisible=function(e){this.setState({currentVisible:e}),this.props.onVisibleChange(e)},t.prototype.runVisibleEffects=function(){var e=this;this.setState(this.calcOverlayMetrics(),(function(){requestAnimationFrame((function(){var t;null===(t=e.cancelPositionChangeChecker)||void 0===t||t.call(e),e.cancelPositionChangeChecker=f.checkPositionChange(e.rootRef.current,e.hide)}))}))},t.prototype.calcStartPositionByAlignment=function(e,t,n){switch(this.props.alignment){case"start":return e;case"center":return(e+t-n)/2;case"end":return t-n;default:return 0}},t.prototype.calcOverlayMetrics=function(){var e=this.rootRef.current,t=this.overlayContainerRef.current;if(!e||!t)return d;var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=this.props.placement;if("string"==typeof o)return{position:this.calcOverlayPositionByPlacement(n,r,o).position,effectivePlacement:o};for(var i=0,a=o;i<a.length;i++){var s=a[i],c=this.calcOverlayPositionByPlacement(n,r,s),u=c.position;if(c.canFitIn)return{position:u,effectivePlacement:s}}return{position:this.calcOverlayPositionByPlacement(n,r,o[0]).position,effectivePlacement:o[0]}},t.prototype.calcOverlayPositionByPlacement=function(e,t,n){var r=e.left,o=e.right,i=e.top,a=e.bottom,c=t.width,u=t.height,l=this.props,f=l.containerOffsetX,d=l.containerOffsetY,p=4+(l.showArrow?2:0);"bottom"!==n&&"top"!==n||(f+=this.calcStartPositionByAlignment(r,o,c)),"left"===n&&(f+=r-p-c),"right"===n&&(f+=o+p);var h=s.castInto(f,[2,innerWidth-c-2]);"left"!==n&&"right"!==n||(d+=this.calcStartPositionByAlignment(i,a,u)),"top"===n&&(d+=i-8-u),"bottom"===n&&(d+=a+8);var v=s.castInto(d,[2,innerHeight-u-2]);return{position:{left:h+"px",top:v+"px"},canFitIn:h===f&&v===d}},t.prototype.renderArrow=function(e){var t=this.props,n=t.arrowOffsetX,i=t.arrowOffsetY,a=t.showArrow,s=t.prefixCls,c=t.arrowClassName,u=t.arrowStyle;if(!a)return null;var l=this.state.effectivePlacement,f=e(s+"-arrow",c,s+"-arrow-"+l),d="translate("+n+"px, "+i+"px) "+p[l];return o("div",{className:f,style:r.__assign({transform:d},u)})},t.prototype.renderTitle=function(e){var t=this.props,n=t.prefixCls,r=t.title;return Array.isArray(r)&&r.every((function(e){return"string"==typeof e}))?o("div",{className:e(n+"-title-multiline")},r.map((function(e,t){return o("div",{key:t},e)}))):r},t.prototype.render=function(){return u.consumeTheme(this.themedRender)},t}(i.Component);t.default=h,h.defaultProps={prefixCls:"dui-tooltip",title:"",placement:"bottom",trigger:"hover",onVisibleChange:s.emptyFn,disabled:!1,offset:0,containerOffsetX:0,containerOffsetY:0,destroyOnClose:!0,alignment:"center",hoverDelay:400,hideOnClick:!1,hideOnMouseDown:!1,overlayHoverable:!0,arrowOffsetX:0,arrowOffsetY:0}},85153:function(e,t,n){"use strict";var r=n(80244);n(71372).D("components/Tooltip/style/index.css",'@-webkit-keyframes dui-tooltip-fade-in{0%{opacity:0}to{opacity:1}}@keyframes dui-tooltip-fade-in{0%{opacity:0}to{opacity:1}}[data-dui-1-5-0~="dui-tooltip-wrapper"]{display:inline-block;position:relative}[data-dui-1-5-0~="dui-tooltip-container"]{position:fixed;visibility:hidden;-webkit-transition-property:opacity,visibility;transition-property:opacity,visibility;-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-timing-function:linear;transition-timing-function:linear;z-index:10002;opacity:0;-webkit-animation:dui-tooltip-fade-in .2s linear;animation:dui-tooltip-fade-in .2s linear;font-size:medium}[data-dui-1-5-0~="dui-tooltip-container-visible"]{visibility:visible;opacity:1}[data-dui-1-5-0~="dui-tooltip-content"]{display:inline-block;padding:7px 12px;font-size:12px;line-height:18px;border:1px solid rgba(0,0,0,.1);border-radius:4px;color:var(--text-ultrastrong,rgba(0,0,0,.88));-webkit-box-shadow:0 6px 32px 2px rgba(68,73,77,.16),0 4px 6px 2px rgba(0,0,0,.04);box-shadow:0 6px 32px 2px rgba(68,73,77,.16),0 4px 6px 2px rgba(0,0,0,.04);word-break:break-word;background-color:var(--bg-lv4-default,#fff)}[data-dui-1-5-0~="dui-tooltip-title-multiline"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;line-height:16px}[data-dui-1-5-0~="dui-tooltip-arrow"]{position:absolute;border-top-left-radius:3px;border:1px solid rgba(0,0,0,.1);border-right:none;border-bottom:none;pointer-events:none;width:8px;height:8px;background:-webkit-linear-gradient(315deg,var(--bg-lv4-default,#fff) 50%,transparent 0);background:linear-gradient(135deg,var(--bg-lv4-default,#fff) 50%,transparent 0)}[data-dui-1-5-0~="dui-tooltip-arrow-top"]{margin-top:-1px;top:100%;left:50%}[data-dui-1-5-0~="dui-tooltip-arrow-right"]{margin-right:-1px;top:50%;right:100%}[data-dui-1-5-0~="dui-tooltip-arrow-bottom"]{margin-bottom:-1px;bottom:100%;left:50%}[data-dui-1-5-0~="dui-tooltip-arrow-left"]{margin-left:-1px;top:50%;left:100%}');var o=r.__importDefault(n(69941));o.default,t.ZP=o.default},81208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerContext=void 0;var r=n(80244),o=n(34653).h,i=r.__importStar(n(1024)),a=n(57438),s=r.__importDefault(n(61156)),c=n(65269),u=r.__importDefault(n(40152));t.TriggerContext=i.createContext(a.emptyFn);var l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldCancel=!1,t.captureTrigger=function(e){t.props.disabled||setTimeout((function(){t.trigger(e)}),0)},t.cancel=function(e){if(!t.props.disabled){var n=e.nativeEvent;n._dui_trigger_instances?n._dui_trigger_instances.push(t):n._dui_trigger_instances=[t]}},t.generateCancelSetter=u.default((function(e){return function(n){e(n),t.shouldCancel=n}})),t}return r.__extends(n,e),n.prototype.componentDidMount=function(){this.doc.addEventListener("click",this.captureTrigger,!0),this.props.disableContextMenu||this.doc.addEventListener("contextmenu",this.captureTrigger,!0)},n.prototype.componentWillUnmount=function(){this.doc.removeEventListener("click",this.captureTrigger,!0),this.props.disableContextMenu||this.doc.removeEventListener("contextmenu",this.captureTrigger,!0)},Object.defineProperty(n.prototype,"doc",{get:function(){return this.context||document},enumerable:!1,configurable:!0}),n.prototype.trigger=function(e){var t=this.props,n=t.disabled,r=t.action,o=t.shouldTriggerAction;if(!n&&!this.shouldCancel){if(e._dui_trigger_instances){var i=e._dui_trigger_instances.indexOf(this);if(-1!==i)return e._dui_trigger_instances.splice(i,1),void(0===e._dui_trigger_instances.length&&delete e._dui_trigger_instances)}o(e)&&r()}},n.prototype.render=function(){var e=this,n=this.props,i=n.prefixCls,a=n.className,c=n.style,u=n.children,l=n.domRef,f=n.disableContextMenu,d=n.testId,p=(n.disabled,n.action,n.shouldTriggerAction,r.__rest(n,["prefixCls","className","style","children","domRef","disableContextMenu","testId","disabled","action","shouldTriggerAction"])),h=s.default(i,a);return o(t.TriggerContext.Consumer,null,(function(n){return o(t.TriggerContext.Provider,{value:e.generateCancelSetter(n)},o("div",r.__assign({className:h,style:c,onClickCapture:e.cancel,onContextMenuCapture:f?void 0:e.cancel,ref:l,"data-testid":d},p),u))}))},n.contextType=c.DocumentDomContext,n}(i.Component);t.default=l,l.defaultProps={prefixCls:"dui-trigger",action:a.emptyFn,shouldTriggerAction:a.trueFn,disabled:!1,disableContextMenu:!1}},1702:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPositionChange=void 0;var r=n(57438);t.checkPositionChange=function(e,t){if(!e)return r.emptyFn;var n=e.getBoundingClientRect(),o=setInterval((function(){var r=e.getBoundingClientRect();(Math.abs(n.left-r.left)>1||Math.abs(n.top-r.top)>1)&&t(),n=r}),100);return function(){return clearInterval(o)}}},34653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.h=t.isScopedAttributeDisabled=void 0;var r=n(80244),o=n(1024),i=r.__importDefault(n(8522)),a=n(57438);t.isScopedAttributeDisabled=function(){var e,t;"object"==typeof window&&(e=window.__dui_disable_scoped_attribute__);"object"==typeof n.g&&(t=n.g.__dui_disable_scoped_attribute__);return Boolean(e||t)}(),a.isBrowser&&(window.__dui_disable_auto_focus_map__=window.__dui_disable_auto_focus_map__||{}),t.h=function(e,n){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var c=n;return(null==n?void 0:n.className)&&"string"==typeof e&&!t.isScopedAttributeDisabled&&(c[i.default]=n.className),o.createElement.apply(void 0,r.__spreadArray([e,c],a))}},65269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentDomContext=void 0;var r=n(80244).__importStar(n(1024));t.DocumentDomContext=r.createContext(null)},57438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createContextValueGetter=t.shallowEqual=t.isBrowser=t.isDom=t.wrapWithConfigDefaults=t.inject=t.assert=t.isIE=t.createStringParamFunc=t.canBeDivided=t.roundByStep=t.castInto=t.nullFn=t.trueFn=t.falseFn=t.emptyFn=void 0;var r,o=n(80244),i=o.__importDefault(n(40152));function a(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return e[n]===t[n]}))}t.emptyFn=function(){},t.falseFn=function(){return!1},t.trueFn=function(){return!0},t.nullFn=function(){return null},t.castInto=function(e,t){return e>t[1]?t[1]:e<t[0]?t[0]:e},t.roundByStep=function e(t,n){if(t<0)return-e(-t,n);var r=t%n;return r<n/2?t-r:t-r+n},t.canBeDivided=function(e,t){var n=e/t;return n>>0===n},t.createStringParamFunc=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.map((function(e){return Number(e)}));return e.apply(void 0,r)}},t.isIE=function(){if("boolean"==typeof r)return r;var e=navigator.userAgent;return r=!(!/compatible/.test(e)||!/MSIE/.test(e))||!(!/Trident/.test(e)||!/rv:11\.0/.test(e))},t.assert=function(e,t){e||console.error(t)},t.inject=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(null,n);return!1!==o&&t(),o}},t.wrapWithConfigDefaults=function(e){var t={},n=function(n){var r=o.__assign(o.__assign({},t),n);return e(r)};return n.configDefaults=function(e){t=e},n},t.isDom=function(e){return e&&"object"==typeof e&&1===e.nodeType},t.isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,t.shallowEqual=a,t.createContextValueGetter=function(){return i.default((function(e){return e}),(function(e,t){return a(e[0],t[0])}))}},6240:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decideKeepDom=void 0,t.decideKeepDom=function(e,t){var n=this,r=!t&&this._ALC_HELPER_prevVisible;return this._ALC_HELPER_prevVisible=t,!!t||!!r&&(setTimeout((function(){n.forceUpdate()}),e),!0)}},43772:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),"function"!=typeof String.prototype.repeat&&(String.prototype.repeat=function(e){if(null==this)throw new TypeError("can't convert "+this+" to object");var t=""+this;if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e==1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0==t.length||0==e)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var n=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,n-t.length)}),"function"!=typeof String.prototype.padStart&&(String.prototype.padStart=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),"function"!=typeof Array.prototype.fill&&(Array.prototype.fill=function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),n=t.length>>>0,r=arguments[1]>>0,o=r<0?Math.max(n+r,0):Math.min(r,n),i=arguments[2],a=void 0===i?n:i>>0,s=a<0?Math.max(n+a,0):Math.min(a,n);o<s;)t[o]=e,o++;return t}),"undefined"!=typeof Element&&"function"!=typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return o;o++}return-1}),Array.prototype.includes||(Array.prototype.includes=function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var o,i,a=0|t,s=Math.max(a>=0?a:r-Math.abs(a),0);for(;s<r;){if((o=n[s])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;s++}return!1})},76015:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showWithTransition=void 0;var r=n(80244),o=n(34653).h,i=r.__importDefault(n(30314)),a=n(57438);t.showWithTransition=function(e){var t,n=e.Component,s=e.transitionDuration,c=e.autoClose,u=e.props,l=e.forcedProps,f=e.injectClosePropNames,d=void 0===f?[]:f,p=e.deepInjectClose,h=void 0===p?[]:p,v=e.contexts,g=document.createElement("div");document.body.appendChild(g);var y=!1;d.forEach((function(e){_(u,e)})),h.forEach((function(e){var t=e[0],n=e[1];Array.isArray(t)?t.forEach((function(e){return _(e,n)})):_(t,n)}));var m=r.__assign(r.__assign(r.__assign({},u),l),{visible:!0});function _(e,t){var n=e[t]||a.emptyFn;e[t]=a.inject(n,b)}function b(){y||(y=!0,clearTimeout(t),w(m=r.__assign(r.__assign({},m),{visible:!1})),setTimeout((function(){i.default.unmountComponentAtNode(g),g.remove()}),s+20))}function w(e){var t=(null==v?void 0:v.length)?function(e,t){return e.reduce((function(e,t){var n=t.provider,r=t.value;return o(n,{value:r},e)}),t)}(v,o(n,r.__assign({},e))):o(n,r.__assign({},e));i.default.render(t,g)}return w(m),c&&(t=setTimeout(b,u.duration||2e3)),{update:function(e){y||w(m=r.__assign(r.__assign(r.__assign(r.__assign({},m),e),l),{visible:!0}))},close:b}}},71372:function(e,t,n){"use strict";t.D=void 0;var r=n(80244).__importDefault(n(2567)),o=n(34653),i=n(57438),a=function(){function e(){var e=i.isBrowser?window:n.g;e.__dui_style_registry__=e.__dui_style_registry__||{},this.registry=e.__dui_style_registry__}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.registry).length},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t){this.registry[e]=t},e.prototype.get=function(e){return this.registry[e]},e.prototype.add=function(e,t){this.registry[e]||(this.registry[e]=[]),this.registry[e].push(t)},e}(),s=new a;t.D=function(e,t){var n=r.default+"-"+e,a=o.isScopedAttributeDisabled?e:n,l=Boolean(i.isBrowser&&document.querySelector('style[data-dui-key="'+a+'"]')||!i.isBrowser);if(Array.isArray(s.get(n))&&l)return s.add(n,"1"),void function(e){if(!i.isBrowser||!s.length||!Array.isArray(s.get(e)))return;var t=s.get(e).length;setTimeout((function(){s.get(e).length>t||console.warn("[DUI] "+e+" 重复引入了 "+t+" 次")}),c)}(n);s.set(n,["1"]);var f=u(e);if(f.length>1&&function(e,t){if(!i.isBrowser)return;setTimeout((function(){u(e).length>t.length||console.warn("[DUI] "+e+" 存在多个版本:  "+t.join("  "))}),c)}(e,f),i.isBrowser)(d=document.createElement("style")).setAttribute("type","text/css"),d.setAttribute("data-dui-key",a),d.innerText=t,document.head.appendChild(d);else if("function"==typeof injectContentBeforeRoot){var d='<style type="text/css" data-dui-key="'+a+'">'+t+"</style>";injectContentBeforeRoot(d)}};var c=3e3;function u(e){return s.length?Object.getOwnPropertyNames(s.registry).filter((function(t){return-1!==t.indexOf(e)})).map((function(e){return e.split("-")[0]})):[]}},23994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createThemedClassNames=t.consumeTheme=void 0;var r=n(80244),o=n(34653).h,i=r.__importStar(n(1024)),a=r.__importDefault(n(61156)),s=r.__importDefault(n(71121));n(43772),n(71372).D("common/global.css","[data-dui-1-5-0]{font-family:-apple-system,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif,TdocsUncommon}[data-dui-1-5-0]:focus{outline:none}"),s.default.isMac&&!s.default.isIPadEmulatedMac&&!s.default.isFirefox&&n(71372).D("common/anti-alias.css",'[data-dui-1-5-0]{-webkit-font-smoothing:antialiased}[data-dui-1-5-0~="dui-button"]{font-weight:500}');var c=i.createContext(null);function u(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(e,t){if(!t||!e)return t;var n=t.split(/\s+/);return n.concat.apply(n,n.map((function(t){return e[t]})).filter((function(e){return e}))).join(" ")}(e,a.default.apply(void 0,t))}}t.consumeTheme=function(e){return o(c.Consumer,null,(function(t){var n=u(t);return e(n)}))},t.createThemedClassNames=u,t.default=c},59308:function(e,t,n){"use strict";n.r(t),n.d(t,{IdleValue:function(){return p},Priority:function(){return r},createScheduler:function(){return d},defineIdleProperties:function(){return v},defineIdleProperty:function(){return h},scheduler:function(){return f}});var r,o=function(){if("object"==typeof performance&&"function"==typeof performance.now)return function(){return performance.now()};var e=Date,t=e.now();return function(){return e.now()-t}}(),i=function(){function e(){var e=this;this.isMessageLoopRunning=!1,this.performWorkUntilDeadline=function(t){var n;if(e.deadline=t,e.scheduledHostCallback){var r=o(),i=(null==t?void 0:t.didTimeout)||!1;e.scheduledHostCallback(i,r)?null===(n=window.requestIdleCallback)||void 0===n||n.call(window,e.performWorkUntilDeadline,{timeout:500}):(e.isMessageLoopRunning=!1,e.scheduledHostCallback=void 0)}else e.isMessageLoopRunning=!1}}return e.prototype.shouldYieldToHost=function(e){var t,n,r,o;void 0===e&&(e=0);var i=null===(n=null===(t=this.deadline)||void 0===t?void 0:t.timeRemaining)||void 0===n?void 0:n.call(t);if(void 0!==i&&i<e)return!0;var a=navigator;return!!(null===(o=null===(r=null==a?void 0:a.scheduling)||void 0===r?void 0:r.isInputPending)||void 0===o?void 0:o.call(r))},e.prototype.requestHostCallback=function(e){if("function"!=typeof window.requestIdleCallback)throw Error("requestIdleCallback undefined when use ExecutorIdleCallback!");this.scheduledHostCallback=e,this.isMessageLoopRunning||(this.isMessageLoopRunning=!0,window.requestIdleCallback(this.performWorkUntilDeadline,{timeout:500}))},e}(),a=function(){function e(){}return e.prototype.shouldYieldToHost=function(){return!1},e.prototype.requestHostCallback=function(e){var t=this;this.scheduledHostCallback?setTimeout((function(){return t.requestHostCallback(e)}),0):(this.scheduledHostCallback=e,setTimeout((function(){return t.flushCallback()}),0))},e.prototype.flushCallback=function(){var e=this;if(this.scheduledHostCallback)try{var t=o();this.scheduledHostCallback(!1,t),this.scheduledHostCallback=void 0}catch(o){throw setTimeout((function(){return e.flushCallback()}),0),o}},e}(),s=function(){function e(){var t=this;this.maxYieldInterval=300,this.yieldInterval=10,this.deadline=0,this.isMessageLoopRunning=!1,e.UUID+=1,this.key=""+e.UUID,c.get().onMessage(this.key,(function(){t.performWorkUntilDeadline()}))}return e.prototype.shouldYieldToHost=function(){var e,t,n=navigator;if(void 0!==(null===(e=null==n?void 0:n.scheduling)||void 0===e?void 0:e.isInputPending)){var r=n.scheduling,i=o();return i>=this.deadline&&(!!(null===(t=r.isInputPending)||void 0===t?void 0:t.call(r))||i>=this.maxYieldInterval)}return o()>=this.deadline},e.prototype.requestHostCallback=function(e){this.scheduledHostCallback=e,this.isMessageLoopRunning||(this.isMessageLoopRunning=!0,c.get().postMessage(this.key))},e.prototype.performWorkUntilDeadline=function(){if(this.scheduledHostCallback){var e=o();this.deadline=e+this.yieldInterval;var t=this.scheduledHostCallback(!1,e);try{t?c.get().postMessage(this.key):(this.isMessageLoopRunning=!1,this.scheduledHostCallback=void 0)}catch(e){throw c.get().postMessage(this.key),e}}else this.isMessageLoopRunning=!1},e.UUID=0,e}(),c=function(){function e(){var e=this;this.callbacks=new Map,this.channel=new MessageChannel,this.port=this.channel.port2,this.channel.port1.onmessage=function(t){var n=t.data,r=e.callbacks.get(n);"function"==typeof r?r():null===console||void 0===console||console.warn("non callback found by "+n)}}return e.get=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.onMessage=function(e,t){this.callbacks.set(e,t)},e.prototype.postMessage=function(e){this.port.postMessage(e)},e}(),u=function(){function e(){this.heap=[]}return e.prototype.push=function(e){var t=this.heap.length;this.heap.push(e),this.siftUp(e,t)},e.prototype.peek=function(){return this.heap[0]},e.prototype.pop=function(){var e=this.heap[0];if(void 0!==e){var t=this.heap.pop();return t&&t!==e&&(this.heap[0]=t,this.siftDown(t,0)),e}},e.prototype.size=function(){return this.heap.length},e.prototype.clear=function(){this.heap=[]},e.prototype.siftUp=function(e,t){for(var n=t;;){var r=n-1>>>1,o=this.heap[r];if(!(void 0!==o&&this.compare(o,e)>0))return;this.heap[r]=e,this.heap[n]=o,n=r}},e.prototype.siftDown=function(e,t){for(var n=t,r=this.heap.length;n<r;){var o=2*(n+1)-1,i=this.heap[o],a=o+1,s=this.heap[a];if(void 0!==i&&this.compare(i,e)<0)void 0!==s&&this.compare(s,i)<0?(this.heap[n]=s,this.heap[a]=e,n=a):(this.heap[n]=i,this.heap[o]=e,n=o);else{if(!(void 0!==s&&this.compare(s,e)<0))return;this.heap[n]=s,this.heap[a]=e,n=a}}},e.prototype.compare=function(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id},e}();!function(e){e[e.hight=1]="hight",e[e.normal=2]="normal",e[e.low=3]="low",e[e.idle=4]="idle"}(r||(r={}));var l=function(){function e(){var e=this;this.highPriorityTimeout=0,this.normalPriorityTimeout=2e3,this.lowPriorityTimeout=5e3,this.idlePriorityTimeout=1073741823,this.taskIdCounter=1,this.isSchedulerPaused=!1,this.isHostCallbackSchedule=!1,this.isPerformingWork=!1,this.flushWork=function(t,n){e.isHostCallbackSchedule=!1;try{return e.workLoop(t,n)}finally{e.currentTask=void 0,e.isPerformingWork=!1}},this.workLoop=function(t,n){var r=n;for(e.currentTask=e.taskQueue.peek();e.currentTask&&!e.isSchedulerPaused;){var o=e.currentTask,i=o.expirationTime,a=o.minTime;if(i>r&&(t||e.executor.shouldYieldToHost(a)))break;var s=e.currentTask.callback;if("function"==typeof s){e.currentTask.callback=void 0;var c=s();"function"==typeof c?e.currentTask.callback=c:e.currentTask===e.taskQueue.peek()&&e.taskQueue.pop()}else e.taskQueue.pop();e.currentTask=e.taskQueue.peek()}return!!e.currentTask},this.taskQueue=new u,this.executor=this.createHostExecutor()}return e.prototype.scheduleTask=function(e,t){var n,i=o();switch((null==t?void 0:t.priority)||r.idle){case r.hight:n=this.highPriorityTimeout;break;case r.normal:n=this.normalPriorityTimeout;break;case r.low:n=this.lowPriorityTimeout;break;case r.idle:default:n=this.idlePriorityTimeout}var a=null==t?void 0:t.minTime;void 0===a&&(a=1),this.taskIdCounter+=1;var s={id:this.taskIdCounter,expirationTime:i+n,sortIndex:i+n,minTime:a,callback:e};return this.taskQueue.push(s),this.isHostCallbackSchedule||this.isPerformingWork||(this.isHostCallbackSchedule=!0,this.executor.requestHostCallback(this.flushWork)),s},e.prototype.cancelTask=function(e){e.callback=void 0},e.prototype.clearPendingTasks=function(){this.taskQueue.clear()},e.prototype.pause=function(){this.isSchedulerPaused=!0},e.prototype.continue=function(){this.isSchedulerPaused=!1,this.isHostCallbackSchedule||this.isPerformingWork||(this.isHostCallbackSchedule=!0,this.executor.requestHostCallback(this.flushWork))},e.prototype.createHostExecutor=function(){try{if("function"==typeof(null===window||void 0===window?void 0:window.requestIdleCallback))return new i;if("undefined"!=typeof MessageChannel)return new s}catch(r){null===console||void 0===console||console.info("use polyfill executor")}return new a},e}(),f=new l;function d(){return new l}var p=function(){function e(e,t){var n=this;this.initFun=e,this.idleHandle=f.scheduleTask((function(){n.value=n.initFun()}),t)}return e.prototype.getValue=function(){return void 0===this.value&&(this.cancelIdleInit(),this.value=this.initFun()),this.value},e.prototype.setValue=function(e){this.cancelIdleInit(),this.value=e},e.prototype.cancelIdleInit=function(){this.idleHandle&&(f.cancelTask(this.idleHandle),this.idleHandle=void 0)},e}(),h=function(e,t,n){var r=new p(n);Object.defineProperty(e,t,{configurable:!0,get:r.getValue.bind(r),set:r.setValue.bind(r)})},v=function(e,t){Object.keys(t).forEach((function(n){h(e,n,t[n])}))}},76791:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={version:6,autoRun:!0,ignoreDefaultSources:!0,cdnSources:n(29980).cdnSources,duration:6e4};t.default=r},29980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cdnSources=void 0;var o=r(n(34405)).default.getInstance().getConfig('npm["@tencent/netcheck"]');t.cdnSources=Object.values((null==o?void 0:o.cdnSources)||["https://docs.qq.com/net-check/img","https://docs.gtimg.com/components/img/1px.gif","https://docs2.gtimg.com/components/img/1px.gif"])},60801:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseAny=t.createSingleton=void 0,t.createSingleton=function(e){if(window.tdocsNetcheck){var t=window.tdocsNetcheck.getVersion();e.getVersion()>t&&(e.extendCallbacks(window.tdocsNetcheck.getCallbacks()),window.tdocsNetcheck.destory(),window.tdocsNetcheck=e,window.tdocsNetcheck.init())}else window.tdocsNetcheck=e,window.tdocsNetcheck.init();return window.tdocsNetcheck};t.promiseAny=function(e){return new Promise((function(t,n){var r=e.length;r||n(new AggregateError("null"));var o=[];e.forEach((function(e){e.then((function(e){return t(e)})).catch((function(e){r-=1,o.push(e),r||n(new AggregateError(o))}))}))}))}},2953:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.network=void 0;var o=n(60801),i=r(n(8883)).default.create({autoRun:!1});t.network=o.createSingleton(i)},8883:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=i(n(84986)),c=i(n(76791)),u=n(60801);!function(e){e.OFF_LINE="offline",e.ON_LINE="online"}(a||(a={}));var l;window.__offlinetest=!1,void 0!==document.hidden?l="visibilitychange":void 0!==document.mozHidden?l="mozvisibilitychange":void 0!==document.msHidden?l="msvisibilitychange":void 0!==document.webkitHidden&&(l="webkitvisibilitychange");var f=function(){function e(e){var t=this;this.cdnSources=c.default.cdnSources,this.autoRun=c.default.autoRun,this.duration=c.default.duration,this.counter=0,this.handleVisibility=function(){document.hidden||document.webkitHidden||document.msHidden||document.mozHidden?(t.duration=3e5,t.pause(),t.startCheck()):(t.duration=6e4,t.pause(),t.startCheck())},this.handleNetstatus=function(){return r(t,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=this,[4,this.netcheck()];case 1:return e.status=t.sent(),this.handleCalback(),[2]}}))}))},this.setConfig(e),this.status=this.navigatorOnlineStatus,this.netchecksource=this.cdnSources[0],this.callbacks=[],this.autoRun&&this.init()}return e.create=function(t){return new e(t)},e.getInstance=function(t){return e.instance||(e.instance=e.create(t)),e.instance},e.prototype.setConfig=function(e){var t=e.cdnSources,n=void 0===t?this.cdnSources:t,r=e.ignoreDefaultSources,o=void 0===r?c.default.ignoreDefaultSources:r,i=e.autoRun,a=void 0===i?this.autoRun:i,s=e.duration,u=void 0===s?this.duration:s;Array.isArray(n)&&(this.cdnSources=o?n:this.cdnSources.concat(n)),this.autoRun=!!a,Number.isInteger(u)&&(this.duration=u)},e.prototype.getVersion=function(){return e.version},e.prototype.init=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,this.preNetCheck()];case 1:return e=t.sent(),this.status=e,this.bindVisibility(),this.bindNetStatus(),this.startCheck(),[2]}}))}))},Object.defineProperty(e.prototype,"isOnline",{get:function(){return!window.__offlinetest&&this.status===a.ON_LINE},enumerable:!1,configurable:!0}),e.prototype.changeEnd=function(e){this.callbacks.push(e)},e.prototype.extendCallbacks=function(e){this.callbacks=this.callbacks.concat(e.slice())},e.prototype.getCallbacks=function(){return this.callbacks},e.prototype.remove=function(e){for(var t=this.callbacks.slice(0,this.callbacks.length),n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),this.callbacks=t)},e.prototype.handleCalback=function(){var e=this;this.callbacks.forEach((function(t){t(e.status)}))},e.prototype.destory=function(){window.mqq&&s.default.isAndroid&&(s.default.isTencentDocsApp||s.default.isTimOrQQ)&&!s.default.isQQMiniProgram?window.mqq.removeEventListener("qbrowserVisibilityChange",this.handleVisibility):document.removeEventListener(l,this.handleVisibility),this.pause(),window.removeEventListener(a.ON_LINE,this.handleNetstatus),window.removeEventListener(a.OFF_LINE,this.handleNetstatus)},e.prototype.bindNetStatus=function(){window.addEventListener(a.ON_LINE,this.handleNetstatus),window.addEventListener(a.OFF_LINE,this.handleNetstatus)},e.prototype.bindVisibility=function(){window.mqq&&s.default.isAndroid&&(s.default.isTencentDocsApp||s.default.isTimOrQQ)&&!s.default.isQQMiniProgram?window.mqq.addEventListener("qbrowserVisibilityChange",this.handleVisibility):document.addEventListener(l,this.handleVisibility)},e.prototype.pause=function(){clearInterval(this.Timer),this.Timer=null},e.prototype.startCheck=function(){var e=this;this.Timer=window.setInterval((function(){return r(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.polling()];case 1:return e.sent(),[2]}}))}))}),this.duration)},e.prototype.polling=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.preCheckOnlineStatus?[3,1]:(this.status=this.navigatorOnlineStatus,[3,3]);case 1:return e=this,[4,this.netcheck()];case 2:e.status=t.sent(),t.label=3;case 3:return this.counter>=15?[4,this.preNetCheck()]:[3,5];case 4:return t.sent(),this.counter=0,[3,6];case 5:this.counter+=1,t.label=6;case 6:return this.handleCalback(),[2]}}))}))},Object.defineProperty(e.prototype,"navigatorOnlineStatus",{get:function(){return window.navigator.onLine?a.ON_LINE:a.OFF_LINE},enumerable:!1,configurable:!0}),e.prototype.preNetCheck=function(){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){return[2,new Promise((function(t){var n=e.cdnSources.map((function(t){return e.sourceCheck(t)}));u.promiseAny(n).then((function(n){e.preCheckOnlineStatus=!0,e.netchecksource=n,t(a.ON_LINE)})).catch((function(){e.preCheckOnlineStatus=!1,t(a.OFF_LINE)}))}))]}))}))},e.prototype.sourceCheck=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){return t=new Image,[2,new Promise((function(n,r){t.onload=function(){n(e)},t.onerror=function(){r(e+" load fail")},t.src=e+"?t="+Date.now()}))]}))}))},e.prototype.netcheck=function(){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){return this.netcheckImage||(this.netcheckImage=new Image),[2,new Promise((function(t){e.netcheckImage.onload=function(){t(a.ON_LINE)},e.netcheckImage.onerror=function(){t(a.OFF_LINE)},e.netcheckImage.src=e.netchecksource+"?t="+Date.now()}))]}))}))},e.version=c.default.version,e}();t.default=f},38533:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={version:3,autoRun:!0,ignoreDefaultSources:!0,cdnSources:["https://docs.qq.com/net-check/img","https://docs.gtimg.com/components/img/1px.gif","https://docs2.gtimg.com/components/img/1px.gif"],duration:12e4}},65622:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSingleton=void 0,t.createSingleton=function(e){if(window.tdocsNetcheck){var t=window.tdocsNetcheck.getVersion();e.getVersion()>t&&(e.extendCallbacks(window.tdocsNetcheck.getCallbacks()),window.tdocsNetcheck.destory(),window.tdocsNetcheck=e,window.tdocsNetcheck.init())}else window.tdocsNetcheck=e,window.tdocsNetcheck.init();return window.tdocsNetcheck}},93649:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.network=void 0;var o=n(65622),i=r(n(61402)).default.create({autoRun:!1}),a=o.createSingleton(i);t.network=a},61402:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(78750);var a,s=i(n(71121)),c=i(n(38533));!function(e){e.OFF_LINE="offline",e.ON_LINE="online"}(a||(a={}));var u;window.__offlinetest=!1,void 0!==document.hidden?u="visibilitychange":void 0!==document.mozHidden?u="mozvisibilitychange":void 0!==document.msHidden?u="msvisibilitychange":void 0!==document.webkitHidden&&(u="webkitvisibilitychange");var l=function(){function e(e){var t=this;this.cdnSources=c.default.cdnSources,this.autoRun=c.default.autoRun,this.duration=c.default.duration,this.counter=0,this.handleVisibility=function(){document.hidden||document.webkitHidden||document.msHidden||document.mozHidden?t.pause():t.startCheck()},this.handleNetstatus=function(){return r(t,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=this,[4,this.netcheck()];case 1:return e.status=t.sent(),this.handleCalback(),[2]}}))}))},this.setConfig(e),this.status=this.navigatorOnlineStatus,this.netchecksource=this.cdnSources[0],this.callbacks=[],this.autoRun&&this.init()}return e.create=function(t){return new e(t)},e.getInstance=function(t){return e.instance||(e.instance=e.create(t)),e.instance},e.prototype.setConfig=function(e){var t=e.cdnSources,n=void 0===t?this.cdnSources:t,r=e.ignoreDefaultSources,o=void 0===r?c.default.ignoreDefaultSources:r,i=e.autoRun,a=void 0===i?this.autoRun:i,s=e.duration,u=void 0===s?this.duration:s;Array.isArray(n)&&(this.cdnSources=o?n:this.cdnSources.concat(n)),this.autoRun=!!a,Number.isInteger(u)&&(this.duration=u)},e.prototype.getVersion=function(){return e.version},e.prototype.init=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,this.preNetCheck()];case 1:return e=t.sent(),this.status=e,this.bindVisibility(),this.bindNetStatus(),this.startCheck(),[2]}}))}))},Object.defineProperty(e.prototype,"isOnline",{get:function(){return!window.__offlinetest&&this.status===a.ON_LINE},enumerable:!1,configurable:!0}),e.prototype.changeEnd=function(e){this.callbacks.push(e)},e.prototype.extendCallbacks=function(e){this.callbacks=this.callbacks.concat(e.slice())},e.prototype.getCallbacks=function(){return this.callbacks},e.prototype.remove=function(e){for(var t=this.callbacks.slice(0,this.callbacks.length),n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),this.callbacks=t)},e.prototype.handleCalback=function(){var e=this;this.callbacks.forEach((function(t){t(e.status)}))},e.prototype.destory=function(){window.mqq&&s.default.isAndroid&&(s.default.isTencentDocsApp||s.default.isTimOrQQ)&&!s.default.isQQMiniProgram?window.mqq.removeEventListener("qbrowserVisibilityChange",this.handleVisibility):document.removeEventListener(u,this.handleVisibility),this.pause(),window.removeEventListener(a.ON_LINE,this.handleNetstatus),window.removeEventListener(a.OFF_LINE,this.handleNetstatus)},e.prototype.bindNetStatus=function(){window.addEventListener(a.ON_LINE,this.handleNetstatus),window.addEventListener(a.OFF_LINE,this.handleNetstatus)},e.prototype.bindVisibility=function(){window.mqq&&s.default.isAndroid&&(s.default.isTencentDocsApp||s.default.isTimOrQQ)&&!s.default.isQQMiniProgram?window.mqq.addEventListener("qbrowserVisibilityChange",this.handleVisibility):document.addEventListener(u,this.handleVisibility)},e.prototype.pause=function(){clearTimeout(this.Timer),this.Timer=null},e.prototype.startCheck=function(){var e=this;this.Timer=window.setTimeout((function(){return r(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.polling()];case 1:return e.sent(),this.startCheck(),[2]}}))}))}),this.duration)},e.prototype.polling=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.preCheckOnlineStatus?[3,1]:(this.status=this.navigatorOnlineStatus,[3,3]);case 1:return e=this,[4,this.netcheck()];case 2:e.status=t.sent(),t.label=3;case 3:return this.counter>=15?[4,this.preNetCheck()]:[3,5];case 4:return t.sent(),this.counter=0,[3,6];case 5:this.counter+=1,t.label=6;case 6:return this.handleCalback(),[2]}}))}))},Object.defineProperty(e.prototype,"navigatorOnlineStatus",{get:function(){return window.navigator.onLine?a.ON_LINE:a.OFF_LINE},enumerable:!1,configurable:!0}),e.prototype.preNetCheck=function(){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){return[2,new Promise((function(t){var n=e.cdnSources.map((function(t){return e.sourceCheck(t)}));Promise.any(n).then((function(n){e.preCheckOnlineStatus=!0,e.netchecksource=n,t(a.ON_LINE)})).catch((function(){e.preCheckOnlineStatus=!1,t(a.OFF_LINE)}))}))]}))}))},e.prototype.sourceCheck=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){return t=new Image,[2,new Promise((function(n,r){t.onload=function(){n(e)},t.onerror=function(){r(e+" load fail")},t.src=e+"?t="+Date.now()}))]}))}))},e.prototype.netcheck=function(){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){return this.netcheckImage||(this.netcheckImage=new Image),[2,new Promise((function(t){e.netcheckImage.onload=function(){t(a.ON_LINE)},e.netcheckImage.onerror=function(){t(a.OFF_LINE)},e.netcheckImage.src=e.netchecksource+"?t="+Date.now()}))]}))}))},e.version=c.default.version,e}();t.default=l},22855:function(e,t,n){"use strict";function r(e){var t=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)")),n="object"==typeof document&&document.cookie.match(t);return n?n[1]:null}function o(e,t,n,r,o){var i=new Date;i.setTime(i.getTime()+(n?36e5*n:2592e6)),"undefined"!=typeof document&&(document.cookie="".concat(e,"=").concat(t,";expires=").concat(i.toGMTString(),";path=").concat(o||"/",";").concat(r?"domain=".concat(r,";"):""))}function i(e){var t=window.location.search.substring(1);if(t)for(var n=0,r=t.split("&");n<r.length;n++){var o=r[n].split("="),i=o[0],a=o[1];if(i===e)return a}}function a(e,t){void 0===t&&(t=window.navigator.userAgent);try{var n=new RegExp("\\b".concat(e,"\\/((\\d+\\.){1,3}\\d+)"),"i").exec(t);return n&&n.length>1&&n[1]||""}catch(r){return""}}n.r(t),n.d(t,{KVR:function(){return de},LogPadType:function(){return oe},esLogReport:function(){return fe},getAuth:function(){return we},getCookieUid:function(){return me},getCookieUin:function(){return _e},getDefaultTdwData:function(){return ye},getFileTypeForReport:function(){return be},getPlatform:function(){return Se},getSource1:function(){return Ee},huatuo:function(){return Re},idkey:function(){return ve},monitor:function(){return Oe},reportErrorCode:function(){return se},resetDefaultTdwData:function(){return ge},retcode:function(){return Ie},tdw:function(){return ie},tdwSingle:function(){return ae},tipReport:function(){return ue},webLog:function(){return le},webLogAndEsReport:function(){return ce},zzsStatus:function(){return pe},zzsValue:function(){return he}});var s={doc:1,sheet:2,form:3,slide:4,pdf:7,mind:8,flowchart:9,rec:10},c={qq:1,wx:2,ww:5},u=-1,l={errorNumber:-1,trueNumber:1,falseNumber:0};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d={exports:{}};function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}!function(e,t){"undefined"!=typeof window&&window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==p(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=74)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(18)("wks"),o=n(17),i=n(0).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==p(e)?null!==e:"function"==typeof e}},function(e,t,n){var r=n(0),o=n(15),i=n(11),a=n(12),s=n(19),c=function e(t,n,c){var u,l,f,d,p=t&e.F,h=t&e.G,v=t&e.P,g=t&e.B,y=h?r:t&e.S?r[n]||(r[n]={}):(r[n]||{}).prototype,m=h?o:o[n]||(o[n]={}),_=m.prototype||(m.prototype={});for(u in h&&(c=n),c)f=((l=!p&&y&&void 0!==y[u])?y:c)[u],d=g&&l?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,y&&a(y,u,f,t&e.U),m[u]!=f&&i(m,u,d),v&&_[u]!=f&&(_[u]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(2),o=n(25),i=n(16),a=Object.defineProperty;t.f=n(1)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(14),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(7),o=n(27);e.exports=n(1)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(0),o=n(11),i=n(13),a=n(17)("src"),s=n(46),c=(""+s).split("toString");n(15).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(15),o=n(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(47)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(28);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(8);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(32),o=n(8);e.exports=function(e){return r(o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r,o,i=n(41),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,u=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(e){var t,n,r,o,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),u&&(t=c.lastIndex),r=a.call(c,e),u&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),l&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==p(Symbol.iterator)?e.exports=n=function(e){return p(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":p(e)},n(t)}e.exports=n},function(e,t,n){e.exports=!n(1)&&!n(3)((function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(4)("unscopables"),o=Array.prototype;null==o[r]&&n(11)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(19),o=n(32),i=n(20),a=n(9),s=n(51);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,g,y=i(t),m=o(y),_=r(s,h,3),b=a(m.length),w=0,E=n?p(t,b):c?p(t,0):void 0;b>w;w++)if((d||w in m)&&(g=_(v=m[w],w,y),e))if(n)E[w]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:E.push(v)}else if(l)return!1;return f?-1:u||l?l:E}}},function(e,t,n){var r=n(10);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(5),o=n(55).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(56),o=n(27),i=n(21),a=n(16),s=n(13),c=n(25),u=Object.getOwnPropertyDescriptor;t.f=n(1)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(36),o=n(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(13),o=n(21),i=n(57)(!1),a=n(37)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(18)("keys"),o=n(17);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(5),o=n(10),i=n(4)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(66)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(67),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=p(i))throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){n(68);var r=n(12),o=n(11),i=n(3),a=n(8),s=n(4),c=n(23),u=s("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),p=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!t})):void 0;if(!p||!h||"replace"===e&&!l||"split"===e&&!f){var v=/./[d],g=n(a,d,""[e],(function(e,t,n,r,o){return t.exec===c?p&&!o?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=g[0],m=g[1];r(String.prototype,e,y),o(RegExp.prototype,d,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(6);r(r.S+r.F*!n(1),"Object",{defineProperty:n(7).f})},function(e,t,n){e.exports=n(18)("native-function-to-string",Function.toString)},function(e,t){e.exports=!1},function(e,t,n){var r=n(6);r(r.P,"Array",{fill:n(49)}),n(30)("fill")},function(e,t,n){var r=n(20),o=n(29),i=n(9);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)t[s++]=e;return t}},function(e,t,n){var r=n(6),o=n(31)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(30)("find")},function(e,t,n){var r=n(52);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(5),o=n(53),i=n(4)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(10);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),o=n(13),i=n(10),a=n(33),s=n(16),c=n(3),u=n(35).f,l=n(34).f,f=n(7).f,d=n(58).trim,p=r.Number,h=p,v=p.prototype,g="Number"==i(n(60)(v)),y="trim"in String.prototype,m=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>o)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(g?c((function(){v.valueOf.call(n)})):"Number"!=i(n))?a(new h(m(t)),n,p):m(t)};for(var _,b=n(1)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)o(h,_=b[w])&&!o(p,_)&&f(p,_,l(h,_));p.prototype=v,v.constructor=p,n(12)(r,"Number",p)}},function(e,t,n){var r=n(5),o=n(2),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(19)(Function.call,n(34).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(21),o=n(9),i=n(29);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(6),o=n(8),i=n(3),a=n(59),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(e,t,n){var o={},s=i((function(){return!!a[e]()||"​"!="​"[e]()})),c=o[e]=s?t(f):a[e];n&&(o[n]=c),r(r.P+r.F*s,"String",o)},f=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(2),o=n(61),i=n(22),a=n(37)("IE_PROTO"),s=function(){},c=function(){var e,t=n(26)("iframe"),r=i.length;for(t.style.display="none",n(63).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(7),o=n(2),i=n(62);e.exports=n(1)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(36),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(0).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(38),o=n(2),i=n(65),a=n(39),s=n(9),c=n(40),u=n(23),l=n(3),f=Math.min,d=[].push,p="length",h=!l((function(){}));n(42)("split",2,(function(e,t,n,l){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,a,s,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,l+"g");(i=u.call(v,o))&&!((a=v.lastIndex)>f&&(c.push(o.slice(f,i.index)),i[p]>1&&i.index<o[p]&&d.apply(c,i.slice(1)),s=i[0][p],f=a,c[p]>=h));)v.lastIndex===i.index&&v.lastIndex++;return f===o[p]?!s&&v.test("")||c.push(""):c.push(o.slice(f)),c[p]>h?c.slice(0,h):c}:"0".split(void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):v.call(String(o),n,r)},function(e,t){var r=l(v,e,this,t,v!==n);if(r.done)return r.value;var u=o(e),d=String(this),p=i(u,RegExp),g=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),m=new p(h?u:"^(?:"+u.source+")",y),_=void 0===t?4294967295:t>>>0;if(0===_)return[];if(0===d.length)return null===c(m,d)?[d]:[];for(var b=0,w=0,E=[];w<d.length;){m.lastIndex=h?w:0;var S,O=c(m,h?d:d.slice(w));if(null===O||(S=f(s(m.lastIndex+(h?0:w)),d.length))===b)w=a(d,w,g);else{if(E.push(d.slice(b,w)),E.length===_)return E;for(var I=1;I<=O.length-1;I++)if(E.push(O[I]),E.length===_)return E;w=b=S}}return E.push(d.slice(b)),E}]}))},function(e,t,n){var r=n(2),o=n(28),i=n(4)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r=n(14),o=n(8);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(10),o=n(4)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(23);n(6)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){var r=n(6),o=n(31)(1);r(r.P+r.F*!n(70)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(3);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(2),o=n(20),i=n(9),a=n(14),s=n(39),c=n(40),u=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(42)("replace",2,(function(e,t,n,h){return[function(r,o){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var g=f.global;if(g){var y=f.unicode;f.lastIndex=0}for(var m=[];;){var _=c(f,d);if(null===_)break;if(m.push(_),!g)break;""===String(_[0])&&(f.lastIndex=s(d,i(f.lastIndex),y))}for(var b,w="",E=0,S=0;S<m.length;S++){_=m[S];for(var O=String(_[0]),I=u(l(a(_.index),d.length),0),R=[],C=1;C<_.length;C++)R.push(void 0===(b=_[C])?b:String(b));var T=_.groups;if(p){var x=[O].concat(R,I,d);void 0!==T&&x.push(T);var A=String(t.apply(void 0,x))}else A=v(O,d,I,R,T,t);I>=E&&(w+=d.slice(E,I)+A,E=I+O.length)}return w+d.slice(E)}];function v(e,t,r,i,a,s){var c=r+e.length,u=i.length,l=p;return void 0!==a&&(a=o(a),l=d),n.call(s,l,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return n;if(l>u){var d=f(l/10);return 0===d?n:d<=u?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):n}s=i[l-1]}return void 0===s?"":s}))}}))},function(e,t,n){var r=n(0),o=n(33),i=n(7).f,a=n(35).f,s=n(38),c=n(41),u=r.RegExp,l=u,f=u.prototype,d=/a/g,p=/a/g,h=new u(d)!==d;if(n(1)&&(!h||n(3)((function(){return p[n(4)("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")})))){u=function(e,t){var n=this instanceof u,r=s(e),i=void 0===t;return!n&&r&&e.constructor===u&&i?e:o(h?new l(r&&!i?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&i?c.call(e):t),n?this:f,u)};for(var v=function(e){e in u||i(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},g=a(l),y=0;g.length>y;)v(g[y++]);f.constructor=u,u.prototype=f,n(12)(r,"RegExp",u)}n(73)("RegExp")},function(e,t,n){var r=n(0),o=n(7),i=n(1),a=n(4)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){n.r(t),n.d(t,"UserAgent",(function(){return h})),n.d(t,"getVersionFromUA",(function(){return p})),n.d(t,"compareVersion",(function(){return d}));var r=n(24),o=n.n(r),i=(n(45),n(43)),a=n.n(i),s=n(44),c=n.n(s),u=(n(48),n(50),n(54),n(64),n(69),n(71),n(72),/\d+([._]\d+)*/);function l(e){var t,n=u.exec(e);return null!==(t=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==t?t:null}function f(e){var t=l(e);return(null==t?void 0:t.split(".").map(Number))||[]}function d(e,t){return n=f(e),r=f(t),(o=Array(Math.max(n.length,r.length)).fill(0).map((function(e,t){return(n[t]||0)-(r[t]||0)})).find((function(e){return 0!==e}))||0)<0?-1:o>0?1:0;var n,r,o}function p(e,t){var n;try{n=new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")}catch(e){return null}var r=n.exec(t);return r?l(r[0].substring(e.length)):null}var h=function(){function e(t){var n=this;a()(this,e),this.userAgent="",this.getAndroidVersion=function(){return n.isAndroid?p("Android",n.userAgent):null},this.isAndroidVersionAboveOrEqual=function(e){return d(n.getAndroidVersion()||"",e)>=0},this.getIOSVersion=function(){return n.isIOS?p("OS",n.userAgent):null},this.isIOSVersionAboveOrEqual=function(e){return d(n.getIOSVersion()||"",e)>=0},this.getPCQQBrowserVersion=function(){return n.isPCQQBrowser?p("QQBrowser",n.userAgent):null},this.isPCQQBrowserVersionAboveOrEqual=function(e){return d(n.getPCQQBrowserVersion()||"",e)>=0},this.getMobileQQBrowserVersion=function(){return n.isMobileQQBrowser?p("MQQBrowser",n.userAgent):null},this.isMobileQQBrowserVersionAboveOrEqual=function(e){return d(n.getMobileQQBrowserVersion()||"",e)>=0},this.getChromeVersion=function(){return p("Chrome",n.userAgent)},this.isChromeVersionAboveOrEqual=function(e){return d(n.getChromeVersion()||"",e)>=0},this.getWeChatVersion=function(){return n.isWeChat||n.isWxMiniProgram?p("MicroMessenger",n.userAgent):null},this.isWeChatVersionAboveOrEqual=function(e){return d(n.getWeChatVersion()||"",e)>=0},this.getWxDriveVersion=function(){return n.isWxDrive?p("WXDrive",n.userAgent):null},this.isWxDriveVersionAboveOrEqual=function(e){return d(n.getWxDriveVersion()||"",e)>=0},this.getWxWorkVersion=function(){return n.isWxWork?p("wxwork",n.userAgent):null},this.isWxWorkVersionAboveOrEqual=function(e){return d(n.getWxWorkVersion()||"",e)>=0},this.getQQVersion=function(){return n.isQQ||n.isQQMiniProgram?p("QQ",n.userAgent):null},this.isQQVersionAboveOrEqual=function(e){return d(n.getQQVersion()||"",e)>=0},this.getTimVersion=function(){return n.isTim?p("TIM",n.userAgent):null},this.isTimVersionAboveOrEqual=function(e){return d(n.getTimVersion()||"",e)>=0},this.getTencentDocsAppVersion=function(){return p("TencentDocs",n.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(e){return d(n.getTencentDocsAppVersion()||"",e)>=0},this.getPCTencentDocsClientVersion=function(){return p("TxDocsPC",n.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(e){return d(n.getPCTencentDocsClientVersion()||"",e)>=0},this.getElectronTencentDocsClientVersion=function(){return p("TDAppDesktop",n.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(e){return d(n.getElectronTencentDocsClientVersion()||"",e)>=0},void 0===t&&(t="undefined"!=typeof navigator?navigator.userAgent:""),Object.defineProperty(this,"userAgent",{value:t,writable:!1})}return c()(e,[{key:"isMobile",get:function(){return/(mobile)/i.test(this.userAgent)||this.isAndroidPad}},{key:"isMobilePhone",get:function(){return/(mobile)/i.test(this.userAgent)&&!this.isIPad}},{key:"isIPhone",get:function(){return/(iphone)/i.test(this.userAgent)}},{key:"isIPad",get:function(){return/(ipad)/i.test(this.userAgent)}},{key:"isAndroidPhone",get:function(){return/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isAndroidPad",get:function(){return!/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isPC",get:function(){return!this.isMobile}},{key:"isMac",get:function(){return!this.isMobile&&/Mac OS X/i.test(this.userAgent)}},{key:"isIPadEmulatedMac",get:function(){return this.isMac&&navigator.maxTouchPoints>1}},{key:"isAndroid",get:function(){return/android|adr/i.test(this.userAgent)}},{key:"isIOS",get:function(){return/(iphone|ipad|ipod)/i.test(this.userAgent)}},{key:"isWindows",get:function(){return/(win64|wow64|win32|wow32|windows nt)/i.test(this.userAgent)}},{key:"isWindowsUWP",get:function(){return/MSAppHost/i.test(this.userAgent)}},{key:"isLinux",get:function(){return/linux/i.test(this.userAgent)&&!this.isAndroid}},{key:"isLinuxKylin",get:function(){return/linux-kylin/i.test(this.userAgent)}},{key:"isLinuxUOS",get:function(){return/linux-uos/i.test(this.userAgent)}},{key:"isPCQQBrowser",get:function(){return!this.isMobile&&/QQBrowser/i.test(this.userAgent)&&!/QBCore/i.test(this.userAgent)}},{key:"isMobileQQBrowser",get:function(){return this.isMobile&&/MQQBrowser/i.test(this.userAgent)&&!this.isTimOrQQ&&!this.isWeChat&&!this.isWxWork&&!this.isTencentDocsApp&&!this.isWeiYunApp&&!this.isMiniProgram}},{key:"isQQBrowser",get:function(){return this.isMobile?this.isMobileQQBrowser:this.isPCQQBrowser}},{key:"isChrome",get:function(){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isSafari",get:function(){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isIE",get:function(){return/MSIE/i.test(this.userAgent)&&!/opera/i.test(this.userAgent)||/Trident/i.test(this.userAgent)}},{key:"isOldEdge",get:function(){return/Edge/i.test(this.userAgent)}},{key:"isChromiumEdge",get:function(){return/Edg\//i.test(this.userAgent)}},{key:"isFirefox",get:function(){return/(Firefox|Focus|FxiOS)\//i.test(this.userAgent)}},{key:"isWeChat",get:function(){return/MicroMessenger/i.test(this.userAgent)&&!this.isWxWork&&!this.isWxMiniProgram}},{key:"isWxWork",get:function(){return/(wxwork)/i.test(this.userAgent)}},{key:"isWxDrive",get:function(){return/WXDrive/i.test(this.userAgent)}},{key:"isQQ",get:function(){return/QQ\//i.test(this.userAgent)&&!this.isTencentDocsApp&&!this.isQQMiniProgram&&!this.isTim}},{key:"isQQForGooglePlay",get:function(){return/QQ\//i.test(this.userAgent)&&/_GM/i.test(this.userAgent)}},{key:"isTim",get:function(){return/TIM/i.test(this.userAgent)}},{key:"isPCTim",get:function(){return/QBCore/i.test(this.userAgent)&&/TIM2.0/i.test(this.userAgent)}},{key:"isTimOrQQ",get:function(){return this.isTim||this.isQQ}},{key:"isTimOrQQFamily",get:function(){return this.isTim||/QQ/i.test(this.userAgent)}},{key:"isMiniProgram",get:function(){return/miniprogram|miniapp(?!enable)/i.test(this.userAgent)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment}},{key:"isWxMiniProgram",get:function(){return/MicroMessenger/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isQQMiniProgram",get:function(){return/QQ\/|TIM/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isWxNativeMiniProgram",get:function(){return!this.isQQNativeMiniProgram&&"object"===("undefined"==typeof wx?"undefined":o()(wx))&&"function"==typeof wx.canIUse&&!0===wx.canIUse("request")}},{key:"isQQNativeMiniProgram",get:function(){return"object"===("undefined"==typeof qq?"undefined":o()(qq))&&"function"==typeof qq.canIUse&&!0===qq.canIUse("request")}},{key:"isNativeMiniProgram",get:function(){return this.isWxNativeMiniProgram||this.isQQNativeMiniProgram}},{key:"isTencentDocsApp",get:function(){return/TencentDocs/i.test(this.userAgent)}},{key:"isPCTencentDocsClient",get:function(){return/TxDocsPC/i.test(this.userAgent)}},{key:"isPCTencentDocsApp",get:function(){return this.isPCTencentDocsClient}},{key:"isElectronTencentDocsClient",get:function(){return/TDAppDesktop/i.test(this.userAgent)}},{key:"isWeiYunApp",get:function(){return/weiyun/i.test(this.userAgent)}},{key:"isSouGou",get:function(){return/SE 2\.X MetaSr 1\.0/i.test(this.userAgent)}},{key:"isTencentMeeting",get:function(){return/tencent_wemeet/i.test(this.userAgent)}}]),e}();t.default=new h}])}(d);var h,v=f(d.exports);function g(e){for(var t="",n=0;n<e;n++)t+=Math.random().toString(36).substr(2);return t}function y(){var e;return null!==(e=window.basicClientVars)&&void 0!==e?e:{}}function m(){var e;return null!==(e=window.clientVars)&&void 0!==e?e:{}}var _="doc.weixin.qq.com"===(null===(h=window.location)||void 0===h?void 0:h.hostname);var b=null,w=null,E=null;function S(){if(b)return b;var e=r("p_luin")||r("p_uin");return e&&(b=e.replace(/^[o0]+/i,"")),b}function O(){if(w)return w;var e=r("uid");return e&&(w=e),w}function I(){return S()||function(){var e;return(null===(e=y().userInfo)||void 0===e?void 0:e.uin)||m().uin||null}()||R()}function R(){return function(){var e;return(null===(e=window.global_multi_user)||void 0===e?void 0:e.uid)||null}()||O()||function(){var e,t;return(null===(e=y().userInfo)||void 0===e?void 0:e.userId)||(null===(t=m().userInfo)||void 0===t?void 0:t.uid)||null}()}function C(){var e;try{var t=null===(e=window.localStorage)||void 0===e?void 0:e.getItem("browserStr");return t||(t=g(5),window.localStorage&&window.localStorage.setItem("browserStr",t)),t}catch(n){return g(5)}}function T(){if(E)return E;var e=i("adtag");if(e)E=e,o("adtag",e,8760,".docs.qq.com","/"),localStorage.setItem("tdsourcetag",e);else{var t=i("tdsourcetag");if(t)E=t,o("adtag",t,8760,".docs.qq.com","/"),localStorage.setItem("tdsourcetag",t);else{var n=i("from_page");n&&(E=n,o("adtag",n,8760,".docs.qq.com","/"),localStorage.setItem("tdsourcetag",n))}}return E||(E=localStorage.getItem("tdsourcetag")||r("adtag")||""),E}function x(){if(m().userIsGuest)return 3;if(!I())return 3;var e=r("utype");return e&&c[e]?c[e]:u}function A(e){void 0===e&&(e="");var t=function(){var e,t;return(null===(t=null===(e=y().docInfo)||void 0===e?void 0:e.padInfo)||void 0===t?void 0:t.padType)||m().padType}()||e;return t&&s[t]?s[t]:u}function k(){var e,t=(null===(e=y().docInfo)||void 0===e?void 0:e.isOwner)||m().isOwner;return void 0===t?u:t?l.trueNumber:l.falseNumber}function D(e){var t;return e||(null===(t=y().authInfo)||void 0===t?void 0:t.privilegeFlag)||m().rightFlag||u}function M(){var e,t,n=(null===(t=null===(e=y().docInfo)||void 0===e?void 0:e.padInfo)||void 0===t?void 0:t.padTitle)||m().padTitle;return n?n.replace(/&/g,"\\&").replace(/\|/g,"\\|").replace(/=/g,"\\=").replace(/%/g,"\\%").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t"):null}function P(){var e;return(null===(e=y().createInfo)||void 0===e?void 0:e.creatorId)||m().creatorId||null}function N(){var e,t;return(null===(t=null===(e=y().docInfo)||void 0===e?void 0:e.padInfo)||void 0===t?void 0:t.domainId)||m().domainId||null}function L(){var e,t;return(null===(t=null===(e=y().docInfo)||void 0===e?void 0:e.padInfo)||void 0===t?void 0:t.padId)||m().padId||null}function j(){var e,t;return(null===(t=null===(e=y().docInfo)||void 0===e?void 0:e.ownerInfo)||void 0===t?void 0:t.ownerId)||m().ownerId||null}function U(){var e,t;return(null===(t=null===(e=m().collab_client_vars)||void 0===e?void 0:e.apid)||void 0===t?void 0:t.apid)||null}function F(){var e,t;return(null===(e=y().userInfo)||void 0===e?void 0:e.corpId)||(null===(t=m().userInfo)||void 0===t?void 0:t.corp_id)||null}function B(){return v.isMobile?v.isAndroid?2:v.isIOS?v.isIPad?6:3:4:v.isMac?5:v.isLinuxUOS?9:v.isLinuxKylin?8:v.isLinux?7:v.isPCTencentDocsClient||v.isWindows?1:u}function q(){for(var e=[[v.isPCTencentDocsClient,10],[v.isTencentMeeting,14],[v.isTim,2],[v.isWxMiniProgram,3],[v.isWeChat,4],[v.isTencentDocsApp,6],[v.isWindowsUWP,8],[v.isQQ,1],[v.isWxWork,9],[v.isWeiYunApp,11],[v.isQQMiniProgram,12],[v.isElectronTencentDocsClient,13],[v.isQQBrowser,5],[v.isMobileQQBrowser,5],[v.isChrome,5],[v.isQQBrowser,5],[v.isSafari,5],[v.isOldEdge,5],[v.isIE,5],[v.isChromiumEdge,5],[v.isFirefox,5]],t=0;t<e.length;t++){var n=e[t],r=n[0],o=n[1];if(r)return o}return u}function W(){var e=m(),t=e.userLoginCorpName,n=e.userLoginCorpId;if(!t||!n){var r=e.userInfo||{};t=r.corp_name,n=r.corp_id}return t&&n?"".concat(t,"-").concat(n):null}var V=function(){return V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},V.apply(this,arguments)},G={},H=!1,K=!1;function Q(e){var t,n;void 0===e&&(e={}),Object.assign(G,V({table:"dc03111",third_appid:U(),uin:I(),uid:R(),user_mac:C(),uin_type:x(),platform:B(),appid:v.isElectronTencentDocsClient?a("TDAppDesktop"):v.isPCTencentDocsClient?a("TxDocsPC"):v.isTencentDocsApp?a("TencentDocs"):void 0,touin:P(),isOwner:k(),file_type:A(),id:L(),source1:q(),source2:"",source3:W()||T(),obj1:D(),obj2:M(),ver1:(t=N(),n=L(),t&&n?"".concat(t,"$").concat(n):m().globalPadId||null),ver2:P(),ver3:N(),ver4:j(),web_version:window.__globalReleaseVersion||null,abtest:window.ExpIdList||null},_?{work_weixin_ext:JSON.stringify({corpid:F(),itemname:"",vid:R(),logid:""}),work_weixin_source:""}:{}),e);var o=r("free_go_proxy")||r("env_name")||r("env_id")||r("fd");o&&(G.dev_route_id=o)}var Y="@tencent-tencent-doc-report";function Z(e){var t=new Set;return JSON.stringify(e,(function(e,n){if(function(e){return function(e,t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}("Object",e)}(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return n}))}function z(e){return"functionName"in e}function $(e,t,n){var r;try{if(window.tencentDocReport)return void(r=window.tencentDocReport[e])[t].apply(r,n);X({className:e,methodName:t,argsStringified:Z(n)})}catch(o){console.error(o)}}function J(e,t){var n;try{if(window.tencentDocReport)return void(n=window.tencentDocReport)[e].apply(n,t);X({functionName:e,argsStringified:Z(t)})}catch(r){console.error(r)}}function X(e){var t;null!==(t=window.tencentDocReportBuffers)&&void 0!==t||(window.tencentDocReportBuffers=[]),window.tencentDocReportBuffers.push(e)}function ee(){window.tencentDocReportBuffers=[],delete window.tencentDocReportBuffers}var te,ne,re,oe={Sheet:"sheet",Backend:"backend",WxJsSdk:"WxJsSdk",Mqq:"Mqq",Fc:"fc",Sc:"sc",Ark:"ark",DC:"dc",Doc:"doc",BlankPage:"blankPage",Slide:"slide",PDF:"pdf",Form:"form",Scenario:"scenario",SmartSheet:"smartSheet"};function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("tdw",e)}function ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("tdwSingle",e)}function se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("reportErrorCode",e)}function ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("webLogAndEsReport",e)}function ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("tipReport",e)}function le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("webLog",e)}function fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("esLogReport",e)}te="https://tencent-doc.cdn-go.cn/doc-report/3.0/report.js",window.tencentDocReportInjected||(ne=te,re="tencentDocReport",new Promise((function(e){var t=document.createElement("script");t.async=!0,t.src=ne,t.id=Y,t.crossOrigin="anonymous",t.setAttribute("retry-when-error","true"),t.onload=function(){var t=window[re];e(t)},window.tencentDocReportInjected||(window.tencentDocReportInjected=!0,(document.head||document.body).appendChild(t))}))).then((function(){var e,t;if(window.tencentDocReportBuffers)for(var n=0,r=window.tencentDocReportBuffers;n<r.length;n++){var o=r[n];z(o)?(e=window.tencentDocReport)[o.functionName].apply(e,JSON.parse(o.argsStringified)):(t=window.tencentDocReport[o.className])[o.methodName].apply(t,JSON.parse(o.argsStringified))}})).then((function(){ee()})).catch((function(){ee()}));var de={init:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];$("KVR","init",e)},oss:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];$("KVR","oss",e)}};function pe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("zzsStatus",e)}function he(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("zzsValue",e)}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("idkey",e)}function ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("resetDefaultTdwData",e)}function ye(){return e=m(),!H&&e.ownerId&&(H=!0,Q()),!K&&e.userInfo&&(K=!0,Q()),G;var e}function me(){return O()}function _e(){return S()}function be(e){return A(e)}function we(e){return D(e)}function Ee(){return q()}function Se(){return B()}function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("monitor",e)}function Ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("retcode",e)}function Re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];J("huatuo",e)}},5489:function(e,t,n){"use strict";n.r(t),n.d(t,{getMultUrl:function(){return ce},isNeedScenarioRedirectLink:function(){return pe},newBlankWindow:function(){return ue},openNewBlankWindow:function(){return le},setNewWindowUrl:function(){return de},tencentDocOpenUrl:function(){return ve},tencentDocOpenUrlForAll:function(){return he},tencentDocOpenUrlReload:function(){return fe}});var r=n(71121),o=function(e){return e&&window.frameElement&&window.top||window},i=function(e){var t;return e&&window.frameElement?null===(t=window.top)||void 0===t?void 0:t.mqq:window.mqq},a=function(e){var t;return e&&window.frameElement?null===(t=window.top)||void 0===t?void 0:t.wx:window.wx};var s=function(){var e,t,n,r;return/from=miniprogram/.test(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.search)||/from=miniprogram_wedoc/.test(null===(n=window)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.search)};function c(e,t){var n=t.wxUrl,r=t.replace,i=t.supportIFrame,c=a(i),u=o(i);if(s())u.location.href=e;else{if(null==c||!c.miniProgram)return function(e,t){var n,r=t.replace,i=t.windowName,a=t.windowFeatures,s=t.supportIFrame,c=o(s);r?null==c||null===(n=c.location)||void 0===n||n.replace(e):null==c||c.open(e,i,a)}(e,t),void console.error("no miniProgram sdk");var l=null!=n?n:function(e){if(/^https:\/\/docs\.qq\.com\/(sheet|doc|slide|form|pdf|file|mind|flowchart|rec|aio)\/(.*)$/.test(e))return"/pages/detail/detail?url=".concat(encodeURIComponent(e));return"/pages/webview/webview?url=".concat(encodeURIComponent(e))}(e);r?c.miniProgram.redirectTo({url:l}):c.miniProgram.navigateTo({url:l})}}var u=r.default.isTencentDocsApp,l=r.default.isQQ,f=r.default.isWindows;function d(){var e,t;return(null===(e=n.g)||void 0===e?void 0:e.ntqq)||(null===(t=n.g)||void 0===t?void 0:t.ntQQApi)}function p(e,t){var n=t.replace,r=t.style,a=t.useNewConfig,s=t.supportIFrame,c=i(s),p=o(s),h=r||2;n||!f||!l||d()?n&&!d()||!c?function(e,t){var n=o(t);u?(n.history.replaceState(null,document.title,e),n.location.replace("")):n.location.replace(e)}(e,s):null==c||c.invoke("ui","openUrl",{url:e,target:1,style:h,useQQBrowser:!0,useNewConfig:a},(function(){})):p.open(e)}var h,v=n(14217),g=n(79868),y=n(16517);!function(e){e[e.WxworkBrowser=1]="WxworkBrowser"}(h||(h={}));var m,_,b,w="doc.weixin.qq.com",E="docs.qq.com";function S(e){var t,n=function(e){var t,n=e.match(/(http?:\/\/|https:\/\/|\/\/)?([^\/\?#]+)/i);return null!==(t=null==n?void 0:n[2])&&void 0!==t?t:""}(e);if(!r.default.isWxWork||![w,E].includes(n))return e;var o=e.split("#"),i=null!==(t=o.shift())&&void 0!==t?t:"",a=o.join("#"),s=[m.NAME,m.VID,m.DEVICE_ID,_.NAME,_.VID,_.DEVICE_ID],c=i;return s.forEach((function(e){c=function(e,t){var n=e.split("?");if(n.length>=2){for(var r="".concat(encodeURIComponent(t),"="),o=n[1].split(/[&]/g),i=o.length;i-- >0;)-1!==o[i].lastIndexOf(r,0)&&o.splice(i,1);return e=n[0]+(o.length>0?"?".concat(o.join("&")):"")}return e}(c,e)})),a?"".concat(c,"#").concat(a):"".concat(c)}function O(e){var t=x(e),n=C("u",t);if(!function(e){return/^http(s)?:\/\/docs\.qq\.com/.test(e)}(t)||""!==n)return t;var r,o=(r=window.global_multi_user,window.nowUserIndex||(null==r?void 0:r.nowUserIndex)||C("u")||"");if(!o)return t;var i=new URL(t),a=i.protocol,s=i.host,c=i.pathname,u=i.search,l=i.hash;return t=u?"".concat(a,"//").concat(s).concat(c).concat(u,"&u=").concat(o).concat(l):"".concat(a,"//").concat(s).concat(c,"?u=").concat(o).concat(l)}function I(e){return O(e)}function R(e){return/^(mailto:(\/\/)?)?([a-z\u00a1-\uffff0-9_\-.])+@([a-z\u00a1-\uffff0-9_\-.])+\.([a-z]{2,})$/i.test(e)?e=e.replace(/^(mailto:(\/\/)?)?/i,"mailto:"):/^(https?|ftp|file):\/\//i.test(e)||(e=/^(doc.weixin.qq.com)/i.test(e)?"https://".concat(e):"http://".concat(e)),e}function C(e,t){var r=function(e){if("string"==typeof e)return e;return e.search}(t||n.g.location||"").match(new RegExp("(\\?|&)".concat(e,"=([^&]*)(#|&|$)")));return r?decodeURIComponent(r[2]):""}function T(e){return/\.qq\.com/.test(e)}function x(e){return T(e)?e.replace(/^(http:)?\/\//i,"https://"):e}function A(e,t){var n=location.host,r=S(e);if(!r)return null;if(r=x(e),function(e,t){return(!T(e)||function(e){return e.startsWith("https://docs.qq.com/scenario/link.html")||e.startsWith("https://doc.weixin.qq.com/scenario/link.html")}(e))&&!(null!=t&&t.ignoreDomainDetect)}(e,t)&&n!==w){r="https://".concat(n,"/scenario/link.html?url=").concat(encodeURIComponent(r));var o=window.clientVars;o&&(r="".concat(r,"&pid=").concat(o.globalPadId,"&cid=").concat(o.creatorId))}return(null==t?void 0:t.noUserIndex)||(r=O(r)),r}function k(e){if(e.href!==location.href||"_self"!==e.target){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}else location.reload()}!function(e){e.NAME="wwapp_cst",e.VID="wwapp_vid",e.DEVICE_ID="wwapp_deviceid"}(m||(m={})),function(e){e.NAME="cst",e.VID="vid",e.DEVICE_ID="deviceid"}(_||(_={})),function(e){e[e.LOW=-1]="LOW",e[e.EQUQL=0]="EQUQL",e[e.HEIGHT=1]="HEIGHT"}(b||(b={}));var D,M=n(86235),P=n(10561),N=n(93700),L=r.default.isMac||r.default.isIPad,j=new(function(){function e(){var t=this;(0,M.Z)(this,e),(0,N.Z)(this,"isPressed",!1),(0,N.Z)(this,"handleKeyboardEvent",(function(e){e.key===(L?"Meta":"Control")&&t.setCtrlKeyStatus("keydown"===e.type)})),(0,N.Z)(this,"handleBlurEvent",(function(){t.setCtrlKeyStatus(!1)}));var n=["keydown","keyup"];"undefined"!=typeof window&&"undefined"!=typeof document?(n.forEach((function(e){document.addEventListener(e,t.handleKeyboardEvent)})),window.addEventListener("blur",this.handleBlurEvent),window.addEventListener("beforeunload",(function(){n.forEach((function(e){document.removeEventListener(e,t.handleKeyboardEvent)})),window.removeEventListener("blur",t.handleBlurEvent)}))):console.debug("CtrlKeyManager skip init, window or document is undefined")}return(0,P.Z)(e,[{key:"setCtrlKeyStatus",value:function(e){this.isPressed=e}}]),e}()),U=function(){return function(e,t){if(e==t)return 0;for(var n=e.split("."),r=t.split("."),o=0;n[o]&&r[o];){if(+n[o]!=+r[o])return+n[o]>+r[o]?b.HEIGHT:b.LOW;o+=1}return n[o]?b.HEIGHT:r[o]?b.LOW:b.EQUQL}(function(e){var t=navigator.userAgent.toLowerCase(),n=t.match(new RegExp("".concat(e,"\\/(\\d+\\.\\d+\\.\\d+)")))||t.match(new RegExp("".concat(e,"\\/(\\d+\\.\\d+)")));return n?n[1]:""}("wdocs"),"1.0.0")>=0},F=function(e){return window.PRIVATE?function(e){return[/^http(s):\/\/drive\.weixin\.qq\.com\/s\?/i,/^http(s):\/\/drive\.weixin\.qq\.com\/cgi-bin\/disk\/s\?/i].some((function(t){return t.test(e)}))}(e):/^http(s):\/\/drive\.weixin\.qq\.com\//i.test(e)},B=function(e){return[/^http(s):\/\/doc\.weixin\.qq\.com\/doc/i,/^http(s):\/\/doc\.weixin\.qq\.com\/sheet/i,/^http(s):\/\/doc\.weixin\.qq\.com\/forms/i,/^http(s):\/\/doc\.weixin\.qq\.com\/mind/i,/^http(s):\/\/doc\.weixin\.qq\.com\/flowchart/i,/^http(s):\/\/doc\.weixin\.qq\.com\/slide/i,/^http(s):\/\/doc\.weixin\.qq\.com\/home/i,/^http(s):\/\/doc\.weixin\.qq\.com\/mall\/m\/profile\/craft/i,/^http(s):\/\/doc\.weixin\.qq\.com\/scenario\/login/i,/^http(s):\/\/doc\.weixin\.qq\.com\/txdoc/i,/^http(s):\/\/doc\.weixin\.qq\.com\/formcol/i].some((function(t){return t.test(e)}))};!function(e){e[e.REPLACE=0]="REPLACE",e[e.FORK_WEBVIEW=1]="FORK_WEBVIEW",e[e.BROWSER=2]="BROWSER",e[e.NEW_WEBVIEW=3]="NEW_WEBVIEW"}(D||(D={}));var q=function(e,t){var n,r;if(null!==(n=window)&&void 0!==n&&null!==(r=n.tdocs)&&void 0!==r&&r.openUrl){var o=t.replace?D.REPLACE:B(e)?D.FORK_WEBVIEW:D.NEW_WEBVIEW;return console.log("doOpenUrlForWxworkOrWedrive use window.tdocs.openUrl",e,(0,y.Z)((0,y.Z)({},t),{},{target:o})),window.tdocs.openUrl({url:e,target:o,style:3})}return W(e,t)},W=function(e,t){var n,r,o,i,a;return null!==(n=window)&&void 0!==n&&null!==(r=n.mqq)&&void 0!==r&&null!==(o=r.ui)&&void 0!==o&&o.openUrl?(console.log("doOpenUrlForWxworkOrWedrive use window.mqq.ui.openUrl",e,t),window.mqq.ui.openUrl({url:e,target:t.replace?0:1,style:3,useQQBrowser:!0})):null!==(i=window)&&void 0!==i&&null!==(a=i.qmailBridge)&&void 0!==a&&a.openDocLink?(console.log("doOpenUrlForWxworkOrWedrive use window.qmailBridge.openDocLink",e,t),window.qmailBridge.openDocLink({url:e})):H(e,t)},V=function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,o,i,a,s;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=window)||void 0===r||null===(o=r.qmailBridge)||void 0===o||!o.openFileInWedrive||!F(t)){e.next=6;break}return e.next=3,Q(t);case 3:return s=e.sent,console.log("doOpenUrlForWxworkOrWedrive use window.qmailBridge.openFileInWedrive",t,n),e.abrupt("return",window.qmailBridge.openFileInWedrive(s,t));case 6:if(null===(i=window)||void 0===i||null===(a=i.tdocs)||void 0===a||!a.openInTab||!B(t)){e.next=9;break}return console.log("doOpenUrlForWxworkOrWedrive use window.tdocs.openInTab",t,n),e.abrupt("return",window.tdocs.openInTab({url:t}));case 9:return e.abrupt("return",H(t,n));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,o,i,a,s,c,u;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.replace){e.next=4;break}return console.log("doOpenUrlForWxworkOrWedrive use window.location.href",t,n),window.location.href=t,e.abrupt("return");case 4:if(null===(r=window)||void 0===r||null===(o=r.tdocs)||void 0===o||!o.openFileInWedrive||!F(t)){e.next=10;break}return e.next=7,Q(t);case 7:return u=e.sent,console.log("doOpenUrlForWxworkOrWedrive use window.tdocs.openFileInWedrive",t,n),e.abrupt("return",window.tdocs.openFileInWedrive({fileId:u,url:t}));case 10:if(null===(i=window)||void 0===i||null===(a=i.tdocs)||void 0===a||!a.openInBrowser||!pe(t)){e.next=13;break}return console.log("doOpenUrlForWxworkOrWedrive use window.tdocs.openInBrowser",t,n),e.abrupt("return",window.tdocs.openInBrowser({url:R(t)}));case 13:if(null===(s=window)||void 0===s||null===(c=s.tdocs)||void 0===c||!c.openInTab){e.next=16;break}return console.log("doOpenUrlForWxworkOrWedrive use window.tdocs.openInTab",t,n),e.abrupt("return",window.tdocs.openInTab({is_silent:j.isPressed,url:t}));case 16:return e.abrupt("return",H(t,n));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(e,t){t.replace?(console.log("doOpenUrlForWxworkOrWedrive use window.location.href",e,t),window.location.href=e):(console.log("doOpenUrlForWxworkOrWedrive use window.open",e,t),window.open(e))},K=function(e){var t;null===(t=window.tdocs)||void 0===t||t.openInWxworkBrowser({url:e})},Q=function(e){return new Promise((function(t){var n="https://doc.weixin.qq.com/wedoc/getfileinfobyurl?url=".concat(e),r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var e=r.responseText;try{var n,o=JSON.parse(e),i=null==o||null===(n=o.body)||void 0===n?void 0:n.fileid;t(i||null)}catch(a){console.error("fetchFileIdFromSvr error",a),t(null)}}},r.onerror=function(e){console.error("fetchFileIdFromSvr error",e),t(null)},r.ontimeout=function(e){console.error("fetchFileIdFromSvr timeout",e),t(null)},r.open("GET",n,!0),r.setRequestHeader("Content-type","text/plain"),r.send()}))};function Y(e,t,n){var r=t.replace,o=t.noHistory;if(t.safariNeedReplace)n.location.href=e;else if(!function(e){var t=e.url,n=e.windowName,r=e.windowFeatures;if(n&&r)return window.open(t,n,r),!0;return!1}((0,y.Z)((0,y.Z)({},t),{},{url:e}))){var i=document.createElement("a");i.href=e,r?i.target="_self":(i.target="_blank",i.rel="noreferrer"),o&&history.replaceState(null,document.title,e),k(i)}}var Z=r.default.isIPad,z=r.default.isMobile,$=r.default.isMiniProgram,J=r.default.isWxMiniProgram,X=r.default.isQQMiniProgram,ee=r.default.isTimOrQQ,te=r.default.isIOS,ne=r.default.isWeChat,re=r.default.isWxWork,oe=r.default.isTencentDocsApp,ie=r.default.isPCTencentDocsClient,ae=r.default.isIE,se=r.default.isWxDrive,ce=I;function ue(){return J||X?"miniProgram":window.open()}function le(e){var t=I(e);return window.open(t)}function fe(){he({url:location.href,replace:!0})}function de(e,t){if("miniProgram"!==e){if(t){var n=A(t);e?e.location=n:n&&(window.location.href=n)}}else he({url:t})}function pe(e,t){return!(T(e)||null!=t&&t.ignoreDomainDetect)}function he(e){var t=e.url,n=e.wxUrl,i=e.replace,a=e.style,s=e.supportIFrame,u=e.safariNeedReplace,l=o(s),f=A(t,e);f&&(console.log("open_url 参数》》》》》》",f,n,i,J,X,ee,te,z,Z,ae,window.mqq,a,u,e),J||X?c(f,e):ne||u?l.location.href=f:ee||oe?p(f,e):re||se?function(e,t){try{return r.default.isMobile?U()?q(e,t):W(e,t):r.default.isWxDrive?V(e,t):r.default.isWxWorkVersionAboveOrEqual("3.1.18")||r.default.isWxWorkPrivateVersionAboveOrEqual("2.7.2000")?t.openType===h.WxworkBrowser&&r.default.isWxWorkVersionAboveOrEqual("4.0.0")?(console.log("trigger openInWxworkBrowser"),K(e)):G(e,t):H(e,t)}catch(n){return console.error("doOpenUrlForWxworkOrWedrive error",n),H(e,t)}}(f,e):ae?function(e,t){var n=t.replace,r=t.windowFeatures,o=t.windowName;n?window.location.href=e:window.open(e,o,r)}(f,e):ie?function(e,t){var n=t.replace,r=t.windowFeatures,i=t.windowName,a=t.supportIFrame,s=o(a);n?s.location.href=e:s.open(function(e,t){var n=e;return t?(n.indexOf("?")>=0?n+="&".concat(t):n+="?".concat(t),n):n}(e,"opennew=1"),i,r)}(f,e):Y(f,e,l))}function ve(e,t,n,r){if(void 0!==e){var o=A(e);if(z||ae)window.open.apply(window,[e,t,n,r]);else{var i=document.createElement("a");i.href=o,!z&&$&&(t="_self"),i.target=t||"_blank",i.rel="noreferrer",k(i)}}}},79760:function(e,t,n){e.exports=n(648)},7734:function(e,t,n){"use strict";var r=n(64105),o=n(83707),i=n(15742),a=n(78595),s=n(85075),c=n(31908),u=n(70819),l=n(73148),f=n(92053),d=n(32324),p=n(30431);e.exports=function(e){return new Promise((function(t,n){var h,v=e.data,g=e.headers,y=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var _=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+w)}var E=s(e.baseURL,e.url);function S(){if(_){var r="getAllResponseHeaders"in _?c(_.getAllResponseHeaders()):null,i={data:y&&"text"!==y&&"json"!==y?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:r,config:e,request:_};o((function(e){t(e),m()}),(function(e){n(e),m()}),i),_=null}}if(_.open(e.method.toUpperCase(),a(E,e.params,e.paramsSerializer),!0),_.timeout=e.timeout,"onloadend"in _?_.onloadend=S:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(S)},_.onabort=function(){_&&(n(new f("Request aborted",f.ECONNABORTED,e,_)),_=null)},_.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,_,_)),_=null},_.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,_)),_=null},r.isStandardBrowserEnv()){var O=(e.withCredentials||u(E))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;O&&(g[e.xsrfHeaderName]=O)}"setRequestHeader"in _&&r.forEach(g,(function(e,t){void 0===v&&"content-type"===t.toLowerCase()?delete g[t]:_.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),y&&"json"!==y&&(_.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&_.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){_&&(n(!e||e&&e.type?new d:e),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),v||(v=null);var I=p(E);I&&-1===["http","https","file"].indexOf(I)?n(new f("Unsupported protocol "+I+":",f.ERR_BAD_REQUEST,e)):_.send(v)}))}},648:function(e,t,n){"use strict";var r=n(64105),o=n(46055),i=n(81916),a=n(89841);var s=function e(t){var n=new i(t),s=o(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(29190));s.Axios=i,s.CanceledError=n(32324),s.CancelToken=n(90697),s.isCancel=n(19631),s.VERSION=n(3063).version,s.toFormData=n(65121),s.AxiosError=n(92053),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(42793),s.isAxiosError=n(23241),e.exports=s,e.exports.default=s},90697:function(e,t,n){"use strict";var r=n(32324);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},32324:function(e,t,n){"use strict";var r=n(92053);function o(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(64105).inherits(o,r,{__CANCEL__:!0}),e.exports=o},19631:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},81916:function(e,t,n){"use strict";var r=n(64105),o=n(78595),i=n(60309),a=n(5826),s=n(89841),c=n(85075),u=n(5386),l=u.validators;function f(e){this.defaults=e,this.interceptors={request:new i,response:new i}}f.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!o){var f=[a,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(c),i=Promise.resolve(t);f.length;)i=i.then(f.shift(),f.shift());return i}for(var d=t;r.length;){var p=r.shift(),h=r.shift();try{d=p(d)}catch(v){h(v);break}}try{i=a(d)}catch(v){return Promise.reject(v)}for(;c.length;)i=i.then(c.shift(),c.shift());return i},f.prototype.getUri=function(e){e=s(this.defaults,e);var t=c(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(s(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},92053:function(e,t,n){"use strict";var r=n(64105);function o(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(o,a),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,n,a,s,c){var u=Object.create(i);return r.toFlatObject(e,u,(function(e){return e!==Error.prototype})),o.call(u,e.message,t,n,a,s),u.name=e.name,c&&Object.assign(u,c),u},e.exports=o},60309:function(e,t,n){"use strict";var r=n(64105);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},85075:function(e,t,n){"use strict";var r=n(45221),o=n(20083);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},5826:function(e,t,n){"use strict";var r=n(64105),o=n(65043),i=n(19631),a=n(29190),s=n(32324);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},89841:function(e,t,n){"use strict";var r=n(64105);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},83707:function(e,t,n){"use strict";var r=n(92053);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},65043:function(e,t,n){"use strict";var r=n(64105),o=n(29190);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},29190:function(e,t,n){"use strict";var r=n(64105),o=n(68518),i=n(92053),a=n(73148),s=n(65121),c={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,f={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(7734)),l),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=r.isObject(e),a=t&&t["Content-Type"];if((n=r.isFileList(e))||i&&"multipart/form-data"===a){var c=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,c&&new c)}return i||"application/json"===a?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||f.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw i.from(s,i.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(10516)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){f.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){f.headers[e]=r.merge(c)})),e.exports=f},73148:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},3063:function(e){e.exports={version:"0.27.2"}},46055:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},78595:function(e,t,n){"use strict";var r=n(64105);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},20083:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},15742:function(e,t,n){"use strict";var r=n(64105);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},45221:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},23241:function(e,t,n){"use strict";var r=n(64105);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},70819:function(e,t,n){"use strict";var r=n(64105);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},68518:function(e,t,n){"use strict";var r=n(64105);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},10516:function(e){e.exports=null},31908:function(e,t,n){"use strict";var r=n(64105),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},30431:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},42793:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},65121:function(e,t,n){"use strict";var r=n(64105);e.exports=function(e,t){t=t||new FormData;var n=[];function o(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,a){if(r.isPlainObject(i)||r.isArray(i)){if(-1!==n.indexOf(i))throw Error("Circular reference detected in "+a);n.push(i),r.forEach(i,(function(n,i){if(!r.isUndefined(n)){var s,c=a?a+"."+i:i;if(n&&!a&&"object"==typeof n)if(r.endsWith(i,"{}"))n=JSON.stringify(n);else if(r.endsWith(i,"[]")&&(s=r.toArray(n)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(c,o(e))}));e(n,c)}})),n.pop()}else t.append(a,o(i))}(e),t}},5386:function(e,t,n){"use strict";var r=n(3063).version,o=n(92053),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new o(i(r," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],s=t[a];if(s){var c=e[a],u=void 0===c||s(c,a,e);if(!0!==u)throw new o("option "+a+" must be "+u,o.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new o("Unknown option "+a,o.ERR_BAD_OPTION)}},validators:i}},64105:function(e,t,n){"use strict";var r,o=n(46055),i=Object.prototype.toString,a=(r=Object.create(null),function(e){var t=i.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return a(t)===e}}function c(e){return Array.isArray(e)}function u(e){return void 0===e}var l=s("ArrayBuffer");function f(e){return null!==e&&"object"==typeof e}function d(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=s("Date"),h=s("File"),v=s("Blob"),g=s("FileList");function y(e){return"[object Function]"===i.call(e)}var m=s("URLSearchParams");function _(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var b,w=(b="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:c,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||i.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:f,isPlainObject:d,isUndefined:u,isDate:p,isFile:h,isBlob:v,isFunction:y,isStream:function(e){return f(e)&&y(e.pipe)},isURLSearchParams:m,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:_,merge:function e(){var t={};function n(n,r){d(t[r])&&d(n)?t[r]=e(t[r],n):d(n)?t[r]=e({},n):c(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)_(arguments[r],n);return t},extend:function(e,t,n){return _(t,(function(t,r){e[r]=n&&"function"==typeof t?o(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,o,i,a={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)a[i=r[o]]||(t[i]=e[i],a[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(u(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:g}},41938:function(e,t,n){"use strict";var r=n(98806),o=n(74614),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},74614:function(e,t,n){"use strict";var r=n(97072),o=n(98806),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(d){u=null}e.exports=function(e){var t=s(r,a,arguments);c&&u&&(c(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}));return t};var f=function(){return s(r,i,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},80563:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},81096:function(e,t,n){var r=n(80230),o=n(90483),i=n(30692),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a function")}},77121:function(e,t,n){var r=n(80230),o=n(9941),i=n(30692),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a constructor")}},18183:function(e,t,n){var r=n(80230),o=n(90483),i=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},54402:function(e,t,n){var r=n(52720),o=n(94663),i=n(36475),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},33426:function(e,t,n){"use strict";var r=n(28742).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},39619:function(e,t,n){var r=n(80230),o=n(21468),i=r.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw i("Incorrect invocation")}},48786:function(e,t,n){var r=n(80230),o=n(96339),i=r.String,a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not an object")}},15747:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},67206:function(e,t,n){var r=n(75113);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},85339:function(e,t,n){"use strict";var r,o,i,a=n(15747),s=n(49866),c=n(80230),u=n(90483),l=n(96339),f=n(11555),d=n(92358),p=n(30692),h=n(72551),v=n(15669),g=n(36475).f,y=n(21468),m=n(36949),_=n(65071),b=n(52720),w=n(56184),E=c.Int8Array,S=E&&E.prototype,O=c.Uint8ClampedArray,I=O&&O.prototype,R=E&&m(E),C=S&&m(S),T=Object.prototype,x=c.TypeError,A=b("toStringTag"),k=w("TYPED_ARRAY_TAG"),D=w("TYPED_ARRAY_CONSTRUCTOR"),M=a&&!!_&&"Opera"!==d(c.opera),P=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},j=function(e){if(!l(e))return!1;var t=d(e);return f(N,t)||f(L,t)};for(r in N)(i=(o=c[r])&&o.prototype)?h(i,D,o):M=!1;for(r in L)(i=(o=c[r])&&o.prototype)&&h(i,D,o);if((!M||!u(R)||R===Function.prototype)&&(R=function(){throw x("Incorrect invocation")},M))for(r in N)c[r]&&_(c[r],R);if((!M||!C||C===T)&&(C=R.prototype,M))for(r in N)c[r]&&_(c[r].prototype,C);if(M&&m(I)!==C&&_(I,C),s&&!f(C,A))for(r in P=!0,g(C,A,{get:function(){return l(this)?this[k]:void 0}}),N)c[r]&&h(c[r],k,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_CONSTRUCTOR:D,TYPED_ARRAY_TAG:P&&k,aTypedArray:function(e){if(j(e))return e;throw x("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!_||y(R,e)))return e;throw x(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var o in N){var i=c[o];if(i&&f(i.prototype,e))try{delete i.prototype[e]}catch(a){try{i.prototype[e]=t}catch(u){}}}C[e]&&!n||v(C,e,n?t:M&&S[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,o;if(s){if(_){if(n)for(r in N)if((o=c[r])&&f(o,e))try{delete o[e]}catch(i){}if(R[e]&&!n)return;try{return v(R,e,n?t:M&&R[e]||t)}catch(i){}}for(r in N)!(o=c[r])||o[e]&&!n||v(o,e,t)}},isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||f(N,t)||f(L,t)},isTypedArray:j,TypedArray:R,TypedArrayPrototype:C}},8060:function(e,t,n){"use strict";var r=n(80230),o=n(94378),i=n(49866),a=n(15747),s=n(72751),c=n(72551),u=n(27473),l=n(75113),f=n(39619),d=n(75627),p=n(97140),h=n(92308),v=n(38383),g=n(36949),y=n(65071),m=n(26754).f,_=n(36475).f,b=n(47062),w=n(98018),E=n(50556),S=n(45356),O=s.PROPER,I=s.CONFIGURABLE,R=S.get,C=S.set,T="ArrayBuffer",x="DataView",A="prototype",k="Wrong index",D=r[T],M=D,P=M&&M[A],N=r[x],L=N&&N[A],j=Object.prototype,U=r.Array,F=r.RangeError,B=o(b),q=o([].reverse),W=v.pack,V=v.unpack,G=function(e){return[255&e]},H=function(e){return[255&e,e>>8&255]},K=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Q=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return W(e,23,4)},Z=function(e){return W(e,52,8)},z=function(e,t){_(e[A],t,{get:function(){return R(this)[t]}})},$=function(e,t,n,r){var o=h(n),i=R(e);if(o+t>i.byteLength)throw F(k);var a=R(i.buffer).bytes,s=o+i.byteOffset,c=w(a,s,s+t);return r?c:q(c)},J=function(e,t,n,r,o,i){var a=h(n),s=R(e);if(a+t>s.byteLength)throw F(k);for(var c=R(s.buffer).bytes,u=a+s.byteOffset,l=r(+o),f=0;f<t;f++)c[u+f]=l[i?f:t-f-1]};if(a){var X=O&&D.name!==T;if(l((function(){D(1)}))&&l((function(){new D(-1)}))&&!l((function(){return new D,new D(1.5),new D(NaN),X&&!I})))X&&I&&c(D,"name",T);else{(M=function(e){return f(this,P),new D(h(e))})[A]=P;for(var ee,te=m(D),ne=0;te.length>ne;)(ee=te[ne++])in M||c(M,ee,D[ee]);P.constructor=M}y&&g(L)!==j&&y(L,j);var re=new N(new M(2)),oe=o(L.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||u(L,{setInt8:function(e,t){oe(this,e,t<<24>>24)},setUint8:function(e,t){oe(this,e,t<<24>>24)}},{unsafe:!0})}else P=(M=function(e){f(this,P);var t=h(e);C(this,{bytes:B(U(t),0),byteLength:t}),i||(this.byteLength=t)})[A],L=(N=function(e,t,n){f(this,L),f(e,P);var r=R(e).byteLength,o=d(t);if(o<0||o>r)throw F("Wrong offset");if(o+(n=void 0===n?r-o:p(n))>r)throw F("Wrong length");C(this,{buffer:e,byteLength:n,byteOffset:o}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=o)})[A],i&&(z(M,"byteLength"),z(N,"buffer"),z(N,"byteLength"),z(N,"byteOffset")),u(L,{getInt8:function(e){return $(this,1,e)[0]<<24>>24},getUint8:function(e){return $(this,1,e)[0]},getInt16:function(e){var t=$(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=$(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Q($(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return Q($(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return V($(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return V($(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){J(this,1,e,G,t)},setUint8:function(e,t){J(this,1,e,G,t)},setInt16:function(e,t){J(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){J(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){J(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){J(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){J(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){J(this,8,e,Z,t,arguments.length>2?arguments[2]:void 0)}});E(M,T),E(N,x),e.exports={ArrayBuffer:M,DataView:N}},25:function(e,t,n){"use strict";var r=n(49867),o=n(99047),i=n(61540),a=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=i(n),c=o(e,s),u=o(t,s),l=arguments.length>2?arguments[2]:void 0,f=a((void 0===l?s:o(l,s))-u,s-c),d=1;for(u<c&&c<u+f&&(d=-1,u+=f-1,c+=f-1);f-- >0;)u in n?n[c]=n[u]:delete n[c],c+=d,u+=d;return n}},47062:function(e,t,n){"use strict";var r=n(49867),o=n(99047),i=n(61540);e.exports=function(e){for(var t=r(this),n=i(t),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)t[s++]=e;return t}},48097:function(e,t,n){"use strict";var r=n(20256).forEach,o=n(71668)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},77853:function(e,t,n){var r=n(61540);e.exports=function(e,t){for(var n=0,o=r(t),i=new e(o);o>n;)i[n]=t[n++];return i}},43066:function(e,t,n){"use strict";var r=n(80230),o=n(46207),i=n(90584),a=n(49867),s=n(47086),c=n(37675),u=n(9941),l=n(61540),f=n(19482),d=n(10869),p=n(69566),h=r.Array;e.exports=function(e){var t=a(e),n=u(this),r=arguments.length,v=r>1?arguments[1]:void 0,g=void 0!==v;g&&(v=o(v,r>2?arguments[2]:void 0));var y,m,_,b,w,E,S=p(t),O=0;if(!S||this==h&&c(S))for(y=l(t),m=n?new this(y):h(y);y>O;O++)E=g?v(t[O],O):t[O],f(m,O,E);else for(w=(b=d(t,S)).next,m=n?new this:[];!(_=i(w,b)).done;O++)E=g?s(b,v,[_.value,O],!0):_.value,f(m,O,E);return m.length=O,m}},15949:function(e,t,n){var r=n(99721),o=n(99047),i=n(61540),a=function(e){return function(t,n,a){var s,c=r(t),u=i(c),l=o(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},20256:function(e,t,n){var r=n(46207),o=n(94378),i=n(60320),a=n(49867),s=n(61540),c=n(88812),u=o([].push),l=function(e){var t=1==e,n=2==e,o=3==e,l=4==e,f=6==e,d=7==e,p=5==e||f;return function(h,v,g,y){for(var m,_,b=a(h),w=i(b),E=r(v,g),S=s(w),O=0,I=y||c,R=t?I(h,S):n||d?I(h,0):void 0;S>O;O++)if((p||O in w)&&(_=E(m=w[O],O,b),e))if(t)R[O]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return O;case 2:u(R,m)}else switch(e){case 4:return!1;case 7:u(R,m)}return f?-1:o||l?l:R}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},46342:function(e,t,n){"use strict";var r=n(19347),o=n(99721),i=n(75627),a=n(61540),s=n(71668),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),d=l||!f;e.exports=d?function(e){if(l)return r(u,this,arguments)||0;var t=o(this),n=a(t),s=n-1;for(arguments.length>1&&(s=c(s,i(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:u},21866:function(e,t,n){var r=n(75113),o=n(52720),i=n(70582),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},71668:function(e,t,n){"use strict";var r=n(75113);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},89565:function(e,t,n){var r=n(80230),o=n(81096),i=n(49867),a=n(60320),s=n(61540),c=r.TypeError,u=function(e){return function(t,n,r,u){o(n);var l=i(t),f=a(l),d=s(l),p=e?d-1:0,h=e?-1:1;if(r<2)for(;;){if(p in f){u=f[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw c("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=h)p in f&&(u=n(u,f[p],p,l));return u}};e.exports={left:u(!1),right:u(!0)}},98018:function(e,t,n){var r=n(80230),o=n(99047),i=n(61540),a=n(19482),s=r.Array,c=Math.max;e.exports=function(e,t,n){for(var r=i(e),u=o(t,r),l=o(void 0===n?r:n,r),f=s(c(l-u,0)),d=0;u<l;u++,d++)a(f,d,e[u]);return f.length=d,f}},6629:function(e,t,n){var r=n(94378);e.exports=r([].slice)},36514:function(e,t,n){var r=n(98018),o=Math.floor,i=function(e,t){var n=e.length,c=o(n/2);return n<8?a(e,t):s(e,i(r(e,0,c),t),i(r(e,c),t),t)},a=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?r(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e};e.exports=i},54674:function(e,t,n){var r=n(80230),o=n(6313),i=n(9941),a=n(96339),s=n(52720)("species"),c=r.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,(i(t)&&(t===c||o(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?c:t}},88812:function(e,t,n){var r=n(54674);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},28461:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},r=0;r<66;r++)n[t.charAt(r)]=r;e.exports={itoc:t,ctoi:n}},47086:function(e,t,n){var r=n(48786),o=n(29445);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){o(e,"throw",a)}}},35257:function(e,t,n){var r=n(52720)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(s){}return n}},46281:function(e,t,n){var r=n(94378),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},92358:function(e,t,n){var r=n(80230),o=n(96371),i=n(90483),a=n(46281),s=n(52720)("toStringTag"),c=r.Object,u="Arguments"==a(function(){return arguments}());e.exports=o?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=c(e),s))?n:u?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},14328:function(e,t,n){var r=n(94378)("".replace),o=String(Error("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,a=i.test(o);e.exports=function(e,t){if(a&&"string"==typeof e)for(;t--;)e=r(e,i,"");return e}},49926:function(e,t,n){"use strict";var r=n(36475).f,o=n(94663),i=n(27473),a=n(46207),s=n(39619),c=n(78341),u=n(85972),l=n(11437),f=n(49866),d=n(49597).fastKey,p=n(45356),h=p.set,v=p.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,p),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=r&&c(r,e[u],{that:e,AS_ENTRIES:n})})),p=l.prototype,g=v(t),y=function(e,t,n){var r,o,i=g(e),a=m(e,t);return a?a.value=n:(i.last=a={index:o=d(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},m=function(e,t){var n,r=g(e),o=d(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(p,{clear:function(){for(var e=g(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=this,n=g(t),r=m(t,e);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),f?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=g(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),i(p,n?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),f&&r(p,"size",{get:function(){return g(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",o=v(t),i=v(r);u(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},13355:function(e,t,n){"use strict";var r=n(57182),o=n(80230),i=n(94378),a=n(36806),s=n(15669),c=n(49597),u=n(78341),l=n(39619),f=n(90483),d=n(96339),p=n(75113),h=n(35257),v=n(50556),g=n(69361);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),_=y?"set":"add",b=o[e],w=b&&b.prototype,E=b,S={},O=function(e){var t=i(w[e]);s(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return m&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!d(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!f(b)||!(m||w.forEach&&!p((function(){(new b).entries().next()})))))E=n.getConstructor(t,e,y,_),c.enable();else if(a(e,!0)){var I=new E,R=I[_](m?{}:-0,1)!=I,C=p((function(){I.has(1)})),T=h((function(e){new b(e)})),x=!m&&p((function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)}));T||((E=t((function(e,t){l(e,w);var n=g(new b,e,E);return null!=t&&u(t,n[_],{that:n,AS_ENTRIES:y}),n}))).prototype=w,w.constructor=E),(C||x)&&(O("delete"),O("has"),y&&O("get")),(x||R)&&O(_),m&&w.clear&&delete w.clear}return S[e]=E,r({global:!0,forced:E!=b},S),v(E,e),m||n.setStrong(E,e,y),E}},84e3:function(e,t,n){var r=n(11555),o=n(93672),i=n(16944),a=n(36475);e.exports=function(e,t,n){for(var s=o(t),c=a.f,u=i.f,l=0;l<s.length;l++){var f=s[l];r(e,f)||n&&r(n,f)||c(e,f,u(t,f))}}},66:function(e,t,n){var r=n(52720)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},76283:function(e,t,n){var r=n(75113);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},38304:function(e,t,n){"use strict";var r=n(15673).IteratorPrototype,o=n(94663),i=n(39779),a=n(50556),s=n(13177),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=o(r,{next:i(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},72551:function(e,t,n){var r=n(49866),o=n(36475),i=n(39779);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},39779:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},19482:function(e,t,n){"use strict";var r=n(78129),o=n(36475),i=n(39779);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},85972:function(e,t,n){"use strict";var r=n(57182),o=n(90584),i=n(21292),a=n(72751),s=n(90483),c=n(38304),u=n(36949),l=n(65071),f=n(50556),d=n(72551),p=n(15669),h=n(52720),v=n(13177),g=n(15673),y=a.PROPER,m=a.CONFIGURABLE,_=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,w=h("iterator"),E="keys",S="values",O="entries",I=function(){return this};e.exports=function(e,t,n,a,h,g,R){c(n,t,a);var C,T,x,A=function(e){if(e===h&&N)return N;if(!b&&e in M)return M[e];switch(e){case E:case S:case O:return function(){return new n(this,e)}}return function(){return new n(this)}},k=t+" Iterator",D=!1,M=e.prototype,P=M[w]||M["@@iterator"]||h&&M[h],N=!b&&P||A(h),L="Array"==t&&M.entries||P;if(L&&(C=u(L.call(new e)))!==Object.prototype&&C.next&&(i||u(C)===_||(l?l(C,_):s(C[w])||p(C,w,I)),f(C,k,!0,!0),i&&(v[k]=I)),y&&h==S&&P&&P.name!==S&&(!i&&m?d(M,"name",S):(D=!0,N=function(){return o(P,this)})),h)if(T={values:A(S),keys:g?N:A(E),entries:A(O)},R)for(x in T)(b||D||!(x in M))&&p(M,x,T[x]);else r({target:t,proto:!0,forced:b||D},T);return i&&!R||M[w]===N||p(M,w,N,{name:h}),v[t]=N,T}},44503:function(e,t,n){var r=n(98530),o=n(11555),i=n(21149),a=n(36475).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},49866:function(e,t,n){var r=n(75113);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},40635:function(e,t,n){var r=n(80230),o=n(96339),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},91626:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},40547:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},22973:function(e,t,n){var r=n(40635)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},23944:function(e,t,n){var r=n(44993).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},75660:function(e){e.exports="object"==typeof window},38662:function(e,t,n){var r=n(44993);e.exports=/MSIE|Trident/.test(r)},25672:function(e,t,n){var r=n(44993),o=n(80230);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},56959:function(e,t,n){var r=n(44993);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},79435:function(e,t,n){var r=n(46281),o=n(80230);e.exports="process"==r(o.process)},14259:function(e,t,n){var r=n(44993);e.exports=/web0s(?!.*chrome)/i.test(r)},44993:function(e,t,n){var r=n(5898);e.exports=r("navigator","userAgent")||""},70582:function(e,t,n){var r,o,i=n(80230),a=n(44993),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},67020:function(e,t,n){var r=n(44993).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},8507:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},43713:function(e,t,n){var r=n(75113),o=n(39779);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},35971:function(e,t,n){"use strict";var r=n(49866),o=n(75113),i=n(48786),a=n(94663),s=n(872),c=Error.prototype.toString,u=o((function(){if(r){var e=a(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==c.call(e))return!0}return"2: 1"!==c.call({message:1,name:2})||"Error"!==c.call({})}));e.exports=u?function(){var e=i(this),t=s(e.name,"Error"),n=s(e.message);return t?n?t+": "+n:t:n}:c},57182:function(e,t,n){var r=n(80230),o=n(16944).f,i=n(72551),a=n(15669),s=n(35735),c=n(84e3),u=n(36806);e.exports=function(e,t){var n,l,f,d,p,h=e.target,v=e.global,g=e.stat;if(n=v?r:g?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(p=o(n,l))&&p.value:n[l],!u(v?l:h+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,e)}}},75113:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},51188:function(e,t,n){"use strict";n(6739);var r=n(94378),o=n(15669),i=n(59663),a=n(75113),s=n(52720),c=n(72551),u=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var d=s(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!h||n){var v=r(/./[d]),g=t(d,""[e],(function(e,t,n,o,a){var s=r(e),c=t.exec;return c===i||c===l.exec?p&&!a?{done:!0,value:v(t,n,o)}:{done:!0,value:s(n,t,o)}:{done:!1}}));o(String.prototype,e,g[0]),o(l,d,g[1])}f&&c(l[d],"sham",!0)}},12507:function(e,t,n){var r=n(75113);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},19347:function(e,t,n){var r=n(70127),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},46207:function(e,t,n){var r=n(94378),o=n(81096),i=n(70127),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},70127:function(e,t,n){var r=n(75113);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},47756:function(e,t,n){"use strict";var r=n(80230),o=n(94378),i=n(81096),a=n(96339),s=n(11555),c=n(6629),u=n(70127),l=r.Function,f=o([].concat),d=o([].join),p={};e.exports=u?l.bind:function(e){var t=i(this),n=t.prototype,r=c(arguments,1),o=function(){var n=f(r,c(arguments));return this instanceof o?function(e,t,n){if(!s(p,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";p[t]=l("C,a","return new C("+d(r,",")+")")}return p[t](e,n)}(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}},90584:function(e,t,n){var r=n(70127),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},72751:function(e,t,n){var r=n(49866),o=n(11555),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},94378:function(e,t,n){var r=n(70127),o=Function.prototype,i=o.bind,a=o.call,s=r&&i.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},5898:function(e,t,n){var r=n(80230),o=n(90483);e.exports=function(e,t){return arguments.length<2?(n=r[e],o(n)?n:void 0):r[e]&&r[e][t];var n}},69566:function(e,t,n){var r=n(92358),o=n(32023),i=n(13177),a=n(52720)("iterator");e.exports=function(e){if(null!=e)return o(e,a)||o(e,"@@iterator")||i[r(e)]}},10869:function(e,t,n){var r=n(80230),o=n(90584),i=n(81096),a=n(48786),s=n(30692),c=n(69566),u=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(i(n))return a(o(n,e));throw u(s(e)+" is not iterable")}},32023:function(e,t,n){var r=n(81096);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},96496:function(e,t,n){var r=n(94378),o=n(49867),i=Math.floor,a=r("".charAt),s=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var p=n+e.length,h=r.length,v=l;return void 0!==f&&(f=o(f),v=u),s(d,v,(function(o,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,p);case"<":u=f[c(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>h){var d=i(l/10);return 0===d?o:d<=h?void 0===r[d-1]?a(s,1):r[d-1]+a(s,1):o}u=r[l-1]}return void 0===u?"":u}))}},80230:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},11555:function(e,t,n){var r=n(94378),o=n(49867),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},6698:function(e){e.exports={}},4095:function(e,t,n){var r=n(80230);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},80542:function(e,t,n){var r=n(5898);e.exports=r("document","documentElement")},61281:function(e,t,n){var r=n(49866),o=n(75113),i=n(40635);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},38383:function(e,t,n){var r=n(80230).Array,o=Math.abs,i=Math.pow,a=Math.floor,s=Math.log,c=Math.LN2;e.exports={pack:function(e,t,n){var u,l,f,d=r(n),p=8*n-t-1,h=(1<<p)-1,v=h>>1,g=23===t?i(2,-24)-i(2,-77):0,y=e<0||0===e&&1/e<0?1:0,m=0;for((e=o(e))!=e||e===1/0?(l=e!=e?1:0,u=h):(u=a(s(e)/c),e*(f=i(2,-u))<1&&(u--,f*=2),(e+=u+v>=1?g/f:g*i(2,1-v))*f>=2&&(u++,f/=2),u+v>=h?(l=0,u=h):u+v>=1?(l=(e*f-1)*i(2,t),u+=v):(l=e*i(2,v-1)*i(2,t),u=0));t>=8;)d[m++]=255&l,l/=256,t-=8;for(u=u<<t|l,p+=t;p>0;)d[m++]=255&u,u/=256,p-=8;return d[--m]|=128*y,d},unpack:function(e,t){var n,r=e.length,o=8*r-t-1,a=(1<<o)-1,s=a>>1,c=o-7,u=r-1,l=e[u--],f=127&l;for(l>>=7;c>0;)f=256*f+e[u--],c-=8;for(n=f&(1<<-c)-1,f>>=-c,c+=t;c>0;)n=256*n+e[u--],c-=8;if(0===f)f=1-s;else{if(f===a)return n?NaN:l?-1/0:1/0;n+=i(2,t),f-=s}return(l?-1:1)*n*i(2,f-t)}}},60320:function(e,t,n){var r=n(80230),o=n(94378),i=n(75113),a=n(46281),s=r.Object,c=o("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):s(e)}:s},69361:function(e,t,n){var r=n(90483),o=n(96339),i=n(65071);e.exports=function(e,t,n){var a,s;return i&&r(a=t.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(e,s),e}},52808:function(e,t,n){var r=n(94378),o=n(90483),i=n(79886),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},62463:function(e,t,n){var r=n(96339),o=n(72551);e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},49597:function(e,t,n){var r=n(57182),o=n(94378),i=n(6698),a=n(96339),s=n(11555),c=n(36475).f,u=n(26754),l=n(19944),f=n(63061),d=n(56184),p=n(12507),h=!1,v=d("meta"),g=0,y=function(e){c(e,v,{value:{objectID:"O"+g++,weakData:{}}})},m=e.exports={enable:function(){m.enable=function(){},h=!0;var e=u.f,t=o([].splice),n={};n[v]=1,e(n).length&&(u.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===v){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,v)){if(!f(e))return"F";if(!t)return"E";y(e)}return e[v].objectID},getWeakData:function(e,t){if(!s(e,v)){if(!f(e))return!0;if(!t)return!1;y(e)}return e[v].weakData},onFreeze:function(e){return p&&h&&f(e)&&!s(e,v)&&y(e),e}};i[v]=!0},45356:function(e,t,n){var r,o,i,a=n(61081),s=n(80230),c=n(94378),u=n(96339),l=n(72551),f=n(11555),d=n(79886),p=n(27855),h=n(6698),v="Object already initialized",g=s.TypeError,y=s.WeakMap;if(a||d.state){var m=d.state||(d.state=new y),_=c(m.get),b=c(m.has),w=c(m.set);r=function(e,t){if(b(m,e))throw new g(v);return t.facade=e,w(m,e,t),t},o=function(e){return _(m,e)||{}},i=function(e){return b(m,e)}}else{var E=p("state");h[E]=!0,r=function(e,t){if(f(e,E))throw new g(v);return t.facade=e,l(e,E,t),t},o=function(e){return f(e,E)?e[E]:{}},i=function(e){return f(e,E)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},37675:function(e,t,n){var r=n(52720),o=n(13177),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},6313:function(e,t,n){var r=n(46281);e.exports=Array.isArray||function(e){return"Array"==r(e)}},90483:function(e){e.exports=function(e){return"function"==typeof e}},9941:function(e,t,n){var r=n(94378),o=n(75113),i=n(90483),a=n(92358),s=n(5898),c=n(52808),u=function(){},l=[],f=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),h=!d.exec(u),v=function(e){if(!i(e))return!1;try{return f(u,l,e),!0}catch(t){return!1}},g=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,c(e))}catch(t){return!0}};g.sham=!0,e.exports=!f||o((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?g:v},36806:function(e,t,n){var r=n(75113),o=n(90483),i=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},11397:function(e,t,n){var r=n(96339),o=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&o(e)===e}},96339:function(e,t,n){var r=n(90483);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},21292:function(e){e.exports=!1},73426:function(e,t,n){var r=n(96339),o=n(46281),i=n(52720)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},92728:function(e,t,n){var r=n(80230),o=n(5898),i=n(90483),a=n(21468),s=n(43894),c=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&a(t.prototype,c(e))}},78341:function(e,t,n){var r=n(80230),o=n(46207),i=n(90584),a=n(48786),s=n(30692),c=n(37675),u=n(61540),l=n(21468),f=n(10869),d=n(69566),p=n(29445),h=r.TypeError,v=function(e,t){this.stopped=e,this.result=t},g=v.prototype;e.exports=function(e,t,n){var r,y,m,_,b,w,E,S=n&&n.that,O=!(!n||!n.AS_ENTRIES),I=!(!n||!n.IS_ITERATOR),R=!(!n||!n.INTERRUPTED),C=o(t,S),T=function(e){return r&&p(r,"normal",e),new v(!0,e)},x=function(e){return O?(a(e),R?C(e[0],e[1],T):C(e[0],e[1])):R?C(e,T):C(e)};if(I)r=e;else{if(!(y=d(e)))throw h(s(e)+" is not iterable");if(c(y)){for(m=0,_=u(e);_>m;m++)if((b=x(e[m]))&&l(g,b))return b;return new v(!1)}r=f(e,y)}for(w=r.next;!(E=i(w,r)).done;){try{b=x(E.value)}catch(A){p(r,"throw",A)}if("object"==typeof b&&b&&l(g,b))return b}return new v(!1)}},29445:function(e,t,n){var r=n(90584),o=n(48786),i=n(32023);e.exports=function(e,t,n){var a,s;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(c){s=!0,a=c}if("throw"===t)throw n;if(s)throw a;return o(a),n}},15673:function(e,t,n){"use strict";var r,o,i,a=n(75113),s=n(90483),c=n(94663),u=n(36949),l=n(15669),f=n(52720),d=n(21292),p=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(r=o):h=!0),null==r||a((function(){var e={};return r[p].call(e)!==e}))?r={}:d&&(r=c(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},13177:function(e){e.exports={}},61540:function(e,t,n){var r=n(97140);e.exports=function(e){return r(e.length)}},82097:function(e,t,n){var r,o,i,a,s,c,u,l,f=n(80230),d=n(46207),p=n(16944).f,h=n(98955).set,v=n(56959),g=n(25672),y=n(14259),m=n(79435),_=f.MutationObserver||f.WebKitMutationObserver,b=f.document,w=f.process,E=f.Promise,S=p(f,"queueMicrotask"),O=S&&S.value;O||(r=function(){var e,t;for(m&&(e=w.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(n){throw o?a():i=void 0,n}}i=void 0,e&&e.enter()},v||m||y||!_||!b?!g&&E&&E.resolve?((u=E.resolve(void 0)).constructor=E,l=d(u.then,u),a=function(){l(r)}):m?a=function(){w.nextTick(r)}:(h=d(h,f),a=function(){h(r)}):(s=!0,c=b.createTextNode(""),new _(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=O||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},96682:function(e,t,n){var r=n(80230);e.exports=r.Promise},91876:function(e,t,n){var r=n(70582),o=n(75113);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},74806:function(e,t,n){var r=n(75113),o=n(52720),i=n(21292),a=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},61081:function(e,t,n){var r=n(80230),o=n(90483),i=n(52808),a=r.WeakMap;e.exports=o(a)&&/native code/.test(i(a))},396:function(e,t,n){"use strict";var r=n(81096),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},872:function(e,t,n){var r=n(84415);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},44715:function(e,t,n){var r=n(80230),o=n(73426),i=r.TypeError;e.exports=function(e){if(o(e))throw i("The method doesn't accept regular expressions");return e}},8521:function(e,t,n){var r=n(80230),o=n(75113),i=n(94378),a=n(84415),s=n(46137).trim,c=n(84557),u=r.parseInt,l=r.Symbol,f=l&&l.iterator,d=/^[+-]?0x/i,p=i(d.exec),h=8!==u(c+"08")||22!==u(c+"0x16")||f&&!o((function(){u(Object(f))}));e.exports=h?function(e,t){var n=s(a(e));return u(n,t>>>0||(p(d,n)?16:10))}:u},46346:function(e,t,n){"use strict";var r=n(49866),o=n(94378),i=n(90584),a=n(75113),s=n(95707),c=n(47339),u=n(90620),l=n(49867),f=n(60320),d=Object.assign,p=Object.defineProperty,h=o([].concat);e.exports=!d||a((function(){if(r&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||s(d({},t)).join("")!=o}))?function(e,t){for(var n=l(e),o=arguments.length,a=1,d=c.f,p=u.f;o>a;)for(var v,g=f(arguments[a++]),y=d?h(s(g),d(g)):s(g),m=y.length,_=0;m>_;)v=y[_++],r&&!i(p,g,v)||(n[v]=g[v]);return n}:d},94663:function(e,t,n){var r,o=n(48786),i=n(89889),a=n(8507),s=n(6698),c=n(80542),u=n(40635),l=n(27855),f="prototype",d="script",p=l("IE_PROTO"),h=function(){},v=function(e){return"<"+d+">"+e+"</"+d+">"},g=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{r=new ActiveXObject("htmlfile")}catch(i){}var e,t,n;y="undefined"!=typeof document?document.domain&&r?g(r):(t=u("iframe"),n="java"+d+":",t.style.display="none",c.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F):g(r);for(var o=a.length;o--;)delete y[f][a[o]];return y()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[f]=o(e),n=new h,h[f]=null,n[p]=e):n=y(),void 0===t?n:i.f(n,t)}},89889:function(e,t,n){var r=n(49866),o=n(50762),i=n(36475),a=n(48786),s=n(99721),c=n(95707);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),o=c(t),u=o.length,l=0;u>l;)i.f(e,n=o[l++],r[n]);return e}},36475:function(e,t,n){var r=n(80230),o=n(49866),i=n(61281),a=n(50762),s=n(48786),c=n(78129),u=r.TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=o?a?function(e,t,n){if(s(e),t=c(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var r=f(e,t);r&&r[h]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=c(t),s(n),i)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},16944:function(e,t,n){var r=n(49866),o=n(90584),i=n(90620),a=n(39779),s=n(99721),c=n(78129),u=n(11555),l=n(61281),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=c(t),l)try{return f(e,t)}catch(n){}if(u(e,t))return a(!o(i.f,e,t),e[t])}},19944:function(e,t,n){var r=n(46281),o=n(99721),i=n(26754).f,a=n(98018),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return i(e)}catch(t){return a(s)}}(e):i(o(e))}},26754:function(e,t,n){var r=n(87997),o=n(8507).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},47339:function(e,t){t.f=Object.getOwnPropertySymbols},36949:function(e,t,n){var r=n(80230),o=n(11555),i=n(90483),a=n(49867),s=n(27855),c=n(76283),u=s("IE_PROTO"),l=r.Object,f=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=a(e);if(o(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?f:null}},63061:function(e,t,n){var r=n(75113),o=n(96339),i=n(46281),a=n(67206),s=Object.isExtensible,c=r((function(){s(1)}));e.exports=c||a?function(e){return!!o(e)&&((!a||"ArrayBuffer"!=i(e))&&(!s||s(e)))}:s},21468:function(e,t,n){var r=n(94378);e.exports=r({}.isPrototypeOf)},87997:function(e,t,n){var r=n(94378),o=n(11555),i=n(99721),a=n(15949).indexOf,s=n(6698),c=r([].push);e.exports=function(e,t){var n,r=i(e),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);for(;t.length>u;)o(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},95707:function(e,t,n){var r=n(87997),o=n(8507);e.exports=Object.keys||function(e){return r(e,o)}},90620:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},65071:function(e,t,n){var r=n(94378),o=n(48786),i=n(18183);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},82423:function(e,t,n){var r=n(49866),o=n(94378),i=n(95707),a=n(99721),s=o(n(90620).f),c=o([].push),u=function(e){return function(t){for(var n,o=a(t),u=i(o),l=u.length,f=0,d=[];l>f;)n=u[f++],r&&!s(o,n)||c(d,e?[n,o[n]]:o[n]);return d}};e.exports={entries:u(!0),values:u(!1)}},34745:function(e,t,n){"use strict";var r=n(96371),o=n(92358);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},32727:function(e,t,n){var r=n(80230),o=n(90584),i=n(90483),a=n(96339),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&i(n=e.toString)&&!a(r=o(n,e)))return r;if(i(n=e.valueOf)&&!a(r=o(n,e)))return r;if("string"!==t&&i(n=e.toString)&&!a(r=o(n,e)))return r;throw s("Can't convert object to primitive value")}},93672:function(e,t,n){var r=n(5898),o=n(94378),i=n(26754),a=n(47339),s=n(48786),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?c(t,n(e)):t}},98530:function(e,t,n){var r=n(80230);e.exports=r},74289:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},81059:function(e,t,n){var r=n(48786),o=n(96339),i=n(396);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},36473:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},27473:function(e,t,n){var r=n(15669);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},15669:function(e,t,n){var r=n(80230),o=n(90483),i=n(11555),a=n(72551),s=n(35735),c=n(52808),u=n(45356),l=n(72751).CONFIGURABLE,f=u.get,d=u.enforce,p=String(String).split("String");(e.exports=function(e,t,n,c){var u,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,v=!!c&&!!c.noTargetGet,g=c&&void 0!==c.name?c.name:t;o(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||l&&n.name!==g)&&a(n,"name",g),(u=d(n)).source||(u.source=p.join("string"==typeof g?g:""))),e!==r?(f?!v&&e[t]&&(h=!0):delete e[t],h?e[t]=n:a(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},23154:function(e,t,n){var r=n(80230),o=n(90584),i=n(48786),a=n(90483),s=n(46281),c=n(59663),u=r.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var r=o(n,e,t);return null!==r&&i(r),r}if("RegExp"===s(e))return o(c,e,t);throw u("RegExp#exec called on incompatible receiver")}},59663:function(e,t,n){"use strict";var r,o,i=n(90584),a=n(94378),s=n(84415),c=n(23592),u=n(60662),l=n(52904),f=n(94663),d=n(45356).get,p=n(3396),h=n(76983),v=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,y=g,m=a("".charAt),_=a("".indexOf),b=a("".replace),w=a("".slice),E=(o=/b*/g,i(g,r=/a/,"a"),i(g,o,"a"),0!==r.lastIndex||0!==o.lastIndex),S=u.BROKEN_CARET,O=void 0!==/()??/.exec("")[1];(E||O||S||p||h)&&(y=function(e){var t,n,r,o,a,u,l,p=this,h=d(p),I=s(e),R=h.raw;if(R)return R.lastIndex=p.lastIndex,t=i(y,R,I),p.lastIndex=R.lastIndex,t;var C=h.groups,T=S&&p.sticky,x=i(c,p),A=p.source,k=0,D=I;if(T&&(x=b(x,"y",""),-1===_(x,"g")&&(x+="g"),D=w(I,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==m(I,p.lastIndex-1))&&(A="(?: "+A+")",D=" "+D,k++),n=new RegExp("^(?:"+A+")",x)),O&&(n=new RegExp("^"+A+"$(?!\\s)",x)),E&&(r=p.lastIndex),o=i(g,T?n:p,D),T?o?(o.input=w(o.input,k),o[0]=w(o[0],k),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:E&&o&&(p.lastIndex=p.global?o.index+o[0].length:r),O&&o&&o.length>1&&i(v,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&C)for(o.groups=u=f(null),a=0;a<C.length;a++)u[(l=C[a])[0]]=o[l[1]];return o}),e.exports=y},23592:function(e,t,n){"use strict";var r=n(48786);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},60662:function(e,t,n){var r=n(75113),o=n(80230).RegExp,i=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),s=i||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},3396:function(e,t,n){var r=n(75113),o=n(80230).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},76983:function(e,t,n){var r=n(75113),o=n(80230).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},64267:function(e,t,n){var r=n(80230).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},62909:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},35735:function(e,t,n){var r=n(80230),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},11437:function(e,t,n){"use strict";var r=n(5898),o=n(36475),i=n(52720),a=n(49866),s=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},50556:function(e,t,n){var r=n(36475).f,o=n(11555),i=n(52720)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,i)&&r(e,i,{configurable:!0,value:t})}},27855:function(e,t,n){var r=n(52904),o=n(56184),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},79886:function(e,t,n){var r=n(80230),o=n(35735),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},52904:function(e,t,n){var r=n(21292),o=n(79886);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},3539:function(e,t,n){var r=n(48786),o=n(77121),i=n(52720)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},28742:function(e,t,n){var r=n(94378),o=n(75627),i=n(84415),a=n(64267),s=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,f=i(a(t)),d=o(n),p=f.length;return d<0||d>=p?e?"":void 0:(r=c(f,d))<55296||r>56319||d+1===p||(l=c(f,d+1))<56320||l>57343?e?s(f,d):r:e?u(f,d,d+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},43610:function(e,t,n){"use strict";var r=n(80230),o=n(94378),i=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",u=r.RangeError,l=o(s.exec),f=Math.floor,d=String.fromCharCode,p=o("".charCodeAt),h=o([].join),v=o([].push),g=o("".replace),y=o("".split),m=o("".toLowerCase),_=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;)e=f(e/35),r+=36;return f(r+36*e/(e+38))},w=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=p(e,n++);if(o>=55296&&o<=56319&&n<r){var i=p(e,n++);56320==(64512&i)?v(t,((1023&o)<<10)+(1023&i)+65536):(v(t,o),n--)}else v(t,o)}return t}(e);var n,r,o=e.length,a=128,s=0,l=72;for(n=0;n<e.length;n++)(r=e[n])<128&&v(t,d(r));var g=t.length,y=g;for(g&&v(t,"-");y<o;){var m=i;for(n=0;n<e.length;n++)(r=e[n])>=a&&r<m&&(m=r);var w=y+1;if(m-a>f((i-s)/w))throw u(c);for(s+=(m-a)*w,a=m,n=0;n<e.length;n++){if((r=e[n])<a&&++s>i)throw u(c);if(r==a){for(var E=s,S=36;;){var O=S<=l?1:S>=l+26?26:S-l;if(E<O)break;var I=E-O,R=36-O;v(t,d(_(O+I%R))),E=f(I/R),S+=36}v(t,d(_(E))),l=b(s,w,y==g),s=0,y++}}s++,a++}return h(t,"")};e.exports=function(e){var t,n,r=[],o=y(g(m(e),s,"."),".");for(t=0;t<o.length;t++)n=o[t],v(r,l(a,n)?"xn--"+w(n):n);return h(r,".")}},47019:function(e,t,n){var r=n(72751).PROPER,o=n(75113),i=n(84557);e.exports=function(e){return o((function(){return!!i[e]()||"​᠎"!=="​᠎"[e]()||r&&i[e].name!==e}))}},46137:function(e,t,n){var r=n(94378),o=n(64267),i=n(84415),a=n(84557),s=r("".replace),c="["+a+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(e){return function(t){var n=i(o(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},98955:function(e,t,n){var r,o,i,a,s=n(80230),c=n(19347),u=n(46207),l=n(90483),f=n(11555),d=n(75113),p=n(80542),h=n(6629),v=n(40635),g=n(12653),y=n(56959),m=n(79435),_=s.setImmediate,b=s.clearImmediate,w=s.process,E=s.Dispatch,S=s.Function,O=s.MessageChannel,I=s.String,R=0,C={},T="onreadystatechange";try{r=s.location}catch(M){}var x=function(e){if(f(C,e)){var t=C[e];delete C[e],t()}},A=function(e){return function(){x(e)}},k=function(e){x(e.data)},D=function(e){s.postMessage(I(e),r.protocol+"//"+r.host)};_&&b||(_=function(e){g(arguments.length,1);var t=l(e)?e:S(e),n=h(arguments,1);return C[++R]=function(){c(t,void 0,n)},o(R),R},b=function(e){delete C[e]},m?o=function(e){w.nextTick(A(e))}:E&&E.now?o=function(e){E.now(A(e))}:O&&!y?(a=(i=new O).port2,i.port1.onmessage=k,o=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!d(D)?(o=D,s.addEventListener("message",k,!1)):o=T in v("script")?function(e){p.appendChild(v("script"))[T]=function(){p.removeChild(this),x(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:_,clear:b}},94405:function(e,t,n){var r=n(94378);e.exports=r(1..valueOf)},99047:function(e,t,n){var r=n(75627),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},92308:function(e,t,n){var r=n(80230),o=n(75627),i=n(97140),a=r.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=o(e),n=i(t);if(t!==n)throw a("Wrong length or index");return n}},99721:function(e,t,n){var r=n(60320),o=n(64267);e.exports=function(e){return r(o(e))}},75627:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},97140:function(e,t,n){var r=n(75627),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},49867:function(e,t,n){var r=n(80230),o=n(64267),i=r.Object;e.exports=function(e){return i(o(e))}},21809:function(e,t,n){var r=n(80230),o=n(87604),i=r.RangeError;e.exports=function(e,t){var n=o(e);if(n%t)throw i("Wrong offset");return n}},87604:function(e,t,n){var r=n(80230),o=n(75627),i=r.RangeError;e.exports=function(e){var t=o(e);if(t<0)throw i("The argument can't be less than 0");return t}},59353:function(e,t,n){var r=n(80230),o=n(90584),i=n(96339),a=n(92728),s=n(32023),c=n(32727),u=n(52720),l=r.TypeError,f=u("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,r=s(e,f);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!i(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},78129:function(e,t,n){var r=n(59353),o=n(92728);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},96371:function(e,t,n){var r={};r[n(52720)("toStringTag")]="z",e.exports="[object z]"===String(r)},84415:function(e,t,n){var r=n(80230),o=n(92358),i=r.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},40992:function(e,t,n){var r=n(79435);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(t){}}},30692:function(e,t,n){var r=n(80230).String;e.exports=function(e){try{return r(e)}catch(t){return"Object"}}},94235:function(e,t,n){"use strict";var r=n(57182),o=n(80230),i=n(90584),a=n(49866),s=n(34939),c=n(85339),u=n(8060),l=n(39619),f=n(39779),d=n(72551),p=n(11397),h=n(97140),v=n(92308),g=n(21809),y=n(78129),m=n(11555),_=n(92358),b=n(96339),w=n(92728),E=n(94663),S=n(21468),O=n(65071),I=n(26754).f,R=n(48312),C=n(20256).forEach,T=n(11437),x=n(36475),A=n(16944),k=n(45356),D=n(69361),M=k.get,P=k.set,N=x.f,L=A.f,j=Math.round,U=o.RangeError,F=u.ArrayBuffer,B=F.prototype,q=u.DataView,W=c.NATIVE_ARRAY_BUFFER_VIEWS,V=c.TYPED_ARRAY_CONSTRUCTOR,G=c.TYPED_ARRAY_TAG,H=c.TypedArray,K=c.TypedArrayPrototype,Q=c.aTypedArrayConstructor,Y=c.isTypedArray,Z="BYTES_PER_ELEMENT",z="Wrong length",$=function(e,t){Q(e);for(var n=0,r=t.length,o=new e(r);r>n;)o[n]=t[n++];return o},J=function(e,t){N(e,t,{get:function(){return M(this)[t]}})},X=function(e){var t;return S(B,e)||"ArrayBuffer"==(t=_(e))||"SharedArrayBuffer"==t},ee=function(e,t){return Y(e)&&!w(t)&&t in e&&p(+t)&&t>=0},te=function(e,t){return t=y(t),ee(e,t)?f(2,e[t]):L(e,t)},ne=function(e,t,n){return t=y(t),!(ee(e,t)&&b(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?N(e,t,n):(e[t]=n.value,e)};a?(W||(A.f=te,x.f=ne,J(K,"buffer"),J(K,"byteOffset"),J(K,"byteLength"),J(K,"length")),r({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,c=e+(n?"Clamped":"")+"Array",u="get"+e,f="set"+e,p=o[c],y=p,m=y&&y.prototype,_={},w=function(e,t){N(e,t,{get:function(){return function(e,t){var n=M(e);return n.view[u](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var o=M(e);n&&(r=(r=j(r))<0?0:r>255?255:255&r),o.view[f](t*a+o.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};W?s&&(y=t((function(e,t,n,r){return l(e,m),D(b(t)?X(t)?void 0!==r?new p(t,g(n,a),r):void 0!==n?new p(t,g(n,a)):new p(t):Y(t)?$(y,t):i(R,y,t):new p(v(t)),e,y)})),O&&O(y,H),C(I(p),(function(e){e in y||d(y,e,p[e])})),y.prototype=m):(y=t((function(e,t,n,r){l(e,m);var o,s,c,u=0,f=0;if(b(t)){if(!X(t))return Y(t)?$(y,t):i(R,y,t);o=t,f=g(n,a);var d=t.byteLength;if(void 0===r){if(d%a)throw U(z);if((s=d-f)<0)throw U(z)}else if((s=h(r)*a)+f>d)throw U(z);c=s/a}else c=v(t),o=new F(s=c*a);for(P(e,{buffer:o,byteOffset:f,byteLength:s,length:c,view:new q(o)});u<c;)w(e,u++)})),O&&O(y,H),m=y.prototype=E(K)),m.constructor!==y&&d(m,"constructor",y),d(m,V,y),G&&d(m,G,c),_[c]=y,r({global:!0,forced:y!=p,sham:!W},_),Z in y||d(y,Z,a),Z in m||d(m,Z,a),T(c)}):e.exports=function(){}},34939:function(e,t,n){var r=n(80230),o=n(75113),i=n(35257),a=n(85339).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;e.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||o((function(){return 1!==new c(new s(2),1,void 0).length}))},90503:function(e,t,n){var r=n(77853),o=n(21075);e.exports=function(e,t){return r(o(e),t)}},48312:function(e,t,n){var r=n(46207),o=n(90584),i=n(77121),a=n(49867),s=n(61540),c=n(10869),u=n(69566),l=n(37675),f=n(85339).aTypedArrayConstructor;e.exports=function(e){var t,n,d,p,h,v,g=i(this),y=a(e),m=arguments.length,_=m>1?arguments[1]:void 0,b=void 0!==_,w=u(y);if(w&&!l(w))for(v=(h=c(y,w)).next,y=[];!(p=o(v,h)).done;)y.push(p.value);for(b&&m>2&&(_=r(_,arguments[2])),n=s(y),d=new(f(g))(n),t=0;n>t;t++)d[t]=b?_(y[t],t):y[t];return d}},21075:function(e,t,n){var r=n(85339),o=n(3539),i=r.TYPED_ARRAY_CONSTRUCTOR,a=r.aTypedArrayConstructor;e.exports=function(e){return a(o(e,e[i]))}},56184:function(e,t,n){var r=n(94378),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},43894:function(e,t,n){var r=n(91876);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},50762:function(e,t,n){var r=n(49866),o=n(75113);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},12653:function(e,t,n){var r=n(80230).TypeError;e.exports=function(e,t){if(e<t)throw r("Not enough arguments");return e}},21149:function(e,t,n){var r=n(52720);t.f=r},52720:function(e,t,n){var r=n(80230),o=n(52904),i=n(11555),a=n(56184),s=n(91876),c=n(43894),u=o("wks"),l=r.Symbol,f=l&&l.for,d=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&i(l,e)?u[e]=l[e]:u[e]=c&&f?f(t):d(t)}return u[e]}},84557:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},57121:function(e,t,n){"use strict";var r=n(5898),o=n(11555),i=n(72551),a=n(21468),s=n(65071),c=n(84e3),u=n(69361),l=n(872),f=n(62463),d=n(14328),p=n(43713),h=n(21292);e.exports=function(e,t,n,v){var g=v?2:1,y=e.split("."),m=y[y.length-1],_=r.apply(null,y);if(_){var b=_.prototype;if(!h&&o(b,"cause")&&delete b.cause,!n)return _;var w=r("Error"),E=t((function(e,t){var n=l(v?t:e,void 0),r=v?new _(e):new _;return void 0!==n&&i(r,"message",n),p&&i(r,"stack",d(r.stack,2)),this&&a(b,this)&&u(r,this,E),arguments.length>g&&f(r,arguments[g]),r}));if(E.prototype=b,"Error"!==m&&(s?s(E,w):c(E,w,{name:!0})),c(E,_),!h)try{b.name!==m&&i(b,"name",m),b.constructor=E}catch(S){}return E}}},70266:function(e,t,n){"use strict";var r=n(57182),o=n(80230),i=n(8060),a=n(11437),s="ArrayBuffer",c=i[s];r({global:!0,forced:o[s]!==c},{ArrayBuffer:c}),a(s)},99012:function(e,t,n){var r=n(57182),o=n(85339);r({target:"ArrayBuffer",stat:!0,forced:!o.NATIVE_ARRAY_BUFFER_VIEWS},{isView:o.isView})},59841:function(e,t,n){"use strict";var r=n(57182),o=n(94378),i=n(75113),a=n(8060),s=n(48786),c=n(99047),u=n(97140),l=n(3539),f=a.ArrayBuffer,d=a.DataView,p=d.prototype,h=o(f.prototype.slice),v=o(p.getUint8),g=o(p.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new f(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(h&&void 0===t)return h(s(this),e);for(var n=s(this).byteLength,r=c(e,n),o=c(void 0===t?n:t,n),i=new(l(this,f))(u(o-r)),a=new d(this),p=new d(i),y=0;r<o;)g(p,y++,v(a,r++));return i}})},48879:function(e,t,n){"use strict";var r=n(57182),o=n(80230),i=n(75113),a=n(6313),s=n(96339),c=n(49867),u=n(61540),l=n(19482),f=n(88812),d=n(21866),p=n(52720),h=n(70582),v=p("isConcatSpreadable"),g=9007199254740991,y="Maximum allowed index exceeded",m=o.TypeError,_=h>=51||!i((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),b=d("concat"),w=function(e){if(!s(e))return!1;var t=e[v];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!_||!b},{concat:function(e){var t,n,r,o,i,a=c(this),s=f(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(w(i=-1===t?a:arguments[t])){if(d+(o=u(i))>g)throw m(y);for(n=0;n<o;n++,d++)n in i&&l(s,d,i[n])}else{if(d>=g)throw m(y);l(s,d++,i)}return s.length=d,s}})},13611:function(e,t,n){"use strict";var r=n(57182),o=n(20256).filter;r({target:"Array",proto:!0,forced:!n(21866)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},14517:function(e,t,n){"use strict";var r=n(57182),o=n(20256).find,i=n(54402),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},18858:function(e,t,n){"use strict";var r=n(57182),o=n(48097);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},33905:function(e,t,n){var r=n(57182),o=n(43066);r({target:"Array",stat:!0,forced:!n(35257)((function(e){Array.from(e)}))},{from:o})},78191:function(e,t,n){"use strict";var r=n(57182),o=n(15949).includes,i=n(54402);r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},11866:function(e,t,n){"use strict";var r=n(57182),o=n(94378),i=n(15949).indexOf,a=n(71668),s=o([].indexOf),c=!!s&&1/s([1],1,-0)<0,u=a("indexOf");r({target:"Array",proto:!0,forced:c||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?s(this,e,t)||0:i(this,e,t)}})},24295:function(e,t,n){n(57182)({target:"Array",stat:!0},{isArray:n(6313)})},53775:function(e,t,n){"use strict";var r=n(99721),o=n(54402),i=n(13177),a=n(45356),s=n(36475).f,c=n(85972),u=n(21292),l=n(49866),f="Array Iterator",d=a.set,p=a.getterFor(f);e.exports=c(Array,"Array",(function(e,t){d(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(v){}},47259:function(e,t,n){"use strict";var r=n(57182),o=n(94378),i=n(60320),a=n(99721),s=n(71668),c=o([].join),u=i!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:u||!l},{join:function(e){return c(a(this),void 0===e?",":e)}})},80641:function(e,t,n){"use strict";var r=n(57182),o=n(20256).map;r({target:"Array",proto:!0,forced:!n(21866)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},73398:function(e,t,n){"use strict";var r=n(57182),o=n(89565).left,i=n(71668),a=n(70582),s=n(79435);r({target:"Array",proto:!0,forced:!i("reduce")||!s&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},9624:function(e,t,n){"use strict";var r=n(57182),o=n(80230),i=n(6313),a=n(9941),s=n(96339),c=n(99047),u=n(61540),l=n(99721),f=n(19482),d=n(52720),p=n(21866),h=n(6629),v=p("slice"),g=d("species"),y=o.Array,m=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(e,t){var n,r,o,d=l(this),p=u(d),v=c(e,p),_=c(void 0===t?p:t,p);if(i(d)&&(n=d.constructor,(a(n)&&(n===y||i(n.prototype))||s(n)&&null===(n=n[g]))&&(n=void 0),n===y||void 0===n))return h(d,v,_);for(r=new(void 0===n?y:n)(m(_-v,0)),o=0;v<_;v++,o++)v in d&&f(r,o,d[v]);return r.length=o,r}})},16830:function(e,t,n){"use strict";var r=n(57182),o=n(20256).some;r({target:"Array",proto:!0,forced:!n(71668)("some")},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},50970:function(e,t,n){"use strict";var r=n(57182),o=n(94378),i=n(81096),a=n(49867),s=n(61540),c=n(84415),u=n(75113),l=n(36514),f=n(71668),d=n(23944),p=n(38662),h=n(70582),v=n(67020),g=[],y=o(g.sort),m=o(g.push),_=u((function(){g.sort(void 0)})),b=u((function(){g.sort(null)})),w=f("sort"),E=!u((function(){if(h)return h<70;if(!(d&&d>3)){if(p)return!0;if(v)return v<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:_||!b||!w||!E},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(E)return void 0===e?y(t):y(t,e);var n,r,o=[],u=s(t);for(r=0;r<u;r++)r in t&&m(o,t[r]);for(l(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=o.length,r=0;r<n;)t[r]=o[r++];for(;r<u;)delete t[r++];return t}})},96276:function(e,t,n){"use strict";var r=n(57182),o=n(80230),i=n(99047),a=n(75627),s=n(61540),c=n(49867),u=n(88812),l=n(19482),f=n(21866)("splice"),d=o.TypeError,p=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,o,f,v,g,y=c(this),m=s(y),_=i(e,m),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=m-_):(n=b-2,r=h(p(a(t),0),m-_)),m+n-r>9007199254740991)throw d("Maximum allowed length exceeded");for(o=u(y,r),f=0;f<r;f++)(v=_+f)in y&&l(o,f,y[v]);if(o.length=r,n<r){for(f=_;f<m-r;f++)g=f+n,(v=f+r)in y?y[g]=y[v]:delete y[g];for(f=m;f>m-r+n;f--)delete y[f-1]}else if(n>r)for(f=m-r;f>_;f--)g=f+n-1,(v=f+r-1)in y?y[g]=y[v]:delete y[g];for(f=0;f<n;f++)y[f+_]=arguments[f+2];return y.length=m-r+n,o}})},40524:function(e,t,n){var r=n(57182),o=n(80230),i=n(94378),a=o.Date,s=i(a.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return s(new a)}})},38120:function(e,t,n){var r=n(94378),o=n(15669),i=Date.prototype,a="Invalid Date",s="toString",c=r(i[s]),u=r(i.getTime);String(new Date(NaN))!=a&&o(i,s,(function(){var e=u(this);return e==e?c(this):a}))},69536:function(e,t,n){var r=n(57182),o=n(80230),i=n(19347),a=n(57121),s="WebAssembly",c=o[s],u=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=a(e,t,u),r({global:!0,forced:u},n)},f=function(e,t){if(c&&c[e]){var n={};n[e]=a(s+"."+e,t,u),r({target:s,stat:!0,forced:u},n)}};l("Error",(function(e){return function(t){return i(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),l("URIError",(function(e){return function(t){return i(e,this,arguments)}})),f("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),f("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),f("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},49210:function(e,t,n){var r=n(15669),o=n(35971),i=Error.prototype;i.toString!==o&&r(i,"toString",o)},83135:function(e,t,n){var r=n(57182),o=n(47756);r({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},25873:function(e,t,n){var r=n(49866),o=n(72751).EXISTS,i=n(94378),a=n(36475).f,s=Function.prototype,c=i(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(u.exec);r&&!o&&a(s,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(e){return""}}})},74832:function(e,t,n){n(57182)({global:!0},{globalThis:n(80230)})},97627:function(e,t,n){var r=n(57182),o=n(80230),i=n(5898),a=n(19347),s=n(94378),c=n(75113),u=o.Array,l=i("JSON","stringify"),f=s(/./.exec),d=s("".charAt),p=s("".charCodeAt),h=s("".replace),v=s(1..toString),g=/[\uD800-\uDFFF]/g,y=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,_=function(e,t,n){var r=d(n,t-1),o=d(n,t+1);return f(y,e)&&!f(m,o)||f(m,e)&&!f(y,r)?"\\u"+v(p(e,0),16):e},b=c((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&r({target:"JSON",stat:!0,forced:b},{stringify:function(e,t,n){for(var r=0,o=arguments.length,i=u(o);r<o;r++)i[r]=arguments[r];var s=a(l,null,i);return"string"==typeof s?h(s,g,_):s}})},58701:function(e,t,n){"use strict";n(13355)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(49926))},88992:function(e,t,n){"use strict";var r=n(49866),o=n(80230),i=n(94378),a=n(36806),s=n(15669),c=n(11555),u=n(69361),l=n(21468),f=n(92728),d=n(59353),p=n(75113),h=n(26754).f,v=n(16944).f,g=n(36475).f,y=n(94405),m=n(46137).trim,_="Number",b=o[_],w=b.prototype,E=o.TypeError,S=i("".slice),O=i("".charCodeAt),I=function(e){var t,n,r,o,i,a,s,c,u=d(e,"number");if(f(u))throw E("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=m(u),43===(t=O(u,0))||45===t){if(88===(n=O(u,2))||120===n)return NaN}else if(48===t){switch(O(u,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=(i=S(u,2)).length,s=0;s<a;s++)if((c=O(i,s))<48||c>o)return NaN;return parseInt(i,r)}return+u};if(a(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var R,C=function(e){var t=arguments.length<1?0:b(function(e){var t=d(e,"number");return"bigint"==typeof t?t:I(t)}(e)),n=this;return l(w,n)&&p((function(){y(n)}))?u(Object(t),n,C):t},T=r?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),x=0;T.length>x;x++)c(b,R=T[x])&&!c(C,R)&&g(C,R,v(b,R));C.prototype=w,w.constructor=C,s(o,_,C)}},20862:function(e,t,n){n(57182)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},38719:function(e,t,n){n(57182)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},72416:function(e,t,n){var r=n(57182),o=n(46346);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},53844:function(e,t,n){var r=n(57182),o=n(49866),i=n(89889).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!o},{defineProperties:i})},87641:function(e,t,n){var r=n(57182),o=n(49866),i=n(36475).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},33078:function(e,t,n){var r=n(57182),o=n(82423).entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},73774:function(e,t,n){var r=n(57182),o=n(12507),i=n(75113),a=n(96339),s=n(49597).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:i((function(){c(1)})),sham:!o},{freeze:function(e){return c&&a(e)?c(s(e)):e}})},44005:function(e,t,n){var r=n(57182),o=n(75113),i=n(99721),a=n(16944).f,s=n(49866),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},96205:function(e,t,n){var r=n(57182),o=n(49866),i=n(93672),a=n(99721),s=n(16944),c=n(19482);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),o=s.f,u=i(r),l={},f=0;u.length>f;)void 0!==(n=o(r,t=u[f++]))&&c(l,t,n);return l}})},88190:function(e,t,n){var r=n(57182),o=n(75113),i=n(19944).f;r({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:i})},4988:function(e,t,n){var r=n(57182),o=n(75113),i=n(49867),a=n(36949),s=n(76283);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},58534:function(e,t,n){var r=n(57182),o=n(49867),i=n(95707);r({target:"Object",stat:!0,forced:n(75113)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},81769:function(e,t,n){n(57182)({target:"Object",stat:!0},{setPrototypeOf:n(65071)})},64544:function(e,t,n){var r=n(96371),o=n(15669),i=n(34745);r||o(Object.prototype,"toString",i,{unsafe:!0})},39548:function(e,t,n){var r=n(57182),o=n(8521);r({global:!0,forced:parseInt!=o},{parseInt:o})},20339:function(e,t,n){"use strict";var r,o,i,a,s=n(57182),c=n(21292),u=n(80230),l=n(5898),f=n(90584),d=n(96682),p=n(15669),h=n(27473),v=n(65071),g=n(50556),y=n(11437),m=n(81096),_=n(90483),b=n(96339),w=n(39619),E=n(52808),S=n(78341),O=n(35257),I=n(3539),R=n(98955).set,C=n(82097),T=n(81059),x=n(4095),A=n(396),k=n(74289),D=n(36473),M=n(45356),P=n(36806),N=n(52720),L=n(75660),j=n(79435),U=n(70582),F=N("species"),B="Promise",q=M.getterFor(B),W=M.set,V=M.getterFor(B),G=d&&d.prototype,H=d,K=G,Q=u.TypeError,Y=u.document,Z=u.process,z=A.f,$=z,J=!!(Y&&Y.createEvent&&u.dispatchEvent),X=_(u.PromiseRejectionEvent),ee="unhandledrejection",te=!1,ne=P(B,(function(){var e=E(H),t=e!==String(H);if(!t&&66===U)return!0;if(c&&!K.finally)return!0;if(U>=51&&/native code/.test(e))return!1;var n=new H((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[F]=r,!(te=n.then((function(){}))instanceof r)||!t&&L&&!X})),re=ne||!O((function(e){H.all(e).catch((function(){}))})),oe=function(e){var t;return!(!b(e)||!_(t=e.then))&&t},ie=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&le(t),t.rejection=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),o=!0)),n===e.promise?u(Q("Promise-chain cycle")):(r=oe(n))?f(r,n,c,u):c(n)):u(i)}catch(d){l&&!o&&l.exit(),u(d)}},ae=function(e,t){e.notified||(e.notified=!0,C((function(){for(var n,r=e.reactions;n=r.get();)ie(n,e);e.notified=!1,t&&!e.rejection&&ce(e)})))},se=function(e,t,n){var r,o;J?((r=Y.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!X&&(o=u["on"+e])?o(r):e===ee&&x("Unhandled promise rejection",n)},ce=function(e){f(R,u,(function(){var t,n=e.facade,r=e.value;if(ue(e)&&(t=k((function(){j?Z.emit("unhandledRejection",r,n):se(ee,n,r)})),e.rejection=j||ue(e)?2:1,t.error))throw t.value}))},ue=function(e){return 1!==e.rejection&&!e.parent},le=function(e){f(R,u,(function(){var t=e.facade;j?Z.emit("rejectionHandled",t):se("rejectionhandled",t,e.value)}))},fe=function(e,t,n){return function(r){e(t,r,n)}},de=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ae(e,!0))},pe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Q("Promise can't be resolved itself");var r=oe(t);r?C((function(){var n={done:!1};try{f(r,t,fe(pe,n,e),fe(de,n,e))}catch(o){de(n,o,e)}})):(e.value=t,e.state=1,ae(e,!1))}catch(o){de({done:!1},o,e)}}};if(ne&&(K=(H=function(e){w(this,K),m(e),f(r,this);var t=q(this);try{e(fe(pe,t),fe(de,t))}catch(n){de(t,n)}}).prototype,(r=function(e){W(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new D,rejection:!1,state:0,value:void 0})}).prototype=h(K,{then:function(e,t){var n=V(this),r=z(I(this,H));return n.parent=!0,r.ok=!_(e)||e,r.fail=_(t)&&t,r.domain=j?Z.domain:void 0,0==n.state?n.reactions.add(r):C((function(){ie(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=q(e);this.promise=e,this.resolve=fe(pe,t),this.reject=fe(de,t)},A.f=z=function(e){return e===H||e===i?new o(e):$(e)},!c&&_(d)&&G!==Object.prototype)){a=G.then,te||(p(G,"then",(function(e,t){var n=this;return new H((function(e,t){f(a,n,e,t)})).then(e,t)}),{unsafe:!0}),p(G,"catch",K.catch,{unsafe:!0}));try{delete G.constructor}catch(he){}v&&v(G,K)}s({global:!0,wrap:!0,forced:ne},{Promise:H}),g(H,B,!1,!0),y(B),i=l(B),s({target:B,stat:!0,forced:ne},{reject:function(e){var t=z(this);return f(t.reject,void 0,e),t.promise}}),s({target:B,stat:!0,forced:c||ne},{resolve:function(e){return T(c&&this===i?H:this,e)}}),s({target:B,stat:!0,forced:re},{all:function(e){var t=this,n=z(t),r=n.resolve,o=n.reject,i=k((function(){var n=m(t.resolve),i=[],a=0,s=1;S(e,(function(e){var c=a++,u=!1;s++,f(n,t,e).then((function(e){u||(u=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=z(t),r=n.reject,o=k((function(){var o=m(t.resolve);S(e,(function(e){f(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},44871:function(e,t,n){var r=n(57182),o=n(5898),i=n(19347),a=n(47756),s=n(77121),c=n(48786),u=n(96339),l=n(94663),f=n(75113),d=o("Reflect","construct"),p=Object.prototype,h=[].push,v=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),g=!f((function(){d((function(){}))})),y=v||g;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(e,t){s(e),c(t);var n=arguments.length<3?e:s(arguments[2]);if(g&&!v)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return i(h,r,t),new(i(a,e,r))}var o=n.prototype,f=l(u(o)?o:p),y=i(e,f,t);return u(y)?y:f}})},96363:function(e,t,n){var r=n(57182),o=n(80230),i=n(50556);r({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0)},60990:function(e,t,n){var r=n(49866),o=n(80230),i=n(94378),a=n(36806),s=n(69361),c=n(72551),u=n(36475).f,l=n(26754).f,f=n(21468),d=n(73426),p=n(84415),h=n(23592),v=n(60662),g=n(15669),y=n(75113),m=n(11555),_=n(45356).enforce,b=n(11437),w=n(52720),E=n(3396),S=n(76983),O=w("match"),I=o.RegExp,R=I.prototype,C=o.SyntaxError,T=i(h),x=i(R.exec),A=i("".charAt),k=i("".replace),D=i("".indexOf),M=i("".slice),P=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,L=/a/g,j=new I(N)!==N,U=v.MISSED_STICKY,F=v.UNSUPPORTED_Y,B=r&&(!j||U||E||S||y((function(){return L[O]=!1,I(N)!=N||I(L)==L||"/a/i"!=I(N,"i")})));if(a("RegExp",B)){for(var q=function(e,t){var n,r,o,i,a,u,l=f(R,this),h=d(e),v=void 0===t,g=[],y=e;if(!l&&h&&v&&e.constructor===q)return e;if((h||f(R,e))&&(e=e.source,v&&(t="flags"in y?y.flags:T(y))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),y=e,E&&"dotAll"in N&&(r=!!t&&D(t,"s")>-1)&&(t=k(t,/s/g,"")),n=t,U&&"sticky"in N&&(o=!!t&&D(t,"y")>-1)&&F&&(t=k(t,/y/g,"")),S&&(i=function(e){for(var t,n=e.length,r=0,o="",i=[],a={},s=!1,c=!1,u=0,l="";r<=n;r++){if("\\"===(t=A(e,r)))t+=A(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:x(P,M(e,r+1))&&(r+=2,c=!0),o+=t,u++;continue;case">"===t&&c:if(""===l||m(a,l))throw new C("Invalid capture group name");a[l]=!0,i[i.length]=[l,u],c=!1,l="";continue}c?l+=t:o+=t}return[o,i]}(e),e=i[0],g=i[1]),a=s(I(e,t),l?this:R,q),(r||o||g.length)&&(u=_(a),r&&(u.dotAll=!0,u.raw=q(function(e){for(var t,n=e.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(t=A(e,r))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+A(e,++r);return o}(e),n)),o&&(u.sticky=!0),g.length&&(u.groups=g)),e!==y)try{c(a,"source",""===y?"(?:)":y)}catch(b){}return a},W=function(e){e in q||u(q,e,{configurable:!0,get:function(){return I[e]},set:function(t){I[e]=t}})},V=l(I),G=0;V.length>G;)W(V[G++]);R.constructor=q,q.prototype=R,g(o,"RegExp",q)}b("RegExp")},77801:function(e,t,n){var r=n(80230),o=n(49866),i=n(3396),a=n(46281),s=n(36475).f,c=n(45356).get,u=RegExp.prototype,l=r.TypeError;o&&i&&s(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!c(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},6739:function(e,t,n){"use strict";var r=n(57182),o=n(59663);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},83277:function(e,t,n){var r=n(80230),o=n(49866),i=n(60662).MISSED_STICKY,a=n(46281),s=n(36475).f,c=n(45356).get,u=RegExp.prototype,l=r.TypeError;o&&i&&s(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!c(this).sticky;throw l("Incompatible receiver, RegExp required")}}})},18193:function(e,t,n){"use strict";n(6739);var r,o,i=n(57182),a=n(80230),s=n(90584),c=n(94378),u=n(90483),l=n(96339),f=(r=!1,(o=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===o.test("abc")&&r),d=a.Error,p=c(/./.test);i({target:"RegExp",proto:!0,forced:!f},{test:function(e){var t=this.exec;if(!u(t))return p(this,e);var n=s(t,this,e);if(null!==n&&!l(n))throw new d("RegExp exec method returned something other than an Object or null");return!!n}})},85457:function(e,t,n){"use strict";var r=n(94378),o=n(72751).PROPER,i=n(15669),a=n(48786),s=n(21468),c=n(84415),u=n(75113),l=n(23592),f="toString",d=RegExp.prototype,p=d[f],h=r(l),v=u((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),g=o&&p.name!=f;(v||g)&&i(RegExp.prototype,f,(function(){var e=a(this),t=c(e.source),n=e.flags;return"/"+t+"/"+c(void 0===n&&s(d,e)&&!("flags"in d)?h(e):n)}),{unsafe:!0})},44799:function(e,t,n){"use strict";n(13355)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(49926))},32864:function(e,t,n){"use strict";var r,o=n(57182),i=n(94378),a=n(16944).f,s=n(97140),c=n(84415),u=n(44715),l=n(64267),f=n(66),d=n(21292),p=i("".endsWith),h=i("".slice),v=Math.min,g=f("endsWith");o({target:"String",proto:!0,forced:!!(d||g||(r=a(String.prototype,"endsWith"),!r||r.writable))&&!g},{endsWith:function(e){var t=c(l(this));u(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,o=void 0===n?r:v(s(n),r),i=c(e);return p?p(t,i,o):h(t,o-i.length,o)===i}})},24713:function(e,t,n){"use strict";var r=n(57182),o=n(94378),i=n(44715),a=n(64267),s=n(84415),c=n(66),u=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(s(a(this)),s(i(e)),arguments.length>1?arguments[1]:void 0)}})},3532:function(e,t,n){"use strict";var r=n(28742).charAt,o=n(84415),i=n(45356),a=n(85972),s="String Iterator",c=i.set,u=i.getterFor(s);a(String,"String",(function(e){c(this,{type:s,string:o(e),index:0})}),(function(){var e,t=u(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},29775:function(e,t,n){"use strict";var r=n(90584),o=n(51188),i=n(48786),a=n(97140),s=n(84415),c=n(64267),u=n(32023),l=n(33426),f=n(23154);o("match",(function(e,t,n){return[function(t){var n=c(this),o=null==t?void 0:u(t,e);return o?r(o,t,n):new RegExp(t)[e](s(n))},function(e){var r=i(this),o=s(e),c=n(t,r,o);if(c.done)return c.value;if(!r.global)return f(r,o);var u=r.unicode;r.lastIndex=0;for(var d,p=[],h=0;null!==(d=f(r,o));){var v=s(d[0]);p[h]=v,""===v&&(r.lastIndex=l(o,a(r.lastIndex),u)),h++}return 0===h?null:p}]}))},72673:function(e,t,n){"use strict";var r=n(19347),o=n(90584),i=n(94378),a=n(51188),s=n(75113),c=n(48786),u=n(90483),l=n(75627),f=n(97140),d=n(84415),p=n(64267),h=n(33426),v=n(32023),g=n(96496),y=n(23154),m=n(52720)("replace"),_=Math.max,b=Math.min,w=i([].concat),E=i([].push),S=i("".indexOf),O=i("".slice),I="$0"==="a".replace(/./,"$0"),R=!!/./[m]&&""===/./[m]("a","$0");a("replace",(function(e,t,n){var i=R?"$":"$0";return[function(e,n){var r=p(this),i=null==e?void 0:v(e,m);return i?o(i,e,r,n):o(t,d(r),e,n)},function(e,o){var a=c(this),s=d(e);if("string"==typeof o&&-1===S(o,i)&&-1===S(o,"$<")){var p=n(t,a,s,o);if(p.done)return p.value}var v=u(o);v||(o=d(o));var m=a.global;if(m){var I=a.unicode;a.lastIndex=0}for(var R=[];;){var C=y(a,s);if(null===C)break;if(E(R,C),!m)break;""===d(C[0])&&(a.lastIndex=h(s,f(a.lastIndex),I))}for(var T,x="",A=0,k=0;k<R.length;k++){for(var D=d((C=R[k])[0]),M=_(b(l(C.index),s.length),0),P=[],N=1;N<C.length;N++)E(P,void 0===(T=C[N])?T:String(T));var L=C.groups;if(v){var j=w([D],P,M,s);void 0!==L&&E(j,L);var U=d(r(o,void 0,j))}else U=g(D,s,M,P,L,o);M>=A&&(x+=O(s,A,M)+U,A=M+D.length)}return x+O(s,A)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!I||R)},99761:function(e,t,n){"use strict";var r=n(90584),o=n(51188),i=n(48786),a=n(64267),s=n(62909),c=n(84415),u=n(32023),l=n(23154);o("search",(function(e,t,n){return[function(t){var n=a(this),o=null==t?void 0:u(t,e);return o?r(o,t,n):new RegExp(t)[e](c(n))},function(e){var r=i(this),o=c(e),a=n(t,r,o);if(a.done)return a.value;var u=r.lastIndex;s(u,0)||(r.lastIndex=0);var f=l(r,o);return s(r.lastIndex,u)||(r.lastIndex=u),null===f?-1:f.index}]}))},17596:function(e,t,n){"use strict";var r=n(19347),o=n(90584),i=n(94378),a=n(51188),s=n(73426),c=n(48786),u=n(64267),l=n(3539),f=n(33426),d=n(97140),p=n(84415),h=n(32023),v=n(98018),g=n(23154),y=n(59663),m=n(60662),_=n(75113),b=m.UNSUPPORTED_Y,w=4294967295,E=Math.min,S=[].push,O=i(/./.exec),I=i(S),R=i("".slice),C=!_((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=p(u(this)),a=void 0===n?w:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!s(e))return o(t,i,e,a);for(var c,l,f,d=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,m=new RegExp(e.source,h+"g");(c=o(y,m,i))&&!((l=m.lastIndex)>g&&(I(d,R(i,g,c.index)),c.length>1&&c.index<i.length&&r(S,d,v(c,1)),f=c[0].length,g=l,d.length>=a));)m.lastIndex===c.index&&m.lastIndex++;return g===i.length?!f&&O(m,"")||I(d,""):I(d,R(i,g)),d.length>a?v(d,0,a):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:o(t,this,e,n)}:t,[function(t,n){var r=u(this),a=null==t?void 0:h(t,e);return a?o(a,t,r,n):o(i,p(r),t,n)},function(e,r){var o=c(this),a=p(e),s=n(i,o,a,r,i!==t);if(s.done)return s.value;var u=l(o,RegExp),h=o.unicode,v=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(b?"g":"y"),y=new u(b?"^(?:"+o.source+")":o,v),m=void 0===r?w:r>>>0;if(0===m)return[];if(0===a.length)return null===g(y,a)?[a]:[];for(var _=0,S=0,O=[];S<a.length;){y.lastIndex=b?0:S;var C,T=g(y,b?R(a,S):a);if(null===T||(C=E(d(y.lastIndex+(b?S:0)),a.length))===_)S=f(a,S,h);else{if(I(O,R(a,_,S)),O.length===m)return O;for(var x=1;x<=T.length-1;x++)if(I(O,T[x]),O.length===m)return O;S=_=C}}return I(O,R(a,_)),O}]}),!C,b)},59605:function(e,t,n){"use strict";var r,o=n(57182),i=n(94378),a=n(16944).f,s=n(97140),c=n(84415),u=n(44715),l=n(64267),f=n(66),d=n(21292),p=i("".startsWith),h=i("".slice),v=Math.min,g=f("startsWith");o({target:"String",proto:!0,forced:!!(d||g||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!g},{startsWith:function(e){var t=c(l(this));u(e);var n=s(v(arguments.length>1?arguments[1]:void 0,t.length)),r=c(e);return p?p(t,r,n):h(t,n,n+r.length)===r}})},84837:function(e,t,n){"use strict";var r=n(57182),o=n(46137).trim;r({target:"String",proto:!0,forced:n(47019)("trim")},{trim:function(){return o(this)}})},43387:function(e,t,n){"use strict";var r=n(57182),o=n(49866),i=n(80230),a=n(94378),s=n(11555),c=n(90483),u=n(21468),l=n(84415),f=n(36475).f,d=n(84e3),p=i.Symbol,h=p&&p.prototype;if(o&&c(p)&&(!("description"in h)||void 0!==p().description)){var v={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(v[t]=!0),t};d(g,p),g.prototype=h,h.constructor=g;var y="Symbol(test)"==String(p("test")),m=a(h.toString),_=a(h.valueOf),b=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),E=a("".slice);f(h,"description",{configurable:!0,get:function(){var e=_(this),t=m(e);if(s(v,e))return"";var n=y?E(t,7,-1):w(t,b,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:g})}},37569:function(e,t,n){n(44503)("iterator")},84847:function(e,t,n){"use strict";var r=n(57182),o=n(80230),i=n(5898),a=n(19347),s=n(90584),c=n(94378),u=n(21292),l=n(49866),f=n(91876),d=n(75113),p=n(11555),h=n(6313),v=n(90483),g=n(96339),y=n(21468),m=n(92728),_=n(48786),b=n(49867),w=n(99721),E=n(78129),S=n(84415),O=n(39779),I=n(94663),R=n(95707),C=n(26754),T=n(19944),x=n(47339),A=n(16944),k=n(36475),D=n(89889),M=n(90620),P=n(6629),N=n(15669),L=n(52904),j=n(27855),U=n(6698),F=n(56184),B=n(52720),q=n(21149),W=n(44503),V=n(50556),G=n(45356),H=n(20256).forEach,K=j("hidden"),Q="Symbol",Y="prototype",Z=B("toPrimitive"),z=G.set,$=G.getterFor(Q),J=Object[Y],X=o.Symbol,ee=X&&X[Y],te=o.TypeError,ne=o.QObject,re=i("JSON","stringify"),oe=A.f,ie=k.f,ae=T.f,se=M.f,ce=c([].push),ue=L("symbols"),le=L("op-symbols"),fe=L("string-to-symbol-registry"),de=L("symbol-to-string-registry"),pe=L("wks"),he=!ne||!ne[Y]||!ne[Y].findChild,ve=l&&d((function(){return 7!=I(ie({},"a",{get:function(){return ie(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=oe(J,t);r&&delete J[t],ie(e,t,n),r&&e!==J&&ie(J,t,r)}:ie,ge=function(e,t){var n=ue[e]=I(ee);return z(n,{type:Q,tag:e,description:t}),l||(n.description=t),n},ye=function(e,t,n){e===J&&ye(le,t,n),_(e);var r=E(t);return _(n),p(ue,r)?(n.enumerable?(p(e,K)&&e[K][r]&&(e[K][r]=!1),n=I(n,{enumerable:O(0,!1)})):(p(e,K)||ie(e,K,O(1,{})),e[K][r]=!0),ve(e,r,n)):ie(e,r,n)},me=function(e,t){_(e);var n=w(t),r=R(n).concat(Ee(n));return H(r,(function(t){l&&!s(_e,n,t)||ye(e,t,n[t])})),e},_e=function(e){var t=E(e),n=s(se,this,t);return!(this===J&&p(ue,t)&&!p(le,t))&&(!(n||!p(this,t)||!p(ue,t)||p(this,K)&&this[K][t])||n)},be=function(e,t){var n=w(e),r=E(t);if(n!==J||!p(ue,r)||p(le,r)){var o=oe(n,r);return!o||!p(ue,r)||p(n,K)&&n[K][r]||(o.enumerable=!0),o}},we=function(e){var t=ae(w(e)),n=[];return H(t,(function(e){p(ue,e)||p(U,e)||ce(n,e)})),n},Ee=function(e){var t=e===J,n=ae(t?le:w(e)),r=[];return H(n,(function(e){!p(ue,e)||t&&!p(J,e)||ce(r,ue[e])})),r};(f||(X=function(){if(y(ee,this))throw te("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,t=F(e),n=function(e){this===J&&s(n,le,e),p(this,K)&&p(this[K],t)&&(this[K][t]=!1),ve(this,t,O(1,e))};return l&&he&&ve(J,t,{configurable:!0,set:n}),ge(t,e)},N(ee=X[Y],"toString",(function(){return $(this).tag})),N(X,"withoutSetter",(function(e){return ge(F(e),e)})),M.f=_e,k.f=ye,D.f=me,A.f=be,C.f=T.f=we,x.f=Ee,q.f=function(e){return ge(B(e),e)},l&&(ie(ee,"description",{configurable:!0,get:function(){return $(this).description}}),u||N(J,"propertyIsEnumerable",_e,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:X}),H(R(pe),(function(e){W(e)})),r({target:Q,stat:!0,forced:!f},{for:function(e){var t=S(e);if(p(fe,t))return fe[t];var n=X(t);return fe[t]=n,de[n]=t,n},keyFor:function(e){if(!m(e))throw te(e+" is not a symbol");if(p(de,e))return de[e]},useSetter:function(){he=!0},useSimple:function(){he=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!l},{create:function(e,t){return void 0===t?I(e):me(I(e),t)},defineProperty:ye,defineProperties:me,getOwnPropertyDescriptor:be}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:we,getOwnPropertySymbols:Ee}),r({target:"Object",stat:!0,forced:d((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(b(e))}}),re)&&r({target:"JSON",stat:!0,forced:!f||d((function(){var e=X();return"[null]"!=re([e])||"{}"!=re({a:e})||"{}"!=re(Object(e))}))},{stringify:function(e,t,n){var r=P(arguments),o=t;if((g(t)||void 0!==e)&&!m(e))return h(t)||(t=function(e,t){if(v(o)&&(t=s(o,this,e,t)),!m(t))return t}),r[1]=t,a(re,null,r)}});if(!ee[Z]){var Se=ee.valueOf;N(ee,Z,(function(e){return s(Se,this)}))}V(X,Q),U[K]=!0},44837:function(e,t,n){"use strict";var r=n(94378),o=n(85339),i=r(n(25)),a=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",(function(e,t){return i(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},61457:function(e,t,n){"use strict";var r=n(85339),o=n(20256).every,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},46133:function(e,t,n){"use strict";var r=n(85339),o=n(90584),i=n(47062),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(e){var t=arguments.length;return o(i,a(this),e,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}))},87514:function(e,t,n){"use strict";var r=n(85339),o=n(20256).filter,i=n(90503),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=o(a(this),e,arguments.length>1?arguments[1]:void 0);return i(this,t)}))},74619:function(e,t,n){"use strict";var r=n(85339),o=n(20256).findIndex,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},92499:function(e,t,n){"use strict";var r=n(85339),o=n(20256).find,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},47406:function(e,t,n){"use strict";var r=n(85339),o=n(20256).forEach,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},11150:function(e,t,n){"use strict";var r=n(85339),o=n(15949).includes,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},59936:function(e,t,n){"use strict";var r=n(85339),o=n(15949).indexOf,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},51434:function(e,t,n){"use strict";var r=n(80230),o=n(75113),i=n(94378),a=n(85339),s=n(53775),c=n(52720)("iterator"),u=r.Uint8Array,l=i(s.values),f=i(s.keys),d=i(s.entries),p=a.aTypedArray,h=a.exportTypedArrayMethod,v=u&&u.prototype,g=!o((function(){v[c].call([1])})),y=!!v&&v.values&&v[c]===v.values&&"values"===v.values.name,m=function(){return l(p(this))};h("entries",(function(){return d(p(this))}),g),h("keys",(function(){return f(p(this))}),g),h("values",m,g||!y,{name:"values"}),h(c,m,g||!y,{name:"values"})},99931:function(e,t,n){"use strict";var r=n(85339),o=n(94378),i=r.aTypedArray,a=r.exportTypedArrayMethod,s=o([].join);a("join",(function(e){return s(i(this),e)}))},31904:function(e,t,n){"use strict";var r=n(85339),o=n(19347),i=n(46342),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return o(i,a(this),t>1?[e,arguments[1]]:[e])}))},36986:function(e,t,n){"use strict";var r=n(85339),o=n(20256).map,i=n(21075),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(i(e))(t)}))}))},48362:function(e,t,n){"use strict";var r=n(85339),o=n(89565).right,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return o(i(this),e,t,t>1?arguments[1]:void 0)}))},25128:function(e,t,n){"use strict";var r=n(85339),o=n(89565).left,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return o(i(this),e,t,t>1?arguments[1]:void 0)}))},64104:function(e,t,n){"use strict";var r=n(85339),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){for(var e,t=this,n=o(t).length,r=a(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t}))},47711:function(e,t,n){"use strict";var r=n(80230),o=n(90584),i=n(85339),a=n(61540),s=n(21809),c=n(49867),u=n(75113),l=r.RangeError,f=r.Int8Array,d=f&&f.prototype,p=d&&d.set,h=i.aTypedArray,v=i.exportTypedArrayMethod,g=!u((function(){var e=new Uint8ClampedArray(2);return o(p,e,{length:1,0:3},1),3!==e[1]})),y=g&&i.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));v("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=c(e);if(g)return o(p,this,n,t);var r=this.length,i=a(n),u=0;if(i+t>r)throw l("Wrong length");for(;u<i;)this[t+u]=n[u++]}),!g||y)},17527:function(e,t,n){"use strict";var r=n(85339),o=n(21075),i=n(75113),a=n(6629),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=a(s(this),e,t),r=o(this),i=0,c=n.length,u=new r(c);c>i;)u[i]=n[i++];return u}),i((function(){new Int8Array(1).slice()})))},74769:function(e,t,n){"use strict";var r=n(85339),o=n(20256).some,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},76536:function(e,t,n){"use strict";var r=n(80230),o=n(94378),i=n(75113),a=n(81096),s=n(36514),c=n(85339),u=n(23944),l=n(38662),f=n(70582),d=n(67020),p=r.Array,h=c.aTypedArray,v=c.exportTypedArrayMethod,g=r.Uint16Array,y=g&&o(g.prototype.sort),m=!(!y||i((function(){y(new g(2),null)}))&&i((function(){y(new g(2),{})}))),_=!!y&&!i((function(){if(f)return f<74;if(u)return u<67;if(l)return!0;if(d)return d<602;var e,t,n=new g(516),r=p(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(y(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));v("sort",(function(e){return void 0!==e&&a(e),_?y(this,e):s(h(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!_||m)},15815:function(e,t,n){"use strict";var r=n(85339),o=n(97140),i=n(99047),a=n(21075),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),r=n.length,c=i(e,r);return new(a(n))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===t?r:i(t,r))-c))}))},46836:function(e,t,n){"use strict";var r=n(80230),o=n(19347),i=n(85339),a=n(75113),s=n(6629),c=r.Int8Array,u=i.aTypedArray,l=i.exportTypedArrayMethod,f=[].toLocaleString,d=!!c&&a((function(){f.call(new c(1))}));l("toLocaleString",(function(){return o(f,d?s(u(this)):u(this),s(arguments))}),a((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!a((function(){c.prototype.toLocaleString.call([1,2])})))},68132:function(e,t,n){"use strict";var r=n(85339).exportTypedArrayMethod,o=n(75113),i=n(80230),a=n(94378),s=i.Uint8Array,c=s&&s.prototype||{},u=[].toString,l=a([].join);o((function(){u.call({})}))&&(u=function(){return l(this)});var f=c.toString!=u;r("toString",u,f)},51716:function(e,t,n){n(94235)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},88638:function(e,t,n){n(74832)},79246:function(e,t,n){var r=n(57182),o=n(5898),i=n(94378),a=n(75113),s=n(84415),c=n(12653),u=n(28461).itoc,l=o("btoa"),f=i("".charAt),d=i("".charCodeAt),p=!!l&&!a((function(){l()}));r({global:!0,enumerable:!0,forced:p},{btoa:function(e){if(c(arguments.length,1),p)return l(e);for(var t,n,r=s(e),i="",a=0,h=u;f(r,a)||(h="=",a%1);){if((n=d(r,a+=3/4))>255)throw new(o("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");i+=f(h,63&(t=t<<8|n)>>8-a%1*8)}return i}})},20260:function(e,t,n){var r=n(80230),o=n(40547),i=n(22973),a=n(48097),s=n(72551),c=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var u in o)o[u]&&c(r[u]&&r[u].prototype);c(i)},98165:function(e,t,n){var r=n(80230),o=n(40547),i=n(22973),a=n(53775),s=n(72551),c=n(52720),u=c("iterator"),l=c("toStringTag"),f=a.values,d=function(e,t){if(e){if(e[u]!==f)try{s(e,u,f)}catch(r){e[u]=f}if(e[l]||s(e,l,t),o[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(r){e[n]=a[n]}}};for(var p in o)d(r[p]&&r[p].prototype,p);d(i,"DOMTokenList")},12916:function(e,t,n){"use strict";var r=n(57182),o=n(40992),i=n(5898),a=n(75113),s=n(94663),c=n(39779),u=n(36475).f,l=n(89889).f,f=n(15669),d=n(11555),p=n(39619),h=n(48786),v=n(35971),g=n(872),y=n(91626),m=n(14328),_=n(45356),b=n(49866),w=n(21292),E="DOMException",S="DATA_CLONE_ERR",O=i("Error"),I=i(E)||function(){try{(new(i("MessageChannel")||o("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name==S&&25==e.code)return e.constructor}}(),R=I&&I.prototype,C=O.prototype,T=_.set,x=_.getterFor(E),A="stack"in O(E),k=function(e){return d(y,e)&&y[e].m?y[e].c:0},D=function(){p(this,M);var e=arguments.length,t=g(e<1?void 0:arguments[0]),n=g(e<2?void 0:arguments[1],"Error"),r=k(n);if(T(this,{type:E,name:n,message:t,code:r}),b||(this.name=n,this.message=t,this.code=r),A){var o=O(t);o.name=E,u(this,"stack",c(1,m(o.stack,1)))}},M=D.prototype=s(C),P=function(e){return{enumerable:!0,configurable:!0,get:e}},N=function(e){return P((function(){return x(this)[e]}))};b&&l(M,{name:N("name"),message:N("message"),code:N("code")}),u(M,"constructor",c(1,D));var L=a((function(){return!(new I instanceof O)})),j=L||a((function(){return C.toString!==v||"2: 1"!==String(new I(1,2))})),U=L||a((function(){return 25!==new I(1,"DataCloneError").code})),F=L||25!==I[S]||25!==R[S],B=w?j||U||F:L;r({global:!0,forced:B},{DOMException:B?D:I});var q=i(E),W=q.prototype;for(var V in j&&(w||I===q)&&f(W,"toString",v),U&&b&&I===q&&u(W,"code",P((function(){return k(h(this).name)}))),y)if(d(y,V)){var G=y[V],H=G.s,K=c(6,G.c);d(q,H)||u(q,H,K),d(W,H)||u(W,H,K)}},96570:function(e,t,n){"use strict";var r=n(57182),o=n(5898),i=n(39779),a=n(36475).f,s=n(11555),c=n(39619),u=n(69361),l=n(872),f=n(91626),d=n(14328),p=n(21292),h="DOMException",v=o("Error"),g=o(h),y=function(){c(this,m);var e=arguments.length,t=l(e<1?void 0:arguments[0]),n=l(e<2?void 0:arguments[1],"Error"),r=new g(t,n),o=v(t);return o.name=h,a(r,"stack",i(1,d(o.stack,1))),u(r,this,y),r},m=y.prototype=g.prototype,_="stack"in v(h),b="stack"in new g(1,2),w=_&&!b;r({global:!0,forced:p||w},{DOMException:w?y:g});var E=o(h),S=E.prototype;if(S.constructor!==E)for(var O in p||a(S,"constructor",i(1,E)),f)if(s(f,O)){var I=f[O],R=I.s;s(E,R)||a(E,R,i(6,I.c))}},67892:function(e,t,n){var r=n(5898),o="DOMException";n(50556)(r(o),o)},45134:function(e,t,n){var r=n(57182),o=n(80230),i=n(19347),a=n(90483),s=n(44993),c=n(6629),u=n(12653),l=/MSIE .\./.test(s),f=o.Function,d=function(e){return function(t,n){var r=u(arguments.length,1)>2,o=a(t)?t:f(t),s=r?c(arguments,2):void 0;return e(r?function(){i(o,this,s)}:o,n)}};r({global:!0,bind:!0,forced:l},{setTimeout:d(o.setTimeout),setInterval:d(o.setInterval)})},51065:function(e,t,n){"use strict";n(53775);var r=n(57182),o=n(80230),i=n(5898),a=n(90584),s=n(94378),c=n(74806),u=n(15669),l=n(27473),f=n(50556),d=n(38304),p=n(45356),h=n(39619),v=n(90483),g=n(11555),y=n(46207),m=n(92358),_=n(48786),b=n(96339),w=n(84415),E=n(94663),S=n(39779),O=n(10869),I=n(69566),R=n(12653),C=n(52720),T=n(36514),x=C("iterator"),A="URLSearchParams",k=A+"Iterator",D=p.set,M=p.getterFor(A),P=p.getterFor(k),N=i("fetch"),L=i("Request"),j=i("Headers"),U=L&&L.prototype,F=j&&j.prototype,B=o.RegExp,q=o.TypeError,W=o.decodeURIComponent,V=o.encodeURIComponent,G=s("".charAt),H=s([].join),K=s([].push),Q=s("".replace),Y=s([].shift),Z=s([].splice),z=s("".split),$=s("".slice),J=/\+/g,X=Array(4),ee=function(e){return X[e-1]||(X[e-1]=B("((?:%[\\da-f]{2}){"+e+"})","gi"))},te=function(e){try{return W(e)}catch(t){return e}},ne=function(e){var t=Q(e,J," "),n=4;try{return W(t)}catch(r){for(;n;)t=Q(t,ee(n--),te);return t}},re=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ie=function(e){return oe[e]},ae=function(e){return Q(V(e),re,ie)},se=d((function(e,t){D(this,{type:k,iterator:O(M(e).entries),kind:t})}),"Iterator",(function(){var e=P(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),ce=function(e){this.entries=[],this.url=null,void 0!==e&&(b(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?$(e,1):e:w(e)))};ce.prototype={type:A,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,i,s,c,u=I(e);if(u)for(n=(t=O(e,u)).next;!(r=a(n,t)).done;){if(i=(o=O(_(r.value))).next,(s=a(i,o)).done||(c=a(i,o)).done||!a(i,o).done)throw q("Expected sequence with length 2");K(this.entries,{key:w(s.value),value:w(c.value)})}else for(var l in e)g(e,l)&&K(this.entries,{key:l,value:w(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=z(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(n=z(t,"="),K(this.entries,{key:ne(Y(n)),value:ne(H(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],K(n,ae(e.key)+"="+ae(e.value));return H(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ue=function(){h(this,le),D(this,new ce(arguments.length>0?arguments[0]:void 0))},le=ue.prototype;if(l(le,{append:function(e,t){R(arguments.length,2);var n=M(this);K(n.entries,{key:w(e),value:w(t)}),n.updateURL()},delete:function(e){R(arguments.length,1);for(var t=M(this),n=t.entries,r=w(e),o=0;o<n.length;)n[o].key===r?Z(n,o,1):o++;t.updateURL()},get:function(e){R(arguments.length,1);for(var t=M(this).entries,n=w(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){R(arguments.length,1);for(var t=M(this).entries,n=w(e),r=[],o=0;o<t.length;o++)t[o].key===n&&K(r,t[o].value);return r},has:function(e){R(arguments.length,1);for(var t=M(this).entries,n=w(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){R(arguments.length,1);for(var n,r=M(this),o=r.entries,i=!1,a=w(e),s=w(t),c=0;c<o.length;c++)(n=o[c]).key===a&&(i?Z(o,c--,1):(i=!0,n.value=s));i||K(o,{key:a,value:s}),r.updateURL()},sort:function(){var e=M(this);T(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=M(this).entries,r=y(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new se(this,"keys")},values:function(){return new se(this,"values")},entries:function(){return new se(this,"entries")}},{enumerable:!0}),u(le,x,le.entries,{name:"entries"}),u(le,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),f(ue,A),r({global:!0,forced:!c},{URLSearchParams:ue}),!c&&v(j)){var fe=s(F.has),de=s(F.set),pe=function(e){if(b(e)){var t,n=e.body;if(m(n)===A)return t=e.headers?new j(e.headers):new j,fe(t,"content-type")||de(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(e,{body:S(0,w(n)),headers:S(0,t)})}return e};if(v(N)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return N(e,arguments.length>1?pe(arguments[1]):{})}}),v(L)){var he=function(e){return h(this,U),new L(e,arguments.length>1?pe(arguments[1]):{})};U.constructor=he,he.prototype=U,r({global:!0,forced:!0},{Request:he})}}e.exports={URLSearchParams:ue,getState:M}},15989:function(e,t,n){"use strict";n(3532);var r,o=n(57182),i=n(49866),a=n(74806),s=n(80230),c=n(46207),u=n(94378),l=n(89889).f,f=n(15669),d=n(39619),p=n(11555),h=n(46346),v=n(43066),g=n(98018),y=n(28742).codeAt,m=n(43610),_=n(84415),b=n(50556),w=n(12653),E=n(51065),S=n(45356),O=S.set,I=S.getterFor("URL"),R=E.URLSearchParams,C=E.getState,T=s.URL,x=s.TypeError,A=s.parseInt,k=Math.floor,D=Math.pow,M=u("".charAt),P=u(/./.exec),N=u([].join),L=u(1..toString),j=u([].pop),U=u([].push),F=u("".replace),B=u([].shift),q=u("".split),W=u("".slice),V=u("".toLowerCase),G=u([].unshift),H="Invalid scheme",K="Invalid host",Q="Invalid port",Y=/[a-z]/i,Z=/[\d+-.a-z]/i,z=/\d/,$=/^0x/i,J=/^[0-7]+$/,X=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,oe=/[\t\n\r]/g,ie=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)G(t,e%256),e=k(e/256);return N(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=L(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},se=h({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=h({},se,{"#":1,"?":1,"{":1,"}":1}),ue=h({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var n=y(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&P(Y,M(e,0))&&(":"==(n=M(e,1))||!t&&"|"==n)},pe=function(e){var t;return e.length>1&&de(W(e,0,2))&&(2==e.length||"/"===(t=M(e,2))||"\\"===t||"?"===t||"#"===t)},he=function(e){return"."===e||"%2e"===V(e)},ve={},ge={},ye={},me={},_e={},be={},we={},Ee={},Se={},Oe={},Ie={},Re={},Ce={},Te={},xe={},Ae={},ke={},De={},Me={},Pe={},Ne={},Le=function(e,t,n){var r,o,i,a=_(e);if(t){if(o=this.parse(a))throw x(o);this.searchParams=null}else{if(void 0!==n&&(r=new Le(n,!0)),o=this.parse(a,null,r))throw x(o);(i=C(new R)).bindURL(this),this.searchParams=i}};Le.prototype={type:"URL",parse:function(e,t,n){var o,i,a,s,c,u=this,l=t||ve,f=0,d="",h=!1,y=!1,m=!1;for(e=_(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=F(e,re,"")),e=F(e,oe,""),o=v(e);f<=o.length;){switch(i=o[f],l){case ve:if(!i||!P(Y,i)){if(t)return H;l=ye;continue}d+=V(i),l=ge;break;case ge:if(i&&(P(Z,i)||"+"==i||"-"==i||"."==i))d+=V(i);else{if(":"!=i){if(t)return H;d="",l=ye,f=0;continue}if(t&&(u.isSpecial()!=p(fe,d)||"file"==d&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=d,t)return void(u.isSpecial()&&fe[u.scheme]==u.port&&(u.port=null));d="","file"==u.scheme?l=Te:u.isSpecial()&&n&&n.scheme==u.scheme?l=me:u.isSpecial()?l=Ee:"/"==o[f+1]?(l=_e,f++):(u.cannotBeABaseURL=!0,U(u.path,""),l=Me)}break;case ye:if(!n||n.cannotBeABaseURL&&"#"!=i)return H;if(n.cannotBeABaseURL&&"#"==i){u.scheme=n.scheme,u.path=g(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,l=Ne;break}l="file"==n.scheme?Te:be;continue;case me:if("/"!=i||"/"!=o[f+1]){l=be;continue}l=Se,f++;break;case _e:if("/"==i){l=Oe;break}l=De;continue;case be:if(u.scheme=n.scheme,i==r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query=n.query;else if("/"==i||"\\"==i&&u.isSpecial())l=we;else if("?"==i)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query="",l=Pe;else{if("#"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.path.length--,l=De;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query=n.query,u.fragment="",l=Ne}break;case we:if(!u.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,l=De;continue}l=Oe}else l=Se;break;case Ee:if(l=Se,"/"!=i||"/"!=M(d,f+1))continue;f++;break;case Se:if("/"!=i&&"\\"!=i){l=Oe;continue}break;case Oe:if("@"==i){h&&(d="%40"+d),h=!0,a=v(d);for(var b=0;b<a.length;b++){var w=a[b];if(":"!=w||m){var E=le(w,ue);m?u.password+=E:u.username+=E}else m=!0}d=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(h&&""==d)return"Invalid authority";f-=v(d).length+1,d="",l=Ie}else d+=i;break;case Ie:case Re:if(t&&"file"==u.scheme){l=Ae;continue}if(":"!=i||y){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(u.isSpecial()&&""==d)return K;if(t&&""==d&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(d))return s;if(d="",l=ke,t)return;continue}"["==i?y=!0:"]"==i&&(y=!1),d+=i}else{if(""==d)return K;if(s=u.parseHost(d))return s;if(d="",l=Ce,t==Re)return}break;case Ce:if(!P(z,i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()||t){if(""!=d){var S=A(d,10);if(S>65535)return Q;u.port=u.isSpecial()&&S===fe[u.scheme]?null:S,d=""}if(t)return;l=ke;continue}return Q}d+=i;break;case Te:if(u.scheme="file","/"==i||"\\"==i)l=xe;else{if(!n||"file"!=n.scheme){l=De;continue}if(i==r)u.host=n.host,u.path=g(n.path),u.query=n.query;else if("?"==i)u.host=n.host,u.path=g(n.path),u.query="",l=Pe;else{if("#"!=i){pe(N(g(o,f),""))||(u.host=n.host,u.path=g(n.path),u.shortenPath()),l=De;continue}u.host=n.host,u.path=g(n.path),u.query=n.query,u.fragment="",l=Ne}}break;case xe:if("/"==i||"\\"==i){l=Ae;break}n&&"file"==n.scheme&&!pe(N(g(o,f),""))&&(de(n.path[0],!0)?U(u.path,n.path[0]):u.host=n.host),l=De;continue;case Ae:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&de(d))l=De;else if(""==d){if(u.host="",t)return;l=ke}else{if(s=u.parseHost(d))return s;if("localhost"==u.host&&(u.host=""),t)return;d="",l=ke}continue}d+=i;break;case ke:if(u.isSpecial()){if(l=De,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=r&&(l=De,"/"!=i))continue}else u.fragment="",l=Ne;else u.query="",l=Pe;break;case De:if(i==r||"/"==i||"\\"==i&&u.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(c=V(c=d))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"==i||"\\"==i&&u.isSpecial()||U(u.path,"")):he(d)?"/"==i||"\\"==i&&u.isSpecial()||U(u.path,""):("file"==u.scheme&&!u.path.length&&de(d)&&(u.host&&(u.host=""),d=M(d,0)+":"),U(u.path,d)),d="","file"==u.scheme&&(i==r||"?"==i||"#"==i))for(;u.path.length>1&&""===u.path[0];)B(u.path);"?"==i?(u.query="",l=Pe):"#"==i&&(u.fragment="",l=Ne)}else d+=le(i,ce);break;case Me:"?"==i?(u.query="",l=Pe):"#"==i?(u.fragment="",l=Ne):i!=r&&(u.path[0]+=le(i,ae));break;case Pe:t||"#"!=i?i!=r&&("'"==i&&u.isSpecial()?u.query+="%27":u.query+="#"==i?"%23":le(i,ae)):(u.fragment="",l=Ne);break;case Ne:i!=r&&(u.fragment+=le(i,se))}f++}},parseHost:function(e){var t,n,r;if("["==M(e,0)){if("]"!=M(e,e.length-1))return K;if(t=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,d=function(){return M(e,f)};if(":"==d()){if(":"!=M(e,1))return;f+=2,l=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=n=0;n<4&&P(ee,d());)t=16*t+A(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,u>6)return;for(r=0;d();){if(o=null,r>0){if(!("."==d()&&r<4))return;f++}if(!P(z,d()))return;for(;P(z,d());){if(i=A(d(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;c[u++]=t}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(W(e,1,-1)),!t)return K;this.host=t}else if(this.isSpecial()){if(e=m(e),P(te,e))return K;if(t=function(e){var t,n,r,o,i,a,s,c=q(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==M(o,0)&&(i=P($,o)?16:8,o=W(o,8==i?1:2)),""===o)a=0;else{if(!P(10==i?X:8==i?J:ee,o))return e;a=A(o,i)}U(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=D(256,5-t))return null}else if(a>255)return null;for(s=j(n),r=0;r<n.length;r++)s+=n[r]*D(256,3-r);return s}(e),null===t)return K;this.host=t}else{if(P(ne,e))return K;for(t="",n=v(e),r=0;r<n.length;r++)t+=le(n[r],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=ie(o),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+N(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw x(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new je(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ie(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(_(e)+":",ve)},getUsername:function(){return this.username},setUsername:function(e){var t=v(_(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=le(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=v(_(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=le(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ie(e):ie(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ie)},getHostname:function(){var e=this.host;return null===e?"":ie(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getPort:function(){var e=this.port;return null===e?"":_(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=_(e))?this.port=null:this.parse(e,Ce))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+N(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,ke))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=_(e))?this.query=null:("?"==M(e,0)&&(e=W(e,1)),this.query="",this.parse(e,Pe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=_(e))?("#"==M(e,0)&&(e=W(e,1)),this.fragment="",this.parse(e,Ne)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var je=function(e){var t=d(this,Ue),n=w(arguments.length,1)>1?arguments[1]:void 0,r=O(t,new Le(e,!1,n));i||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ue=je.prototype,Fe=function(e,t){return{get:function(){return I(this)[e]()},set:t&&function(e){return I(this)[t](e)},configurable:!0,enumerable:!0}};if(i&&l(Ue,{href:Fe("serialize","setHref"),origin:Fe("getOrigin"),protocol:Fe("getProtocol","setProtocol"),username:Fe("getUsername","setUsername"),password:Fe("getPassword","setPassword"),host:Fe("getHost","setHost"),hostname:Fe("getHostname","setHostname"),port:Fe("getPort","setPort"),pathname:Fe("getPathname","setPathname"),search:Fe("getSearch","setSearch"),searchParams:Fe("getSearchParams"),hash:Fe("getHash","setHash")}),f(Ue,"toJSON",(function(){return I(this).serialize()}),{enumerable:!0}),f(Ue,"toString",(function(){return I(this).serialize()}),{enumerable:!0}),T){var Be=T.createObjectURL,qe=T.revokeObjectURL;Be&&f(je,"createObjectURL",c(Be,T)),qe&&f(je,"revokeObjectURL",c(qe,T))}b(je,"URL"),o({global:!0,forced:!a,sham:!i},{URL:je})},78750:function(e,t,n){"use strict";var r=n(11850);n(64627),e.exports=r},13664:function(e,t,n){"use strict";n(21342),n(44562)},76712:function(e,t,n){"use strict";n(1988),n(47661),n(86387),n(16802),n(66133),n(65389),n(52249),n(95174);var r=n(44948);e.exports=r.Promise},16786:function(e,t,n){"use strict";var r=n(4561),o=n(82572),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},3964:function(e,t,n){"use strict";var r=n(78448),o=n(82572),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a constructor")}},5889:function(e,t,n){"use strict";var r=n(4561),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},3019:function(e,t,n){"use strict";var r=n(87864),o=n(50563),i=n(64604).f,a=r("unscopables"),s=Array.prototype;null==s[a]&&i(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},63862:function(e,t,n){"use strict";var r=n(91531).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},48127:function(e,t,n){"use strict";var r=n(82738),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw o("Incorrect invocation")}},52052:function(e,t,n){"use strict";var r=n(70652),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not an object")}},91850:function(e,t,n){"use strict";var r=n(72652);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},59973:function(e,t,n){"use strict";var r=n(82881).forEach,o=n(33978)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},35962:function(e,t,n){"use strict";var r=n(50222),o=n(8110),i=n(55202),a=function(e){return function(t,n,a){var s,c=r(t),u=i(c),l=o(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},82881:function(e,t,n){"use strict";var r=n(53757),o=n(9021),i=n(19558),a=n(67974),s=n(55202),c=n(9644),u=o([].push),l=function(e){var t=1==e,n=2==e,o=3==e,l=4==e,f=6==e,d=7==e,p=5==e||f;return function(h,v,g,y){for(var m,_,b=a(h),w=i(b),E=r(v,g),S=s(w),O=0,I=y||c,R=t?I(h,S):n||d?I(h,0):void 0;S>O;O++)if((p||O in w)&&(_=E(m=w[O],O,b),e))if(t)R[O]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return O;case 2:u(R,m)}else switch(e){case 4:return!1;case 7:u(R,m)}return f?-1:o||l?l:R}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},10209:function(e,t,n){"use strict";var r=n(89406),o=n(50222),i=n(22687),a=n(55202),s=n(33978),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),d=l||!f;e.exports=d?function(e){if(l)return r(u,this,arguments)||0;var t=o(this),n=a(t),s=n-1;for(arguments.length>1&&(s=c(s,i(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:u},86965:function(e,t,n){"use strict";var r=n(72652),o=n(87864),i=n(72785),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},33978:function(e,t,n){"use strict";var r=n(72652);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},31166:function(e,t,n){"use strict";var r=n(16786),o=n(67974),i=n(19558),a=n(55202),s=TypeError,c=function(e){return function(t,n,c,u){r(n);var l=o(t),f=i(l),d=a(l),p=e?d-1:0,h=e?-1:1;if(c<2)for(;;){if(p in f){u=f[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw s("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=h)p in f&&(u=n(u,f[p],p,l));return u}};e.exports={left:c(!1),right:c(!0)}},69308:function(e,t,n){"use strict";var r=n(8110),o=n(55202),i=n(26004),a=Array,s=Math.max;e.exports=function(e,t,n){for(var c=o(e),u=r(t,c),l=r(void 0===n?c:n,c),f=a(s(l-u,0)),d=0;u<l;u++,d++)i(f,d,e[u]);return f.length=d,f}},39364:function(e,t,n){"use strict";var r=n(9021);e.exports=r([].slice)},86735:function(e,t,n){"use strict";var r=n(4897),o=n(78448),i=n(70652),a=n(87864)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(o(t)&&(t===s||r(t.prototype))||i(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},9644:function(e,t,n){"use strict";var r=n(86735);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},2307:function(e,t,n){"use strict";var r=n(87864)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(s){}return n}},75824:function(e,t,n){"use strict";var r=n(9021),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},74296:function(e,t,n){"use strict";var r=n(86136),o=n(4561),i=n(75824),a=n(87864)("toStringTag"),s=Object,c="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),a))?n:c?i(t):"Object"==(r=i(t))&&o(t.callee)?"Arguments":r}},26864:function(e,t,n){"use strict";var r=n(50563),o=n(45769),i=n(88963),a=n(53757),s=n(48127),c=n(52746),u=n(70671),l=n(11045),f=n(17009),d=n(84671),p=n(86118),h=n(51005).fastKey,v=n(7982),g=v.set,y=v.getterFor;e.exports={getConstructor:function(e,t,n,l){var f=e((function(e,o){s(e,d),g(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),p||(e.size=0),c(o)||u(o,e[l],{that:e,AS_ENTRIES:n})})),d=f.prototype,v=y(t),m=function(e,t,n){var r,o,i=v(e),a=_(e,t);return a?a.value=n:(i.last=a={index:o=h(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),p?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},_=function(e,t){var n,r=v(e),o=h(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(d,{clear:function(){for(var e=v(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=this,n=v(t),r=_(t,e);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),p?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=v(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!_(this,e)}}),i(d,n?{get:function(e){var t=_(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),p&&o(d,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(e,t,n){var r=t+" Iterator",o=y(t),i=y(r);l(e,t,(function(e,t){g(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?f("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),d(t)}}},51660:function(e,t,n){"use strict";var r=n(37483),o=n(44562),i=n(9021),a=n(77570),s=n(34339),c=n(51005),u=n(70671),l=n(48127),f=n(4561),d=n(52746),p=n(70652),h=n(72652),v=n(2307),g=n(18747),y=n(97340);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),_=-1!==e.indexOf("Weak"),b=m?"set":"add",w=o[e],E=w&&w.prototype,S=w,O={},I=function(e){var t=i(E[e]);s(E,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(_&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return _&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!p(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!f(w)||!(_||E.forEach&&!h((function(){(new w).entries().next()})))))S=n.getConstructor(t,e,m,b),c.enable();else if(a(e,!0)){var R=new S,C=R[b](_?{}:-0,1)!=R,T=h((function(){R.has(1)})),x=v((function(e){new w(e)})),A=!_&&h((function(){for(var e=new w,t=5;t--;)e[b](t,t);return!e.has(-0)}));x||((S=t((function(e,t){l(e,E);var n=y(new w,e,S);return d(t)||u(t,n[b],{that:n,AS_ENTRIES:m}),n}))).prototype=E,E.constructor=S),(T||A)&&(I("delete"),I("has"),m&&I("get")),(A||C)&&I(b),_&&E.clear&&delete E.clear}return O[e]=S,r({global:!0,constructor:!0,forced:S!=w},O),g(S,e),_||n.setStrong(S,e,m),S}},5642:function(e,t,n){"use strict";var r=n(23526),o=n(45405),i=n(12400),a=n(64604);e.exports=function(e,t,n){for(var s=o(t),c=a.f,u=i.f,l=0;l<s.length;l++){var f=s[l];r(e,f)||n&&r(n,f)||c(e,f,u(t,f))}}},79722:function(e,t,n){"use strict";var r=n(87864)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},5345:function(e,t,n){"use strict";var r=n(72652);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},17009:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},2762:function(e,t,n){"use strict";var r=n(86118),o=n(64604),i=n(82656);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},82656:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},26004:function(e,t,n){"use strict";var r=n(47969),o=n(64604),i=n(82656);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},45769:function(e,t,n){"use strict";var r=n(16581),o=n(64604);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},34339:function(e,t,n){"use strict";var r=n(4561),o=n(64604),i=n(16581),a=n(35724);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:t;if(r(n)&&i(n,u,s),s.global)c?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(l){}c?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},88963:function(e,t,n){"use strict";var r=n(34339);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},35724:function(e,t,n){"use strict";var r=n(44562),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},86118:function(e,t,n){"use strict";var r=n(72652);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},31961:function(e){"use strict";var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},23901:function(e,t,n){"use strict";var r=n(44562),o=n(70652),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},98650:function(e){"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},91559:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},48055:function(e,t,n){"use strict";var r=n(23901)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},20416:function(e,t,n){"use strict";var r=n(29855),o=n(70360);e.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},3359:function(e){"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},29855:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},90517:function(e,t,n){"use strict";var r=n(6197);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},23167:function(e,t,n){"use strict";var r=n(6197);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},70360:function(e,t,n){"use strict";var r=n(75824);e.exports="undefined"!=typeof process&&"process"==r(process)},29431:function(e,t,n){"use strict";var r=n(6197);e.exports=/web0s(?!.*chrome)/i.test(r)},6197:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},72785:function(e,t,n){"use strict";var r,o,i=n(44562),a=n(6197),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},4990:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},13674:function(e,t,n){"use strict";var r=n(9021),o=Error,i=r("".replace),a=String(o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=i(e,s,"");return e}},38143:function(e,t,n){"use strict";var r=n(2762),o=n(13674),i=n(80938),a=Error.captureStackTrace;e.exports=function(e,t,n,s){i&&(a?a(e,t):r(e,"stack",o(n,s)))}},80938:function(e,t,n){"use strict";var r=n(72652),o=n(82656);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},35042:function(e,t,n){"use strict";var r=n(86118),o=n(72652),i=n(52052),a=n(50563),s=n(31034),c=Error.prototype.toString,u=o((function(){if(r){var e=a(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==c.call(e))return!0}return"2: 1"!==c.call({message:1,name:2})||"Error"!==c.call({})}));e.exports=u?function(){var e=i(this),t=s(e.name,"Error"),n=s(e.message);return t?n?t+": "+n:t:n}:c},37483:function(e,t,n){"use strict";var r=n(44562),o=n(12400).f,i=n(2762),a=n(34339),s=n(35724),c=n(5642),u=n(77570);e.exports=function(e,t){var n,l,f,d,p,h=e.target,v=e.global,g=e.stat;if(n=v?r:g?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.dontCallGetSet?(p=o(n,l))&&p.value:n[l],!u(v?l:h+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,e)}}},72652:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},77422:function(e,t,n){"use strict";n(14253);var r=n(46081),o=n(34339),i=n(77148),a=n(72652),s=n(87864),c=n(2762),u=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var d=s(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!h||n){var v=r(/./[d]),g=t(d,""[e],(function(e,t,n,o,a){var s=r(e),c=t.exec;return c===i||c===l.exec?p&&!a?{done:!0,value:v(t,n,o)}:{done:!0,value:s(n,t,o)}:{done:!1}}));o(String.prototype,e,g[0]),o(l,d,g[1])}f&&c(l[d],"sham",!0)}},26928:function(e,t,n){"use strict";var r=n(72652);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},89406:function(e,t,n){"use strict";var r=n(67253),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},53757:function(e,t,n){"use strict";var r=n(46081),o=n(16786),i=n(67253),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},67253:function(e,t,n){"use strict";var r=n(72652);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},26684:function(e,t,n){"use strict";var r=n(9021),o=n(16786),i=n(70652),a=n(23526),s=n(39364),c=n(67253),u=Function,l=r([].concat),f=r([].join),d={};e.exports=c?u.bind:function(e){var t=o(this),n=t.prototype,r=s(arguments,1),c=function(){var n=l(r,s(arguments));return this instanceof c?function(e,t,n){if(!a(d,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";d[t]=u("C,a","return new C("+f(r,",")+")")}return d[t](e,n)}(t,n.length,n):t.apply(e,n)};return i(n)&&(c.prototype=n),c}},78161:function(e,t,n){"use strict";var r=n(67253),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},69804:function(e,t,n){"use strict";var r=n(86118),o=n(23526),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},77786:function(e,t,n){"use strict";var r=n(9021),o=n(16786);e.exports=function(e,t,n){try{return r(o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(i){}}},46081:function(e,t,n){"use strict";var r=n(75824),o=n(9021);e.exports=function(e){if("Function"===r(e))return o(e)}},9021:function(e,t,n){"use strict";var r=n(67253),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);e.exports=r?a:function(e){return function(){return i.apply(e,arguments)}}},85145:function(e,t,n){"use strict";var r=n(44562),o=n(4561);e.exports=function(e,t){return arguments.length<2?(n=r[e],o(n)?n:void 0):r[e]&&r[e][t];var n}},48123:function(e,t,n){"use strict";var r=n(74296),o=n(46623),i=n(52746),a=n(28068),s=n(87864)("iterator");e.exports=function(e){if(!i(e))return o(e,s)||o(e,"@@iterator")||a[r(e)]}},55939:function(e,t,n){"use strict";var r=n(78161),o=n(16786),i=n(52052),a=n(82572),s=n(48123),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(o(n))return i(r(n,e));throw c(a(e)+" is not iterable")}},21123:function(e,t,n){"use strict";var r=n(9021),o=n(4897),i=n(4561),a=n(75824),s=n(69609),c=r([].push);e.exports=function(e){if(i(e))return e;if(o(e)){for(var t=e.length,n=[],r=0;r<t;r++){var u=e[r];"string"==typeof u?c(n,u):"number"!=typeof u&&"Number"!=a(u)&&"String"!=a(u)||c(n,s(u))}var l=n.length,f=!0;return function(e,t){if(f)return f=!1,t;if(o(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},46623:function(e,t,n){"use strict";var r=n(16786),o=n(52746);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},25155:function(e,t,n){"use strict";var r=n(9021),o=n(67974),i=Math.floor,a=r("".charAt),s=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var p=n+e.length,h=r.length,v=l;return void 0!==f&&(f=o(f),v=u),s(d,v,(function(o,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,p);case"<":u=f[c(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>h){var d=i(l/10);return 0===d?o:d<=h?void 0===r[d-1]?a(s,1):r[d-1]+a(s,1):o}u=r[l-1]}return void 0===u?"":u}))}},44562:function(e,t,n){"use strict";var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},23526:function(e,t,n){"use strict";var r=n(9021),o=n(67974),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},40692:function(e){"use strict";e.exports={}},74763:function(e){"use strict";e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(n){}}},68722:function(e,t,n){"use strict";var r=n(85145);e.exports=r("document","documentElement")},40356:function(e,t,n){"use strict";var r=n(86118),o=n(72652),i=n(23901);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},19558:function(e,t,n){"use strict";var r=n(9021),o=n(72652),i=n(75824),a=Object,s=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},97340:function(e,t,n){"use strict";var r=n(4561),o=n(70652),i=n(81816);e.exports=function(e,t,n){var a,s;return i&&r(a=t.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(e,s),e}},87296:function(e,t,n){"use strict";var r=n(9021),o=n(4561),i=n(64958),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},58131:function(e,t,n){"use strict";var r=n(70652),o=n(2762);e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},51005:function(e,t,n){"use strict";var r=n(37483),o=n(9021),i=n(40692),a=n(70652),s=n(23526),c=n(64604).f,u=n(4828),l=n(59927),f=n(21614),d=n(45632),p=n(26928),h=!1,v=d("meta"),g=0,y=function(e){c(e,v,{value:{objectID:"O"+g++,weakData:{}}})},m=e.exports={enable:function(){m.enable=function(){},h=!0;var e=u.f,t=o([].splice),n={};n[v]=1,e(n).length&&(u.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===v){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,v)){if(!f(e))return"F";if(!t)return"E";y(e)}return e[v].objectID},getWeakData:function(e,t){if(!s(e,v)){if(!f(e))return!0;if(!t)return!1;y(e)}return e[v].weakData},onFreeze:function(e){return p&&h&&f(e)&&!s(e,v)&&y(e),e}};i[v]=!0},7982:function(e,t,n){"use strict";var r,o,i,a=n(67610),s=n(44562),c=n(70652),u=n(2762),l=n(23526),f=n(64958),d=n(47342),p=n(40692),h="Object already initialized",v=s.TypeError,g=s.WeakMap;if(a||f.state){var y=f.state||(f.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,r=function(e,t){if(y.has(e))throw v(h);return t.facade=e,y.set(e,t),t},o=function(e){return y.get(e)||{}},i=function(e){return y.has(e)}}else{var m=d("state");p[m]=!0,r=function(e,t){if(l(e,m))throw v(h);return t.facade=e,u(e,m,t),t},o=function(e){return l(e,m)?e[m]:{}},i=function(e){return l(e,m)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},54002:function(e,t,n){"use strict";var r=n(87864),o=n(28068),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},4897:function(e,t,n){"use strict";var r=n(75824);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4561:function(e,t,n){"use strict";var r=n(31961),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},78448:function(e,t,n){"use strict";var r=n(9021),o=n(72652),i=n(4561),a=n(74296),s=n(85145),c=n(87296),u=function(){},l=[],f=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),h=!d.exec(u),v=function(e){if(!i(e))return!1;try{return f(u,l,e),!0}catch(t){return!1}},g=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,c(e))}catch(t){return!0}};g.sham=!0,e.exports=!f||o((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?g:v},77570:function(e,t,n){"use strict";var r=n(72652),o=n(4561),i=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},52746:function(e){"use strict";e.exports=function(e){return null==e}},70652:function(e,t,n){"use strict";var r=n(4561),o=n(31961),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===i}:function(e){return"object"==typeof e?null!==e:r(e)}},43174:function(e){"use strict";e.exports=!1},1226:function(e,t,n){"use strict";var r=n(70652),o=n(75824),i=n(87864)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},86535:function(e,t,n){"use strict";var r=n(85145),o=n(4561),i=n(82738),a=n(32253),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,s(e))}},70671:function(e,t,n){"use strict";var r=n(53757),o=n(78161),i=n(52052),a=n(82572),s=n(54002),c=n(55202),u=n(82738),l=n(55939),f=n(48123),d=n(27640),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},v=h.prototype;e.exports=function(e,t,n){var g,y,m,_,b,w,E,S=n&&n.that,O=!(!n||!n.AS_ENTRIES),I=!(!n||!n.IS_RECORD),R=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),T=r(t,S),x=function(e){return g&&d(g,"normal",e),new h(!0,e)},A=function(e){return O?(i(e),C?T(e[0],e[1],x):T(e[0],e[1])):C?T(e,x):T(e)};if(I)g=e.iterator;else if(R)g=e;else{if(!(y=f(e)))throw p(a(e)+" is not iterable");if(s(y)){for(m=0,_=c(e);_>m;m++)if((b=A(e[m]))&&u(v,b))return b;return new h(!1)}g=l(e,y)}for(w=I?e.next:g.next;!(E=o(w,g)).done;){try{b=A(E.value)}catch(k){d(g,"throw",k)}if("object"==typeof b&&b&&u(v,b))return b}return new h(!1)}},27640:function(e,t,n){"use strict";var r=n(78161),o=n(52052),i=n(46623);e.exports=function(e,t,n){var a,s;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(c){s=!0,a=c}if("throw"===t)throw n;if(s)throw a;return o(a),n}},12963:function(e,t,n){"use strict";var r=n(87816).IteratorPrototype,o=n(50563),i=n(82656),a=n(18747),s=n(28068),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=o(r,{next:i(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},11045:function(e,t,n){"use strict";var r=n(37483),o=n(78161),i=n(43174),a=n(69804),s=n(4561),c=n(12963),u=n(9674),l=n(81816),f=n(18747),d=n(2762),p=n(34339),h=n(87864),v=n(28068),g=n(87816),y=a.PROPER,m=a.CONFIGURABLE,_=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,w=h("iterator"),E="keys",S="values",O="entries",I=function(){return this};e.exports=function(e,t,n,a,h,g,R){c(n,t,a);var C,T,x,A=function(e){if(e===h&&N)return N;if(!b&&e in M)return M[e];switch(e){case E:case S:case O:return function(){return new n(this,e)}}return function(){return new n(this)}},k=t+" Iterator",D=!1,M=e.prototype,P=M[w]||M["@@iterator"]||h&&M[h],N=!b&&P||A(h),L="Array"==t&&M.entries||P;if(L&&(C=u(L.call(new e)))!==Object.prototype&&C.next&&(i||u(C)===_||(l?l(C,_):s(C[w])||p(C,w,I)),f(C,k,!0,!0),i&&(v[k]=I)),y&&h==S&&P&&P.name!==S&&(!i&&m?d(M,"name",S):(D=!0,N=function(){return o(P,this)})),h)if(T={values:A(S),keys:g?N:A(E),entries:A(O)},R)for(x in T)(b||D||!(x in M))&&p(M,x,T[x]);else r({target:t,proto:!0,forced:b||D},T);return i&&!R||M[w]===N||p(M,w,N,{name:h}),v[t]=N,T}},87816:function(e,t,n){"use strict";var r,o,i,a=n(72652),s=n(4561),c=n(70652),u=n(50563),l=n(9674),f=n(34339),d=n(87864),p=n(43174),h=d("iterator"),v=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):v=!0),!c(r)||a((function(){var e={};return r[h].call(e)!==e}))?r={}:p&&(r=u(r)),s(r[h])||f(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},28068:function(e){"use strict";e.exports={}},55202:function(e,t,n){"use strict";var r=n(18349);e.exports=function(e){return r(e.length)}},16581:function(e,t,n){"use strict";var r=n(9021),o=n(72652),i=n(4561),a=n(23526),s=n(86118),c=n(69804).CONFIGURABLE,u=n(87296),l=n(7982),f=l.enforce,d=l.get,p=String,h=Object.defineProperty,v=r("".slice),g=r("".replace),y=r([].join),m=s&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),_=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===v(p(t),0,7)&&(t="["+g(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),m&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=f(e);return a(r,"source")||(r.source=y(_,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return i(this)&&d(this).source||u(this)}),"toString")},25711:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},76374:function(e,t,n){"use strict";var r,o,i,a,s,c=n(44562),u=n(53757),l=n(12400).f,f=n(97345).set,d=n(33219),p=n(23167),h=n(90517),v=n(29431),g=n(70360),y=c.MutationObserver||c.WebKitMutationObserver,m=c.document,_=c.process,b=c.Promise,w=l(c,"queueMicrotask"),E=w&&w.value;if(!E){var S=new d,O=function(){var e,t;for(g&&(e=_.domain)&&e.exit();t=S.get();)try{t()}catch(n){throw S.head&&r(),n}e&&e.enter()};p||g||v||!y||!m?!h&&b&&b.resolve?((a=b.resolve(void 0)).constructor=b,s=u(a.then,a),r=function(){s(O)}):g?r=function(){_.nextTick(O)}:(f=u(f,c),r=function(){f(O)}):(o=!0,i=m.createTextNode(""),new y(O).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),E=function(e){S.head||r(),S.add(e)}}e.exports=E},24077:function(e,t,n){"use strict";var r=n(16786),o=TypeError,i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw o("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},31034:function(e,t,n){"use strict";var r=n(69609);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},72300:function(e,t,n){"use strict";var r=n(1226),o=TypeError;e.exports=function(e){if(r(e))throw o("The method doesn't accept regular expressions");return e}},28311:function(e,t,n){"use strict";var r=n(86118),o=n(9021),i=n(78161),a=n(72652),s=n(98517),c=n(96978),u=n(36784),l=n(67974),f=n(19558),d=Object.assign,p=Object.defineProperty,h=o([].concat);e.exports=!d||a((function(){if(r&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||s(d({},t)).join("")!=o}))?function(e,t){for(var n=l(e),o=arguments.length,a=1,d=c.f,p=u.f;o>a;)for(var v,g=f(arguments[a++]),y=d?h(s(g),d(g)):s(g),m=y.length,_=0;m>_;)v=y[_++],r&&!i(p,g,v)||(n[v]=g[v]);return n}:d},50563:function(e,t,n){"use strict";var r,o=n(52052),i=n(22115),a=n(4990),s=n(40692),c=n(68722),u=n(23901),l=n(47342),f="prototype",d="script",p=l("IE_PROTO"),h=function(){},v=function(e){return"<"+d+">"+e+"</"+d+">"},g=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{r=new ActiveXObject("htmlfile")}catch(i){}var e,t,n;y="undefined"!=typeof document?document.domain&&r?g(r):(t=u("iframe"),n="java"+d+":",t.style.display="none",c.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F):g(r);for(var o=a.length;o--;)delete y[f][a[o]];return y()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[f]=o(e),n=new h,h[f]=null,n[p]=e):n=y(),void 0===t?n:i.f(n,t)}},22115:function(e,t,n){"use strict";var r=n(86118),o=n(84725),i=n(64604),a=n(52052),s=n(50222),c=n(98517);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),o=c(t),u=o.length,l=0;u>l;)i.f(e,n=o[l++],r[n]);return e}},64604:function(e,t,n){"use strict";var r=n(86118),o=n(40356),i=n(84725),a=n(52052),s=n(47969),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",p="writable";t.f=r?i?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=l(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:f in n?n[f]:r[f],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),o)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},12400:function(e,t,n){"use strict";var r=n(86118),o=n(78161),i=n(36784),a=n(82656),s=n(50222),c=n(47969),u=n(23526),l=n(40356),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=c(t),l)try{return f(e,t)}catch(n){}if(u(e,t))return a(!o(i.f,e,t),e[t])}},59927:function(e,t,n){"use strict";var r=n(75824),o=n(50222),i=n(4828).f,a=n(69308),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return i(e)}catch(t){return a(s)}}(e):i(o(e))}},4828:function(e,t,n){"use strict";var r=n(88463),o=n(4990).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},96978:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},9674:function(e,t,n){"use strict";var r=n(23526),o=n(4561),i=n(67974),a=n(47342),s=n(5345),c=a("IE_PROTO"),u=Object,l=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=i(e);if(r(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof u?l:null}},21614:function(e,t,n){"use strict";var r=n(72652),o=n(70652),i=n(75824),a=n(91850),s=Object.isExtensible,c=r((function(){s(1)}));e.exports=c||a?function(e){return!!o(e)&&((!a||"ArrayBuffer"!=i(e))&&(!s||s(e)))}:s},82738:function(e,t,n){"use strict";var r=n(9021);e.exports=r({}.isPrototypeOf)},88463:function(e,t,n){"use strict";var r=n(9021),o=n(23526),i=n(50222),a=n(35962).indexOf,s=n(40692),c=r([].push);e.exports=function(e,t){var n,r=i(e),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);for(;t.length>u;)o(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},98517:function(e,t,n){"use strict";var r=n(88463),o=n(4990);e.exports=Object.keys||function(e){return r(e,o)}},36784:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},81816:function(e,t,n){"use strict";var r=n(77786),o=n(52052),i=n(5889);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},57016:function(e,t,n){"use strict";var r=n(86118),o=n(72652),i=n(9021),a=n(9674),s=n(98517),c=n(50222),u=i(n(36784).f),l=i([].push),f=r&&o((function(){var e=Object.create(null);return e[2]=2,!u(e,2)})),d=function(e){return function(t){for(var n,o=c(t),i=s(o),d=f&&null===a(o),p=i.length,h=0,v=[];p>h;)n=i[h++],r&&!(d?n in o:u(o,n))||l(v,e?[n,o[n]]:o[n]);return v}};e.exports={entries:d(!0),values:d(!1)}},62774:function(e,t,n){"use strict";var r=n(86136),o=n(74296);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},62376:function(e,t,n){"use strict";var r=n(78161),o=n(4561),i=n(70652),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!i(s=r(n,e)))return s;if(o(n=e.valueOf)&&!i(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!i(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},45405:function(e,t,n){"use strict";var r=n(85145),o=n(9021),i=n(4828),a=n(96978),s=n(52052),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?c(t,n(e)):t}},44948:function(e,t,n){"use strict";var r=n(44562);e.exports=r},61209:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},29675:function(e,t,n){"use strict";var r=n(44562),o=n(71394),i=n(4561),a=n(77570),s=n(87296),c=n(87864),u=n(20416),l=n(29855),f=n(43174),d=n(72785),p=o&&o.prototype,h=c("species"),v=!1,g=i(r.PromiseRejectionEvent),y=a("Promise",(function(){var e=s(o),t=e!==String(o);if(!t&&66===d)return!0;if(f&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new o((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(v=n.then((function(){}))instanceof r))return!0}return!t&&(u||l)&&!g}));e.exports={CONSTRUCTOR:y,REJECTION_EVENT:g,SUBCLASSING:v}},71394:function(e,t,n){"use strict";var r=n(44562);e.exports=r.Promise},66470:function(e,t,n){"use strict";var r=n(52052),o=n(70652),i=n(24077);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},52362:function(e,t,n){"use strict";var r=n(71394),o=n(2307),i=n(29675).CONSTRUCTOR;e.exports=i||!o((function(e){r.all(e).then(void 0,(function(){}))}))},27930:function(e,t,n){"use strict";var r=n(64604).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},33219:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},11346:function(e,t,n){"use strict";var r=n(78161),o=n(52052),i=n(4561),a=n(75824),s=n(77148),c=TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var u=r(n,e,t);return null!==u&&o(u),u}if("RegExp"===a(e))return r(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},77148:function(e,t,n){"use strict";var r,o,i=n(78161),a=n(9021),s=n(69609),c=n(97159),u=n(66105),l=n(38532),f=n(50563),d=n(7982).get,p=n(67931),h=n(86418),v=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,y=g,m=a("".charAt),_=a("".indexOf),b=a("".replace),w=a("".slice),E=(o=/b*/g,i(g,r=/a/,"a"),i(g,o,"a"),0!==r.lastIndex||0!==o.lastIndex),S=u.BROKEN_CARET,O=void 0!==/()??/.exec("")[1];(E||O||S||p||h)&&(y=function(e){var t,n,r,o,a,u,l,p=this,h=d(p),I=s(e),R=h.raw;if(R)return R.lastIndex=p.lastIndex,t=i(y,R,I),p.lastIndex=R.lastIndex,t;var C=h.groups,T=S&&p.sticky,x=i(c,p),A=p.source,k=0,D=I;if(T&&(x=b(x,"y",""),-1===_(x,"g")&&(x+="g"),D=w(I,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==m(I,p.lastIndex-1))&&(A="(?: "+A+")",D=" "+D,k++),n=new RegExp("^(?:"+A+")",x)),O&&(n=new RegExp("^"+A+"$(?!\\s)",x)),E&&(r=p.lastIndex),o=i(g,T?n:p,D),T?o?(o.input=w(o.input,k),o[0]=w(o[0],k),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:E&&o&&(p.lastIndex=p.global?o.index+o[0].length:r),O&&o&&o.length>1&&i(v,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&C)for(o.groups=u=f(null),a=0;a<C.length;a++)u[(l=C[a])[0]]=o[l[1]];return o}),e.exports=y},97159:function(e,t,n){"use strict";var r=n(52052);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},22121:function(e,t,n){"use strict";var r=n(78161),o=n(23526),i=n(82738),a=n(97159),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||o(e,"flags")||!i(s,e)?t:r(a,e)}},66105:function(e,t,n){"use strict";var r=n(72652),o=n(44562).RegExp,i=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),s=i||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},67931:function(e,t,n){"use strict";var r=n(72652),o=n(44562).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},86418:function(e,t,n){"use strict";var r=n(72652),o=n(44562).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},84659:function(e,t,n){"use strict";var r=n(52746),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},36713:function(e,t,n){"use strict";var r,o=n(44562),i=n(89406),a=n(4561),s=n(3359),c=n(6197),u=n(39364),l=n(48977),f=o.Function,d=/MSIE .\./.test(c)||s&&((r=o.Bun.version.split(".")).length<3||0==r[0]&&(r[1]<3||3==r[1]&&0==r[2]));e.exports=function(e,t){var n=t?2:1;return d?function(r,o){var s=l(arguments.length,1)>n,c=a(r)?r:f(r),d=s?u(arguments,n):[],p=s?function(){i(c,this,d)}:c;return t?e(p,o):e(p)}:e}},84671:function(e,t,n){"use strict";var r=n(85145),o=n(45769),i=n(87864),a=n(86118),s=i("species");e.exports=function(e){var t=r(e);a&&t&&!t[s]&&o(t,s,{configurable:!0,get:function(){return this}})}},18747:function(e,t,n){"use strict";var r=n(64604).f,o=n(23526),i=n(87864)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,i)&&r(e,i,{configurable:!0,value:t})}},47342:function(e,t,n){"use strict";var r=n(38532),o=n(45632),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},64958:function(e,t,n){"use strict";var r=n(44562),o=n(35724),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},38532:function(e,t,n){"use strict";var r=n(43174),o=n(64958);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.32.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"})},48587:function(e,t,n){"use strict";var r=n(52052),o=n(3964),i=n(52746),a=n(87864)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||i(n=r(s)[a])?t:o(n)}},91531:function(e,t,n){"use strict";var r=n(9021),o=n(22687),i=n(69609),a=n(84659),s=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,f=i(a(t)),d=o(n),p=f.length;return d<0||d>=p?e?"":void 0:(r=c(f,d))<55296||r>56319||d+1===p||(l=c(f,d+1))<56320||l>57343?e?s(f,d):r:e?u(f,d,d+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},35658:function(e,t,n){"use strict";var r=n(72785),o=n(72652),i=n(44562).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},25774:function(e,t,n){"use strict";var r=n(78161),o=n(85145),i=n(87864),a=n(34339);e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=i("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}),{arity:1})}},57852:function(e,t,n){"use strict";var r=n(35658);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},97345:function(e,t,n){"use strict";var r,o,i,a,s=n(44562),c=n(89406),u=n(53757),l=n(4561),f=n(23526),d=n(72652),p=n(68722),h=n(39364),v=n(23901),g=n(48977),y=n(23167),m=n(70360),_=s.setImmediate,b=s.clearImmediate,w=s.process,E=s.Dispatch,S=s.Function,O=s.MessageChannel,I=s.String,R=0,C={},T="onreadystatechange";d((function(){r=s.location}));var x=function(e){if(f(C,e)){var t=C[e];delete C[e],t()}},A=function(e){return function(){x(e)}},k=function(e){x(e.data)},D=function(e){s.postMessage(I(e),r.protocol+"//"+r.host)};_&&b||(_=function(e){g(arguments.length,1);var t=l(e)?e:S(e),n=h(arguments,1);return C[++R]=function(){c(t,void 0,n)},o(R),R},b=function(e){delete C[e]},m?o=function(e){w.nextTick(A(e))}:E&&E.now?o=function(e){E.now(A(e))}:O&&!y?(a=(i=new O).port2,i.port1.onmessage=k,o=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!d(D)?(o=D,s.addEventListener("message",k,!1)):o=T in v("script")?function(e){p.appendChild(v("script"))[T]=function(){p.removeChild(this),x(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:_,clear:b}},8110:function(e,t,n){"use strict";var r=n(22687),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},50222:function(e,t,n){"use strict";var r=n(19558),o=n(84659);e.exports=function(e){return r(o(e))}},22687:function(e,t,n){"use strict";var r=n(25711);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},18349:function(e,t,n){"use strict";var r=n(22687),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},67974:function(e,t,n){"use strict";var r=n(84659),o=Object;e.exports=function(e){return o(r(e))}},38832:function(e,t,n){"use strict";var r=n(78161),o=n(70652),i=n(86535),a=n(46623),s=n(62376),c=n(87864),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,c=a(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!o(n)||i(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},47969:function(e,t,n){"use strict";var r=n(38832),o=n(86535);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},86136:function(e,t,n){"use strict";var r={};r[n(87864)("toStringTag")]="z",e.exports="[object z]"===String(r)},69609:function(e,t,n){"use strict";var r=n(74296),o=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},82572:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},45632:function(e,t,n){"use strict";var r=n(9021),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},32253:function(e,t,n){"use strict";var r=n(35658);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},84725:function(e,t,n){"use strict";var r=n(86118),o=n(72652);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},48977:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},67610:function(e,t,n){"use strict";var r=n(44562),o=n(4561),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},92378:function(e,t,n){"use strict";var r=n(44948),o=n(23526),i=n(25252),a=n(64604).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},25252:function(e,t,n){"use strict";var r=n(87864);t.f=r},87864:function(e,t,n){"use strict";var r=n(44562),o=n(38532),i=n(23526),a=n(45632),s=n(35658),c=n(32253),u=r.Symbol,l=o("wks"),f=c?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return i(l,e)||(l[e]=s&&i(u,e)?u[e]:f("Symbol."+e)),l[e]}},49779:function(e,t,n){"use strict";var r=n(85145),o=n(23526),i=n(2762),a=n(82738),s=n(81816),c=n(5642),u=n(27930),l=n(97340),f=n(31034),d=n(58131),p=n(38143),h=n(86118),v=n(43174);e.exports=function(e,t,n,g){var y="stackTraceLimit",m=g?2:1,_=e.split("."),b=_[_.length-1],w=r.apply(null,_);if(w){var E=w.prototype;if(!v&&o(E,"cause")&&delete E.cause,!n)return w;var S=r("Error"),O=t((function(e,t){var n=f(g?t:e,void 0),r=g?new w(e):new w;return void 0!==n&&i(r,"message",n),p(r,O,r.stack,2),this&&a(E,this)&&l(r,this,O),arguments.length>m&&d(r,arguments[m]),r}));if(O.prototype=E,"Error"!==b?s?s(O,S):c(O,S,{name:!0}):h&&y in w&&(u(O,w,y),u(O,w,"prepareStackTrace")),c(O,w),!v)try{E.name!==b&&i(E,"name",b),E.constructor=O}catch(I){}return O}}},53556:function(e,t,n){"use strict";var r=n(37483),o=n(82738),i=n(9674),a=n(81816),s=n(5642),c=n(50563),u=n(2762),l=n(82656),f=n(58131),d=n(38143),p=n(70671),h=n(31034),v=n(87864)("toStringTag"),g=Error,y=[].push,m=function(e,t){var n,r=o(_,this);a?n=a(g(),r?i(this):_):(n=r?this:c(_),u(n,v,"Error")),void 0!==t&&u(n,"message",h(t)),d(n,m,n.stack,1),arguments.length>2&&f(n,arguments[2]);var s=[];return p(e,y,{that:s}),u(n,"errors",s),n};a?a(m,g):s(m,g,{name:!0});var _=m.prototype=c(g.prototype,{constructor:l(1,m),message:l(1,""),name:l(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:m})},1988:function(e,t,n){"use strict";n(53556)},5240:function(e,t,n){"use strict";var r=n(37483),o=n(72652),i=n(4897),a=n(70652),s=n(67974),c=n(55202),u=n(98650),l=n(26004),f=n(9644),d=n(86965),p=n(87864),h=n(72785),v=p("isConcatSpreadable"),g=h>=51||!o((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),y=function(e){if(!a(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,arity:1,forced:!g||!d("concat")},{concat:function(e){var t,n,r,o,i,a=s(this),d=f(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(y(i=-1===t?a:arguments[t]))for(o=c(i),u(p+o),n=0;n<o;n++,p++)n in i&&l(d,p,i[n]);else u(p+1),l(d,p++,i);return d.length=p,d}})},72940:function(e,t,n){"use strict";var r=n(37483),o=n(82881).find,i=n(3019),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},54555:function(e,t,n){"use strict";var r=n(37483),o=n(59973);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},91334:function(e,t,n){"use strict";var r=n(37483),o=n(35962).includes,i=n(72652),a=n(3019);r({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},87905:function(e,t,n){"use strict";n(37483)({target:"Array",stat:!0},{isArray:n(4897)})},47661:function(e,t,n){"use strict";var r=n(50222),o=n(3019),i=n(28068),a=n(7982),s=n(64604).f,c=n(11045),u=n(17009),l=n(43174),f=n(86118),d="Array Iterator",p=a.set,h=a.getterFor(d);e.exports=c(Array,"Array",(function(e,t){p(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,u(void 0,!0)):u("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var v=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(g){}},65365:function(e,t,n){"use strict";var r=n(37483),o=n(9021),i=n(19558),a=n(50222),s=n(33978),c=o([].join);r({target:"Array",proto:!0,forced:i!=Object||!s("join",",")},{join:function(e){return c(a(this),void 0===e?",":e)}})},86134:function(e,t,n){"use strict";var r=n(37483),o=n(10209);r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},88988:function(e,t,n){"use strict";var r=n(37483),o=n(82881).map;r({target:"Array",proto:!0,forced:!n(86965)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},97630:function(e,t,n){"use strict";var r=n(37483),o=n(31166).left,i=n(33978),a=n(72785);r({target:"Array",proto:!0,forced:!n(70360)&&a>79&&a<83||!i("reduce")},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},44477:function(e,t,n){"use strict";var r=n(37483),o=n(4897),i=n(78448),a=n(70652),s=n(8110),c=n(55202),u=n(50222),l=n(26004),f=n(87864),d=n(86965),p=n(39364),h=d("slice"),v=f("species"),g=Array,y=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,f,d=u(this),h=c(d),m=s(e,h),_=s(void 0===t?h:t,h);if(o(d)&&(n=d.constructor,(i(n)&&(n===g||o(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return p(d,m,_);for(r=new(void 0===n?g:n)(y(_-m,0)),f=0;m<_;m++,f++)m in d&&l(r,f,d[m]);return r.length=f,r}})},63286:function(e,t,n){"use strict";var r=n(37483),o=n(9021),i=Date,a=o(i.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return a(new i)}})},64123:function(e,t,n){"use strict";var r=n(9021),o=n(34339),i=Date.prototype,a="Invalid Date",s="toString",c=r(i[s]),u=r(i.getTime);String(new Date(NaN))!=a&&o(i,s,(function(){var e=u(this);return e==e?c(this):a}))},11818:function(e,t,n){"use strict";var r=n(37483),o=n(44562),i=n(89406),a=n(49779),s="WebAssembly",c=o[s],u=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=a(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},f=function(e,t){if(c&&c[e]){var n={};n[e]=a(s+"."+e,t,u),r({target:s,stat:!0,constructor:!0,arity:1,forced:u},n)}};l("Error",(function(e){return function(t){return i(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),l("URIError",(function(e){return function(t){return i(e,this,arguments)}})),f("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),f("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),f("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},29637:function(e,t,n){"use strict";var r=n(34339),o=n(35042),i=Error.prototype;i.toString!==o&&r(i,"toString",o)},71125:function(e,t,n){"use strict";var r=n(37483),o=n(26684);r({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},76351:function(e,t,n){"use strict";var r=n(86118),o=n(69804).EXISTS,i=n(9021),a=n(45769),s=Function.prototype,c=i(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(u.exec);r&&!o&&a(s,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(e){return""}}})},21342:function(e,t,n){"use strict";var r=n(37483),o=n(44562);r({global:!0,forced:o.globalThis!==o},{globalThis:o})},26376:function(e,t,n){"use strict";var r=n(37483),o=n(85145),i=n(89406),a=n(78161),s=n(9021),c=n(72652),u=n(4561),l=n(86535),f=n(39364),d=n(21123),p=n(35658),h=String,v=o("JSON","stringify"),g=s(/./.exec),y=s("".charAt),m=s("".charCodeAt),_=s("".replace),b=s(1..toString),w=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,O=!p||c((function(){var e=o("Symbol")();return"[null]"!=v([e])||"{}"!=v({a:e})||"{}"!=v(Object(e))})),I=c((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),R=function(e,t){var n=f(arguments),r=d(t);if(u(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(u(r)&&(t=a(r,this,h(e),t)),!l(t))return t},i(v,null,n)},C=function(e,t,n){var r=y(n,t-1),o=y(n,t+1);return g(E,e)&&!g(S,o)||g(S,e)&&!g(E,r)?"\\u"+b(m(e,0),16):e};v&&r({target:"JSON",stat:!0,arity:3,forced:O||I},{stringify:function(e,t,n){var r=f(arguments),o=i(O?R:v,null,r);return I&&"string"==typeof o?_(o,w,C):o}})},65224:function(e,t,n){"use strict";n(51660)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(26864))},67314:function(e,t,n){"use strict";n(65224)},89389:function(e,t,n){"use strict";var r=n(37483),o=n(28311);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},98220:function(e,t,n){"use strict";var r=n(37483),o=n(86118),i=n(64604).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},63744:function(e,t,n){"use strict";var r=n(37483),o=n(35658),i=n(72652),a=n(96978),s=n(67974);r({target:"Object",stat:!0,forced:!o||i((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},86387:function(e,t,n){"use strict";var r=n(86136),o=n(34339),i=n(62774);r||o(Object.prototype,"toString",i,{unsafe:!0})},33415:function(e,t,n){"use strict";var r=n(37483),o=n(57016).values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},66133:function(e,t,n){"use strict";var r=n(37483),o=n(78161),i=n(16786),a=n(24077),s=n(61209),c=n(70671);r({target:"Promise",stat:!0,forced:n(52362)},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,l=s((function(){var n=i(t.resolve),a=[],s=0,u=1;c(e,(function(e){var i=s++,c=!1;u++,o(n,t,e).then((function(e){c||(c=!0,a[i]={status:"fulfilled",value:e},--u||r(a))}),(function(e){c||(c=!0,a[i]={status:"rejected",reason:e},--u||r(a))}))})),--u||r(a)}));return l.error&&u(l.value),n.promise}})},50251:function(e,t,n){"use strict";var r=n(37483),o=n(78161),i=n(16786),a=n(24077),s=n(61209),c=n(70671);r({target:"Promise",stat:!0,forced:n(52362)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,l=s((function(){var n=i(t.resolve),a=[],s=0,l=1;c(e,(function(e){var i=s++,c=!1;l++,o(n,t,e).then((function(e){c||(c=!0,a[i]=e,--l||r(a))}),u)})),--l||r(a)}));return l.error&&u(l.value),n.promise}})},65389:function(e,t,n){"use strict";var r=n(37483),o=n(78161),i=n(16786),a=n(85145),s=n(24077),c=n(61209),u=n(70671),l=n(52362),f="No one promise resolved";r({target:"Promise",stat:!0,forced:l},{any:function(e){var t=this,n=a("AggregateError"),r=s.f(t),l=r.resolve,d=r.reject,p=c((function(){var r=i(t.resolve),a=[],s=0,c=1,p=!1;u(e,(function(e){var i=s++,u=!1;c++,o(r,t,e).then((function(e){u||p||(p=!0,l(e))}),(function(e){u||p||(u=!0,a[i]=e,--c||d(new n(a,f)))}))})),--c||d(new n(a,f))}));return p.error&&d(p.value),r.promise}})},22310:function(e,t,n){"use strict";var r=n(37483),o=n(43174),i=n(29675).CONSTRUCTOR,a=n(71394),s=n(85145),c=n(4561),u=n(34339),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&c(a)){var f=s("Promise").prototype.catch;l.catch!==f&&u(l,"catch",f,{unsafe:!0})}},35667:function(e,t,n){"use strict";var r,o,i,a=n(37483),s=n(43174),c=n(70360),u=n(44562),l=n(78161),f=n(34339),d=n(81816),p=n(18747),h=n(84671),v=n(16786),g=n(4561),y=n(70652),m=n(48127),_=n(48587),b=n(97345).set,w=n(76374),E=n(74763),S=n(61209),O=n(33219),I=n(7982),R=n(71394),C=n(29675),T=n(24077),x="Promise",A=C.CONSTRUCTOR,k=C.REJECTION_EVENT,D=C.SUBCLASSING,M=I.getterFor(x),P=I.set,N=R&&R.prototype,L=R,j=N,U=u.TypeError,F=u.document,B=u.process,q=T.f,W=q,V=!!(F&&F.createEvent&&u.dispatchEvent),G="unhandledrejection",H=function(e){var t;return!(!y(e)||!g(t=e.then))&&t},K=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,f=e.domain;try{s?(a||(2===t.rejection&&$(t),t.rejection=1),!0===s?n=i:(f&&f.enter(),n=s(i),f&&(f.exit(),o=!0)),n===e.promise?u(U("Promise-chain cycle")):(r=H(n))?l(r,n,c,u):c(n)):u(i)}catch(d){f&&!o&&f.exit(),u(d)}},Q=function(e,t){e.notified||(e.notified=!0,w((function(){for(var n,r=e.reactions;n=r.get();)K(n,e);e.notified=!1,t&&!e.rejection&&Z(e)})))},Y=function(e,t,n){var r,o;V?((r=F.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!k&&(o=u["on"+e])?o(r):e===G&&E("Unhandled promise rejection",n)},Z=function(e){l(b,u,(function(){var t,n=e.facade,r=e.value;if(z(e)&&(t=S((function(){c?B.emit("unhandledRejection",r,n):Y(G,n,r)})),e.rejection=c||z(e)?2:1,t.error))throw t.value}))},z=function(e){return 1!==e.rejection&&!e.parent},$=function(e){l(b,u,(function(){var t=e.facade;c?B.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(r){e(t,r,n)}},X=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Q(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw U("Promise can't be resolved itself");var r=H(t);r?w((function(){var n={done:!1};try{l(r,t,J(ee,n,e),J(X,n,e))}catch(o){X(n,o,e)}})):(e.value=t,e.state=1,Q(e,!1))}catch(o){X({done:!1},o,e)}}};if(A&&(j=(L=function(e){m(this,j),v(e),l(r,this);var t=M(this);try{e(J(ee,t),J(X,t))}catch(n){X(t,n)}}).prototype,(r=function(e){P(this,{type:x,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:void 0})}).prototype=f(j,"then",(function(e,t){var n=M(this),r=q(_(this,L));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=c?B.domain:void 0,0==n.state?n.reactions.add(r):w((function(){K(r,n)})),r.promise})),o=function(){var e=new r,t=M(e);this.promise=e,this.resolve=J(ee,t),this.reject=J(X,t)},T.f=q=function(e){return e===L||undefined===e?new o(e):W(e)},!s&&g(R)&&N!==Object.prototype)){i=N.then,D||f(N,"then",(function(e,t){var n=this;return new L((function(e,t){l(i,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete N.constructor}catch(te){}d&&d(N,j)}a({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:L}),p(L,x,!1,!0),h(x)},52249:function(e,t,n){"use strict";var r=n(37483),o=n(43174),i=n(71394),a=n(72652),s=n(85145),c=n(4561),u=n(48587),l=n(66470),f=n(34339),d=i&&i.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n=c(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!o&&c(i)){var p=s("Promise").prototype.finally;d.finally!==p&&f(d,"finally",p,{unsafe:!0})}},16802:function(e,t,n){"use strict";n(35667),n(50251),n(22310),n(43691),n(45629),n(24674)},43691:function(e,t,n){"use strict";var r=n(37483),o=n(78161),i=n(16786),a=n(24077),s=n(61209),c=n(70671);r({target:"Promise",stat:!0,forced:n(52362)},{race:function(e){var t=this,n=a.f(t),r=n.reject,u=s((function(){var a=i(t.resolve);c(e,(function(e){o(a,t,e).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},45629:function(e,t,n){"use strict";var r=n(37483),o=n(78161),i=n(24077);r({target:"Promise",stat:!0,forced:n(29675).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return o(t.reject,void 0,e),t.promise}})},24674:function(e,t,n){"use strict";var r=n(37483),o=n(85145),i=n(43174),a=n(71394),s=n(29675).CONSTRUCTOR,c=n(66470),u=o("Promise"),l=i&&!s;r({target:"Promise",stat:!0,forced:i||s},{resolve:function(e){return c(l&&this===u?a:this,e)}})},75027:function(e,t,n){"use strict";var r=n(37483),o=n(85145),i=n(89406),a=n(26684),s=n(3964),c=n(52052),u=n(70652),l=n(50563),f=n(72652),d=o("Reflect","construct"),p=Object.prototype,h=[].push,v=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),g=!f((function(){d((function(){}))})),y=v||g;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(e,t){s(e),c(t);var n=arguments.length<3?e:s(arguments[2]);if(g&&!v)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return i(h,r,t),new(i(a,e,r))}var o=n.prototype,f=l(u(o)?o:p),y=i(e,f,t);return u(y)?y:f}})},72315:function(e,t,n){"use strict";var r=n(37483),o=n(44562),i=n(18747);r({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0)},70724:function(e,t,n){"use strict";var r=n(86118),o=n(44562),i=n(9021),a=n(77570),s=n(97340),c=n(2762),u=n(4828).f,l=n(82738),f=n(1226),d=n(69609),p=n(22121),h=n(66105),v=n(27930),g=n(34339),y=n(72652),m=n(23526),_=n(7982).enforce,b=n(84671),w=n(87864),E=n(67931),S=n(86418),O=w("match"),I=o.RegExp,R=I.prototype,C=o.SyntaxError,T=i(R.exec),x=i("".charAt),A=i("".replace),k=i("".indexOf),D=i("".slice),M=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,P=/a/g,N=/a/g,L=new I(P)!==P,j=h.MISSED_STICKY,U=h.UNSUPPORTED_Y,F=r&&(!L||j||E||S||y((function(){return N[O]=!1,I(P)!=P||I(N)==N||"/a/i"!=I(P,"i")})));if(a("RegExp",F)){for(var B=function(e,t){var n,r,o,i,a,u,h=l(R,this),v=f(e),g=void 0===t,y=[],b=e;if(!h&&v&&g&&e.constructor===B)return e;if((v||l(R,e))&&(e=e.source,g&&(t=p(b))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),b=e,E&&"dotAll"in P&&(r=!!t&&k(t,"s")>-1)&&(t=A(t,/s/g,"")),n=t,j&&"sticky"in P&&(o=!!t&&k(t,"y")>-1)&&U&&(t=A(t,/y/g,"")),S&&(i=function(e){for(var t,n=e.length,r=0,o="",i=[],a={},s=!1,c=!1,u=0,l="";r<=n;r++){if("\\"===(t=x(e,r)))t+=x(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:T(M,D(e,r+1))&&(r+=2,c=!0),o+=t,u++;continue;case">"===t&&c:if(""===l||m(a,l))throw new C("Invalid capture group name");a[l]=!0,i[i.length]=[l,u],c=!1,l="";continue}c?l+=t:o+=t}return[o,i]}(e),e=i[0],y=i[1]),a=s(I(e,t),h?this:R,B),(r||o||y.length)&&(u=_(a),r&&(u.dotAll=!0,u.raw=B(function(e){for(var t,n=e.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(t=x(e,r))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+x(e,++r);return o}(e),n)),o&&(u.sticky=!0),y.length&&(u.groups=y)),e!==b)try{c(a,"source",""===b?"(?:)":b)}catch(w){}return a},q=u(I),W=0;q.length>W;)v(B,I,q[W++]);R.constructor=B,B.prototype=R,g(o,"RegExp",B,{constructor:!0})}b("RegExp")},56122:function(e,t,n){"use strict";var r=n(86118),o=n(67931),i=n(75824),a=n(45769),s=n(7982).get,c=RegExp.prototype,u=TypeError;r&&o&&a(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!s(this).dotAll;throw u("Incompatible receiver, RegExp required")}}})},14253:function(e,t,n){"use strict";var r=n(37483),o=n(77148);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},11838:function(e,t,n){"use strict";var r=n(86118),o=n(66105).MISSED_STICKY,i=n(75824),a=n(45769),s=n(7982).get,c=RegExp.prototype,u=TypeError;r&&o&&a(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!s(this).sticky;throw u("Incompatible receiver, RegExp required")}}})},56844:function(e,t,n){"use strict";var r=n(69804).PROPER,o=n(34339),i=n(52052),a=n(69609),s=n(72652),c=n(22121),u="toString",l=RegExp.prototype[u],f=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=r&&l.name!=u;(f||d)&&o(RegExp.prototype,u,(function(){var e=i(this);return"/"+a(e.source)+"/"+a(c(e))}),{unsafe:!0})},37546:function(e,t,n){"use strict";n(51660)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(26864))},16116:function(e,t,n){"use strict";n(37546)},68823:function(e,t,n){"use strict";var r=n(37483),o=n(9021),i=n(72300),a=n(84659),s=n(69609),c=n(79722),u=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(s(a(this)),s(i(e)),arguments.length>1?arguments[1]:void 0)}})},95174:function(e,t,n){"use strict";var r=n(91531).charAt,o=n(69609),i=n(7982),a=n(11045),s=n(17009),c="String Iterator",u=i.set,l=i.getterFor(c);a(String,"String",(function(e){u(this,{type:c,string:o(e),index:0})}),(function(){var e,t=l(this),n=t.string,o=t.index;return o>=n.length?s(void 0,!0):(e=r(n,o),t.index+=e.length,s(e,!1))}))},7367:function(e,t,n){"use strict";var r=n(89406),o=n(78161),i=n(9021),a=n(77422),s=n(72652),c=n(52052),u=n(4561),l=n(52746),f=n(22687),d=n(18349),p=n(69609),h=n(84659),v=n(63862),g=n(46623),y=n(25155),m=n(11346),_=n(87864)("replace"),b=Math.max,w=Math.min,E=i([].concat),S=i([].push),O=i("".indexOf),I=i("".slice),R="$0"==="a".replace(/./,"$0"),C=!!/./[_]&&""===/./[_]("a","$0");a("replace",(function(e,t,n){var i=C?"$":"$0";return[function(e,n){var r=h(this),i=l(e)?void 0:g(e,_);return i?o(i,e,r,n):o(t,p(r),e,n)},function(e,o){var a=c(this),s=p(e);if("string"==typeof o&&-1===O(o,i)&&-1===O(o,"$<")){var l=n(t,a,s,o);if(l.done)return l.value}var h=u(o);h||(o=p(o));var g=a.global;if(g){var _=a.unicode;a.lastIndex=0}for(var R=[];;){var C=m(a,s);if(null===C)break;if(S(R,C),!g)break;""===p(C[0])&&(a.lastIndex=v(s,d(a.lastIndex),_))}for(var T,x="",A=0,k=0;k<R.length;k++){for(var D=p((C=R[k])[0]),M=b(w(f(C.index),s.length),0),P=[],N=1;N<C.length;N++)S(P,void 0===(T=C[N])?T:String(T));var L=C.groups;if(h){var j=E([D],P,M,s);void 0!==L&&S(j,L);var U=p(r(o,void 0,j))}else U=y(D,s,M,P,L,o);M>=A&&(x+=I(s,A,M)+U,A=M+D.length)}return x+I(s,A)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!R||C)},29690:function(e,t,n){"use strict";var r=n(37483),o=n(44562),i=n(78161),a=n(9021),s=n(43174),c=n(86118),u=n(35658),l=n(72652),f=n(23526),d=n(82738),p=n(52052),h=n(50222),v=n(47969),g=n(69609),y=n(82656),m=n(50563),_=n(98517),b=n(4828),w=n(59927),E=n(96978),S=n(12400),O=n(64604),I=n(22115),R=n(36784),C=n(34339),T=n(45769),x=n(38532),A=n(47342),k=n(40692),D=n(45632),M=n(87864),P=n(25252),N=n(92378),L=n(25774),j=n(18747),U=n(7982),F=n(82881).forEach,B=A("hidden"),q="Symbol",W="prototype",V=U.set,G=U.getterFor(q),H=Object[W],K=o.Symbol,Q=K&&K[W],Y=o.TypeError,Z=o.QObject,z=S.f,$=O.f,J=w.f,X=R.f,ee=a([].push),te=x("symbols"),ne=x("op-symbols"),re=x("wks"),oe=!Z||!Z[W]||!Z[W].findChild,ie=c&&l((function(){return 7!=m($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=z(H,t);r&&delete H[t],$(e,t,n),r&&e!==H&&$(H,t,r)}:$,ae=function(e,t){var n=te[e]=m(Q);return V(n,{type:q,tag:e,description:t}),c||(n.description=t),n},se=function(e,t,n){e===H&&se(ne,t,n),p(e);var r=v(t);return p(n),f(te,r)?(n.enumerable?(f(e,B)&&e[B][r]&&(e[B][r]=!1),n=m(n,{enumerable:y(0,!1)})):(f(e,B)||$(e,B,y(1,{})),e[B][r]=!0),ie(e,r,n)):$(e,r,n)},ce=function(e,t){p(e);var n=h(t),r=_(n).concat(de(n));return F(r,(function(t){c&&!i(ue,n,t)||se(e,t,n[t])})),e},ue=function(e){var t=v(e),n=i(X,this,t);return!(this===H&&f(te,t)&&!f(ne,t))&&(!(n||!f(this,t)||!f(te,t)||f(this,B)&&this[B][t])||n)},le=function(e,t){var n=h(e),r=v(t);if(n!==H||!f(te,r)||f(ne,r)){var o=z(n,r);return!o||!f(te,r)||f(n,B)&&n[B][r]||(o.enumerable=!0),o}},fe=function(e){var t=J(h(e)),n=[];return F(t,(function(e){f(te,e)||f(k,e)||ee(n,e)})),n},de=function(e){var t=e===H,n=J(t?ne:h(e)),r=[];return F(n,(function(e){!f(te,e)||t&&!f(H,e)||ee(r,te[e])})),r};u||(K=function(){if(d(Q,this))throw Y("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=D(e),n=function(e){this===H&&i(n,ne,e),f(this,B)&&f(this[B],t)&&(this[B][t]=!1),ie(this,t,y(1,e))};return c&&oe&&ie(H,t,{configurable:!0,set:n}),ae(t,e)},C(Q=K[W],"toString",(function(){return G(this).tag})),C(K,"withoutSetter",(function(e){return ae(D(e),e)})),R.f=ue,O.f=se,I.f=ce,S.f=le,b.f=w.f=fe,E.f=de,P.f=function(e){return ae(M(e),e)},c&&(T(Q,"description",{configurable:!0,get:function(){return G(this).description}}),s||C(H,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:K}),F(_(re),(function(e){N(e)})),r({target:q,stat:!0,forced:!u},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(e,t){return void 0===t?m(e):ce(m(e),t)},defineProperty:se,defineProperties:ce,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:fe}),L(),j(K,q),k[B]=!0},11401:function(e,t,n){"use strict";var r=n(37483),o=n(86118),i=n(44562),a=n(9021),s=n(23526),c=n(4561),u=n(82738),l=n(69609),f=n(45769),d=n(5642),p=i.Symbol,h=p&&p.prototype;if(o&&c(p)&&(!("description"in h)||void 0!==p().description)){var v={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(v[t]=!0),t};d(g,p),g.prototype=h,h.constructor=g;var y="Symbol(test)"==String(p("test")),m=a(h.valueOf),_=a(h.toString),b=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),E=a("".slice);f(h,"description",{configurable:!0,get:function(){var e=m(this);if(s(v,e))return"";var t=_(e),n=y?E(t,7,-1):w(t,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},57882:function(e,t,n){"use strict";var r=n(37483),o=n(85145),i=n(23526),a=n(69609),s=n(38532),c=n(57852),u=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=a(e);if(i(u,t))return u[t];var n=o("Symbol")(t);return u[t]=n,l[n]=t,n}})},21330:function(e,t,n){"use strict";n(92378)("iterator")},96210:function(e,t,n){"use strict";n(29690),n(57882),n(6521),n(26376),n(63744)},6521:function(e,t,n){"use strict";var r=n(37483),o=n(23526),i=n(86535),a=n(82572),s=n(38532),c=n(57852),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!i(e))throw TypeError(a(e)+" is not a symbol");if(o(u,e))return u[e]}})},64627:function(e,t,n){"use strict";var r=n(37483),o=n(24077);r({target:"Promise",stat:!0},{withResolvers:function(){var e=o.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}})},49455:function(e,t,n){"use strict";var r=n(44562),o=n(91559),i=n(48055),a=n(59973),s=n(2762),c=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var u in o)o[u]&&c(r[u]&&r[u].prototype);c(i)},51795:function(e,t,n){"use strict";var r=n(44562),o=n(91559),i=n(48055),a=n(47661),s=n(2762),c=n(87864),u=c("iterator"),l=c("toStringTag"),f=a.values,d=function(e,t){if(e){if(e[u]!==f)try{s(e,u,f)}catch(r){e[u]=f}if(e[l]||s(e,l,t),o[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(r){e[n]=a[n]}}};for(var p in o)d(r[p]&&r[p].prototype,p);d(i,"DOMTokenList")},95781:function(e,t,n){"use strict";var r=n(37483),o=n(44562),i=n(36713)(o.setInterval,!0);r({global:!0,bind:!0,forced:o.setInterval!==i},{setInterval:i})},68945:function(e,t,n){"use strict";var r=n(37483),o=n(44562),i=n(36713)(o.setTimeout,!0);r({global:!0,bind:!0,forced:o.setTimeout!==i},{setTimeout:i})},98506:function(e,t,n){"use strict";n(95781),n(68945)},11850:function(e,t,n){"use strict";var r=n(76712);n(51795),e.exports=r},30060:function(e,t){function n(e,t,n,r){var i={};return function(a){if(!i[a]){var s={},c=[],u=[];for(u.push({node:a,processed:!1});u.length>0;){var l=u[u.length-1],f=l.processed,d=l.node;if(f)u.pop(),c.pop(),s[d]=!1,i[d]=!0,t&&0!==e[d].length||n.push(d);else{if(i[d]){u.pop();continue}if(s[d]){if(r){u.pop();continue}throw c.push(d),new o(c)}s[d]=!0,c.push(d);for(var p=e[d],h=p.length-1;h>=0;h--)u.push({node:p[h],processed:!1});l.processed=!0}}}}}var r=t.f=function(e){this.nodes={},this.outgoingEdges={},this.incomingEdges={},this.circular=e&&!!e.circular};r.prototype={size:function(){return Object.keys(this.nodes).length},addNode:function(e,t){this.hasNode(e)||(this.nodes[e]=2===arguments.length?t:e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])},removeNode:function(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach((function(t){Object.keys(t).forEach((function(n){var r=t[n].indexOf(e);r>=0&&t[n].splice(r,1)}),this)})))},hasNode:function(e){return this.nodes.hasOwnProperty(e)},getNodeData:function(e){if(this.hasNode(e))return this.nodes[e];throw new Error("Node does not exist: "+e)},setNodeData:function(e,t){if(!this.hasNode(e))throw new Error("Node does not exist: "+e);this.nodes[e]=t},addDependency:function(e,t){if(!this.hasNode(e))throw new Error("Node does not exist: "+e);if(!this.hasNode(t))throw new Error("Node does not exist: "+t);return-1===this.outgoingEdges[e].indexOf(t)&&this.outgoingEdges[e].push(t),-1===this.incomingEdges[t].indexOf(e)&&this.incomingEdges[t].push(e),!0},removeDependency:function(e,t){var n;this.hasNode(e)&&(n=this.outgoingEdges[e].indexOf(t))>=0&&this.outgoingEdges[e].splice(n,1),this.hasNode(t)&&(n=this.incomingEdges[t].indexOf(e))>=0&&this.incomingEdges[t].splice(n,1)},clone:function(){var e=this,t=new r;return Object.keys(e.nodes).forEach((function(n){t.nodes[n]=e.nodes[n],t.outgoingEdges[n]=e.outgoingEdges[n].slice(0),t.incomingEdges[n]=e.incomingEdges[n].slice(0)})),t},directDependenciesOf:function(e){if(this.hasNode(e))return this.outgoingEdges[e].slice(0);throw new Error("Node does not exist: "+e)},directDependantsOf:function(e){if(this.hasNode(e))return this.incomingEdges[e].slice(0);throw new Error("Node does not exist: "+e)},dependenciesOf:function(e,t){if(this.hasNode(e)){var r=[];n(this.outgoingEdges,t,r,this.circular)(e);var o=r.indexOf(e);return o>=0&&r.splice(o,1),r}throw new Error("Node does not exist: "+e)},dependantsOf:function(e,t){if(this.hasNode(e)){var r=[];n(this.incomingEdges,t,r,this.circular)(e);var o=r.indexOf(e);return o>=0&&r.splice(o,1),r}throw new Error("Node does not exist: "+e)},overallOrder:function(e){var t=this,r=[],o=Object.keys(this.nodes);if(0===o.length)return r;if(!this.circular){var i=n(this.outgoingEdges,!1,[],this.circular);o.forEach((function(e){i(e)}))}var a=n(this.outgoingEdges,e,r,this.circular);return o.filter((function(e){return 0===t.incomingEdges[e].length})).forEach((function(e){a(e)})),this.circular&&o.filter((function(e){return-1===r.indexOf(e)})).forEach((function(e){a(e)})),r},entryNodes:function(){var e=this;return Object.keys(this.nodes).filter((function(t){return 0===e.incomingEdges[t].length}))}},r.prototype.directDependentsOf=r.prototype.directDependantsOf,r.prototype.dependentsOf=r.prototype.dependantsOf;var o=function(e){var t="Dependency Cycle Found: "+e.join(" -> "),n=new Error(t);return n.cyclePath=e,Object.setPrototypeOf(n,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(n,o),n};o.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(o,Error)},61385:function(e,t,n){var r,o,i;!function(a,s){"use strict";o=[n(87488)],void 0===(i="function"==typeof(r=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),r=n.match(/ (\(.+\)$)/);n=r?n.replace(r[0],""):n;var o=this.extractLocation(r?r[1]:n),i=r&&n||void 0,a=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:i,fileName:a,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(t.replace(n,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(n=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)}}})?r.apply(t,o):r)||(e.exports=i)}()},77351:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n}(arguments,1),s=n(0,o.length-a.length),c=[],u=0;u<s;u++)c[u]="$"+u;if(i=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(c,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,r(a,arguments));return Object(t)===t?t:this}return o.apply(e,r(a,arguments))})),o.prototype){var l=function(){};l.prototype=o.prototype,i.prototype=new l,l.prototype=null}return i}},97072:function(e,t,n){"use strict";var r=n(77351);e.exports=Function.prototype.bind||r},98806:function(e,t,n){"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(A){c=null}var u=function(){throw new a},l=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(t){return u}}}():u,f=n(53945)(),d=n(70331)(),p=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),h={},v="undefined"!=typeof Uint8Array&&p?p(Uint8Array):r,g={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f&&p?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&p?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&p?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&p?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&p?p(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":v,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(p)try{null.error}catch(A){var y=p(p(A));g["%Error.prototype%"]=y}var m=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&p&&(n=p(o.prototype))}return g[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(97072),w=n(16968),E=b.call(Function.call,Array.prototype.concat),S=b.call(Function.apply,Array.prototype.splice),O=b.call(Function.call,String.prototype.replace),I=b.call(Function.call,String.prototype.slice),R=b.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,x=function(e,t){var n,r=e;if(w(_,r)&&(r="%"+(n=_[r])[0]+"%"),w(g,r)){var i=g[r];if(i===h&&(i=m(r)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===R(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=I(e,0,1),n=I(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return O(e,C,(function(e,t,n,o){r[r.length]=n?O(o,T,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=x("%"+r+"%",t),s=i.name,u=i.value,l=!1,f=i.alias;f&&(r=f[0],S(n,E([0,1],f)));for(var d=1,p=!0;d<n.length;d+=1){var h=n[d],v=I(h,0,1),y=I(h,-1);if(('"'===v||"'"===v||"`"===v||'"'===y||"'"===y||"`"===y)&&v!==y)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&p||(l=!0),w(g,s="%"+(r+="."+h)+"%"))u=g[s];else if(null!=u){if(!(h in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&d+1>=n.length){var m=c(u,h);u=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:u[h]}else p=w(u,h),u=u[h];p&&!l&&(g[s]=u)}}return u}},70331:function(e){"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},53945:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(87871);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},87871:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},16968:function(e,t,n){"use strict";var r=n(97072);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},21359:function(e,t,n){"use strict";var r=n(22065),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=c(t),v=c(n),g=0;g<a.length;++g){var y=a[g];if(!(i[y]||r&&r[y]||v&&v[y]||s&&s[y])){var m=d(n,y);try{u(t,y,m)}catch(_){}}}}return t}},85288:function(e,t,n){"use strict";var r=n(42970),o=n(10018);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(r),s=i(o),c=[],u=c.forEach,l=c.slice;var f=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,d=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+60*n*1e3)),r&&(o.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var o=encodeURIComponent(t),i="".concat(e,"=").concat(o);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!f.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain=".concat(r.domain)}if(r.path){if(!f.test(r.path))throw new TypeError("option path is invalid");i+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}(e,encodeURIComponent(t),o)},p=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},h={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=p(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&d(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},v={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),o=0;o<r.length;o++){var i=r[o].indexOf("=");if(i>0)r[o].substring(0,i)===e.lookupQuerystring&&(t=r[o].substring(i+1))}}return t}},g=null,y=function(){if(null!==g)return g;try{g="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(t){g=!1}return g},m={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&y()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&y()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},_=null,b=function(){if(null!==_)return _;try{_="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(t){_=!1}return _},w={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&b()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&b()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},E={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},S={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},O={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},I={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};var R=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.default(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return s.default(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return u.call(l.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(h),this.addDetector(v),this.addDetector(m),this.addDetector(w),this.addDetector(E),this.addDetector(S),this.addDetector(O),this.addDetector(I)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();R.type="languageDetector",e.exports=R},83141:function(e,t,n){"use strict";var r=n(3814),o=n(42970),i=n(10018),a=n(2005),s=n(37508),c=n(14370),u=n(67359),l=n(82554),f=n(43442);function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=d(r),h=d(o),v=d(i),g=d(a),y=d(s),m=d(c),_=d(u),b=d(l),w=d(f);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.default(this,e),this.init(t,n)}return v.default(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||O,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,S(S({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),R=new I,C=function(){function e(){h.default(this,e),this.observers={}}return v.default(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function T(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function x(e){return null==e?"":""+e}function A(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return o()?{}:{obj:e,k:r(i.shift())}}function k(e,t,n){var r=A(e,t,Object);r.obj[r.k]=n}function D(e,t){var n=A(e,t),r=n.obj,o=n.k;if(r)return r[o]}function M(e,t,n){var r=D(e,n);return void 0!==r?r:D(t,n)}function P(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):P(e[r],t[r],n):e[r]=t[r]);return e}function N(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function j(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return L[e]})):e}var U="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,F=[" ",",","?","!",";"];function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_.default(e);if(t){var o=_.default(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m.default(this,n)}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),o=e,i=0;i<r.length;++i){if(!o)return;if("string"==typeof o[r[i]]&&i+1<r.length)return;if(void 0===o[r[i]]){for(var a=2,s=r.slice(i,i+a).join(n),c=o[s];void 0===c&&r.length>i+a;)a++,c=o[s=r.slice(i,i+a).join(n)];if(void 0===c)return;if(null===c)return null;if(t.endsWith(s)){if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s]}var u=r.slice(i+a).join(n);return u?V(c,u,n):void 0}o=o[r[i]]}return o}}var G=function(e){y.default(n,e);var t=W(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return h.default(this,n),r=t.call(this),U&&C.call(g.default(r)),r.data=e||{},r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return v.default(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=D(this.data,a);return s||!i||"string"!=typeof n?s:V(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:"addResource",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),k(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=D(this.data,a)||{};r?P(s,n,o):s=q(q({},s),n),k(this.data,a,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?q(q({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(C),H={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,o){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,r,o))})),t}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_.default(e);if(t){var o=_.default(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m.default(this,n)}}var Z={},z=function(e){y.default(n,e);var t=Y(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.default(this,n),r=t.call(this),U&&C.call(g.default(r)),function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,g.default(r)),r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=R.create("translator"),r}return v.default(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=F.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var o=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),i=!o.test(e);if(!i){var a=e.indexOf(n);a>0&&!o.test(e.substring(0,a))&&(i=!0)}return i}(e,n,r));if(i&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:o};var c=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(r)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(e,t,r){var o=this;if("object"!==p.default(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),c=s.key,u=s.namespaces,l=u[u.length-1],f=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(d){var h=t.nsSeparator||this.options.nsSeparator;return i?(v.res="".concat(l).concat(h).concat(c),v):"".concat(l).concat(h).concat(c)}return i?(v.res=c,v):c}var v=this.resolve(e,t),g=v&&v.res,y=v&&v.usedKey||c,m=v&&v.exactUsedKey||c,_=Object.prototype.toString.apply(g),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&g&&("string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(_)<0&&("string"!=typeof b||"[object Array]"!==_)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,g,Q(Q({},t),{},{ns:u})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return i?(v.res=E,v):E}if(a){var S="[object Array]"===_,O=S?[]:{},I=S?m:y;for(var R in g)if(Object.prototype.hasOwnProperty.call(g,R)){var C="".concat(I).concat(a).concat(R);O[R]=this.translate(C,Q(Q({},t),{joinArrays:!1,ns:u})),O[R]===C&&(O[R]=g[R])}g=O}}else if(w&&"string"==typeof b&&"[object Array]"===_)(g=g.join(b))&&(g=this.extendTranslation(g,e,t,r));else{var T=!1,x=!1,A=void 0!==t.count&&"string"!=typeof t.count,k=n.hasDefaultValue(t),D=A?this.pluralResolver.getSuffix(f,t.count,t):"",M=t["defaultValue".concat(D)]||t.defaultValue;!this.isValidLookup(g)&&k&&(T=!0,g=M),this.isValidLookup(g)||(x=!0,g=c);var P=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:g,N=k&&M!==g&&this.options.updateMissing;if(x||T||N){if(this.logger.log(N?"updateKey":"missingKey",f,l,c,N?M:g),a){var L=this.resolve(c,Q(Q({},t),{},{keySeparator:!1}));L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var j=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var F=0;F<U.length;F++)j.push(U[F]);else"all"===this.options.saveMissingTo?j=this.languageUtils.toResolveHierarchy(t.lng||this.language):j.push(t.lng||this.language);var B=function(e,n,r){var i=k&&r!==g?r:P;o.options.missingKeyHandler?o.options.missingKeyHandler(e,l,n,i,N,t):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,l,n,i,N,t),o.emit("missingKey",e,l,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?j.forEach((function(e){o.pluralResolver.getSuffixes(e,t).forEach((function(n){B([e],c+n,t["defaultValue".concat(n)]||M)}))})):B(j,c,M))}g=this.extendTranslation(g,e,t,v,r),x&&g===c&&this.options.appendNamespaceToMissingKey&&(g="".concat(l,":").concat(c)),(x||T)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(c):c,T?g:void 0):this.options.parseMissingKeyHandler(g))}return i?(v.res=g,v):g}},{key:"extendTranslation",value:function(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Q(Q({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Q(Q({},n),{interpolation:Q(Q({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var c=e.match(this.interpolator.nestingRegexp);a=c&&c.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=Q(Q({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):i.translate.apply(i,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,d="string"==typeof f?[f]:f;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=H.handle(d,e,t,this.options&&this.options.postProcessPassResolved?Q({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var c=a.extractFromKey(e,s),u=c.key;n=u;var l=c.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,d=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(i=e,!Z["".concat(h[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(Z["".concat(h[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((function(n){if(!a.isValidLookup(t)){o=n;var i,c=[u];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(c,u,n,e,s);else{var l;f&&(l=a.pluralResolver.getSuffix(n,s.count,s));var h="".concat(a.options.pluralSeparator,"zero");if(f&&(c.push(u+l),d&&c.push(u+h)),p){var v="".concat(u).concat(a.options.contextSeparator).concat(s.context);c.push(v),f&&(c.push(v+l),d&&c.push(v+h))}}for(;i=c.pop();)a.isValidLookup(t)||(r=i,t=a.getResource(n,e,i,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(C);function $(e){return e.charAt(0).toUpperCase()+e.slice(1)}var J=function(){function e(t){h.default(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=R.create("languageUtils")}return v.default(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=$(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=$(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=$(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),r.forEach((function(e){o.indexOf(e)<0&&i(n.formatLanguageCode(e))})),o}}]),e}(),X=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ee={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},te=["v1","v2","v3"],ne={zero:0,one:1,two:2,few:3,many:4,other:5};var re=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.default(this,e),this.languageUtils=t,this.options=r,this.logger=R.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},X.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:ee[e.fc]}}))})),n)}return v.default(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return ne[e]-ne[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),o=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!te.includes(this.options.compatibilityJSON)}}]),e}();function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.default(this,e),this.logger=R.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return v.default(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:j,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?N(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?N(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?N(t.nestingPrefix):t.nestingPrefixEscaped||N("$t("),this.nestingSuffix=t.nestingSuffix?N(t.nestingSuffix):t.nestingSuffixEscaped||N(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var o,i,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var o=M(t,c,e);return s.alwaysFormat?s.format(o,void 0,n,ie(ie(ie({},r),t),{},{interpolationkey:e})):o}var i=e.split(s.formatSeparator),a=i.shift().trim(),u=i.join(s.formatSeparator).trim();return s.format(M(t,c,a),u,n,ie(ie(ie({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(a=0;o=t.regex.exec(e);){var n=o[1].trim();if(void 0===(i=l(n)))if("function"==typeof f){var c=f(e,o,r);i="string"==typeof c?c:""}else if(r&&r.hasOwnProperty(n))i="";else{if(d){i=o[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=x(i));var u=t.safeValue(i);if(e=e.replace(o[0],u),d?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=ie({},i);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);e=r[0],o=(o=this.interpolate(o,a)).replace(/'/g,'"');try{a=JSON.parse(o),t&&(a=ie(ie({},t),a))}catch(i){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),i),"".concat(e).concat(n).concat(o)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),c=l,u=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=x(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=c.reduce((function(e,t){return o.format(e,t,i.lng,ie(ie({},i),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.default(this,e),this.logger=R.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,ce(ce({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,ce({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,ce({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,ce({},n)).format(e)}},this.init(t)}return v.default(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,r){var o=this;return t.split(this.formatSeparator).reduce((function(e,t){var i=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((function(e){if(e){var t=e.split(":"),r=w.default(t),o=r[0],i=r.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[o.trim()]||(n[o.trim()]=i),"false"===i&&(n[o.trim()]=!1),"true"===i&&(n[o.trim()]=!0),isNaN(i)||(n[o.trim()]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}}(t),a=i.formatName,s=i.formatOptions;if(o.formats[a]){var c=e;try{var u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=u.locale||u.lng||r.locale||r.lng||n;c=o.formats[a](e,l,ce(ce(ce({},s),r),u))}catch(f){o.logger.warn(f)}return c}return o.logger.warn("there was no format function for ".concat(a)),e}),e)}}]),e}();function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_.default(e);if(t){var o=_.default(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m.default(this,n)}}var pe=function(e){y.default(n,e);var t=de(n);function n(e,r,o){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return h.default(this,n),i=t.call(this),U&&C.call(g.default(i)),i.backend=e,i.store=r,i.services=o,i.languageUtils=o.languageUtils,i.options=a,i.logger=R.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=a.maxParallelReads||10,i.readingCalls=0,i.maxRetries=a.maxRetries>=0?a.maxRetries:5,i.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(o,a.backend,a),i}return v.default(n,[{key:"queueLoad",value:function(e,t,n,r){var o=this,i={},a={},s={},c={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===a[s]&&(a[s]=!0):(o.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===c[t]&&(c[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),n&&this.store.addResourceBundle(o,i,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){var r,s,c,u,l,f;r=n.loaded,s=i,u=A(r,[o],Object),l=u.obj,f=u.k,l[f]=l[f]||[],c&&(l[f]=l[f].concat(s)),c||l[f].push(s),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:i,callback:a}):(this.readingCalls++,this.backend[n](e,t,(function(s,c){if(r.readingCalls--,r.waitingReads.length>0){var u=r.waitingReads.shift();r.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}s&&c&&o<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,o+1,2*i,a)}),i):a(s,c)}))):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,fe(fe({},i),{},{isUpdate:o})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),n}(C);function he(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_.default(e);if(t){var o=_.default(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m.default(this,n)}}function me(){}var _e=function(e){y.default(n,e);var t=ye(n);function n(){var e,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(h.default(this,n),e=t.call(this),U&&C.call(g.default(e)),e.options=he(o),e.services={},e.logger=R,e.modules={external:[]},r=g.default(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),i&&!e.isInitialized&&!o.isClone){if(!e.options.initImmediate)return e.init(o,i),m.default(e,g.default(e));setTimeout((function(){e.init(o,i)}),0)}return e}return v.default(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===p.default(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===p.default(e[2])||"object"===p.default(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function o(e){return e?"function"==typeof e?new e:e:null}if(this.options=ge(ge(ge({},r),this.options),he(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ge(ge({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var i;this.modules.logger?R.init(o(this.modules.logger),this.options):R.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=ue);var a=new J(this.options);this.store=new G(this.options.resources,this.options);var s=this.services;s.logger=R,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new re(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=o(i),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new ae(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new pe(o(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=o(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=o(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new z(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=me),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var u=T(),l=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),u.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)i(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return i(e)}));this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=T();return e||(e=this.languages),t||(t=this.options.ns),n||(n=me),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&H.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=T();this.emit("languageChanging",e);var o=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},i=function(i){e||i||!n.services.languageDetector||(i=[]);var a="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);a&&(n.language||o(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,i){i?(o(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,o=function e(t,o){var i;if("object"!==p.default(o)){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];i=r.options.overloadTranslationOptionHandler([t,o].concat(s))}else i=ge({},o);i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns,i.keyPrefix=i.keyPrefix||n||e.keyPrefix;var u=r.options.keySeparator||".",l=i.keyPrefix?"".concat(i.keyPrefix).concat(u).concat(t):t;return r.t(l,i)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||o&&!a(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=T();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=T();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],o=e.filter((function(e){return r.indexOf(e)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,o=ge(ge(ge({},this.options),t),{isClone:!0}),i=new n(o);return["store","services","language"].forEach((function(t){i[t]=e[t]})),i.services=ge({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new z(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e].concat(n))})),i.init(o,r),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(C);b.default(_e,"createInstance",(function(){return new _e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var be=_e.createInstance();be.createInstance=_e.createInstance,e.exports=be},90478:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Boolean]",s="[object Date]",c="[object Function]",u="[object GeneratorFunction]",l="[object Map]",f="[object Number]",d="[object Object]",p="[object Promise]",h="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",m="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",R="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",x="[object Uint32Array]",A=/\w*$/,k=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,M={};M[i]=M["[object Array]"]=M[_]=M[b]=M[a]=M[s]=M[w]=M[E]=M[S]=M[O]=M[I]=M[l]=M[f]=M[d]=M[h]=M[v]=M[g]=M[y]=M[R]=M[C]=M[T]=M[x]=!0,M["[object Error]"]=M[c]=M[m]=!1;var P="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,N="object"==typeof self&&self&&self.Object===Object&&self,L=P||N||Function("return this")(),j=t&&!t.nodeType&&t,U=j&&e&&!e.nodeType&&e,F=U&&U.exports===j;function B(e,t){return e.set(t[0],t[1]),e}function q(e,t){return e.add(t),e}function W(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function H(e,t){return function(n){return e(t(n))}}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Q,Y=Array.prototype,Z=Function.prototype,z=Object.prototype,$=L["__core-js_shared__"],J=(Q=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",X=Z.toString,ee=z.hasOwnProperty,te=z.toString,ne=RegExp("^"+X.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=F?L.Buffer:void 0,oe=L.Symbol,ie=L.Uint8Array,ae=H(Object.getPrototypeOf,Object),se=Object.create,ce=z.propertyIsEnumerable,ue=Y.splice,le=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,de=H(Object.keys,Object),pe=Ue(L,"DataView"),he=Ue(L,"Map"),ve=Ue(L,"Promise"),ge=Ue(L,"Set"),ye=Ue(L,"WeakMap"),me=Ue(Object,"create"),_e=Ve(pe),be=Ve(he),we=Ve(ve),Ee=Ve(ge),Se=Ve(ye),Oe=oe?oe.prototype:void 0,Ie=Oe?Oe.valueOf:void 0;function Re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){this.__data__=new Ce(e)}function Ae(e,t){var n=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ke(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!ee.call(e,a)||o&&("length"==a||qe(a,r))||n.push(a);return n}function ke(e,t,n){var r=e[t];ee.call(e,t)&&Ge(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function De(e,t){for(var n=e.length;n--;)if(Ge(e[n][0],t))return n;return-1}function Me(e,t,n,r,o,p,m){var k;if(r&&(k=p?r(e,o,p,m):r(e)),void 0!==k)return k;if(!Ze(e))return e;var D=He(e);if(D){if(k=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,k)}else{var P=Be(e),N=P==c||P==u;if(Qe(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(P==d||P==i||N&&!p){if(V(e))return p?e:{};if(k=function(e){return"function"!=typeof e.constructor||We(e)?{}:(t=ae(e),Ze(t)?se(t):{});var t}(N?{}:e),!t)return function(e,t){return Le(e,Fe(e),t)}(e,function(e,t){return e&&Le(t,ze(t),e)}(k,e))}else{if(!M[P])return p?e:{};k=function(e,t,n,r){var o=e.constructor;switch(t){case _:return Ne(e);case a:case s:return new o(+e);case b:return function(e,t){var n=t?Ne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case E:case S:case O:case I:case R:case C:case T:case x:return function(e,t){var n=t?Ne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){var r=t?n(G(e),!0):G(e);return W(r,B,new e.constructor)}(e,r,n);case f:case g:return new o(e);case h:return function(e){var t=new e.constructor(e.source,A.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return function(e,t,n){var r=t?n(K(e),!0):K(e);return W(r,q,new e.constructor)}(e,r,n);case y:return i=e,Ie?Object(Ie.call(i)):{}}var i}(e,P,Me,t)}}m||(m=new xe);var L=m.get(e);if(L)return L;if(m.set(e,k),!D)var j=n?function(e){return function(e,t,n){var r=t(e);return He(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,ze,Fe)}(e):ze(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(j||e,(function(o,i){j&&(o=e[i=o]),ke(k,i,Me(o,t,n,r,i,e,m))})),k}function Pe(e){return!(!Ze(e)||(t=e,J&&J in t))&&(Ye(e)||V(e)?ne:k).test(Ve(e));var t}function Ne(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Le(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;ke(n,a,void 0===s?e[a]:s)}return n}function je(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Pe(n)?n:void 0}Re.prototype.clear=function(){this.__data__=me?me(null):{}},Re.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Re.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Re.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:ee.call(t,e)},Re.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?r:t,this},Ce.prototype.clear=function(){this.__data__=[]},Ce.prototype.delete=function(e){var t=this.__data__,n=De(t,e);return!(n<0)&&(n==t.length-1?t.pop():ue.call(t,n,1),!0)},Ce.prototype.get=function(e){var t=this.__data__,n=De(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return De(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,r=De(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new Re,map:new(he||Ce),string:new Re}},Te.prototype.delete=function(e){return je(this,e).delete(e)},Te.prototype.get=function(e){return je(this,e).get(e)},Te.prototype.has=function(e){return je(this,e).has(e)},Te.prototype.set=function(e,t){return je(this,e).set(e,t),this},xe.prototype.clear=function(){this.__data__=new Ce},xe.prototype.delete=function(e){return this.__data__.delete(e)},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this;n=this.__data__=new Te(r)}return n.set(e,t),this};var Fe=le?H(le,Object):function(){return[]},Be=function(e){return te.call(e)};function qe(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||D.test(e))&&e>-1&&e%1==0&&e<t}function We(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||z)}function Ve(e){if(null!=e){try{return X.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ge(e,t){return e===t||e!=e&&t!=t}(pe&&Be(new pe(new ArrayBuffer(1)))!=b||he&&Be(new he)!=l||ve&&Be(ve.resolve())!=p||ge&&Be(new ge)!=v||ye&&Be(new ye)!=m)&&(Be=function(e){var t=te.call(e),n=t==d?e.constructor:void 0,r=n?Ve(n):void 0;if(r)switch(r){case _e:return b;case be:return l;case we:return p;case Ee:return v;case Se:return m}return t});var He=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Ye(e)}var Qe=fe||function(){return!1};function Ye(e){var t=Ze(e)?te.call(e):"";return t==c||t==u}function Ze(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ze(e){return Ke(e)?Ae(e):function(e){if(!We(e))return de(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Me(e,!0,!0)}},52435:function(e,t,n){var r="__lodash_hash_undefined__",o=1/0,i="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,l=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,h="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,v="object"==typeof self&&self&&self.Object===Object&&self,g=h||v||Function("return this")();var y,m=Array.prototype,_=Function.prototype,b=Object.prototype,w=g["__core-js_shared__"],E=(y=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",S=_.toString,O=b.hasOwnProperty,I=b.toString,R=RegExp("^"+S.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=g.Symbol,T=m.splice,x=B(g,"Map"),A=B(Object,"create"),k=C?C.prototype:void 0,D=k?k.toString:void 0;function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function L(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function j(e,t){var n;t=function(e,t){if(G(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||K(e))return!0;return u.test(e)||!c.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:G(n=t)?n:q(n);for(var r=0,o=t.length;null!=e&&r<o;)e=e[W(t[r++])];return r&&r==o?e:void 0}function U(e){if(!H(e)||(t=e,E&&E in t))return!1;var t,n=function(e){var t=H(e)?I.call(e):"";return t==i||t==a}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?R:p;return n.test(function(e){if(null!=e){try{return S.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function F(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function B(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return U(n)?n:void 0}M.prototype.clear=function(){this.__data__=A?A(null):{}},M.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},M.prototype.get=function(e){var t=this.__data__;if(A){var n=t[e];return n===r?void 0:n}return O.call(t,e)?t[e]:void 0},M.prototype.has=function(e){var t=this.__data__;return A?void 0!==t[e]:O.call(t,e)},M.prototype.set=function(e,t){return this.__data__[e]=A&&void 0===t?r:t,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(e){var t=this.__data__,n=L(t,e);return!(n<0)&&(n==t.length-1?t.pop():T.call(t,n,1),!0)},P.prototype.get=function(e){var t=this.__data__,n=L(t,e);return n<0?void 0:t[n][1]},P.prototype.has=function(e){return L(this.__data__,e)>-1},P.prototype.set=function(e,t){var n=this.__data__,r=L(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},N.prototype.clear=function(){this.__data__={hash:new M,map:new(x||P),string:new M}},N.prototype.delete=function(e){return F(this,e).delete(e)},N.prototype.get=function(e){return F(this,e).get(e)},N.prototype.has=function(e){return F(this,e).has(e)},N.prototype.set=function(e,t){return F(this,e).set(e,t),this};var q=V((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(K(e))return D?D.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(t);var n=[];return l.test(e)&&n.push(""),e.replace(f,(function(e,t,r,o){n.push(r?o.replace(d,"$1"):t||e)})),n}));function W(e){if("string"==typeof e||K(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function V(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(V.Cache||N),n}V.Cache=N;var G=Array.isArray;function H(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function K(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&I.call(e)==s}e.exports=function(e,t,n){var r=null==e?void 0:j(e,t);return void 0===r?n:r}},43733:function(e,t,n){e=n.nmd(e);var r=9007199254740991,o="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",s="[object Map]",c="[object Promise]",u="[object Set]",l="[object WeakMap]",f="[object DataView]",d=/^\[object .+?Constructor\]$/,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,v=p||h||Function("return this")(),g=t&&!t.nodeType&&t,y=g&&e&&!e.nodeType&&e,m=y&&y.exports===g;var _,b,w,E=Function.prototype,S=Object.prototype,O=v["__core-js_shared__"],I=(_=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",R=E.toString,C=S.hasOwnProperty,T=S.toString,x=RegExp("^"+R.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=m?v.Buffer:void 0,k=S.propertyIsEnumerable,D=A?A.isBuffer:void 0,M=(b=Object.keys,w=Object,function(e){return b(w(e))}),P=K(v,"DataView"),N=K(v,"Map"),L=K(v,"Promise"),j=K(v,"Set"),U=K(v,"WeakMap"),F=!k.call({valueOf:1},"valueOf"),B=Y(P),q=Y(N),W=Y(L),V=Y(j),G=Y(U);function H(e){if(!ee(e)||function(e){return!!I&&I in e}(e))return!1;var t=X(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?x:d;return t.test(Y(e))}function K(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return H(n)?n:void 0}var Q=function(e){return T.call(e)};function Y(e){if(null!=e){try{return R.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Z(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&$(e)}(e)&&C.call(e,"callee")&&(!k.call(e,"callee")||T.call(e)==o)}(P&&Q(new P(new ArrayBuffer(1)))!=f||N&&Q(new N)!=s||L&&Q(L.resolve())!=c||j&&Q(new j)!=u||U&&Q(new U)!=l)&&(Q=function(e){var t=T.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?Y(n):void 0;if(r)switch(r){case B:return f;case q:return s;case W:return c;case V:return u;case G:return l}return t});var z=Array.isArray;function $(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!X(e)}var J=D||function(){return!1};function X(e){var t=ee(e)?T.call(e):"";return t==i||t==a}function ee(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){if($(e)&&(z(e)||"string"==typeof e||"function"==typeof e.splice||J(e)||Z(e)))return!e.length;var t=Q(e);if(t==s||t==u)return!e.size;if(F||function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}(e))return!M(e).length;for(var n in e)if(C.call(e,n))return!1;return!0}},36339:function(e){var t="[object Symbol]",n=Object.prototype.toString;function r(e,t){return e>t}function o(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&n.call(e)==t}function i(e){return e}e.exports=function(e){return e&&e.length?function(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(void 0===c?s==s&&!o(s):n(s,c)))var c=s,u=a}return u}(e,i,r):void 0}},99655:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",u="[object Null]",l="[object Object]",f="[object Proxy]",d="[object Undefined]",p=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[i]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[s]=v["[object Map]"]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var g="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,y="object"==typeof self&&self&&self.Object===Object&&self,m=g||y||Function("return this")(),_=t&&!t.nodeType&&t,b=_&&e&&!e.nodeType&&e,w=b&&b.exports===_,E=w&&g.process,S=function(){try{var e=b&&b.require&&b.require("util").types;return e||E&&E.binding&&E.binding("util")}catch(t){}}(),O=S&&S.isTypedArray;var I,R,C,T=Array.prototype,x=Function.prototype,A=Object.prototype,k=m["__core-js_shared__"],D=x.toString,M=A.hasOwnProperty,P=(I=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",N=A.toString,L=D.call(Object),j=RegExp("^"+D.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=w?m.Buffer:void 0,F=m.Symbol,B=m.Uint8Array,q=U?U.allocUnsafe:void 0,W=(R=Object.getPrototypeOf,C=Object,function(e){return R(C(e))}),V=Object.create,G=A.propertyIsEnumerable,H=T.splice,K=F?F.toStringTag:void 0,Q=function(){try{var e=_e(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Y=U?U.isBuffer:void 0,Z=Math.max,z=Date.now,$=_e(m,"Map"),J=_e(Object,"create"),X=function(){function e(){}return function(t){if(!ke(t))return{};if(V)return V(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=this.__data__=new te(e);this.size=t.size}function oe(e,t){var n=Re(e),r=!n&&Ie(e),o=!n&&!r&&Te(e),i=!n&&!r&&!o&&Me(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!M.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||be(u,c))||s.push(u);return s}function ie(e,t,n){(void 0!==n&&!Oe(e[t],n)||void 0===n&&!(t in e))&&ce(e,t,n)}function ae(e,t,n){var r=e[t];M.call(e,t)&&Oe(r,n)&&(void 0!==n||t in e)||ce(e,t,n)}function se(e,t){for(var n=e.length;n--;)if(Oe(e[n][0],t))return n;return-1}function ce(e,t,n){"__proto__"==t&&Q?Q(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ee.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ee.prototype.get=function(e){var t=this.__data__;if(J){var n=t[e];return n===r?void 0:n}return M.call(t,e)?t[e]:void 0},ee.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:M.call(t,e)},ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=J&&void 0===t?r:t,this},te.prototype.clear=function(){this.__data__=[],this.size=0},te.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0)&&(n==t.length-1?t.pop():H.call(t,n,1),--this.size,!0)},te.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},te.prototype.has=function(e){return se(this.__data__,e)>-1},te.prototype.set=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ne.prototype.clear=function(){this.size=0,this.__data__={hash:new ee,map:new($||te),string:new ee}},ne.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},ne.prototype.get=function(e){return me(this,e).get(e)},ne.prototype.has=function(e){return me(this,e).has(e)},ne.prototype.set=function(e,t){var n=me(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},re.prototype.clear=function(){this.__data__=new te,this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof te){var r=n.__data__;if(!$||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ne(r)}return n.set(e,t),this.size=n.size,this};var ue,le=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[ue?a:++r];if(!1===t(o[s],s,o))break}return e};function fe(e){return null==e?void 0===e?d:u:K&&K in Object(e)?function(e){var t=M.call(e,K),n=e[K];try{e[K]=void 0;var r=!0}catch(i){}var o=N.call(e);r&&(t?e[K]=n:delete e[K]);return o}(e):function(e){return N.call(e)}(e)}function de(e){return De(e)&&fe(e)==i}function pe(e){return!(!ke(e)||function(e){return!!P&&P in e}(e))&&(xe(e)?j:p).test(function(e){if(null!=e){try{return D.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function he(e){if(!ke(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=we(e),n=[];for(var r in e)("constructor"!=r||!t&&M.call(e,r))&&n.push(r);return n}function ve(e,t,n,r,o){e!==t&&le(t,(function(i,a){if(o||(o=new re),ke(i))!function(e,t,n,r,o,i,a){var s=Ee(e,n),c=Ee(t,n),u=a.get(c);if(u)return void ie(e,n,u);var f=i?i(s,c,n+"",e,t,a):void 0,d=void 0===f;if(d){var p=Re(c),h=!p&&Te(c),v=!p&&!h&&Me(c);f=c,p||h||v?Re(s)?f=s:De(b=s)&&Ce(b)?f=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):h?(d=!1,f=function(e,t){if(t)return e.slice();var n=e.length,r=q?q(n):new e.constructor(n);return e.copy(r),r}(c,!0)):v?(d=!1,g=c,y=!0?(m=g.buffer,_=new m.constructor(m.byteLength),new B(_).set(new B(m)),_):g.buffer,f=new g.constructor(y,g.byteOffset,g.length)):f=[]:function(e){if(!De(e)||fe(e)!=l)return!1;var t=W(e);if(null===t)return!0;var n=M.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&D.call(n)==L}(c)||Ie(c)?(f=s,Ie(s)?f=function(e){return function(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;for(;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?ce(n,s,c):ae(n,s,c)}return n}(e,Pe(e))}(s):ke(s)&&!xe(s)||(f=function(e){return"function"!=typeof e.constructor||we(e)?{}:X(W(e))}(c))):d=!1}var g,y,m,_;var b;d&&(a.set(c,f),o(f,c,r,i,a),a.delete(c));ie(e,n,f)}(e,t,a,n,ve,r,o);else{var s=r?r(Ee(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),ie(e,a,s)}}),Pe)}function ge(e,t){return Se(function(e,t,n){return t=Z(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Z(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,je),e+"")}var ye=Q?function(e,t){return Q(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:je;function me(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function _e(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return pe(n)?n:void 0}function be(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&h.test(e))&&e>-1&&e%1==0&&e<t}function we(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function Ee(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Se=function(e){var t=0,n=0;return function(){var r=z(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ye);function Oe(e,t){return e===t||e!=e&&t!=t}var Ie=de(function(){return arguments}())?de:function(e){return De(e)&&M.call(e,"callee")&&!G.call(e,"callee")},Re=Array.isArray;function Ce(e){return null!=e&&Ae(e.length)&&!xe(e)}var Te=Y||function(){return!1};function xe(e){if(!ke(e))return!1;var t=fe(e);return t==s||t==c||t==a||t==f}function Ae(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function De(e){return null!=e&&"object"==typeof e}var Me=O?function(e){return function(t){return e(t)}}(O):function(e){return De(e)&&Ae(e.length)&&!!v[fe(e)]};function Pe(e){return Ce(e)?oe(e,!0):he(e)}var Ne,Le=(Ne=function(e,t,n){ve(e,t,n)},ge((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Ne.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!ke(n))return!1;var r=typeof t;return!!("number"==r?Ce(n)&&be(t,n.length):"string"==r&&t in n)&&Oe(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&Ne(e,a,n,o)}return e})));function je(e){return e}e.exports=Le},37224:function(e,t,n){var r=n(90141),o=n(1556),i=n(99221),a=n(21543),s=n(51028);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},84820:function(e,t,n){var r=n(81459),o=n(43469),i=n(18202),a=n(56110),s=n(85515);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},72103:function(e,t,n){var r=n(22653)(n(63488),"Map");e.exports=r},73177:function(e,t,n){var r=n(33904),o=n(93610),i=n(5132),a=n(40858),s=n(45521);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},12537:function(e,t,n){var r=n(63488).Symbol;e.exports=r},31742:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},2036:function(e,t,n){var r=n(528),o=n(50536),i=n(4090),a=n(51588),s=n(13980),c=n(96497),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&c(e),p=n||l||f||d,h=p?r(e.length,String):[],v=h.length;for(var g in e)!t&&!u.call(e,g)||p&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||h.push(g);return h}},37334:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},17999:function(e,t,n){var r=n(1983),o=n(5145),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},11735:function(e,t,n){var r=n(5145);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1983:function(e,t,n){var r=n(43932);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},51169:function(e,t,n){var r=n(12537),o=n(92594),i=n(64173),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},52893:function(e,t,n){var r=n(51169),o=n(54420);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},22326:function(e,t,n){var r=n(9588),o=n(50001),i=n(22597),a=n(76392),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:s).test(a(e))}},93085:function(e,t,n){var r=n(51169),o=n(21811),i=n(54420),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},79414:function(e,t,n){var r=n(69585),o=n(39750),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},21695:function(e,t,n){var r=n(4591),o=n(85826),i=n(9593);e.exports=function(e,t){return i(o(e,t,r),e+"")}},41637:function(e,t,n){var r=n(17999),o=n(87295),i=n(13980),a=n(22597),s=n(43507);e.exports=function(e,t,n,c){if(!a(e))return e;for(var u=-1,l=(t=o(t,e)).length,f=l-1,d=e;null!=d&&++u<l;){var p=s(t[u]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(u!=f){var v=d[p];void 0===(h=c?c(v,p,d):void 0)&&(h=a(v)?v:i(t[u+1])?[]:{})}r(d,p,h),d=d[p]}return e}},80880:function(e,t,n){var r=n(93627),o=n(43932),i=n(4591),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},528:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},25085:function(e,t,n){var r=n(12537),o=n(37334),i=n(4090),a=n(84685),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},63245:function(e){e.exports=function(e){return function(t){return e(t)}}},87295:function(e,t,n){var r=n(4090),o=n(56948),i=n(39010),a=n(42268);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},13300:function(e,t,n){var r=n(17999),o=n(1983);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},42442:function(e,t,n){var r=n(63488)["__core-js_shared__"];e.exports=r},74586:function(e,t,n){var r=n(21695),o=n(33009);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}},43932:function(e,t,n){var r=n(22653),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},33286:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},56534:function(e,t,n){var r=n(17122);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},22653:function(e,t,n){var r=n(22326),o=n(30323);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},92594:function(e,t,n){var r=n(12537),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},30323:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},90141:function(e,t,n){var r=n(89189);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},1556:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},99221:function(e,t,n){var r=n(89189),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},21543:function(e,t,n){var r=n(89189),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},51028:function(e,t,n){var r=n(89189);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},13980:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},33009:function(e,t,n){var r=n(5145),o=n(70535),i=n(13980),a=n(22597);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},56948:function(e,t,n){var r=n(4090),o=n(84685),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},17122:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},50001:function(e,t,n){var r,o=n(42442),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},69585:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},81459:function(e){e.exports=function(){this.__data__=[],this.size=0}},43469:function(e,t,n){var r=n(11735),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},18202:function(e,t,n){var r=n(11735);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},56110:function(e,t,n){var r=n(11735);e.exports=function(e){return r(this.__data__,e)>-1}},85515:function(e,t,n){var r=n(11735);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},33904:function(e,t,n){var r=n(37224),o=n(84820),i=n(72103);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},93610:function(e,t,n){var r=n(56534);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},5132:function(e,t,n){var r=n(56534);e.exports=function(e){return r(this,e).get(e)}},40858:function(e,t,n){var r=n(56534);e.exports=function(e){return r(this,e).has(e)}},45521:function(e,t,n){var r=n(56534);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},99319:function(e,t,n){var r=n(19879);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},89189:function(e,t,n){var r=n(22653)(Object,"create");e.exports=r},39750:function(e,t,n){var r=n(72625)(Object.keys,Object);e.exports=r},14343:function(e,t,n){e=n.nmd(e);var r=n(33286),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},64173:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},72625:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},85826:function(e,t,n){var r=n(31742),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},63488:function(e,t,n){var r=n(33286),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},9593:function(e,t,n){var r=n(80880),o=n(33276)(r);e.exports=o},33276:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},39010:function(e,t,n){var r=n(99319),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},43507:function(e,t,n){var r=n(84685);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},76392:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},72545:function(e,t,n){var r=n(13300),o=n(74586),i=n(86921),a=o((function(e,t,n,o){r(t,i(t),e,o)}));e.exports=a},93627:function(e){e.exports=function(e){return function(){return e}}},5145:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},4591:function(e){e.exports=function(e){return e}},50536:function(e,t,n){var r=n(52893),o=n(54420),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},4090:function(e){var t=Array.isArray;e.exports=t},70535:function(e,t,n){var r=n(9588),o=n(21811);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},51588:function(e,t,n){e=n.nmd(e);var r=n(63488),o=n(82624),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},9588:function(e,t,n){var r=n(51169),o=n(22597);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},21811:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},22597:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},54420:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},84685:function(e,t,n){var r=n(51169),o=n(54420);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},96497:function(e,t,n){var r=n(93085),o=n(63245),i=n(14343),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},86921:function(e,t,n){var r=n(2036),o=n(79414),i=n(70535);e.exports=function(e){return i(e)?r(e):o(e)}},19879:function(e,t,n){var r=n(73177);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},21615:function(e,t,n){var r=n(41637);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},82624:function(e){e.exports=function(){return!1}},42268:function(e,t,n){var r=n(25085);e.exports=function(e){return null==e?"":r(e)}},40152:function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(o=e[n],i=t[n],!(o===i||r(o)&&r(i)))return!1;var o,i;return!0}t.default=function(e,t){var n;void 0===t&&(t=o);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}}},58556:function(e,t,n){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"==typeof c.get?c.get:null,l=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,v=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,m=String.prototype.slice,_=String.prototype.replace,b=String.prototype.toUpperCase,w=String.prototype.toLowerCase,E=RegExp.prototype.test,S=Array.prototype.concat,O=Array.prototype.join,I=Array.prototype.slice,R=Math.floor,C="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,A="function"==typeof Symbol&&"object"==typeof Symbol.iterator,k="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===A||"symbol")?Symbol.toStringTag:null,D=Object.prototype.propertyIsEnumerable,M=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function P(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||E.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-R(-e):R(e);if(r!==e){var o=String(r),i=m.call(t,o.length+1);return _.call(o,n,"$&_")+"."+_.call(_.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(t,n,"$&_")}var N=n(65660),L=N.custom,j=W(L)?L:null;function U(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function F(e){return _.call(String(e),/"/g,"&quot;")}function B(e){return!("[object Array]"!==H(e)||k&&"object"==typeof e&&k in e)}function q(e){return!("[object RegExp]"!==H(e)||k&&"object"==typeof e&&k in e)}function W(e){if(A)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!x)return!1;try{return x.call(e),!0}catch(t){}return!1}e.exports=function e(t,r,o,s){var c=r||{};if(G(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var v=!G(c,"customInspect")||c.customInspect;if("boolean"!=typeof v&&"symbol"!==v)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=c.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Q(t,c);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var E=String(t);return b?P(t,E):E}if("bigint"==typeof t){var R=String(t)+"n";return b?P(t,R):R}var T=void 0===c.depth?5:c.depth;if(void 0===o&&(o=0),o>=T&&T>0&&"object"==typeof t)return B(t)?"[Array]":"[Object]";var L=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=O.call(Array(e.indent+1)," ")}return{base:n,prev:O.call(Array(t+1),n)}}(c,o);if(void 0===s)s=[];else if(K(s,t)>=0)return"[Circular]";function V(t,n,r){if(n&&(s=I.call(s)).push(n),r){var i={depth:c.depth};return G(c,"quoteStyle")&&(i.quoteStyle=c.quoteStyle),e(t,i,o+1,s)}return e(t,c,o+1,s)}if("function"==typeof t&&!q(t)){var Y=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),ee=X(t,V);return"[Function"+(Y?": "+Y:" (anonymous)")+"]"+(ee.length>0?" { "+O.call(ee,", ")+" }":"")}if(W(t)){var te=A?_.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):x.call(t);return"object"!=typeof t||A?te:Z(te)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var ne="<"+w.call(String(t.nodeName)),re=t.attributes||[],oe=0;oe<re.length;oe++)ne+=" "+re[oe].name+"="+U(F(re[oe].value),"double",c);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+="</"+w.call(String(t.nodeName))+">"}if(B(t)){if(0===t.length)return"[]";var ie=X(t,V);return L&&!function(e){for(var t=0;t<e.length;t++)if(K(e[t],"\n")>=0)return!1;return!0}(ie)?"["+J(ie,L)+"]":"[ "+O.call(ie,", ")+" ]"}if(function(e){return!("[object Error]"!==H(e)||k&&"object"==typeof e&&k in e)}(t)){var ae=X(t,V);return"cause"in Error.prototype||!("cause"in t)||D.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+O.call(ae,", ")+" }":"{ ["+String(t)+"] "+O.call(S.call("[cause]: "+V(t.cause),ae),", ")+" }"}if("object"==typeof t&&v){if(j&&"function"==typeof t[j]&&N)return N(t,{depth:T-o});if("symbol"!==v&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(ne){return!0}return e instanceof Map}catch(t){}return!1}(t)){var se=[];return a&&a.call(t,(function(e,n){se.push(V(n,t,!0)+" => "+V(e,t))})),$("Map",i.call(t),se,L)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var ce=[];return l&&l.call(t,(function(e){ce.push(V(e,t))})),$("Set",u.call(t),ce,L)}if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(ne){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return z("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(ne){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return z("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(t){}return!1}(t))return z("WeakRef");if(function(e){return!("[object Number]"!==H(e)||k&&"object"==typeof e&&k in e)}(t))return Z(V(Number(t)));if(function(e){if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(t){}return!1}(t))return Z(V(C.call(t)));if(function(e){return!("[object Boolean]"!==H(e)||k&&"object"==typeof e&&k in e)}(t))return Z(h.call(t));if(function(e){return!("[object String]"!==H(e)||k&&"object"==typeof e&&k in e)}(t))return Z(V(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===n.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==H(e)||k&&"object"==typeof e&&k in e)}(t)&&!q(t)){var ue=X(t,V),le=M?M(t)===Object.prototype:t instanceof Object||t.constructor===Object,fe=t instanceof Object?"":"null prototype",de=!le&&k&&Object(t)===t&&k in t?m.call(H(t),8,-1):fe?"Object":"",pe=(le||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(de||fe?"["+O.call(S.call([],de||[],fe||[]),": ")+"] ":"");return 0===ue.length?pe+"{}":L?pe+"{"+J(ue,L)+"}":pe+"{ "+O.call(ue,", ")+" }"}return String(t)};var V=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return V.call(e,t)}function H(e){return v.call(e)}function K(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Q(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Q(m.call(e,0,t.maxStringLength),t)+r}return U(_.call(_.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function Z(e){return"Object("+e+")"}function z(e){return e+" { ? }"}function $(e,t,n,r){return e+" ("+t+") {"+(r?J(n,r):O.call(n,", "))+"}"}function J(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+O.call(e,","+n)+"\n"+t.prev}function X(e,t){var n=B(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=G(e,o)?t(e[o],e):""}var i,a="function"==typeof T?T(e):[];if(A){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var c in e)G(e,c)&&(n&&String(Number(c))===c&&c<e.length||A&&i["$"+c]instanceof Symbol||(E.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if("function"==typeof T)for(var u=0;u<a.length;u++)D.call(e,a[u])&&r.push("["+t(a[u])+"]: "+t(e[a[u]],e));return r}},21413:function(e,t,n){"use strict";var r=n(72208);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},59018:function(e,t,n){e.exports=n(21413)()},72208:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},81649:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",o="RFC3986";e.exports={default:o,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:o}},85576:function(e,t,n){"use strict";var r=n(87662),o=n(17291),i=n(81649);e.exports={formats:i,parse:o,stringify:r}},17291:function(e,t,n){"use strict";var r=n(27095),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),u=s?i.slice(0,s.index):i,l=[];if(u){if(!n.plainObjects&&o.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var f=0;n.depth>0&&null!==(s=a.exec(i))&&f<n.depth;){if(f+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+i.slice(s.index)+"]"),function(e,t,n,r){for(var o=r?t:c(t,n),i=e.length-1;i>=0;--i){var a,s=e[i];if("[]"===s&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=o:"__proto__"!==u&&(a[u]=o):a={0:o}}o=a}return o}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var n,u={__proto__:null},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,d=l.split(t.delimiter,f),p=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?h="utf-8":"utf8=%26%2310003%3B"===d[n]&&(h="iso-8859-1"),p=n,n=d.length);for(n=0;n<d.length;++n)if(n!==p){var v,g,y=d[n],m=y.indexOf("]="),_=-1===m?y.indexOf("="):m+1;-1===_?(v=t.decoder(y,a.decoder,h,"key"),g=t.strictNullHandling?null:""):(v=t.decoder(y.slice(0,_),a.decoder,h,"key"),g=r.maybeMap(c(y.slice(_+1),t),(function(e){return t.decoder(e,a.decoder,h,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===h&&(g=s(g)),y.indexOf("[]=")>-1&&(g=i(g)?[g]:g),o.call(u,v)?u[v]=r.combine(u[v],g):u[v]=g}return u}(e,n):e,f=n.plainObjects?Object.create(null):{},d=Object.keys(l),p=0;p<d.length;++p){var h=d[p],v=u(h,l[h],n,"string"==typeof e);f=r.merge(f,v,n)}return!0===n.allowSparse?f:r.compact(f)}},87662:function(e,t,n){"use strict";var r=n(7814),o=n(27095),i=n(81649),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,u=Array.prototype.push,l=function(e,t){u.apply(e,c(t)?t:[t])},f=Date.prototype.toISOString,d=i.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:d,formatter:i.formatters[d],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},h={},v=function e(t,n,i,a,s,u,f,d,v,g,y,m,_,b,w,E){for(var S,O=t,I=E,R=0,C=!1;void 0!==(I=I.get(h))&&!C;){var T=I.get(t);if(R+=1,void 0!==T){if(T===R)throw new RangeError("Cyclic object value");C=!0}void 0===I.get(h)&&(R=0)}if("function"==typeof d?O=d(n,O):O instanceof Date?O=y(O):"comma"===i&&c(O)&&(O=o.maybeMap(O,(function(e){return e instanceof Date?y(e):e}))),null===O){if(s)return f&&!b?f(n,p.encoder,w,"key",m):n;O=""}if("string"==typeof(S=O)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||o.isBuffer(O))return f?[_(b?n:f(n,p.encoder,w,"key",m))+"="+_(f(O,p.encoder,w,"value",m))]:[_(n)+"="+_(String(O))];var x,A=[];if(void 0===O)return A;if("comma"===i&&c(O))b&&f&&(O=o.maybeMap(O,f)),x=[{value:O.length>0?O.join(",")||null:void 0}];else if(c(d))x=d;else{var k=Object.keys(O);x=v?k.sort(v):k}for(var D=a&&c(O)&&1===O.length?n+"[]":n,M=0;M<x.length;++M){var P=x[M],N="object"==typeof P&&void 0!==P.value?P.value:O[P];if(!u||null!==N){var L=c(O)?"function"==typeof i?i(D,P):D:D+(g?"."+P:"["+P+"]");E.set(t,R);var j=r();j.set(h,E),l(A,e(N,L,i,a,s,u,"comma"===i&&b&&c(O)?null:f,d,v,g,y,m,_,b,w,j))}}return A};e.exports=function(e,t){var n,o=e,u=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=i.formatters[n],o=p.filter;return("function"==typeof e.filter||c(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof u.filter?o=(0,u.filter)("",o):c(u.filter)&&(n=u.filter);var f,d=[];if("object"!=typeof o||null===o)return"";f=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=s[f];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===h&&t&&t.commaRoundTrip;n||(n=Object.keys(o)),u.sort&&n.sort(u.sort);for(var y=r(),m=0;m<n.length;++m){var _=n[m];u.skipNulls&&null===o[_]||l(d,v(o[_],_,h,g,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,y))}var b=d.join(u.delimiter),w=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},27095:function(e,t,n){"use strict";var r=n(81649),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],a=o.obj[o.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:a,prop:u}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},encode:function(e,t,n,o,i){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;++u){var l=s.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===r.RFC1738&&(40===l||41===l)?c+=s.charAt(u):l<128?c+=a[l]:l<2048?c+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?c+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(u)),c+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(i(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return i(t)&&!i(n)&&(a=s(t,r)),i(t)&&i(n)?(n.forEach((function(n,i){if(o.call(t,i)){var a=t[i];a&&"object"==typeof a&&n&&"object"==typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var a=n[i];return o.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t}),a)}}},97763:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case i:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case v:case c:return e;default:return t}}case o:return t}}}function E(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=i,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||w(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===f||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===u||e.$$typeof===d||e.$$typeof===m||e.$$typeof===_||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},22065:function(e,t,n){"use strict";e.exports=n(97763)},56846:function(e,t){"use strict";var n=60103,r=60106,o=60107,i=60108,a=60114,s=60109,c=60110,u=60112,l=60113,f=60120,d=60115,p=60116,h=60121,v=60122,g=60117,y=60129,m=60131;if("function"==typeof Symbol&&Symbol.for){var _=Symbol.for;n=_("react.element"),r=_("react.portal"),o=_("react.fragment"),i=_("react.strict_mode"),a=_("react.profiler"),s=_("react.provider"),c=_("react.context"),u=_("react.forward_ref"),l=_("react.suspense"),f=_("react.suspense_list"),d=_("react.memo"),p=_("react.lazy"),h=_("react.block"),v=_("react.server.block"),g=_("react.fundamental"),y=_("react.debug_trace_mode"),m=_("react.legacy_hidden")}function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case l:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case p:case d:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return b(e)===c}},58155:function(e,t,n){"use strict";e.exports=n(56846)},20974:function(e,t,n){var r;!function(e){!function(t){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=e:o=i(r.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,a={__proto__:[]}instanceof Array,s=!i&&!a,c={create:i?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,d=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,p=new(l||"function"!=typeof WeakMap?ne():WeakMap);function h(e,t,n,r){if(N(n)){if(!G(e))throw new TypeError;if(!K(t))throw new TypeError;return O(e,t)}if(!G(e))throw new TypeError;if(!U(t))throw new TypeError;if(!U(r)&&!N(r)&&!L(r))throw new TypeError;return L(r)&&(r=void 0),I(e,t,n=V(n),r)}function v(e,t){function n(n,r){if(!U(n))throw new TypeError;if(!N(r)&&!Q(r))throw new TypeError;k(e,t,n,r)}return n}function g(e,t,n,r){if(!U(n))throw new TypeError;return N(r)||(r=V(r)),k(e,t,n,r)}function y(e,t,n){if(!U(t))throw new TypeError;return N(n)||(n=V(n)),C(e,t,n)}function m(e,t,n){if(!U(t))throw new TypeError;return N(n)||(n=V(n)),T(e,t,n)}function _(e,t,n){if(!U(t))throw new TypeError;return N(n)||(n=V(n)),x(e,t,n)}function b(e,t,n){if(!U(t))throw new TypeError;return N(n)||(n=V(n)),A(e,t,n)}function w(e,t){if(!U(e))throw new TypeError;return N(t)||(t=V(t)),D(e,t)}function E(e,t){if(!U(e))throw new TypeError;return N(t)||(t=V(t)),M(e,t)}function S(e,t,n){if(!U(t))throw new TypeError;N(n)||(n=V(n));var r=R(t,n,!1);if(N(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=p.get(t);return o.delete(n),o.size>0||p.delete(t),!0}function O(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!N(r)&&!L(r)){if(!K(r))throw new TypeError;t=r}}return t}function I(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!N(i)&&!L(i)){if(!U(i))throw new TypeError;r=i}}return r}function R(e,t,n){var r=p.get(e);if(N(r)){if(!n)return;r=new f,p.set(e,r)}var o=r.get(t);if(N(o)){if(!n)return;o=new f,r.set(t,o)}return o}function C(e,t,n){if(T(e,t,n))return!0;var r=X(t);return!L(r)&&C(e,r,n)}function T(e,t,n){var r=R(t,n,!1);return!N(r)&&q(r.has(e))}function x(e,t,n){if(T(e,t,n))return A(e,t,n);var r=X(t);return L(r)?void 0:x(e,r,n)}function A(e,t,n){var r=R(t,n,!1);if(!N(r))return r.get(e)}function k(e,t,n,r){R(n,r,!0).set(e,t)}function D(e,t){var n=M(e,t),r=X(e);if(null===r)return n;var o=D(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new d,a=[],s=0,c=n;s<c.length;s++){var u=c[s];i.has(u)||(i.add(u),a.push(u))}for(var l=0,f=o;l<f.length;l++){u=f[l];i.has(u)||(i.add(u),a.push(u))}return a}function M(e,t){var n=[],r=R(e,t,!1);if(N(r))return n;for(var o=Z(r.keys()),i=0;;){var a=$(o);if(!a)return n.length=i,n;var s=z(a);try{n[i]=s}catch(c){try{J(o)}finally{throw c}}i++}}function P(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function N(e){return void 0===e}function L(e){return null===e}function j(e){return"symbol"==typeof e}function U(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(P(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",o=Y(e,r);if(void 0!==o){var i=o.call(e,n);if(U(i))throw new TypeError;return i}return B(e,"default"===n?"number":n)}function B(e,t){if("string"===t){var n=e.toString;if(H(n))if(!U(o=n.call(e)))return o;if(H(r=e.valueOf))if(!U(o=r.call(e)))return o}else{var r;if(H(r=e.valueOf))if(!U(o=r.call(e)))return o;var o,i=e.toString;if(H(i))if(!U(o=i.call(e)))return o}throw new TypeError}function q(e){return!!e}function W(e){return""+e}function V(e){var t=F(e,3);return j(t)?t:W(t)}function G(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function H(e){return"function"==typeof e}function K(e){return"function"==typeof e}function Q(e){switch(P(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){var n=e[t];if(null!=n){if(!H(n))throw new TypeError;return n}}function Z(e){var t=Y(e,o);if(!H(t))throw new TypeError;var n=t.call(e);if(!U(n))throw new TypeError;return n}function z(e){return e.value}function $(e){var t=e.next();return!t.done&&t}function J(e){var t=e.return;t&&t.call(e)}function X(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function ne(){var e=16,n=c.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+u()}while(c.has(n,e));return n[e]=!0,e}function i(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function u(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var o=t[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",h),e("metadata",v),e("defineMetadata",g),e("hasMetadata",y),e("hasOwnMetadata",m),e("getMetadata",_),e("getOwnMetadata",b),e("getMetadataKeys",w),e("getOwnMetadataKeys",E),e("deleteMetadata",S)}(o)}()}(r||(r={}))},7814:function(e,t,n){"use strict";var r=n(98806),o=n(41938),i=n(58556),a=r("%TypeError%"),s=r("%WeakMap%",!0),c=r("%Map%",!0),u=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),d=o("Map.prototype.get",!0),p=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),v=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+i(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return u(e,r)}else if(c){if(t)return d(t,r)}else if(n)return function(e,t){var n=v(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return f(e,r)}else if(c){if(t)return h(t,r)}else if(n)return function(e,t){return!!v(e,t)}(n,r);return!1},set:function(r,o){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),l(e,r,o)):c?(t||(t=new c),p(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=v(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r}},87488:function(e,t){var n,r,o;!function(i,a){"use strict";r=[],void 0===(o="function"==typeof(n=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],a=["args"],s=["evalOrigin"],c=r.concat(o,i,a,s);function u(e){if(e)for(var n=0;n<c.length;n++)void 0!==e[c[n]]&&this["set"+t(c[n])](e[c[n]])}u.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof u)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new u(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},u.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),o=e.substring(t+1,n).split(","),i=e.substring(n+1);if(0===i.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),s=a[1],c=a[2],l=a[3];return new u({functionName:r,args:o||void 0,fileName:s,lineNumber:c||void 0,columnNumber:l||void 0})};for(var l=0;l<r.length;l++)u.prototype["get"+t(r[l])]=n(r[l]),u.prototype["set"+t(r[l])]=function(e){return function(t){this[e]=Boolean(t)}}(r[l]);for(var f=0;f<o.length;f++)u.prototype["get"+t(o[f])]=n(o[f]),u.prototype["set"+t(o[f])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(o[f]);for(var d=0;d<i.length;d++)u.prototype["get"+t(i[d])]=n(i[d]),u.prototype["set"+t(i[d])]=function(e){return function(t){this[e]=String(t)}}(i[d]);return u})?n.apply(t,r):n)||(e.exports=o)}()},66166:function(e,t){!function(e){"use strict";function t(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function n(e){return t("Boolean",e)}function r(e){return t("Number",e)}function o(e){return t("String",e)}function i(e){return t("Function",e)}function a(e){return t("Array",e)}function s(e){return t("Date",e)}function c(e){return t("RegExp",e)}function u(e){return t("Object",e)}function l(e){return t("Error",e)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(var r in e)if(e.hasOwnProperty(r)){var o=u(e[r]),i=a(e[r]);o||i?n&&(o?(t[r]={},f(e[r],t[r],n-1)):i&&(t[r]=[],f(e[r],t[r],n-1))):t[r]=e[r]}}function d(e){return u(e)?JSON.stringify(e):e}function p(e){return u(e)?e:JSON.parse(e)}var h=void 0!==h?h:{};"undefined"!=typeof window?h=window:"undefined"!=typeof self&&(h=self);var v=h;function g(e,t,n,r,o){var i=new Date;i.setTime(i.getTime()+(n?864e5*n:2592e6)),v.document&&(document.cookie=e+"="+encodeURIComponent(d(t))+";expires="+i.toGMTString()+";path="+(r||"/")+";"+(o?"domain="+o+";":""))}function y(e,t,n){var r=new Date(0);v.document&&(document.cookie=e+"=;expires="+r.toUTCString()+";path="+(t||"/")+";"+(n?"domain="+n+";":""))}function m(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),n="";return v.document&&(n=v.document.cookie.match(t)),(n?n[1]:"")||null}function _(e,t){if(e){var n=t,r=s(e)?e:new Date(e),o={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours()%12==0?12:r.getHours()%12,"H+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()},i={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};for(var a in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,String(r.getFullYear()).substr(4-RegExp.$1.length))),/(E+)/.test(n)&&(n=n.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+i[String(r.getDay())])),o)new RegExp("("+a+")").test(n)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?o[a]:("00"+o[a]).substr(String(o[a]).length)));return n}}function b(e,t){var n=d(t);void 0!==v.Storage?localStorage.setItem(e,n):g(e,n)}function w(e){return void 0!==v.Storage?localStorage.getItem(e):m(e)}function E(e){void 0!==v.Storage?delete localStorage[e]:y(e)}function S(e){if(v.document){var t=document.createElement("iframe");t.src=e,t.height=0,t.width=0,t.style.cssText="display: none",document.body.appendChild(t),setTimeout((function(){document.body.removeChild(t),t=null}),2e3)}}function O(e){return e&&0!==e.length?e.replace(/&/g,"&#38;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br>"):""}function I(e){return 0===e.length?"":e.replace(/&#38;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/&nbsp;/g," ").replace(/<br>/g,"\n")}var R={_getHash:function(){return v.location.hash},_getSearch:function(){return v.location.search}};function C(e){var t="";return v.location&&(t=R._getHash().match(new RegExp("(#|&)"+e+"=([^&#]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}function T(e){var t="";return v.location&&(t=R._getSearch().match(new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}function x(e){var t="",n=v.location;return n&&(t=R._getSearch().match(new RegExp("(\\?|#|&)"+e+"=([^&]*)(#|&|$)"))),!t&&n&&(t=R._getHash().match(new RegExp("(#|&)"+e+"=([^&#]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}e.extend=f,e.setCookie=g,e.delCookie=y,e.getCookie=m,e.formatDate=_,e.setItem=b,e.getItem=w,e.delItem=E,e.callApi=S,e.encodeHTML=O,e.decodeHTML=I,e.isType=t,e.isBoolean=n,e.isNumber=r,e.isString=o,e.isFunction=i,e.isArray=a,e.isDate=s,e.isRegExp=c,e.isObject=u,e.isError=l,e.getHash=C,e.getUrlParam=x,e.getQuery=T,e._stringify=d,e._parse=p,Object.defineProperty(e,"__esModule",{value:!0})}(t)},56449:function(e,t){!function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=new(function(){function e(){t(this,e)}return e.prototype.injectReporter=function(e,t){this.reporter=e,this.cb=t},e.prototype.report=function(){this.cb(this.reporter)},e}()),r=void 0!==r?r:{};"undefined"!=typeof window?r=window:"undefined"!=typeof self&&(r=self);var o={dataReturnSuccessCondition:function(){return!0},beforeRequest:function(e){return e},beforeResponse:function(e,t,n){t(e)}},i=4,a=200;function s(){}function c(e){var t=o.beforeRequest(e),n={};return n.url=t.url,n.paramObj=t.param||{},n.successCb=t.success||s,n.errorCb=t.error||s,n.localData=t.localData||null,n.xhrFields=t.xhrFields||{},n.headers=t.headers||{},n.method=t.ajaxType||"GET",n.dataType=t.dataType||"json",n.async=t.async,n.timeout=t.timeout,n.method=n.method.toUpperCase(),n}function u(){for(var e=null,t=[function(){return new XMLHttpRequest},function(){return new XDomainRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.xmlhttp")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,r=t.length;n<r;n++){try{e=t[n]()}catch(o){continue}break}return e}function l(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function f(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="string"==typeof r?encodeURIComponent(r):r}return JSON.stringify(t)}function d(e,t){var n=e;return n+=(e.indexOf("?")>0?"&":"?")+t}function p(e,t,n){if(e.setRequestHeader){t["Content-type"]||"GET"!==n&&"POST"!==n||e.setRequestHeader("Content-type","application/x-www-form-urlencoded");var r=t||{};for(var o in r)r.hasOwnProperty(o)&&e.setRequestHeader(o,r[o])}}function h(e,t){e.withCredentials=!0,!1===t.withCredentials&&(e.withCredentials=!1)}function v(e){o.dataReturnSuccessCondition=e.dataReturnSuccessCondition||o.dataReturnSuccessCondition,o.beforeRequest=e.beforeRequest||o.beforeRequest,o.beforeResponse=e.beforeResponse||o.beforeResponse}function g(e){var t=c(e),n=l(t.paramObj),r=d(t.url,n),o=w(t);o&&(o.open("GET",r,!0),E(o,t),h(o,t.xhrFields),p(o,t.headers,"GET"),o.send())}function y(e){var t=c(e),n="",r=t.url,o=w(t);o&&(o.open("POST",r,!0),e.type&&"json"===e.type?(n=f(t.paramObj),t.headers["Content-type"]="application/json"):e.type&&"raw"===e.type?(t.headers["Content-type"]="application/json",n="[object object]"===Object.prototype.toString.call(t.paramObj)?JSON.stringify(t.paramObj):t.paramObj):n=l(t.paramObj),E(o,t),h(o,t.xhrFields),p(o,t.headers,"POST"),o.send(n))}function m(e){var t=c(e),n=t.url,r=w(t);r&&(r.open("POST",n,!0),E(r,t),h(r,t.xhrFields),p(r,t.headers,"FORM"),r.send(t.paramObj))}function _(e){var t=c(e);if(!t.paramObj)throw new Error("Please provide parameter for jsonp");function n(e){setTimeout((function(){e.parentNode.removeChild(e)}),200)}t.paramObj.jsonCbName||(t.paramObj.jsonCbName="jsonCb_"+Date.now()),t.paramObj.callback=t.paramObj.jsonCbName,delete t.paramObj.jsonCbName,r[t.paramObj.callback]=function(e){t.localData?b(t.localData,t):(b(e,t),n(a))};var o=l(t.paramObj),i=d(t.url,o),a=r&&r.document?r.document.createElement("script"):{},s=r&&r.document?r.document.getElementsByTagName("head")[0]:{};a.src=i,s.appendChild(a),a.onerror=function(e){t.errorCb({errCode:e}),n(a)}}function b(e,t){o.beforeResponse(e,(function(e){o.dataReturnSuccessCondition(e)?t.successCb(e):t.errorCb(e)}),t.errorCb)}function w(e){var t=u();if(!t)throw new Error("XMLHttp is not defined");if(!e.localData)return t.async=!1!==e.async,t.onreadystatechange=function(){if(t.readyState===i)if(t.status===a){var r=t.responseText;if("json"===e.dataType)try{r=JSON.parse(t.responseText)}catch(o){if(!n.reporter)throw o;n.report()}b(r,e)}else e.errorCb({errCode:t.status})},t.onerror=function(){e.errorCb({errCode:-1})},t.ontimeout=function(){e.errorCb({errCode:-2})},t;b(e.localData,e)}function E(e,t){t.timeout&&(e.timeout=t.timeout)}function S(e){switch(c(e).method){case"JSONP":_(e);break;case"GET":g(e);break;case"POST":y(e);break;case"FORM":m(e)}}var O={ajax:S,ajaxGet:g,ajaxPost:y,ajaxForm:m,ajaxJsonp:_,ajaxInit:v,reporter:n};e.ajaxInit=v,e.ajaxGet=g,e.ajaxPost=y,e.ajaxForm=m,e.ajaxJsonp=_,e.default=O,Object.defineProperty(e,"__esModule",{value:!0})}(t)},80225:function(e,t,n){var r=n(55946),o=n(4643),i=o;i.v1=r,i.v4=o,e.exports=i},51611:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},52498:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},55946:function(e,t,n){var r,o,i=n(52498),a=n(51611),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:c+1,g=h-s+(v-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=v,o=d;var y=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[u++]=y>>>24&255,l[u++]=y>>>16&255,l[u++]=y>>>8&255,l[u++]=255&y;var m=h/4294967296*1e4&268435455;l[u++]=m>>>8&255,l[u++]=255&m,l[u++]=m>>>24&15|16,l[u++]=m>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var _=0;_<6;++_)l[u+_]=f[_];return t||a(l)}},4643:function(e,t,n){var r=n(52498),o=n(51611);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},1024:function(t){"use strict";t.exports=e},30314:function(e){"use strict";e.exports=t},65660:function(){},33305:function(e,t,n){var r=n(99903).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(k){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new T(r||[]);return a(i,"_invoke",{value:O(e,n,s)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=d;var h={};function v(){}function g(){}function y(){}var m={};f(m,c,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(x([])));b&&b!==n&&i.call(b,c)&&(m=b);var w=y.prototype=v.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,s,c){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function I(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=p(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function x(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return g.prototype=y,a(w,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=f(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,f(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},E(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),f(w,l,"Generator"),f(w,c,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},99903:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},63363:function(e,t,n){var r=n(33305)();e.exports=r;try{regeneratorRuntime=r}catch(o){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},16884:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},43930:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},2005:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},42970:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},10018:function(e,t,n){var r=n(96296);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},82554:function(e,t,n){var r=n(96296);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},67359:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},37508:function(e,t,n){var r=n(72449);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9765:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},84612:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},19713:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},14370:function(e,t,n){var r=n(3814).default,o=n(2005);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},52406:function(e,t,n){var r=n(3814).default;function o(){"use strict";e.exports=o=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},i=Object.prototype,a=i.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),a=new M(r||[]);return s(i,"_invoke",{value:x(e,n,a)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var v="suspendedStart",g="suspendedYield",y="executing",m="completed",_={};function b(){}function w(){}function E(){}var S={};d(S,u,(function(){return this}));var O=Object.getPrototypeOf,I=O&&O(O(P([])));I&&I!==i&&a.call(I,u)&&(S=I);var R=E.prototype=b.prototype=Object.create(S);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,c){var u=h(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var o;s(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function x(e,n,r){var o=v;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===_)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===v)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var u=h(e,n,r);if("normal"===u.type){if(o=r.done?m:g,u.arg===_)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function A(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var i=h(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,_;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(a.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,s(R,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,f,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,d(e,f,"GeneratorFunction")),e.prototype=Object.create(R),e},n.awrap=function(e){return{__await:e}},C(T.prototype),d(T.prototype,l,(function(){return this})),n.AsyncIterator=T,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var a=new T(p(e,t,r,o),i);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(R),d(R,f,"Generator"),d(R,u,(function(){return this})),d(R,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=P,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},n}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},72449:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},43442:function(e,t,n){var r=n(43930),o=n(84612),i=n(74266),a=n(19713);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},581:function(e,t,n){var r=n(3814).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},96296:function(e,t,n){var r=n(3814).default,o=n(581);e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},3814:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},74266:function(e,t,n){var r=n(16884);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},81390:function(e,t,n){var r=n(52406)();e.exports=r;try{regeneratorRuntime=r}catch(o){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},61156:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},52352:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},46102:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},85665:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},58966:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return o}})},67519:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},28276:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},29848:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(34419);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},64917:function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},85412:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(10082),o=n(46102);function i(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},34419:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},68723:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(52352);var o=n(64917),i=n(45740);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},10082:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},45740:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(52352);function o(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},79868:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return o}})},86235:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},10561:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(87693);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,r.Z)(o.key),o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},93700:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87693);function o(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},16517:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(93700);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},14217:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(70942);function o(){o=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),s=new D(r||[]);return a(i,"_invoke",{value:T(e,n,s)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",v="suspendedYield",g="executing",y="completed",m={};function _(){}function b(){}function w(){}var E={};f(E,c,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(M([])));O&&O!==n&&i.call(O,c)&&(E=O);var I=w.prototype=_.prototype=Object.create(E);function R(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,s,c){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==(0,r.Z)(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var o=h;return function(i,a){if(o===g)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=x(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var u=p(t,n,r);if("normal"===u.type){if(o=r.done?y:v,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError((0,r.Z)(t)+" is not iterable")}return b.prototype=w,a(I,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},R(C.prototype),f(C.prototype,u,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},R(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}},87693:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(70942);function o(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,r.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},70942:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},80244:function(e,t,n){"use strict";n.r(t),n.d(t,{__addDisposableResource:function(){return P},__assign:function(){return i},__asyncDelegator:function(){return I},__asyncGenerator:function(){return O},__asyncValues:function(){return R},__await:function(){return S},__awaiter:function(){return h},__classPrivateFieldGet:function(){return k},__classPrivateFieldIn:function(){return M},__classPrivateFieldSet:function(){return D},__createBinding:function(){return g},__decorate:function(){return s},__disposeResources:function(){return L},__esDecorate:function(){return u},__exportStar:function(){return y},__extends:function(){return o},__generator:function(){return v},__importDefault:function(){return A},__importStar:function(){return x},__makeTemplateObject:function(){return C},__metadata:function(){return p},__param:function(){return c},__propKey:function(){return f},__read:function(){return _},__rest:function(){return a},__runInitializers:function(){return l},__setFunctionName:function(){return d},__spread:function(){return b},__spreadArray:function(){return E},__spreadArrays:function(){return w},__values:function(){return m}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?r.static?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d=!1,p=n.length-1;p>=0;p--){var h={};for(var v in r)h[v]="access"===v?{}:r[v];for(var v in r.access)h.access[v]=r.access[v];h.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var g=(0,n[p])("accessor"===c?{get:f.get,set:f.set}:f[u],h);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(s=a(g.get))&&(f.get=s),(s=a(g.set))&&(f.set=s),(s=a(g.init))&&o.unshift(s)}else(s=a(g))&&("field"===c?o.unshift(s):f[u]=s)}l&&Object.defineProperty(l,r.name,f),d=!0}function l(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function f(e){return"symbol"==typeof e?e:"".concat(e)}function d(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function v(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var g=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function y(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||g(t,e,n)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function E(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function O(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof S?Promise.resolve(e.value.v).then(c,u):l(i[0][2],e)}(o[e](t))}catch(n){l(i[0][3],n)}}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function I(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:!1}:o?o(t):t}:o}}function R(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var T=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&g(t,e,n);return T(t,e),t}function A(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function D(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function M(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function P(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var N="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function L(e){function t(t){e.error=e.hasError?new N(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(i){t(i)}}if(e.hasError)throw e.error}()}t.default={__extends:o,__assign:i,__rest:a,__decorate:s,__param:c,__metadata:p,__awaiter:h,__generator:v,__createBinding:g,__exportStar:y,__values:m,__read:_,__spread:b,__spreadArrays:w,__spreadArray:E,__await:S,__asyncGenerator:O,__asyncDelegator:I,__asyncValues:R,__makeTemplateObject:C,__importStar:x,__importDefault:A,__classPrivateFieldGet:k,__classPrivateFieldSet:D,__classPrivateFieldIn:M,__addDisposableResource:P,__disposeResources:L}}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var i={};return function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})}(document),function(){"use strict";o.r(i),o.d(i,{default:function(){return DM}});var e={};o.r(e),o.d(e,{__DO_NOT_USE__ActionTypes:function(){return Nt},applyMiddleware:function(){return Wt},bindActionCreators:function(){return Bt},combineReducers:function(){return Ut},compose:function(){return qt},createStore:function(){return jt}});o(81769),o(64544),o(20339),o(84847),o(43387),o(37569),o(53775),o(3532),o(98165);var t=o(46475),n=(o(9624),o(48879),o(25873),o(58534),o(13611),o(44005),o(20260),o(96205),o(6739),o(17596),o(72673),o(60990),o(85457),o(47259),o(80641),o(44871),o(32864),o(96276),o(14517),o(29775),o(88992),o(50970),o(78191),o(84837),o(88190),o(4988),o(99761),o(33078),o(58701),o(24713),o(10082)),r=o(85665),a=o(58966),s=o(46102),c=o(29848),u=o(85412),l=o(28276),f=o(67519);function d(e){if(Array.isArray(e))return e}var p=o(64917),h=o(45740);function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}"function"==typeof SuppressedError&&SuppressedError;var _={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.init(t,n)}return(0,a.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||_,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,m(m({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),w=new b,E=function(){function e(){(0,r.Z)(this,e),this.observers={}}return(0,a.Z)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function S(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function O(e){return null==e?"":""+e}function I(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return o()?{}:{obj:e,k:r(i.shift())}}function R(e,t,n){var r=I(e,t,Object);r.obj[r.k]=n}function C(e,t){var n=I(e,t),r=n.obj,o=n.k;if(r)return r[o]}function T(e,t,n){var r=C(e,n);return void 0!==r?r:C(t,n)}function x(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):x(e[r],t[r],n):e[r]=t[r]);return e}function A(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function D(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return k[e]})):e}var M="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,P=[" ",",","?","!",";"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),o=e,i=0;i<r.length;++i){if(!o)return;if("string"==typeof o[r[i]]&&i+1<r.length)return;if(void 0===o[r[i]]){for(var a=2,s=r.slice(i,i+a).join(n),c=o[s];void 0===c&&r.length>i+a;)a++,c=o[s=r.slice(i,i+a).join(n)];if(void 0===c)return;if(null===c)return null;if(t.endsWith(s)){if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s]}var u=r.slice(i+a).join(n);return u?U(c,u,n):void 0}o=o[r[i]]}return o}}var F=function(e){(0,c.Z)(n,e);var t=j(n);function n(e){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,r.Z)(this,n),o=t.call(this),M&&E.call((0,s.Z)(o)),o.data=e||{},o.options=i,void 0===o.options.keySeparator&&(o.options.keySeparator="."),void 0===o.options.ignoreJSONStructure&&(o.options.ignoreJSONStructure=!0),o}return(0,a.Z)(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=C(this.data,a);return s||!i||"string"!=typeof n?s:U(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:"addResource",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),R(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=C(this.data,a)||{};r?x(s,n,o):s=L(L({},s),n),R(this.data,a,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?L(L({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(E),B={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,o){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,r,o))})),t}};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var G={},H=function(e){(0,c.Z)(o,e);var t=V(o);function o(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)(this,o),n=t.call(this),M&&E.call((0,s.Z)(n)),function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,(0,s.Z)(n)),n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=w.create("translator"),n}return(0,a.Z)(o,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=P.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var o=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),i=!o.test(e);if(!i){var a=e.indexOf(n);a>0&&!o.test(e.substring(0,a))&&(i=!0)}return i}(e,n,r));if(i&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:o};var c=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(r)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==(0,n.Z)(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,c=this.extractFromKey(e[e.length-1],t),u=c.key,l=c.namespaces,f=l[l.length-1],d=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(p){var h=t.nsSeparator||this.options.nsSeparator;return a?(v.res="".concat(f).concat(h).concat(u),v):"".concat(f).concat(h).concat(u)}return a?(v.res=u,v):u}var v=this.resolve(e,t),g=v&&v.res,y=v&&v.usedKey||u,m=v&&v.exactUsedKey||u,_=Object.prototype.toString.apply(g),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&g&&("string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(_)<0&&("string"!=typeof b||"[object Array]"!==_)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,g,W(W({},t),{},{ns:l})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return a?(v.res=E,v):E}if(s){var S="[object Array]"===_,O=S?[]:{},I=S?m:y;for(var R in g)if(Object.prototype.hasOwnProperty.call(g,R)){var C="".concat(I).concat(s).concat(R);O[R]=this.translate(C,W(W({},t),{joinArrays:!1,ns:l})),O[R]===C&&(O[R]=g[R])}g=O}}else if(w&&"string"==typeof b&&"[object Array]"===_)(g=g.join(b))&&(g=this.extendTranslation(g,e,t,r));else{var T=!1,x=!1,A=void 0!==t.count&&"string"!=typeof t.count,k=o.hasDefaultValue(t),D=A?this.pluralResolver.getSuffix(d,t.count,t):"",M=t["defaultValue".concat(D)]||t.defaultValue;!this.isValidLookup(g)&&k&&(T=!0,g=M),this.isValidLookup(g)||(x=!0,g=u);var P=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:g,N=k&&M!==g&&this.options.updateMissing;if(x||T||N){if(this.logger.log(N?"updateKey":"missingKey",d,f,u,N?M:g),s){var L=this.resolve(u,W(W({},t),{},{keySeparator:!1}));L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var j=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var F=0;F<U.length;F++)j.push(U[F]);else"all"===this.options.saveMissingTo?j=this.languageUtils.toResolveHierarchy(t.lng||this.language):j.push(t.lng||this.language);var B=function(e,n,r){var o=k&&r!==g?r:P;i.options.missingKeyHandler?i.options.missingKeyHandler(e,f,n,o,N,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,f,n,o,N,t),i.emit("missingKey",e,f,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?j.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){B([e],u+n,t["defaultValue".concat(n)]||M)}))})):B(j,u,M))}g=this.extendTranslation(g,e,t,v,r),x&&g===u&&this.options.appendNamespaceToMissingKey&&(g="".concat(f,":").concat(u)),(x||T)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(f,":").concat(u):u,T?g:void 0):this.options.parseMissingKeyHandler(g))}return a?(v.res=g,v):g}},{key:"extendTranslation",value:function(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,W(W({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(W(W({},n),{interpolation:W(W({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var c=e.match(this.interpolator.nestingRegexp);a=c&&c.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=W(W({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):i.translate.apply(i,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,d="string"==typeof f?[f]:f;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=B.handle(d,e,t,this.options&&this.options.postProcessPassResolved?W({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var c=a.extractFromKey(e,s),u=c.key;n=u;var l=c.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,d=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(i=e,!G["".concat(h[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(G["".concat(h[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((function(n){if(!a.isValidLookup(t)){o=n;var i,c=[u];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(c,u,n,e,s);else{var l;f&&(l=a.pluralResolver.getSuffix(n,s.count,s));var h="".concat(a.options.pluralSeparator,"zero");if(f&&(c.push(u+l),d&&c.push(u+h)),p){var v="".concat(u).concat(a.options.contextSeparator).concat(s.context);c.push(v),f&&(c.push(v+l),d&&c.push(v+h))}}for(;i=c.pop();)a.isValidLookup(t)||(r=i,t=a.getResource(n,e,i,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),o}(E);function K(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Q=function(){function e(t){(0,r.Z)(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=w.create("languageUtils")}return(0,a.Z)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=K(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=K(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=K(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),r.forEach((function(e){o.indexOf(e)<0&&i(n.formatLanguageCode(e))})),o}}]),e}(),Y=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Z={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},z=["v1","v2","v3"],$={zero:0,one:1,two:2,few:3,many:4,other:5};var J=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.languageUtils=t,this.options=n,this.logger=w.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){var e={};return Y.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:Z[t.fc]}}))})),e}()}return(0,a.Z)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:n.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return $[e]-$[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),o=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!z.includes(this.options.compatibilityJSON)}}]),e}();function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),this.logger=w.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,a.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:D,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?A(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?A(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?A(t.nestingPrefix):t.nestingPrefixEscaped||A("$t("),this.nestingSuffix=t.nestingSuffix?A(t.nestingSuffix):t.nestingSuffixEscaped||A(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var o,i,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var o=T(t,c,e);return s.alwaysFormat?s.format(o,void 0,n,ee(ee(ee({},r),t),{},{interpolationkey:e})):o}var i=e.split(s.formatSeparator),a=i.shift().trim(),u=i.join(s.formatSeparator).trim();return s.format(T(t,c,a),u,n,ee(ee(ee({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,p=[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}];return p.forEach((function(t){for(a=0;o=t.regex.exec(e);){var n=o[1].trim();if(void 0===(i=l(n)))if("function"==typeof f){var c=f(e,o,r);i="string"==typeof c?c:""}else if(r&&r.hasOwnProperty(n))i="";else{if(d){i=o[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=O(i));var u=t.safeValue(i);if(e=e.replace(o[0],u),d?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=ee({},i);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);e=r[0],o=(o=this.interpolate(o,a)).replace(/'/g,'"');try{a=JSON.parse(o),t&&(a=ee(ee({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(o)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),c=l,u=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=O(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=c.reduce((function(e,t){return o.format(e,t,i.lng,ee(ee({},i),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);if("currency"===t&&o.indexOf(":")<0)n.currency||(n.currency=o.trim());else if("relativetime"===t&&o.indexOf(":")<0)n.range||(n.range=o.trim());else{o.split(";").forEach((function(e){if(e){var t,r=e.split(":"),o=d(t=r)||(0,p.Z)(t)||(0,h.Z)(t)||v(),i=o[0],a=o.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[i.trim()]||(n[i.trim()]=a),"false"===a&&(n[i.trim()]=!1),"true"===a&&(n[i.trim()]=!0),isNaN(a)||(n[i.trim()]=parseInt(a,10))}}))}}return{formatName:t,formatOptions:n}}var ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),this.logger=w.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,re(re({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,re({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,re({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,re({},n)).format(e)}},this.init(t)}return(0,a.Z)(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,r){var o=this,i=t.split(this.formatSeparator).reduce((function(e,t){var i=oe(t),a=i.formatName,s=i.formatOptions;if(o.formats[a]){var c=e;try{var u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=u.locale||u.lng||r.locale||r.lng||n;c=o.formats[a](e,l,re(re(re({},s),r),u))}catch(e){o.logger.warn(e)}return c}return o.logger.warn("there was no format function for ".concat(a)),e}),e);return i}}]),e}();function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var ue=function(e){(0,c.Z)(n,e);var t=ce(n);function n(e,o,i){var a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,r.Z)(this,n),a=t.call(this),M&&E.call((0,s.Z)(a)),a.backend=e,a.store=o,a.services=i,a.languageUtils=i.languageUtils,a.options=c,a.logger=w.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=c.maxParallelReads||10,a.readingCalls=0,a.maxRetries=c.maxRetries>=0?c.maxRetries:5,a.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,c.backend,c),a}return(0,a.Z)(n,[{key:"queueLoad",value:function(e,t,n,r){var o=this,i={},a={},s={},c={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===a[s]&&(a[s]=!0):(o.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===c[t]&&(c[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),n&&this.store.addResourceBundle(o,i,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var o=I(e,t,Object),i=o.obj,a=o.k;i[a]=i[a]||[],r&&(i[a]=i[a].concat(n)),r||i[a].push(n)}(n.loaded,[o],i),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:i,callback:a}):(this.readingCalls++,this.backend[n](e,t,(function(s,c){if(r.readingCalls--,r.waitingReads.length>0){var u=r.waitingReads.shift();r.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}s&&c&&o<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,o+1,2*i,a)}),i):a(s,c)}))):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,se(se({},i),{},{isUpdate:o})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),n}(E);function le(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}function he(){}var ve=function(e){(0,c.Z)(o,e);var t=pe(o);function o(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,r.Z)(this,o),e=t.call(this),M&&E.call((0,s.Z)(e)),e.options=le(n),e.services={},e.logger=w,e.modules={external:[]},function(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}((0,s.Z)(e)),i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),(0,u.Z)(e,(0,s.Z)(e));setTimeout((function(){e.init(n,i)}),0)}return e}return(0,a.Z)(o,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(r=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var o={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===(0,n.Z)(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===(0,n.Z)(e[2])||"object"===(0,n.Z)(e[3])){var r=e[3]||e[2];Object.keys(r).forEach((function(e){t[e]=r[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=de(de(de({},o),this.options),le(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=de(de({},o.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var a;this.modules.logger?w.init(i(this.modules.logger),this.options):w.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!=typeof Intl&&(a=ie);var s=new Q(this.options);this.store=new F(this.options.resources,this.options);var c=this.services;c.logger=w,c.resourceStore=this.store,c.languageUtils=s,c.pluralResolver=new J(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(c.formatter=i(a),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new te(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new ue(i(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(c.languageDetector=i(this.modules.languageDetector),c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=i(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new H(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,r||(r=he),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var l=S(),f=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),l.resolve(n),r(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),l}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)i(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return i(e)}));this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=S();return e||(e=this.languages),t||(t=this.options.ns),n||(n=he),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&B.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=S();this.emit("languageChanging",e);var o=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},i=function(e,i){i?(o(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))},a=function(t){e||t||!n.services.languageDetector||(t=[]);var r="string"==typeof t?t:n.services.languageUtils.getBestMatchFromCodes(t);r&&(n.language||o(r),n.translator.language||n.translator.changeLanguage(r),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(r)),n.loadResources(r,(function(e){i(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,r){var o=this,i=function e(t,i){var a;if("object"!==(0,n.Z)(i)){for(var s=arguments.length,c=new Array(s>2?s-2:0),u=2;u<s;u++)c[u-2]=arguments[u];a=o.options.overloadTranslationOptionHandler([t,i].concat(c))}else a=de({},i);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||r||e.keyPrefix;var l=o.options.keySeparator||".",f=a.keyPrefix?"".concat(a.keyPrefix).concat(l).concat(t):t;return o.t(f,a)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||o&&!a(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=S();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=S();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],o=e.filter((function(e){return r.indexOf(e)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,r=de(de(de({},this.options),t),{isClone:!0}),i=new o(r);return["store","services","language"].forEach((function(t){i[t]=e[t]})),i.services=de({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new H(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e].concat(n))})),i.init(r,n),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),o}(E);(0,f.Z)(ve,"createInstance",(function(){return new ve(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var ge=ve.createInstance();ge.createInstance=ve.createInstance,ge.createInstance,ge.init,ge.loadResources,ge.reloadResources,ge.use,ge.changeLanguage,ge.getFixedT,ge.t,ge.exists,ge.setDefaultNamespace,ge.hasLoadedNamespace,ge.loadNamespaces,ge.loadLanguages;var ye=[],me=ye.forEach,_e=ye.slice;var be=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,we=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+60*n*1e3)),r&&(o.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var o=e+"="+encodeURIComponent(t);if(r.maxAge>0){var i=r.maxAge-0;if(isNaN(i))throw new Error("maxAge should be a Number");o+="; Max-Age="+Math.floor(i)}if(r.domain){if(!be.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!be.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}(e,encodeURIComponent(t),o)},Ee=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},Se={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=Ee(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&we(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},Oe={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var o=n[r].indexOf("=");if(o>0)n[r].substring(0,o)===e.lookupQuerystring&&(t=n[r].substring(o+1))}return t}},Ie=null,Re=function(){if(null!==Ie)return Ie;try{Ie="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(t){Ie=!1}return Ie},Ce={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&Re()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Re()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Te=null,xe=function(){if(null!==Te)return Te;try{Te="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(t){Te=!1}return Te},Ae={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&xe()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&xe()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},ke={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},De={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},Me={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},Pe={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}};var Ne=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return(0,a.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return me.call(_e.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Se),this.addDetector(Oe),this.addDetector(Ce),this.addDetector(Ae),this.addDetector(ke),this.addDetector(De),this.addDetector(Me),this.addDetector(Pe)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();Ne.type="languageDetector";var Le=new Ne;Le.addDetector({name:"userAgent",lookup:function(){var e=navigator.userAgent.match(/language\/([a-zA-Z'-_]+)/i);if(e)return e[1].replace("_","-")}});var je="";function Ue(e,t,n){void 0===e&&(e=""),void 0===t&&(t={}),void 0===n&&(n={});var r=n.nsSeparator,o=void 0!==r&&r,i=n.keySeparator,a=void 0!==i&&i;ge.isInitialized||(je=e,ge.use(Le).init({resources:t,defaultNS:e,fallbackLng:{default:["zh-CN"],en:["en-US"],zh:["zh-CN"],"zh-TW":["zh-HK"],"en-US":["zh-CN"],"zh-HK":["zh-CN"]},interpolation:{escapeValue:!1},nsSeparator:o,keySeparator:a,detection:{order:["querystring","userAgent","cookie","localStorage"],lookupCookie:"language",lookupQuerystring:"lng",lookupLocalStorage:"language",caches:[]}})),Object.entries(t).map((function(t){var n=g(t,2),r=n[0],o=n[1];ge.addResources(r,je,o[e])}))}var Fe,Be=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ge.t.apply(ge,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],g(e),!1));return n||e[0]};!function(e){e.CN="zh-CN",e.US="en-US",e.HK="zh-HK"}(Fe||(Fe={}));new Map([[Fe.CN,["zh","zh-CN"]],[Fe.HK,["zh-HK"]],[Fe.US,["en","en-US"]]]),Fe.CN;Ue("title",t);var qe=o(1024),We=o.n(qe),Ve=o(30314),Ge=We().createContext(null);var He=function(e){e()},Ke=function(){return He};var Qe={notify:function(){},get:function(){return[]}};function Ye(e,t){var n,r=Qe;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=Ke(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Qe)},getListeners:function(){return r}};return a}var Ze="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?qe.useLayoutEffect:qe.useEffect;var ze=function(e){var t=e.store,n=e.context,r=e.children,o=(0,qe.useMemo)((function(){var e=Ye(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=(0,qe.useMemo)((function(){return t.getState()}),[t]);Ze((function(){var e=o.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var a=n||Ge;return We().createElement(a.Provider,{value:o},r)};function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}function Je(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var Xe=o(21359),et=o.n(Xe),tt=o(58155),nt=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],rt=["reactReduxForwardedRef"],ot=[],it=[null,null];function at(e,t){var n=e[1];return[t.payload,n+1]}function st(e,t,n){Ze((function(){return e.apply(void 0,t)}),n)}function ct(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function ut(e,t,n,r,o,i,a,s,c,u){if(e){var l=!1,f=null,d=function(){if(!l){var e,n,d=t.getState();try{e=r(d,o.current)}catch(p){n=p,f=p}n||(f=null),e===i.current?a.current||c():(i.current=e,s.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var lt=function(){return[null,0]};function ft(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,a=void 0===i?"connectAdvanced":i,s=n.renderCountProp,c=void 0===s?void 0:s,u=n.shouldHandleStateChanges,l=void 0===u||u,f=n.storeKey,d=void 0===f?"store":f,p=(n.withRef,n.forwardRef),h=void 0!==p&&p,v=n.context,g=void 0===v?Ge:v,y=Je(n,nt),m=g;return function(t){var n=t.displayName||t.name||"Component",r=o(n),i=$e({},y,{getDisplayName:o,methodName:a,renderCountProp:c,shouldHandleStateChanges:l,storeKey:d,displayName:r,wrappedComponentName:n,WrappedComponent:t}),s=y.pure;var u=s?qe.useMemo:function(e){return e()};function f(n){var r=(0,qe.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Je(n,rt);return[n.context,e,t]}),[n]),o=r[0],a=r[1],s=r[2],c=(0,qe.useMemo)((function(){return o&&o.Consumer&&(0,tt.isContextConsumer)(We().createElement(o.Consumer,null))?o:m}),[o,m]),f=(0,qe.useContext)(c),d=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var p=d?n.store:f.store,h=(0,qe.useMemo)((function(){return function(t){return e(t.dispatch,i)}(p)}),[p]),v=(0,qe.useMemo)((function(){if(!l)return it;var e=Ye(p,d?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,d,f]),g=v[0],y=v[1],_=(0,qe.useMemo)((function(){return d?f:$e({},f,{subscription:g})}),[d,f,g]),b=(0,qe.useReducer)(at,ot,lt),w=b[0][0],E=b[1];if(w&&w.error)throw w.error;var S=(0,qe.useRef)(),O=(0,qe.useRef)(s),I=(0,qe.useRef)(),R=(0,qe.useRef)(!1),C=u((function(){return I.current&&s===O.current?I.current:h(p.getState(),s)}),[p,w,s]);st(ct,[O,S,R,s,C,I,y]),st(ut,[l,p,g,h,O,S,R,I,y,E],[p,g,h]);var T=(0,qe.useMemo)((function(){return We().createElement(t,$e({},C,{ref:a}))}),[a,t,C]);return(0,qe.useMemo)((function(){return l?We().createElement(c.Provider,{value:_},T):T}),[c,T,_])}var p=s?We().memo(f):f;if(p.WrappedComponent=t,p.displayName=f.displayName=r,h){var v=We().forwardRef((function(e,t){return We().createElement(p,$e({},e,{reactReduxForwardedRef:t}))}));return v.displayName=r,v.WrappedComponent=t,et()(v,t)}return et()(p,t)}}function dt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function pt(e,t){if(dt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!dt(e[n[o]],t[n[o]]))return!1;return!0}function ht(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function vt(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function gt(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=vt(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=vt(o),o=r(t,n)),o},r}}var yt=[function(e){return"function"==typeof e?gt(e):void 0},function(e){return e?void 0:ht((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?ht((function(t){return function(e,t){var n={},r=function(r){var o=e[r];"function"==typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}(e,t)})):void 0}];var mt=[function(e){return"function"==typeof e?gt(e):void 0},function(e){return e?void 0:ht((function(){return{}}))}];function _t(e,t,n){return $e({},n,e,t)}var bt=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?o&&i(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return _t}}],wt=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Et(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function St(e,t,n,r,o){var i,a,s,c,u,l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1;function h(o,p){var h,v,g=!f(p,a),y=!l(o,i);return i=o,a=p,g&&y?(s=e(i,a),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):g?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):y?(h=e(i,a),v=!d(h,s),s=h,v&&(u=n(s,c,a)),u):u}return function(o,l){return p?h(o,l):(s=e(i=o,a=l),c=t(r,a),u=n(s,c,a),p=!0,u)}}function Ot(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=Je(t,wt),a=n(e,i),s=r(e,i),c=o(e,i);return(i.pure?St:Et)(a,s,c,e,i)}var It=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Rt(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Ct(e,t){return e===t}function Tt(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?ft:n,o=t.mapStateToPropsFactories,i=void 0===o?mt:o,a=t.mapDispatchToPropsFactories,s=void 0===a?yt:a,c=t.mergePropsFactories,u=void 0===c?bt:c,l=t.selectorFactory,f=void 0===l?Ot:l;return function(e,t,n,o){void 0===o&&(o={});var a=o,c=a.pure,l=void 0===c||c,d=a.areStatesEqual,p=void 0===d?Ct:d,h=a.areOwnPropsEqual,v=void 0===h?pt:h,g=a.areStatePropsEqual,y=void 0===g?pt:g,m=a.areMergedPropsEqual,_=void 0===m?pt:m,b=Je(a,It),w=Rt(e,i,"mapStateToProps"),E=Rt(t,s,"mapDispatchToProps"),S=Rt(n,u,"mergeProps");return r(f,$e({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:E,initMergeProps:S,pure:l,areStatesEqual:p,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:_},b))}}var xt=Tt();var At;At=Ve.unstable_batchedUpdates,He=At;var kt=o(16517);function Dt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Mt="function"==typeof Symbol&&Symbol.observable||"@@observable",Pt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Nt={INIT:"@@redux/INIT"+Pt(),REPLACE:"@@redux/REPLACE"+Pt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Pt()}};function Lt(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function jt(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Dt(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Dt(1));return n(jt)(e,t)}if("function"!=typeof e)throw new Error(Dt(2));var o=e,i=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error(Dt(3));return i}function f(e){if("function"!=typeof e)throw new Error(Dt(4));if(c)throw new Error(Dt(5));var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error(Dt(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!Lt(e))throw new Error(Dt(7));if(void 0===e.type)throw new Error(Dt(8));if(c)throw new Error(Dt(9));try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:Nt.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Dt(10));o=e,d({type:Nt.REPLACE})}})[Mt]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Dt(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Mt]=function(){return this},e},r}function Ut(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:Nt.INIT}))throw new Error(Dt(12));if(void 0===n(void 0,{type:Nt.PROBE_UNKNOWN_ACTION()}))throw new Error(Dt(13))}))}(n)}catch(s){i=s}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=e[c],f=u(l,t);if(void 0===f){t&&t.type;throw new Error(Dt(14))}o[c]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?o:e}}function Ft(e,t){return function(){return t(e.apply(this,arguments))}}function Bt(e,t){if("function"==typeof e)return Ft(e,t);if("object"!=typeof e||null===e)throw new Error(Dt(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=Ft(o,t))}return n}function qt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Wt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Dt(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=qt.apply(void 0,i)(n.dispatch),(0,kt.Z)((0,kt.Z)({},n),{},{dispatch:r})}}}function Vt(){return Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}function Gt(t){var n;t.models.forEach((function(e){return Ht(t,e)}));var r=Kt(t),o=Wt.apply(e,t.reduxConfig.middlewares),i=t.reduxConfig.devtoolComposer?(n=t.reduxConfig).devtoolComposer.apply(n,t.reduxConfig.enhancers.concat([o])):function(e){void 0===e&&(e={});return!e.disabled&&"object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(e):qt}(t.reduxConfig.devtoolOptions).apply(void 0,t.reduxConfig.enhancers.concat([o])),a=t.reduxConfig.createStore||jt,s=t.reduxConfig.initialState;return a(r,void 0===s?{}:s,i)}function Ht(e,t){var n={};Object.keys(t.reducers).forEach((function(e){var r=function(e){return e.indexOf("/")>-1}(e)?e:t.name+"/"+e;n[r]=t.reducers[e]}));var r=function(e,r){return void 0===e&&(e=t.state),r.type in n?n[r.type](e,r.payload,r.meta):e},o=t.baseReducer,i=o?function(e,n){return void 0===e&&(e=t.state),r(o(e,n),n)}:r;e.forEachPlugin("onReducer",(function(n){i=n(i,t.name,e)||i})),e.reduxConfig.reducers[t.name]=i}function Kt(e){var t=e.reduxConfig.rootReducers,n=function(e){var t=e.combineReducers||Ut;if(!Object.keys(e.reducers).length)return function(e){return e};return t(e.reducers)}(e.reduxConfig),r=n;return t&&Object.keys(t).length&&(r=function(e,r){var o=t[r.type];return n(o?o(e,r):e,r)}),e.forEachPlugin("onRootReducer",(function(t){r=t(r,e)||r})),r}var Qt=function(e){},Yt=function(e,t,n,r){return Object.assign((function(r,o){var i={type:t+"/"+n};return void 0!==r&&(i.payload=r),void 0!==o&&(i.meta=o),e.dispatch(i)}),{isEffect:r})},Zt=function(e,t){var n=e.dispatch[t.name];Object.keys(t.reducers).forEach((function(r){t.name,t.reducers,n[r]=Yt(e,t.name,r,!1)}))},zt=function(e,t,n){var r=e.dispatch[n.name],o={};n.effects&&(o="function"==typeof n.effects?n.effects(e.dispatch):n.effects),Object.keys(o).forEach((function(i){n.name,t.effects[n.name+"/"+i]=o[i].bind(r),r[i]=Yt(e,n.name,i,!0)}))};function $t(e){return{models:(t=e.models,Object.keys(t).map((function(e){var n=function(e,t){return Vt({name:e,reducers:{}},t)}(e,t[e]);return Qt(n),n}))),reduxConfig:e.redux,forEachPlugin:function(t,n){e.plugins.forEach((function(e){e[t]&&n(e[t])}))},effects:{}};var t}function Jt(e){var t=$t(e);t.reduxConfig.middlewares.push(function(e){return function(t){return function(n){return function(r){return r.type in e.effects?(n(r),e.effects[r.type](r.payload,t.getState(),r.meta)):n(r)}}}}(t)),t.forEachPlugin("createMiddleware",(function(e){t.reduxConfig.middlewares.push(e(t))}));var n,r=Gt(t),o=Vt({},r,{name:e.name,addModel:function(e){Qt(e),Ht(t,e),Xt(o,e),en(o,t,e),r.replaceReducer(Kt(t)),r.dispatch({type:"@@redux/REPLACE"})}});return n=o,e.plugins.forEach((function(e){e.exposed&&Object.keys(e.exposed).forEach((function(t){if(e.exposed){var r=e.exposed[t],o="function"==typeof r;n[t]=o?function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return r.apply(void 0,[n].concat(t))}:Object.create(e.exposed[t])}}))})),t.models.forEach((function(e){return Xt(o,e)})),t.models.forEach((function(e){return en(o,t,e)})),t.forEachPlugin("onStoreCreated",(function(e){o=e(o,t)||o})),o}function Xt(e,t){e.dispatch[""+t.name]={},Zt(e,t)}function en(e,t,n){zt(e,t,n),t.forEachPlugin("onModel",(function(t){t(n,e)}))}var tn=0;function nn(e,t){return t?Vt({},t,e):e}var rn=function(e){var t=function(e){var t,n,r,o=null!=(t=e.name)?t:"Rematch Store "+tn;tn+=1;var i={name:o,models:e.models||{},plugins:e.plugins||[],redux:Vt({reducers:{},rootReducers:{},enhancers:[],middlewares:[]},e.redux,{devtoolOptions:Vt({name:o},null!=(n=null==(r=e.redux)?void 0:r.devtoolOptions)?n:{})})};return i.plugins.forEach((function(e){e.config&&(i.models=nn(i.models,e.config.models),e.config.redux&&(i.redux.initialState=nn(i.redux.initialState,e.config.redux.initialState),i.redux.reducers=nn(i.redux.reducers,e.config.redux.reducers),i.redux.rootReducers=nn(i.redux.rootReducers,e.config.redux.reducers),i.redux.enhancers=[].concat(i.redux.enhancers,e.config.redux.enhancers||[]),i.redux.middlewares=[].concat(i.redux.middlewares,e.config.redux.middlewares||[]),i.redux.combineReducers=i.redux.combineReducers||e.config.redux.combineReducers,i.redux.createStore=i.redux.createStore||e.config.redux.createStore))})),i}(e||{});return Jt(t)};var on=o(80563),an=o.n(on);o(97752);var sn,cn,un,ln=o(85153),fn=o(95442),dn=o(84986),pn=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/kswps","application/kswpt","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],hn=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","text/csv","text/csv; charset=utf-8","application/vnd.ms-excel.sheet.binary.macroEnabled.12","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/kset","application/ksett"],vn=["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/ksdps","application/ksdpt","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],gn=["text/lrc","text/asp; charset=utf-8","application/x-msdownload","text/richtext; charset=utf-8","text/plain","text/plain; charset=utf-8","text/xml","text/html","text/html; charset=utf-8","text/markdown"],yn=["text/x-c; charset=utf-8","text/x-c; charset=utf-8","text/x-chdr","text/x-asm; charset=utf-8","text/x-java-source; charset=utf-8","text/javascript","text/x-go"],mn=["application/vnd.ms-visio.drawing","application/x-visio","application/vnd.ms-visio.drawing.main+xml"],_n=["application/vnd.pos"];function bn(e){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(e)}function wn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==bn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var En=function(e){return e.Doc="application/vnd.tdocs-apps.doc",e.Sheet="application/vnd.tdocs-apps.sheet",e.Form="application/vnd.tdocs-apps.form",e.Folder="application/vnd.tdocs-apps.folder",e.CollaborationSpace="application/vnd.tdocs-apps.collaboration-space",e.CollaborationSpaceRoot="application/vnd.tdocs-apps.collaboration-space-root",e.SharedFolder="application/vnd.tdocs-apps.shared-folder",e.Share="application/vnd.tdocs-apps.share-folder",e.Slide="application/vnd.tdocs-apps.slide",e.Pdf="application/pdf",e.Aio="application/vnd.tdocs-apps.aio",e.SmartCanvas="application/vnd.tdocs-apps.smartcanvas",e.SmartSheet="application/vnd.tdocs-apps.smartsheet",e.Mind="application/vnd.tdocs-apps.mind",e.FlowChart="application/vnd.tdocs-apps.flowchart",e.Board="application/vnd.tdocs-apps.board",e.Rec="application/vnd.tdocs-apps.rec",e.Word="application/vnd.ms-word",e.Excel="application/vnd.ms-excel",e.Powerpoint="application/vnd.ms-powerpoint",e.Txt="text/plain",e.Pixso="application/vnd.tdocs-addon-image.236b7f64e91e40b584f2aae0517ee1ed",e.Boardmix="application/vnd.tdocs-addon-image.e3e96c1968114db986a9229003965853",e.Zhiying="application/vnd.tdocs-addon-image.9e2c26161b684629a9bf29e52efa6c60",e.Code="code",e.Default="application/vnd.tdocs-apps.default",e.Image="image",e.Audio="audio",e.Video="video",e.Zip="application/zip",e}({}),Sn=function(e){return e[e.Doc=0]="Doc",e[e.Sheet=1]="Sheet",e[e.Form=2]="Form",e[e.Folder=3]="Folder",e[e.Slide=4]="Slide",e[e.Pdf=6]="Pdf",e[e.Aio=7]="Aio",e[e.SmartCanvas=8]="SmartCanvas",e[e.SmartSheet=9]="SmartSheet",e[e.Unknown=10]="Unknown",e[e.Board=12]="Board",e[e.Mind=90]="Mind",e[e.Flowchart=91]="Flowchart",e[e.FlowChart=91]="FlowChart",e[e.Drive=101]="Drive",e[e.Rec=102]="Rec",e}({}),On=function(e){return e.Doc="doc",e.Sheet="sheet",e.Slide="slide",e.Form="form",e.Pdf="pdf",e.Mind="mind",e.FlowChart="flowchart",e.Aio="Aio",e.Folder="folder",e.SmartCanvas="smartcanvas",e.SmartSheet="smartsheet",e.Board="board",e.Drive="drive",e.Rec="rec",e}({});wn(sn={},Sn.Doc,En.Doc),wn(sn,Sn.Sheet,En.Sheet),wn(sn,Sn.Slide,En.Slide),wn(sn,Sn.Form,En.Form),wn(sn,Sn.SmartCanvas,En.SmartCanvas),wn(sn,Sn.Mind,En.Mind),wn(sn,Sn.FlowChart,En.FlowChart),wn(sn,Sn.Rec,En.Rec),wn(sn,Sn.Pdf,En.Pdf),wn(sn,Sn.Aio,En.Aio),wn(sn,Sn.Board,En.Board),Sn.Doc,Sn.Sheet,Sn.Slide,En.Form,Sn.Form,En.SmartCanvas,Sn.SmartCanvas,En.SmartSheet,Sn.SmartSheet,En.Doc,Sn.Doc,En.Sheet,Sn.Sheet,En.Slide,Sn.Slide,En.Mind,Sn.Mind,En.FlowChart,Sn.FlowChart,En.Board,Sn.Board,Sn.Doc,Sn.Doc,En.Pdf,Sn.Pdf,Sn.FlowChart,Sn.Mind,En.Folder,Sn.Folder,wn(cn={},On.Doc,En.Word),wn(cn,On.Sheet,En.Excel),wn(cn,On.Slide,En.Powerpoint),wn(un={},On.Doc,En.Doc),wn(un,On.Sheet,En.Sheet),wn(un,On.Slide,En.Slide),wn(un,On.Form,En.Form),wn(un,On.SmartCanvas,En.SmartCanvas),wn(un,On.Mind,En.Mind),wn(un,On.FlowChart,En.FlowChart),wn(un,On.Pdf,En.Pdf),wn(un,On.Aio,En.Aio),wn(un,On.SmartSheet,En.SmartSheet),wn(un,On.Board,En.Board),On.Drive,On.Drive,On.Drive,En.Form,On.Form,En.SmartCanvas,On.SmartCanvas,En.SmartSheet,On.SmartSheet,En.Doc,On.Doc,En.Sheet,On.Sheet,En.Slide,On.Slide,En.Mind,On.Mind,En.FlowChart,On.FlowChart,En.Board,On.Board,On.Drive,On.Drive,En.Pdf,On.Pdf,On.FlowChart,On.Mind,On.Drive,On.Drive,On.Drive,En.Rec,On.Rec;var In,Rn,Cn="Escape",Tn="Enter",xn=0,An=12e3,kn=0,Dn=200,Mn=((In={})[On.Doc]=".docx",In[On.Sheet]=".xlsx",In[On.Slide]=".pptx",In[On.Pdf]=".pdf",(Rn={})[On.Doc]=Be("无标题文档"),Rn[On.Sheet]=Be("无标题表格"),Rn[On.Slide]=Be("无标题幻灯片"),Rn[On.Pdf]=Be("无标题PDF"),Rn[On.Aio]=Be("无标题小应用"),Rn[On.Mind]=Be("无标题思维导图"),Rn[On.FlowChart]=Be("无标题流程图"),Rn[On.SmartCanvas]=Be("无标题智能文档"),Rn[On.SmartSheet]=Be("无标题智能表格"),Rn[On.Board]=Be("无标题白板"),Rn),Pn=(o(72416),{});function Nn(){return"undefined"!=typeof window}function Ln(){return void 0!==o.g}var jn=Nn()?window:Ln()?o.g:Nn||"undefined"==typeof self?(Ln()&&o.g.describe,Pn):self;var Un,Fn="document";function Bn(e){if(!function(e,t){return null!==e&&Object.prototype.hasOwnProperty.call(e,t)}(jn,Fn))return null;var t=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)")),n=document.cookie.match(t);return(n?n[1]:null)||null}!function(e){e.xsrf="TOK",e.devRouteId="dev_route_id",e.devOaName="dev_oa_name",e.fd="fd",e.envId="env_id",e.sid="SID",e.sids="SID_S",e.uid="uid",e.uidKey="uid_key",e.uin="uin",e.loginTime="loginTime",e.hasBeenLogin="has_been_login",e.adtag="adtag",e.plUin="p_luin",e.pUin="p_uin",e.pSkey="p_skey",e.plSkey="p_lskey"}(Un||(Un={}));var qn,Wn,Vn,Gn;!function(e){e[e.error=-1]="error",e[e.owner=0]="owner",e[e.writer=1]="writer",e[e.reader=2]="reader"}(qn||(qn={})),function(e){e.CLIENT="client",e.MOBILE="mobile",e.WECHAT="wechat",e.BROWSER="browser",e.OTHER="other"}(Wn||(Wn={})),function(e){e.ANDROID="android",e.iOS="iOS",e.WIN="win",e.MAC="mac",e.OTHER="other"}(Vn||(Vn={})),function(e){e.tab_timeline="tab-timeline",e.tab_all="tab-all",e.detail="detail",e.setting_auth="setting-auth",e.template="template",e.error="error",e.activities="activities",e.login="login",e.member="member",e.tab_container="tab-container",e.tab_icon="tab-icon",e.m_setting_auth="m-setting-auth",e.m_detail_menu="m-detail-menu",e.m_tab_all_menu="m-tab-all-menu",e.m_activities="m- activities",e.m_member="m-member",e.m_form_app="m-form-app",e.m_gourp_form_app="m-gourp-form-app",e.m_tab_timeline="m-tab-timeline",e.m_tab_all="m-tab-all",e.m_group_doc="m-group-doc"}(Gn||(Gn={}));"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==o.g?o.g:"undefined"!=typeof self&&self;var Hn={exports:{}};!function(e,t){"undefined"!=typeof window&&window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=73)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(18)("wks"),o=n(17),i=n(0).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(0),o=n(15),i=n(11),a=n(12),s=n(19),c=function(e,t,n){var u,l,f,d,p=e&c.F,h=e&c.G,v=e&c.S,g=e&c.P,y=e&c.B,m=h?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,_=h?o:o[t]||(o[t]={}),b=_.prototype||(_.prototype={});for(u in h&&(n=t),n)f=((l=!p&&m&&void 0!==m[u])?m:n)[u],d=y&&l?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,m&&a(m,u,f,e&c.U),_[u]!=f&&i(_,u,d),g&&b[u]!=f&&(b[u]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(2),o=n(24),i=n(16),a=Object.defineProperty;t.f=n(1)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(14),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(7),o=n(26);e.exports=n(1)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(0),o=n(11),i=n(13),a=n(17)("src"),s=n(45),c=(""+s).split("toString");n(15).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(15),o=n(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(46)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(27);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(8);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(31),o=n(8);e.exports=function(e){return r(o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r,o,i=n(40),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,u=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(e){var t,n,r,o,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),u&&(t=c.lastIndex),r=a.call(c,e),u&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),l&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},function(e,t,n){e.exports=!n(1)&&!n(3)((function(){return 7!=Object.defineProperty(n(25)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(4)("unscopables"),o=Array.prototype;null==o[r]&&n(11)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(19),o=n(31),i=n(20),a=n(9),s=n(50);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,g,y=i(t),m=o(y),_=r(s,h,3),b=a(m.length),w=0,E=n?p(t,b):c?p(t,0):void 0;b>w;w++)if((d||w in m)&&(g=_(v=m[w],w,y),e))if(n)E[w]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:E.push(v)}else if(l)return!1;return f?-1:u||l?l:E}}},function(e,t,n){var r=n(10);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(5),o=n(54).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(55),o=n(26),i=n(21),a=n(16),s=n(13),c=n(24),u=Object.getOwnPropertyDescriptor;t.f=n(1)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(35),o=n(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(13),o=n(21),i=n(56)(!1),a=n(36)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(18)("keys"),o=n(17);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(5),o=n(10),i=n(4)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(65)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(66),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){n(67);var r=n(12),o=n(11),i=n(3),a=n(8),s=n(4),c=n(23),u=s("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),p=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!t})):void 0;if(!p||!h||"replace"===e&&!l||"split"===e&&!f){var v=/./[d],g=n(a,d,""[e],(function(e,t,n,r,o){return t.exec===c?p&&!o?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=g[0],m=g[1];r(String.prototype,e,y),o(RegExp.prototype,d,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(6);r(r.S+r.F*!n(1),"Object",{defineProperty:n(7).f})},function(e,t,n){e.exports=n(18)("native-function-to-string",Function.toString)},function(e,t){e.exports=!1},function(e,t,n){var r=n(6);r(r.P,"Array",{fill:n(48)}),n(29)("fill")},function(e,t,n){var r=n(20),o=n(28),i=n(9);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)t[s++]=e;return t}},function(e,t,n){var r=n(6),o=n(30)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(29)("find")},function(e,t,n){var r=n(51);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(5),o=n(52),i=n(4)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(10);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),o=n(13),i=n(10),a=n(32),s=n(16),c=n(3),u=n(34).f,l=n(33).f,f=n(7).f,d=n(57).trim,p=r.Number,h=p,v=p.prototype,g="Number"==i(n(59)(v)),y="trim"in String.prototype,m=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>o)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(g?c((function(){v.valueOf.call(n)})):"Number"!=i(n))?a(new h(m(t)),n,p):m(t)};for(var _,b=n(1)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)o(h,_=b[w])&&!o(p,_)&&f(p,_,l(h,_));p.prototype=v,v.constructor=p,n(12)(r,"Number",p)}},function(e,t,n){var r=n(5),o=n(2),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(19)(Function.call,n(33).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(21),o=n(9),i=n(28);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(6),o=n(8),i=n(3),a=n(58),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(e,t,n){var o={},s=i((function(){return!!a[e]()||"​"!="​"[e]()})),c=o[e]=s?t(f):a[e];n&&(o[n]=c),r(r.P+r.F*s,"String",o)},f=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(2),o=n(60),i=n(22),a=n(36)("IE_PROTO"),s=function(){},c=function(){var e,t=n(25)("iframe"),r=i.length;for(t.style.display="none",n(62).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(7),o=n(2),i=n(61);e.exports=n(1)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(35),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(0).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(37),o=n(2),i=n(64),a=n(38),s=n(9),c=n(39),u=n(23),l=n(3),f=Math.min,d=[].push,p="length",h=!l((function(){}));n(41)("split",2,(function(e,t,n,l){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,a,s,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,l+"g");(i=u.call(v,o))&&!((a=v.lastIndex)>f&&(c.push(o.slice(f,i.index)),i[p]>1&&i.index<o[p]&&d.apply(c,i.slice(1)),s=i[0][p],f=a,c[p]>=h));)v.lastIndex===i.index&&v.lastIndex++;return f===o[p]?!s&&v.test("")||c.push(""):c.push(o.slice(f)),c[p]>h?c.slice(0,h):c}:"0".split(void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):v.call(String(o),n,r)},function(e,t){var r=l(v,e,this,t,v!==n);if(r.done)return r.value;var u=o(e),d=String(this),p=i(u,RegExp),g=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),m=new p(h?u:"^(?:"+u.source+")",y),_=void 0===t?4294967295:t>>>0;if(0===_)return[];if(0===d.length)return null===c(m,d)?[d]:[];for(var b=0,w=0,E=[];w<d.length;){m.lastIndex=h?w:0;var S,O=c(m,h?d:d.slice(w));if(null===O||(S=f(s(m.lastIndex+(h?0:w)),d.length))===b)w=a(d,w,g);else{if(E.push(d.slice(b,w)),E.length===_)return E;for(var I=1;I<=O.length-1;I++)if(E.push(O[I]),E.length===_)return E;w=b=S}}return E.push(d.slice(b)),E}]}))},function(e,t,n){var r=n(2),o=n(27),i=n(4)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r=n(14),o=n(8);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(10),o=n(4)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(23);n(6)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){var r=n(6),o=n(30)(1);r(r.P+r.F*!n(69)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(3);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(2),o=n(20),i=n(9),a=n(14),s=n(38),c=n(39),u=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(41)("replace",2,(function(e,t,n,h){return[function(r,o){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var g=f.global;if(g){var y=f.unicode;f.lastIndex=0}for(var m=[];;){var _=c(f,d);if(null===_)break;if(m.push(_),!g)break;""===String(_[0])&&(f.lastIndex=s(d,i(f.lastIndex),y))}for(var b,w="",E=0,S=0;S<m.length;S++){_=m[S];for(var O=String(_[0]),I=u(l(a(_.index),d.length),0),R=[],C=1;C<_.length;C++)R.push(void 0===(b=_[C])?b:String(b));var T=_.groups;if(p){var x=[O].concat(R,I,d);void 0!==T&&x.push(T);var A=String(t.apply(void 0,x))}else A=v(O,d,I,R,T,t);I>=E&&(w+=d.slice(E,I)+A,E=I+O.length)}return w+d.slice(E)}];function v(e,t,r,i,a,s){var c=r+e.length,u=i.length,l=p;return void 0!==a&&(a=o(a),l=d),n.call(s,l,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return n;if(l>u){var d=f(l/10);return 0===d?n:d<=u?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):n}s=i[l-1]}return void 0===s?"":s}))}}))},function(e,t,n){var r=n(0),o=n(32),i=n(7).f,a=n(34).f,s=n(37),c=n(40),u=r.RegExp,l=u,f=u.prototype,d=/a/g,p=/a/g,h=new u(d)!==d;if(n(1)&&(!h||n(3)((function(){return p[n(4)("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")})))){u=function(e,t){var n=this instanceof u,r=s(e),i=void 0===t;return!n&&r&&e.constructor===u&&i?e:o(h?new l(r&&!i?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&i?c.call(e):t),n?this:f,u)};for(var v=function(e){e in u||i(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},g=a(l),y=0;g.length>y;)v(g[y++]);f.constructor=u,u.prototype=f,n(12)(r,"RegExp",u)}n(72)("RegExp")},function(e,t,n){var r=n(0),o=n(7),i=n(1),a=n(4)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){n.r(t),n.d(t,"UserAgent",(function(){return d})),n.d(t,"getVersionFromUA",(function(){return f})),n.d(t,"compareVersion",(function(){return l})),n(44);var r=n(42),o=n.n(r),i=n(43),a=n.n(i),s=(n(47),n(49),n(53),n(63),n(68),n(70),n(71),/\d+([._]\d+)*/);function c(e){var t,n=s.exec(e);return null!==(t=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==t?t:null}function u(e){var t=c(e);return(null==t?void 0:t.split(".").map(Number))||[]}function l(e,t){return n=u(e),r=u(t),(o=Array(Math.max(n.length,r.length)).fill(0).map((function(e,t){return(n[t]||0)-(r[t]||0)})).find((function(e){return 0!==e}))||0)<0?-1:o>0?1:0;var n,r,o}function f(e,t){var n;try{n=new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")}catch(e){return null}var r=n.exec(t);return r?c(r[0].substring(e.length)):null}var d=function(){function e(t){var n=this;o()(this,e),this.userAgent="",this.getAndroidVersion=function(){return n.isAndroid?f("Android",n.userAgent):null},this.isAndroidVersionAboveOrEqual=function(e){return l(n.getAndroidVersion()||"",e)>=0},this.getIOSVersion=function(){return n.isIOS?f("OS",n.userAgent):null},this.isIOSVersionAboveOrEqual=function(e){return l(n.getIOSVersion()||"",e)>=0},this.getPCQQBrowserVersion=function(){return n.isPCQQBrowser?f("QQBrowser",n.userAgent):null},this.isPCQQBrowserVersionAboveOrEqual=function(e){return l(n.getPCQQBrowserVersion()||"",e)>=0},this.getMobileQQBrowserVersion=function(){return n.isMobileQQBrowser?f("MQQBrowser",n.userAgent):null},this.isMobileQQBrowserVersionAboveOrEqual=function(e){return l(n.getMobileQQBrowserVersion()||"",e)>=0},this.getChromeVersion=function(){return f("Chrome",n.userAgent)},this.isChromeVersionAboveOrEqual=function(e){return l(n.getChromeVersion()||"",e)>=0},this.getWeChatVersion=function(){return n.isWeChat||n.isWxMiniProgram?f("MicroMessenger",n.userAgent):null},this.isWeChatVersionAboveOrEqual=function(e){return l(n.getWeChatVersion()||"",e)>=0},this.getWxDriveVersion=function(){return n.isWxDrive?f("WXDrive",n.userAgent):null},this.isWxDriveVersionAboveOrEqual=function(e){return l(n.getWxDriveVersion()||"",e)>=0},this.getWxWorkVersion=function(){return n.isWxWork?f("wxwork",n.userAgent):null},this.isWxWorkVersionAboveOrEqual=function(e){return l(n.getWxWorkVersion()||"",e)>=0},this.getWxWorkPrivateVersion=function(){return n.isWxWorkPrivate?f("wxworklocal",n.userAgent):null},this.isWxWorkPrivateVersionAboveOrEqual=function(e){return l(n.getWxWorkPrivateVersion()||"",e)>=0},this.getQQVersion=function(){return n.isQQ||n.isQQMiniProgram?f("QQ",n.userAgent):null},this.isQQVersionAboveOrEqual=function(e){return l(n.getQQVersion()||"",e)>=0},this.getTimVersion=function(){return n.isTim?f("TIM",n.userAgent):null},this.isTimVersionAboveOrEqual=function(e){return l(n.getTimVersion()||"",e)>=0},this.getTencentDocsAppVersion=function(){return f("TencentDocs",n.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(e){return l(n.getTencentDocsAppVersion()||"",e)>=0},this.getPCTencentDocsClientVersion=function(){return f("TxDocsPC",n.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(e){return l(n.getPCTencentDocsClientVersion()||"",e)>=0},this.getElectronTencentDocsClientVersion=function(){return f("TDAppDesktop",n.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(e){return l(n.getElectronTencentDocsClientVersion()||"",e)>=0},void 0===t&&(t="undefined"!=typeof navigator?navigator.userAgent:""),Object.defineProperty(this,"userAgent",{value:t,writable:!1})}return a()(e,[{key:"isMobile",get:function(){return/(mobile)/i.test(this.userAgent)||this.isAndroidPad}},{key:"isMobilePhone",get:function(){return/(mobile)/i.test(this.userAgent)&&!this.isIPad}},{key:"isIPhone",get:function(){return/(iphone)/i.test(this.userAgent)}},{key:"isIPad",get:function(){return/(ipad)/i.test(this.userAgent)}},{key:"isAndroidPhone",get:function(){return/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isAndroidPad",get:function(){return!/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isPC",get:function(){return!this.isMobile}},{key:"isMac",get:function(){return!this.isMobile&&/Mac OS X/i.test(this.userAgent)}},{key:"isIPadEmulatedMac",get:function(){return this.isMac&&navigator.maxTouchPoints>1}},{key:"isAndroid",get:function(){return/android|adr/i.test(this.userAgent)}},{key:"isIOS",get:function(){return/(iphone|ipad|ipod)/i.test(this.userAgent)}},{key:"isWindows",get:function(){return/(win64|wow64|win32|wow32|windows nt)/i.test(this.userAgent)}},{key:"isWindowsUWP",get:function(){return/MSAppHost/i.test(this.userAgent)}},{key:"isLinux",get:function(){return/linux/i.test(this.userAgent)&&!this.isAndroid}},{key:"isLinuxKylin",get:function(){return/linux-kylin/i.test(this.userAgent)}},{key:"isLinuxUOS",get:function(){return/linux-uos/i.test(this.userAgent)}},{key:"isPCQQBrowser",get:function(){return!this.isMobile&&/QQBrowser/i.test(this.userAgent)&&!/QBCore/i.test(this.userAgent)}},{key:"isMobileQQBrowser",get:function(){return this.isMobile&&/MQQBrowser/i.test(this.userAgent)&&!this.isTimOrQQ&&!this.isWeChat&&!this.isWxWork&&!this.isTencentDocsApp&&!this.isWeiYunApp&&!this.isMiniProgram}},{key:"isQQBrowser",get:function(){return this.isMobile?this.isMobileQQBrowser:this.isPCQQBrowser}},{key:"isChrome",get:function(){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isSafari",get:function(){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isIE",get:function(){return/MSIE/i.test(this.userAgent)&&!/opera/i.test(this.userAgent)||/Trident/i.test(this.userAgent)}},{key:"isOldEdge",get:function(){return/Edge/i.test(this.userAgent)}},{key:"isChromiumEdge",get:function(){return/Edg\//i.test(this.userAgent)}},{key:"isFirefox",get:function(){return/(Firefox|Focus|FxiOS)\//i.test(this.userAgent)}},{key:"isWeChat",get:function(){return/MicroMessenger/i.test(this.userAgent)&&!this.isWxWork&&!this.isWxMiniProgram}},{key:"isWxWork",get:function(){return/(wxwork)/i.test(this.userAgent)}},{key:"isWxWorkCustom",get:function(){return/WeComCEF/i.test(this.userAgent)&&this.isWxWork}},{key:"isWxWorkPrivate",get:function(){return/(wxworklocal)/i.test(this.userAgent)}},{key:"isWxDrive",get:function(){return/WXDrive/i.test(this.userAgent)}},{key:"isQQ",get:function(){return/QQ\//i.test(this.userAgent)&&!this.isTencentDocsApp&&!this.isQQMiniProgram&&!this.isTim}},{key:"isQQForGooglePlay",get:function(){return/QQ\//i.test(this.userAgent)&&/_GM/i.test(this.userAgent)}},{key:"isTim",get:function(){return/TIM/i.test(this.userAgent)}},{key:"isPCTim",get:function(){return/QBCore/i.test(this.userAgent)&&/TIM2.0/i.test(this.userAgent)}},{key:"isTimOrQQ",get:function(){return this.isTim||this.isQQ}},{key:"isTimOrQQFamily",get:function(){return this.isTim||/QQ/i.test(this.userAgent)}},{key:"isMiniProgram",get:function(){return/miniprogram|miniapp(?!enable)/i.test(this.userAgent)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment}},{key:"isWxMiniProgram",get:function(){return/MicroMessenger/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isQQMiniProgram",get:function(){return/QQ\/|TIM/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isTencentDocsApp",get:function(){return/TencentDocs/i.test(this.userAgent)}},{key:"isPCTencentDocsClient",get:function(){return/TxDocsPC/i.test(this.userAgent)}},{key:"isPCTencentDocsApp",get:function(){return this.isPCTencentDocsClient}},{key:"isElectronTencentDocsClient",get:function(){return/TDAppDesktop/i.test(this.userAgent)}},{key:"isWeiYunApp",get:function(){return/weiyun/i.test(this.userAgent)}},{key:"isSouGou",get:function(){return/SE 2\.X MetaSr 1\.0/i.test(this.userAgent)}},{key:"isTencentMeeting",get:function(){return/tencent_wemeet/i.test(this.userAgent)}},{key:"isTencentMeetingRooms",get:function(){return/TencentMeetingRooms/i.test(this.userAgent)}}]),e}();t.default=new d}])}(Hn);const Kn=["doc.weixin.qq.com","wecom-addon.tencentsuite.com"],Qn=function(){const e=Kn.includes(location.origin.split("//")[1]);return()=>e}();const Yn="@tencent-tencent-doc-report";function Zn(e){const t=new Set;return JSON.stringify(e,((e,n)=>{if(function(e){return function(e,t){return Object.prototype.toString.call(t)===`[object ${e}]`}("Object",e)}(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return n}))}function zn(e){return"className"in e}function $n(e,t){var n,r;try{if(null===(n=window.TencentDocReport)||void 0===n?void 0:n.tencentDocReportSDK)return void(null===(r=window.TencentDocReport)||void 0===r||r.tencentDocReportSDK[e].apply(null,t));Jn({functionName:e,argsStringified:Zn(t)})}catch(o){console.error(o)}}function Jn(e){var t;window.tencentDocReportBuffers=null!==(t=window.tencentDocReportBuffers)&&void 0!==t?t:[],window.tencentDocReportBuffers.push(e)}function Xn(){window.tencentDocReportBuffers=[],delete window.tencentDocReportBuffers}function er(...e){$n("tdw",e)}!function(e){var t;(null===(t=window.TencentDocReport)||void 0===t?void 0:t.tencentDocReportInjected)||(window.TencentDocReport||(window.TencentDocReport={tencentDocReportBundleURL:e,tencentDocReportInjected:!1}),function(e){return new Promise((t=>{const n=document.createElement("script");n.async=!0,n.src=e,n.id=Yn,n.crossOrigin="anonymous",n.setAttribute("retry-when-error","true"),n.onload=()=>{var e;t(null===(e=window.TencentDocReport)||void 0===e?void 0:e.tencentDocReportSDK)},window.TencentDocReport||(window.TencentDocReport={}),window.TencentDocReport.tencentDocReportInjected||(window.TencentDocReport.tencentDocReportInjected=!0,window.tencentDocReportInjected=!0,(document.head||document.body).appendChild(n))}))}(e).then((()=>{var e,t,n,r,o;if(window.tencentDocReportBuffers)for(const i of window.tencentDocReportBuffers)zn(i)?(null===(t=null===(e=window.TencentDocReport)||void 0===e?void 0:e.tencentDocReportSDK)||void 0===t?void 0:t[i.className][i.methodName]).apply(null,JSON.parse(i.argsStringified)):null===(o=null===(r=null===(n=window.TencentDocReport)||void 0===n?void 0:n.tencentDocReportSDK)||void 0===r?void 0:r[i.functionName])||void 0===o||o.apply(null,JSON.parse(i.argsStringified))})).then((()=>{Xn()})).catch((()=>{Xn()})))}(Qn()?"https://res.wx.qq.com/d/alloy-report-sdk/latest/v4/alloyreport.sdk.js":"https://docs.gtimg.com/alloy-report-sdk/latest/v4/alloyreport.sdk.js");o(15989),o(51065);function tr(e,t){var n=t?new URL(t).search:window.location.search;if(!n)return"";var r=n.match(new RegExp("(\\?|&)".concat(e,"=([^&]*)(#|&|$)")));return r?decodeURIComponent(r[2]):""}function nr(e){void 0===e&&(e={}),rr(e,!1)}function rr(e,t){var n,r;void 0===e&&(e={});var o,i,a=Object.assign({table:"dc03111",report_type:101},e);a.source3&&""!==a.source3&&void 0!==a.source3||(a.source3=null!==(n=localStorage.getItem("tdsourcetag"))&&void 0!==n?n:null!==(r=Bn("adtag"))&&void 0!==r?r:""),er(a,{showLog:(o=Bn("dev_route_id"),i=tr("magic"),!(!o||!i)),immediate:t})}var or,ir=function(){return ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ir.apply(this,arguments)},ar={},sr={},cr=function(e){sr=e},ur=function(){return sr},lr=function(){return or},fr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},dr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},pr=function(e){var t=e.title,n=e.setCurTitle,r=e.curTitle,o=e.updateTitleWithoutDomain,i=lr();return{updateNewTitle:function(a){return void 0===a&&(a=!1),fr(void 0,void 0,Promise,(function(){var s,c,u;return dr(this,(function(l){switch(l.label){case 0:return r===t?[2,!1]:/[\\/:*?"<>|]|(\ud83c[\udf00-\udfff])|(\ud83d[\udc00-\ude4f])|(\ud83d[\ude80-\udeff])/gi.test(r)?(n(t),fn.ZP.show({message:Be("名称不能包含下列非法字符：\\ / : * ?  < > |"),type:"info",autoClose:!0}),[2,!1]):(s=r,""===r&&(s=i.generateDefaultTitle()),n(s),(u=ur())?[4,o({title:s,domainId:u.domainId,padId:u.padId})]:[3,2]);case 1:return c=l.sent(),[3,4];case 2:return[4,i.updateTitle(s,a)];case 3:c=l.sent(),e.setCurTitle(s),l.label=4;case 4:return function(e){var o,i,a=e.retcode,s=e.cgicode;a===xn&&s===kn?(null===(o=ar.handleHistoryLink)||void 0===o||o.call(ar),null===(i=ar.afterTitleChanged)||void 0===i||i.call(ar,r),nr({opername:"doc_menubar",module:"title",action:"modify"})):a===An&&(n(t),fn.ZP.show({message:Be("标题不合规，请重新命名。"),type:"info",autoClose:!0}))}(c),[2,!0]}}))}))}}},hr=!1,vr=function(){return hr},gr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},yr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},mr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},_r=function(e,t,n){var r=e.enableToolTips,o=e.disableToolTips,i=pr(e).updateNewTitle,a=mr(We().useState(!1),2),s=a[0],c=a[1];return{onTitleBlur:function(){return gr(void 0,void 0,Promise,(function(){var e,a,s;return yr(this,(function(u){switch(u.label){case 0:return c(!1),(null===(a=t.current)||void 0===a?void 0:a.hasAttribute("readonly"))?[2]:(((null===(s=n.current)||void 0===s?void 0:s.getBoundingClientRect().width)||0)>=Dn?r():o(),[4,i()]);case 1:return e=u.sent(),console.debug("[title] - title change result:",e),e&&(hr=!0),[2]}}))}))},onTitleFocus:function(){var e;c(!0),nr({opername:"doc_menubar",module:"title_box",action:"click"}),o(),null===(e=ar.handleTitleFocus)||void 0===e||e.call(ar)},isTitleFocus:s}},br=function(e,t,n){var r=e.setCurTitle;return{onTitleChange:function(){var e,o=(null===(e=t.current)||void 0===e?void 0:e.value)||"",i=/[\\:*?"<>|]/g;i.test(o)?(fn.ZP.show({message:"".concat(Be("文档名不能包含下列任何字符："),'\\ / : * ? " < > |'),type:"error",autoClose:!0}),o=o.replace(i,"")):o.length>128&&(fn.ZP.show({message:Be("文档名不能超过128个字。"),type:"error",autoClose:!0}),n.current||(o=o.substr(0,128))),r(o)}}},wr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Er=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Sr=function(e){var t=e.onNetworkRecovery,n=pr(e).updateNewTitle;(0,qe.useEffect)((function(){var e=t((function(){return wr(void 0,void 0,Promise,(function(){return Er(this,(function(e){switch(e.label){case 0:return[4,n(!0)];case 1:return e.sent(),[2]}}))}))}));return function(){e()}}),[n,t])};function Or(e){var t=e.isEllipsis,n=e.title,r=e.hasColor;return We().createElement("div",{className:"dc-title-tooltip-title-overlay"},t&&We().createElement("div",null,n),r&&We().createElement("div",null,Be("标题由创建者设置为高亮")))}var Ir={"title-container":"title-container-OTP7r","input-title":"input-title-4UhuH","fake-title":"fake-title-kJR46","show-suffix":"show-suffix-ER-Yq","is-disabled":"is-disabled-69zH6","show-suffix-theme-light":"show-suffix-theme-light-BsQDS","title-suffix":"title-suffix-zvCB6","pc-header-tooltip-content":"pc-header-tooltip-content-3fmtm"},Rr=function(e,t){return xt(e,t)}((function(e){return{title:e.title.title,curTitle:e.title.curTitle,shouldShowSuffixThemeLight:e.title.shouldShowSuffixThemeLight,showToolTips:e.title.showToolTips,styles:e.title.styles,isCompositing:e.title.isCompositing,padType:e.title.padType,padId:e.title.padId,fileExt:e.title.fileExt,personalizeInfo:e.title.personalizeInfo}}),(function(e){return{initialize:e.title.initialize,setTitle:e.title.setTitle,setCurTitle:e.title.setCurTitle,enableToolTips:e.title.enableToolTips,disableToolTips:e.title.disableToolTips,onNetworkRecovery:e.title.onNetworkRecovery,updateTitleWithoutDomain:e.title.updateTitleWithoutDomain,setCompositing:e.title.setCompositing}}))((function(e){var t=function(e){var t,n=e.personalizeInfo;return{color:(null===(t=null==n?void 0:n.titleColor)||void 0===t?void 0:t.color)||void 0}}(e);Sr(e);var n=e.curTitle,r=e.fileExt,o=e.styles||Ir;e.styles?console.info("[title] - The title on this page is applying styles from tbs."):console.warn("[title] - The title on this page is not applying the correct styles.");var i=lr(),a=(0,qe.useRef)(null),s=(0,qe.useRef)(!1),c=(0,qe.useRef)(null),u=br(e,a,s).onTitleChange,l=_r(e,a,c),f=l.onTitleBlur,d=l.onTitleFocus,p=l.isTitleFocus,h=(0,qe.useMemo)((function(){return 0===(null==n?void 0:n.length)?95:15}),[n]);(0,qe.useEffect)((function(){var e,t;if(i.isIsUseOriginKeyboardEvent()){var n=function(e){var t;e.key!==Cn&&e.key!==Tn||null===(t=a.current)||void 0===t||t.blur(),e.stopImmediatePropagation(),e.stopPropagation()};return null===(e=a.current)||void 0===e||e.addEventListener("keydown",n),null===(t=a.current)||void 0===t?void 0:t.removeEventListener("keydown",n)}}),[]);var v=function(e){dn.default.isFirefox||("compositionstart"===e.type?s.current=!0:"compositionend"===e.type&&(s.current=!1,u()))},g=r?"".concat(n).concat(r):n,y=!i.isTitleEditable(),m=function(e){return!!e&&e.scrollWidth-e.offsetWidth>0}(c.current),_=!!t.color,b=function(e,t,n){return!!e||!t&&!n}(p,m,_),w=an()(o["input-title"],r?o["show-suffix"]:"",y?o["is-disabled"]:""),E=an()(o["fake-title"],r?o["show-suffix"]:"",e.shouldShowSuffixThemeLight?o["show-suffix-theme-light"]:""),S=an()(o["title-suffix"],e.shouldShowSuffixThemeLight?o["show-suffix-theme-light"]:"");return We().createElement(We().Fragment,null,We().createElement(ln.ZP,{placement:"bottom",title:We().createElement(Or,{title:g,isEllipsis:m,hasColor:_}),arrowStyle:{marginLeft:"95px"},disabled:b,overlayClassName:o["pc-header-tooltip-content"],alignment:"start"},We().createElement("div",{className:o["title-container"]},We().createElement("div",{style:{minWidth:h},onDoubleClick:function(){if(!["weboffice","paas-weboffice"].includes("toc")&&"no-auth"===i.getWhyNotEditable())fn.ZP.show({message:Be("标题受保护，你没有编辑权限"),type:"info",duration:3e3})}},y?We().createElement("div",{"aria-autocomplete":"none",className:w,style:{color:t.color}},n):We().createElement("input",{"aria-autocomplete":"none",autoComplete:"off",className:w,ref:a,disabled:y,value:n,onChange:u,onBlur:f,onFocus:d,onKeyDown:function(e){var t;e.key!==Cn&&e.key!==Tn||(e.preventDefault(),null===(t=a.current)||void 0===t||t.blur())},onCompositionStart:v,onCompositionEnd:v,style:{color:t.color}}),We().createElement("span",{className:E,style:{color:t.color,marginRight:dn.default.isSafari?"1px":0},ref:c},n)),!!r&&We().createElement("div",{className:S,style:{color:t.color}},r))))}));var Cr,Tr,xr=function(e){return e.ONLINE="online",e.OFFLINE="offline",e}({}),Ar=(Be("主账号不存在或已被绑定"),Be("副账号不存在或已被绑定"),Be("两个账号已经互相绑定"),Be("登录态有误，请重新登录"),Be("后台服务出错，请重试"),Be("两个账号已经互相绑定"),Be("主账号不存在"),Be("主账号已被其它账号绑定"),Be("微信账号写入数据库失败"),Be("副账号被其它账号绑定"),Be("绑定失败，请重试"),Be("绑定失败，请重试"),Be("绑定失败，请重试"),Be("绑定失败，请重试"),o(37687)),kr=(o(96363),o(40524),o(38120),o(80244));!function(e){e.CreateCollection="create-collection",e.DropCollection="drop-collection",e.CreateIndex="create-index",e.DropIndex="drop-index"}(Cr||(Cr={})),function(e){e.MoveProperty="move-property",e.DropProperty="drop-property",e.ReplaceProperty="replace-property",e.ClearData="clear-data",e.ReplaceData="replace-data"}(Tr||(Tr={}));var Dr,Mr={name:"alloy_db_schema_table",indices:[],key:{path:"name"},properties:[]};!function(e){e.Equals="=",e.NotEquals="!=",e.GreaterThan=">",e.GreaterOrEqualThan=">=",e.LessThan="<",e.LessOrEqualThan="<=",e.In="in",e.NotIn="nin"}(Dr||(Dr={}));var Pr,Nr,Lr,jr,Ur,Fr=void 0;function Br(e){return"number"==typeof e&&!Number.isNaN(e)||"string"==typeof e||e instanceof Date&&!Number.isNaN(e.getTime())||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||Array.isArray(e)&&e.every(Br)}function qr(e,t){var n=e;return Array.isArray(t)?t.map((function(e){return n[e]})):n[t]}function Wr(e,t){return Array.isArray(e)?Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return Wr(e,t[n])})):e===t}!function(e){e.OR="or",e.AND="and",e.FILTER="filter",e.NONE="none",e.ALL="all"}(Pr||(Pr={})),function(e){e.ENTRIES="entries",e.VALUES="values",e.KEYS="keys",e.COUNT="count"}(Nr||(Nr={})),function(e){e.DESCENDING="desc",e.ASCENDING="asc"}(Lr||(Lr={})),function(e){e.AutoIncrement="auto-increment"}(jr||(jr={})),function(e){e.Equals="=",e.GreaterThan=">",e.GreaterOrEqualThan=">=",e.LessThan="<",e.LessOrEqualThan="<="}(Ur||(Ur={}));var Vr,Gr=function(){function e(){}return e.collectionDiff=function(e,t){if(e.name!==t.name)throw new Error("can not compare collection schema with different name");var n={collection:e.name},r=t.indices.filter((function(t){return!e.indices.some((function(e){return e.name===t.name}))})),o=e.indices.filter((function(e){return!t.indices.some((function(t){return t.name===e.name}))}));return(r.length||o.length)&&(n.index={added:(0,kr.__spreadArray)([],(0,kr.__read)(r)),deleted:(0,kr.__spreadArray)([],(0,kr.__read)(o))}),n},e.databaseDiff=function(e,t){var n,r,o=this.getCompareMap(e,t),i={added:[],deleted:[],different:[]};try{for(var a=(0,kr.__values)(o.values()),s=a.next();!s.done;s=a.next()){var c=s.value;if(!c.oldValue||c.newValue)if(c.oldValue||!c.newValue){if(c.oldValue&&c.newValue){var u=this.collectionDiff(c.oldValue,c.newValue);if(!u.index)continue;i.different.push(u)}}else i.added.push(c.newValue);else i.deleted.push(c.oldValue)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},e.getCompareMap=function(e,t){var n,r,o,i,a=new Map;try{for(var s=(0,kr.__values)(t.collections),c=s.next();!c.done;c=s.next()){var u=c.value;(d=a.get(u.name)||{}).newValue=u,a.set(u.name,d)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var l=(0,kr.__values)(e.collections),f=l.next();!f.done;f=l.next()){var d;u=f.value;(d=a.get(u.name)||{}).oldValue=u,a.set(u.name,d)}}catch(h){o={error:h}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}return a},e}();!function(e){e.READ_ONLY="readonly",e.READ_WRITE="readwrite",e.VERSION_CHANGE="versionchange"}(Vr||(Vr={}));var Hr=function(e){function t(t,n){for(var r=this,o=t,i={cause:n};i.cause&&i.cause instanceof Error;)o=t+"\n\t→ "+n,i=i.cause;return(r=e.call(this,o)||this).cause=n,r.name=r.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,Object.setPrototypeOf(r,r.constructor.prototype),r}return(0,kr.__extends)(t,e),t}(Error),Kr=Hr,Qr={withDefaultMessage:function(e,t){return function(n){function r(r,o){var i=n.call(this,r||t||"",o)||this;return i.name=e,Object.setPrototypeOf(i,i.constructor.prototype),i}return(0,kr.__extends)(r,n),r}(Kr)},withMessageCreator:function(e,t){return function(n){function r(r,o){var i=n.call(this,t(r),o)||this;return i.name=e,Object.setPrototypeOf(i,i.constructor.prototype),i}return(0,kr.__extends)(r,n),r}(Kr)}},Yr=(Qr.withDefaultMessage("AssertionError","the asserted condition is invalid"),Qr.withMessageCreator("UnimplementedError",(function(e){return e?"called with arguments: "+JSON.stringify(e):"called with nothing"})));var Zr=function(e){0},zr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,kr.__extends)(t,e),t.prototype.isQuotaExceeded=function(){return this.message.includes("QuotaExceededError")},t}(Qr.withMessageCreator("DatabaseConnectError",(function(e){return"failed to connect to database '"+e+"'."}))),$r=Qr.withMessageCreator("CollectionNotFoundError",(function(e){return"model '"+e+"' is not registered, please register it before use it."})),Jr=Qr.withMessageCreator("DataMigrationError",(function(e){return"failed to perform data migration, versionChange: "+e.oldVersion+" -> "+e.newVersion+"."})),Xr=Qr.withMessageCreator("IncorrectTransactionModeError",(function(e){return"use error transaction type["+e+"]."})),eo=Qr.withMessageCreator("NoTableInfoError",(function(e){return"'"+e+"' is not a valid model with table info injected, please ensure the model class is decorated by @table(), @field() etc."})),to=Qr.withDefaultMessage("EmptyTableInfoError","table without any field declare, please define model use [field] decorator."),no=Qr.withMessageCreator("InvalidWhereInValueError",(function(e){return"there is an error in your where clause of field '"+e.path+"'."+e.op+", the value must be an array."})),ro=Qr.withMessageCreator("UnsupportedWhereOperatorError",(function(e){return"unsupported where operator '"+e+"', current supported operators are >, >=, <, <=, =, !=, in, nin."})),oo=Qr.withDefaultMessage("OrderByKeyError","can not order value that is not Key: 'Key = number | string | Date | BufferSource | Key[]'."),io=Qr.withMessageCreator("DatabaseInternalError",(function(e){return"there is an internal error of database, reason: "+e+"."})),ao=(Qr.withMessageCreator("QueryJobError",(function(e){return"failed to execute query job, reason: "+e+"."})),Qr.withMessageCreator("PluginError",(function(e){return'an error has occurred on plugin "'+e.name+'"": '+e.message+"."})),Qr.withDefaultMessage("TransactionCommitError","failed to commit transaction.")),so=Qr.withDefaultMessage("UpdateMigrationChangeInfoError","failed to update migration change info"),co=Qr.withMessageCreator("ExecuteDataUpgradeError",(function(e){return"failed to execute data upgrade on collection '"+e+"'."})),uo=Qr.withMessageCreator("UnexpectedClosedError",(function(e){return"database "+e+" is unexpectedly closed by browser, this could happen when disk is unavailable or the page is shutdown."})),lo=Symbol.for("TABLE_KEY"),fo=function(){function e(){}return e.saveTableInfo=function(e,t){Object.defineProperty(t,lo,{configurable:!0,value:(0,kr.__assign)({},e)})},e.getTableInfo=function(e){return e[lo]},e.getFirstTableInfoAlongPrototypeChain=function(e){var t=this.getTableInfo(e),n=Object.assign({},t);return n.properties=new Map(n.properties),n},e.getTableName=function(e){var t=this.getTableInfo(e.prototype);if(!(null==t?void 0:t.tableName))throw new eo(e.name);return t.tableName},e.addTablePropertyInfo=function(t,n){var r=e.getOrCreateTableInfo(t);if(r.properties.has(n.name)){var o=r.properties.get(n.name);Object.assign(n,o)}r.properties.set(n.name,n),this.saveTableInfo(r,t)},e.createPropertyInfo=function(e,t){return{name:e,alias:t,isUnionKey:!1}},e.convertTableInfoToSchema=function(e){if(!e.tableName)return null;var t,n=(0,kr.__spreadArray)([],(0,kr.__read)(e.properties.values())),r=n.filter((function(e){return e.isIndex})).map((function(e){var t,n;return{name:null!==(t=e.alias)&&void 0!==t?t:e.name,path:null!==(n=e.alias)&&void 0!==n?n:e.name,unique:e.isUnique}}));return t=!e.autoIncrement&&e.keyPath?{path:1===e.keyPath.length?e.keyPath[0]:e.keyPath}:{generator:jr.AutoIncrement},{properties:n.map((function(e){var t;return null!==(t=e.alias)&&void 0!==t?t:e.name})),indices:r,key:t,name:e.tableName}},e.createDefaultTableInfo=function(){return{tableName:null,autoIncrement:!0,properties:new Map}},e.getOrCreateTableInfo=function(t){if(Object.prototype.hasOwnProperty.call(t,lo))return t[lo];var n=e.createDefaultTableInfo(),r=t[lo];return r&&(n.properties=new Map((0,kr.__spreadArray)((0,kr.__spreadArray)([],(0,kr.__read)(r.properties)),(0,kr.__read)(n.properties)))),e.saveTableInfo(n,t),n},e}(),po=fo;var ho=function(e){return function(t,n){var r=po.createPropertyInfo(n,e);po.addTablePropertyInfo(t,r)}};var vo=function(e,t){return function(n){var r=po.getFirstTableInfoAlongPrototypeChain(n.prototype);if(!r)throw new to;r.tableName=e;var o=(0,kr.__spreadArray)([],(0,kr.__read)(r.properties.values())),i=function(e,t){if(null==e?void 0:e.key)return"string"==typeof e.key?[e.key]:e.key;var n=t.filter((function(e){return e.isPrimaryKey})).map((function(e){var t;return null!==(t=e.alias)&&void 0!==t?t:e.name}));return n.length>0?n:void 0}(t,o);r.keyPath=i,r.autoIncrement=void 0===r.keyPath,po.saveTableInfo(r,n.prototype)}};var go=function(e){return function(t,n){var r=po.createPropertyInfo(n);r.isIndex=!0,r.isUnique=!!(null==e?void 0:e.unique),po.addTablePropertyInfo(t,r)}};var yo=function(){return function(e,t){var n=po.createPropertyInfo(t);n.isPrimaryKey=!0,po.addTablePropertyInfo(e,n)}};let mo=()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach((e=>e(...t)))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter((e=>e!==t))}});var _o,bo;!function(e){e.Ready="Ready",e.Fetal="Fetal",e.Closed="Closed",e.Destroyed="Destroyed",e.Error="Error",e.RegisterModel="RegisterModel",e.RegisterPlugin="RegisterPlugin",e.BootstrapStart="BootstrapStart",e.BootstrapEnd="BootstrapEnd",e.SchemaMigrationStart="SchemaMigrationStart",e.SchemaMigrationEnd="SchemaMigrationEnd",e.VersionChange="VersionChange"}(_o||(_o={})),function(e){e.CollectionCreated="CollectionCreated",e.ModelLazyMigrationEnd="ModelLazyMigrationEnd",e.PrepareAutoUpgradeEnd="PrepareAutoUpgradeEnd",e.UpdateMigrationChangeInfo="UpdateMigrationChangeInfoEnd",e.StartTransaction="StartTransaction"}(bo||(bo={}));var wo,Eo=function(){function e(e){var t=this;this.onClosed=function(e){t.eventBus.on(_o.Closed,e)},this.eventBus=e}return e.prototype.onReady=function(e){this.eventBus.on(_o.Ready,e)},e.prototype.onFetal=function(e){this.eventBus.on(_o.Fetal,e)},e.prototype.onError=function(e){this.eventBus.on(_o.Error,e)},e.prototype.onRegisterModel=function(e){this.eventBus.on(_o.RegisterModel,e)},e.prototype.onRegisterPlugin=function(e){this.eventBus.on(_o.RegisterPlugin,e)},e.prototype.onBootstrapStart=function(e){this.eventBus.on(_o.BootstrapStart,e)},e.prototype.onBootstrapEnd=function(e){this.eventBus.on(_o.BootstrapEnd,e)},e.prototype.onSchemaMigrationStart=function(e){this.eventBus.on(_o.SchemaMigrationStart,e)},e.prototype.onSchemaMigrationEnd=function(e){this.eventBus.on(_o.SchemaMigrationEnd,e)},e.prototype.onVersionChange=function(e){this.eventBus.on(_o.VersionChange,e)},e.prototype.emitError=function(e){this.eventBus.emit(_o.Error,e)},e}(),So=function(){function e(){}return e.revealSchema=function(e){var t=po.getTableInfo(e.prototype);return t?po.convertTableInfoToSchema(t):null},e}(),Oo=function(){function e(e){this.models=[],this.eventBus=e}return e.prototype.register=function(e){if(!this.models.includes(e)){var t=this.getSchema(e);this.models.push(e),this.eventBus.emit(_o.RegisterModel,{class:e,schema:t})}},e.prototype.getSchema=function(e){var t=So.revealSchema(e);if(!t){var n=new eo(e.name);throw this.eventBus.emit(_o.Error,n),new eo(e.name)}return t},e.prototype.getSchemaAndRegisterModelIfNeed=function(e){return this.register(e),this.getSchema(e)},e}();function Io(e){var t,n,r,o=po.getTableInfo(Object.getPrototypeOf(e));if(!o)return e;var i={};try{for(var a=(0,kr.__values)(o.properties.values()),s=a.next();!s.done;s=a.next()){var c=s.value;i[null!==(r=c.alias)&&void 0!==r?r:c.name]=e[c.name]}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}function Ro(e,t){var n,r;if(null==e)return null;var o=po.getTableInfo(t.prototype);if(!o)return e;var i=function(e,t){var n,r,o,i={};try{for(var a=(0,kr.__values)(t.properties.values()),s=a.next();!s.done;s=a.next()){var c=s.value,u=null!==(o=c.alias)&&void 0!==o?o:c.name;i[c.name]=e[u]}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}(e,o),a=new t(i);try{for(var s=(0,kr.__values)(Object.keys(i)),c=s.next();!c.done;c=s.next()){var u=c.value;void 0!==i[u]&&(a[u]=i[u])}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}!function(e){e.FILL="fill",e.HYDRATE="hydrate",e.PAGINATE="paginate",e.FILTER="filter",e.SORT="sort",e.SCAN="scan",e.SCAN_ALL="scan-all",e.INDEX_SCAN="index-scan",e.UNION="union",e.DISTINCT="distinct",e.INTERSECT="intersect"}(wo||(wo={}));var Co=function(){function e(e,t){this.node=e,this.parent=t,this.context=ei(e)}return e.prototype.perform=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i;return(0,kr.__generator)(this,(function(a){try{for(t=(0,kr.__values)(this.node.inputs),n=t.next();!n.done;n=t.next())r=n.value,e.push(r)}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(o)throw o.error}}return[2]}))}))},e}(),To=Co,xo=function(){function e(e){this.comparer=e}return e.prototype.has=function(e,t){return-1!==this.getOrder(e,t)},e.prototype.getOrder=function(e,t){for(var n=0,r=e.length;n<r;){var o=n+Math.floor((r-n)/2),i=e[o],a=this.comparer.cmp(t,i);if(0===a)return o;a>0?n=o+1:r=o}return-1},e}(),Ao=xo,ko=function(){function e(e,t){this.node=e,this.parent=t,this.context=ei(e)}return e.prototype.perform=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l,f,d,p,h,v,g,y;return(0,kr.__generator)(this,(function(m){t=new Ao(this.node.comparer);try{for(n=(0,kr.__values)(this.context.inputs),r=n.next();!r.done;r=n.next()){o=r.value,i=new Map,a=o.map((function(e){return(0,kr.__read)(e,1)[0]})).sort(this.node.comparer.cmp),s=[];try{for(g=void 0,c=(0,kr.__values)(o),u=c.next();!u.done;u=c.next())l=u.value,f=(0,kr.__read)(l,1),d=f[0],p=t.getOrder(a,d),i.has(p)||(i.set(p,!0),s.push(l))}catch(_){g={error:_}}finally{try{u&&!u.done&&(y=c.return)&&y.call(c)}finally{if(g)throw g.error}}e.push(s)}}catch(b){h={error:b}}finally{try{r&&!r.done&&(v=n.return)&&v.call(n)}finally{if(h)throw h.error}}return[2]}))}))},e}(),Do=ko,Mo=Symbol("-∞"),Po=Symbol("+∞"),No=function(){function e(e){var t=this;this.contains=function(e,n){var r=t,o=r.cmp,i=r.lowerOf,a=r.upperOf;if(!t.isValid(e))return!1;var s=e.lowerOpen,c=e.upperOpen,u=o(i(e),n),l=o(a(e),n);return 0===u&&!s||u<0&&l>0||0===l&&!c},this.union=function(e){if(e.length<=1)return e;t.sort(e);for(var n=[],r=e[0],o=1;o<e.length;o++){var i=e[o];t.isOverlapped(r,i)?r=t.wrap(r,i):(n.push(r),r=i)}return n.push(r),n},this.intersect=function(e){var n,r;if(e.length<=1)return e;t.sort(e);var o=e[0];try{for(var i=(0,kr.__values)(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(!t.isOverlapped(o,s))return[];o=t.overlap(o,s)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[o]},this.isValid=function(e){var n=t,r=n.cmp,o=n.lowerOf,i=n.upperOf,a=r(o(e),i(e));return a<0||0===a&&!e.lowerOpen&&!e.upperOpen},this.cmp=function(e,n){return e!==Mo&&e!==Po&&n!==Mo&&n!==Po?t.comparer.cmp(e,n):e===n?0:e===Mo||n===Po?-1:1},this.lowerOf=function(e){return void 0===e.lower?Mo:e.lower},this.upperOf=function(e){return void 0===e.upper?Po:e.upper},this.comparer=e}return e.prototype.isOverlapped=function(e,t){var n,r=this,o=r.cmp,i=r.lowerOf,a=r.upperOf,s=(0,kr.__read)([e,t],2),c=s[0],u=s[1],l=o(i(c),i(u));(l>0||0===l&&!c.lowerOpen&&u.lowerOpen)&&(c=(n=(0,kr.__read)([u,c],2))[0],u=n[1]);var f=o(a(c),i(u));return f>0||0===f&&!c.upperOpen&&!u.lowerOpen},e.prototype.sort=function(e){var t=this.cmp,n=this.lowerOf;return e.sort((function(e,r){var o=t(n(e),n(r));return 0!==o||e.lowerOpen===r.lowerOpen?o:e.lowerOpen?-1:1}))},e.prototype.wrap=function(e,t){var n=this,r=n.cmp,o=n.lowerOf,i=n.upperOf,a=(0,kr.__assign)({},e),s=r(o(e),o(t)),c=r(i(e),i(t));return(s>0||0===s&&!t.lowerOpen)&&(a.lower=t.lower,a.lowerOpen=t.lowerOpen),(c<0||0===c&&!t.upperOpen)&&(a.upper=t.upper,a.upperOpen=t.upperOpen),a},e.prototype.overlap=function(e,t){var n=this,r=n.cmp,o=n.lowerOf,i=n.upperOf,a=(0,kr.__assign)({},e),s=r(o(e),o(t)),c=r(i(e),i(t));return(s<0||0===s&&!e.lowerOpen)&&(a.lower=t.lower,a.lowerOpen=t.lowerOpen),(c>0||0===c&&!e.upperOpen)&&(a.upper=t.upper,a.upperOpen=t.upperOpen),a},e}(),Lo=function(){function e(e,t){this.node=e,this.parent=t,this.context=ei(e)}return e.prototype.perform=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u;return(0,kr.__generator)(this,(function(l){for(t=[],n=this.node,r=[t];n;)n.regroup&&(t=[],r.push(t)),t.push(this.createFilter(n)),n=n.nextFilter;o=function(e){var t=(0,kr.__read)(e,2)[1];return r.some((function(e){return e.every((function(e){return e(t)}))}))};try{for(i=(0,kr.__values)(this.context.inputs),a=i.next();!a.done;a=i.next())s=a.value,e.push(s.filter(o))}catch(f){c={error:f}}finally{try{a&&!a.done&&(u=i.return)&&u.call(i)}finally{if(c)throw c.error}}return[2]}))}))},e.prototype.createFilter=function(e){var t=new No(e.comparer);return function(n){return e.intervals.some((function(r){if(void 0===n)throw new io("can not do filter on non-hydrated data");var o=qr(n,e.path);return Br(o)&&t.contains(r,o)}))}},e}(),jo=Lo;var Uo=function(){function e(e,t,n){this.node=e,this.parent=t,this.transaction=n,this.context=ei(e)}return e.prototype.perform=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u=this;return(0,kr.__generator)(this,(function(l){switch(l.label){case 0:t=this.transaction.table(this.node.collectionSchema.name),n=function(n){var r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return r=n.filter((function(e){return!function(e){return!!(0,kr.__read)(e,2)[1]}(e)})),[4,Promise.all(r.map((function(e,n){var o=(0,kr.__read)(e,1)[0];return(0,kr.__awaiter)(u,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.get(o)];case 1:return e=i.sent(),r[n][1]=e,[2]}}))}))})))];case 1:return o.sent(),e.push(n),[2]}}))},l.label=1;case 1:l.trys.push([1,6,7,8]),r=(0,kr.__values)(this.context.inputs),o=r.next(),l.label=2;case 2:return o.done?[3,5]:(i=o.value,[5,n(i)]);case 3:l.sent(),l.label=4;case 4:return o=r.next(),[3,2];case 5:return[3,8];case 6:return a=l.sent(),s={error:a},[3,8];case 7:try{o&&!o.done&&(c=r.return)&&c.call(r)}finally{if(s)throw s.error}return[7];case 8:return[2]}}))}))},e}(),Fo=Uo,Bo=function(){function e(e,t,n,r){this.lower=e,this.upper=t,this.lowerOpen=n,this.upperOpen=r}return e.getKeyRange=function(e,t){if(void 0!==t){if(!e.isValid(t))throw new Error("invalid key interval");var n=t.lower,r=t.upper,o=t.lowerOpen,i=t.upperOpen;return n===r?n:void 0!==n&&void 0!==r?IDBKeyRange.bound(n,r,o,i):void 0!==n?IDBKeyRange.lowerBound(n,o):IDBKeyRange.upperBound(r,i)}},e}(),qo=function(){function e(e,t){var n=this;this.comparer=t,this.math=new No(t),this.intervals=e.filter((function(e){return n.math.isValid(e)}))}return e.fromWherePredicate=function(t,n){var r,o,i;try{for(var a=(0,kr.__values)(Object.keys(t)),s=a.next();!s.done;s=a.next()){var c=s.value,u=t[c];if(void 0!==u){var l=e.fromWhereExp(c,u,n);i=i?i.intersect(l):l}}}catch(f){r={error:f}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i||this.createFullGroup(n)},e.fromWhereExp=function(t,n,r){var o;if(t===Dr.In||t===Dr.NotIn){if(!Array.isArray(n))throw new no({op:t});var i=n;return t===Dr.In?i.reduce((function(t,n){return t.union(e.fromWhereExp(Dr.Equals,n,r))}),this.createEmptyGroup(r)):i.reduce((function(t,n,o){var i=e.fromWhereExp(Dr.NotEquals,n,r);return o?t.intersect(i):i}),this.createFullGroup(r))}switch(t){case Dr.Equals:o=[new Bo(n,n,!1,!1)];break;case Dr.NotEquals:o=[new Bo(void 0,n,!0,!0),new Bo(n,void 0,!0,!0)];break;case Dr.GreaterThan:o=[new Bo(n,void 0,!0,!0)];break;case Dr.GreaterOrEqualThan:o=[new Bo(n,void 0,!1,!0)];break;case Dr.LessThan:o=[new Bo(void 0,n,!0,!0)];break;case Dr.LessOrEqualThan:o=[new Bo(void 0,n,!0,!1)];break;default:throw new ro(t)}return new e(o,r)},e.prototype.union=function(t){return new e(this.math.union((0,kr.__spreadArray)((0,kr.__spreadArray)([],(0,kr.__read)(this.intervals)),(0,kr.__read)(t.intervals))),this.comparer)},e.prototype.intersect=function(t){for(var n=this.math,r=n.cmp,o=n.upperOf,i=n.lowerOf,a=n.intersect,s=(0,kr.__read)([this.intervals,t.intervals],2),c=s[0],u=s[1],l=(0,kr.__read)([0,0],2),f=l[0],d=l[1],p=[];f<c.length;){for(;d<u.length&&r(o(c[f]),i(u[d]))>=0;){var h=a([c[f],u[d]]);p.push.apply(p,(0,kr.__spreadArray)([],(0,kr.__read)(h))),d+=1}d-=1,f+=1}return new e(p,this.comparer)},e.prototype.contains=function(e){var t=this;return!!this.intervals.find((function(n){return t.math.contains(n,e)}))},e.prototype.isEmpty=function(){return 0===this.intervals.length},e.prototype.isFull=function(){return!!this.intervals.length&&void 0===this.intervals[0].lower&&void 0===this.intervals[0].upper},e.createFullGroup=function(t){return new e([new Bo(void 0,void 0,!0,!0)],t)},e.createEmptyGroup=function(t){return new e([],t)},e}(),Wo=Bo,Vo=function(){function e(e,t,n){this.node=e,this.parent=t,this.transaction=n,this.context=ei(e)}return e.prototype.perform=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return this.node.hydrate?[3,2]:[4,this.scanKeys()];case 1:return t=a.sent(),e.push(t.map((function(e){return[e,void 0]}))),[2];case 2:return(n=this.node.collectionSchema.key.path)?[4,this.scanValues()]:[3,4];case 3:return r=a.sent(),e.push(r.map((function(e){return[qr(e,n),e]}))),[2];case 4:return[4,this.scanKeys()];case 5:return o=a.sent(),[4,this.scanValues()];case 6:return i=a.sent(),e.push(o.map((function(e,t){return[e,i[t]]}))),[2]}}))}))},e.prototype.scanKeys=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getIndex(),[4,Promise.all(e.map((function(e){return t.getAllKeys(e)})))];case 1:return[2,n.sent().reduce((function(e,t){return e.push.apply(e,(0,kr.__spreadArray)([],(0,kr.__read)(t))),e}),[])]}}))}))},e.prototype.scanValues=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getIndex(),[4,Promise.all(e.map((function(e){return t.getAll(e)})))];case 1:return[2,n.sent().reduce((function(e,t){return e.push.apply(e,(0,kr.__spreadArray)([],(0,kr.__read)(t))),e}),[])]}}))}))},e.prototype.getKeyQueries=function(){var e=new No(this.node.comparer);return this.node.intervals.map((function(t){return Wo.getKeyRange(e,t)}))},e.prototype.getIndex=function(){var e=this.node,t=e.collectionSchema,n=e.index;return this.transaction.table(t.name).index(n.name)},e}(),Go=Vo,Ho=function(){function e(e,t){this.node=e,this.parent=t,this.context=ei(e)}return e.prototype.perform=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l,f,d,p;return(0,kr.__generator)(this,(function(h){if(n=(t=this).context,r=t.node,!(o=n.inputs).length)return[2];if(1===o.length)return e.push(o[0]),[2];i=function(e,t){var n=(0,kr.__read)(e,1)[0],o=(0,kr.__read)(t,1)[0];return r.comparer.cmp(n,o)},a=new Ao({cmp:i}),s=this.getSmallestPointers(o).slice();try{for(c=(0,kr.__values)(o),u=c.next();!u.done;u=c.next())u.value.sort(i)}catch(v){d={error:v}}finally{try{u&&!u.done&&(p=c.return)&&p.call(c)}finally{if(d)throw d.error}}return l=function(e){return o.every((function(t){return a.has(t,e)}))},f=s.filter(l),e.push(f),[2]}))}))},e.prototype.getSmallestPointers=function(e){return e.reduce((function(e,t){return e.length<t.length?e:t}),this.context.inputs[0])},e}(),Ko=Ho,Qo=function(){function e(e,t){this.node=e,this.parent=t,this.context=ei(e)}return e.prototype.perform=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c;return(0,kr.__generator)(this,(function(u){t=this.node,n=t.offset,r=t.limit;try{for(o=(0,kr.__values)(this.context.inputs),i=o.next();!i.done;i=o.next())a=i.value,e.push(a.slice(n,!r||isNaN(r)?void 0:n+r))}catch(l){s={error:l}}finally{try{i&&!i.done&&(c=o.return)&&c.call(o)}finally{if(s)throw s.error}}return[2]}))}))},e}(),Yo=Qo,Zo=function(){function e(e,t,n){this.node=e,this.parent=t,this.transaction=n,this.context=ei(e)}return e.prototype.perform=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return this.node.hydrate?[3,2]:[4,this.scanKeys()];case 1:return t=a.sent(),e.push(t.map((function(e){return[e,void 0]}))),[2];case 2:return(n=this.node.collectionSchema.key.path)?[4,this.scanValues()]:[3,4];case 3:return r=a.sent(),e.push(r.map((function(e){return[qr(e,n),e]}))),[2];case 4:return[4,this.scanKeys()];case 5:return o=a.sent(),[4,this.scanValues()];case 6:return i=a.sent(),e.push(o.map((function(e,t){return[e,i[t]]}))),[2]}}))}))},e.prototype.scanKeys=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getTable(),[4,Promise.all(e.map((function(e){return t.getAllKeys(e)})))];case 1:return[2,n.sent().reduce((function(e,t){return e.push.apply(e,(0,kr.__spreadArray)([],(0,kr.__read)(t))),e}),[])]}}))}))},e.prototype.scanValues=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getTable(),[4,Promise.all(e.map((function(e){return t.getAll(e)})))];case 1:return[2,n.sent().reduce((function(e,t){return e.push.apply(e,(0,kr.__spreadArray)([],(0,kr.__read)(t))),e}),[])]}}))}))},e.prototype.getKeyQueries=function(){var e=new No(this.node.comparer);return this.node.type===wo.SCAN_ALL?[void 0]:this.node.intervals.map((function(t){return Wo.getKeyRange(e,t)}))},e.prototype.getTable=function(){var e=this.node.collectionSchema;return this.transaction.table(e.name)},e}(),zo=Zo,$o=function(){function e(e,t){this.node=e,this.parent=t,this.context=ei(e)}return e.prototype.perform=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l=this;return(0,kr.__generator)(this,(function(f){t=this.node,n=t.comparer,r=t.path,o=t.order;try{for(i=(0,kr.__values)(this.context.inputs),a=i.next();!a.done;a=i.next())(s=a.value).sort((function(e,t){var i=(0,kr.__read)(e,2)[1],a=(0,kr.__read)(t,2)[1],s=qr(i,r),c=qr(a,r),u=l.getComparerByType(n,o);if(Br(s)&&Br(c))return u(s,c);throw new oo})),e.push(s)}catch(d){c={error:d}}finally{try{a&&!a.done&&(u=i.return)&&u.call(i)}finally{if(c)throw c.error}}return[2]}))}))},e.prototype.getComparerByType=function(e,t){return t===Lr.ASCENDING?function(t,n){return e.cmp(t,n)}:function(t,n){return-e.cmp(t,n)}},e}(),Jo=$o,Xo=function(){function e(e,t){this.node=e,this.parent=t,this.context=ei(e)}return e.prototype.perform=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return e.push(this.context.inputs.reduce((function(e,t){return e.push.apply(e,(0,kr.__spreadArray)([],(0,kr.__read)(t))),e}),[])),[2]}))}))},e}();function ei(e){return{total:e.children.length,done:0,inputs:[]}}var ti=function(){function e(e,t){this.onRequestSuccess=function(){},this.onRequestFailed=function(){},this.request=e,this.transaction=t,this.jobs=new Map}return e.prototype.exec=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,kr.__generator)(this,(function(t){return this.task||(this.task=new Promise((function(t,n){e.onRequestSuccess=function(n){e.reset(),t(n)},e.onRequestFailed=function(t){return(0,kr.__awaiter)(e,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return this.reset(),n(t),[2]}))}))},e.traverse(e.request.root,(function(t,n){var r=function(e,t,n){var r;return(r={},r[wo.FILL]=function(){return new To(e,t)},r[wo.DISTINCT]=function(){return new Do(e,t)},r[wo.FILTER]=function(){return new jo(e,t)},r[wo.HYDRATE]=function(){return new Fo(e,t,n)},r[wo.INDEX_SCAN]=function(){return new Go(e,t,n)},r[wo.INTERSECT]=function(){return new Ko(e,t)},r[wo.PAGINATE]=function(){return new Yo(e,t)},r[wo.SCAN]=function(){return new zo(e,t,n)},r[wo.SCAN_ALL]=function(){return new zo(e,t,n)},r[wo.SORT]=function(){return new Jo(e,t)},r[wo.UNION]=function(){return new Xo(e,t)},r)[e.type]()}(t,n&&e.jobs.get(n)||null,e.transaction);e.jobs.set(t,r),t.children.length||e.beginJob(r).catch((function(t){e.onRequestFailed(t)}))}))}))),[2,this.task]}))}))},e.prototype.beginJob=function(e){var t;return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o=this;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:n=(null===(t=e.parent)||void 0===t?void 0:t.context.inputs)||[],i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.perform(n)];case 2:return i.sent(),this.finishJob(e,n).catch((function(e){o.onRequestFailed(e)})),[3,4];case 3:return r=i.sent(),this.onRequestFailed(r),[3,4];case 4:return[2]}}))}))},e.prototype.finishJob=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,kr.__generator)(this,(function(o){return e.parent&&((n=e.parent.context).done+=1,n.done===n.total&&this.beginJob(e.parent).catch((function(e){r.onRequestFailed(e)}))),e.node===this.request.root&&this.onRequestSuccess(t),[2]}))}))},e.prototype.reset=function(){this.jobs=new Map,this.task=void 0,this.onRequestSuccess=function(){},this.onRequestFailed=function(){}},e.prototype.traverse=function(e,t,n){var r,o;t(e,n);try{for(var i=(0,kr.__values)(e.children),a=i.next();!a.done;a=i.next()){var s=a.value;this.traverse(s,t,e)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},e}(),ni=ti,ri=function(){function e(e){this.comparer=e}return e.prototype.rewrite=function(e){return{offset:e.offset,limit:e.limit,order:e.order&&(0,kr.__assign)({},e.order),exp:this.rewriteWhereClauses(e.whereClauses)}},e.prototype.rewriteWhereClauses=function(e){var t,n,r,o,i;if(!e.length)return{type:Pr.ALL};var a={type:Pr.OR,exps:[]};try{for(var s=(0,kr.__values)(e),c=s.next();!c.done;c=s.next()){var u=c.value,l={type:Pr.AND,exps:[]};try{for(var f=(r=void 0,(0,kr.__values)(Object.entries(u))),d=f.next();!d.done;d=f.next()){var p=(0,kr.__read)(d.value,2),h=p[0],v=p[1];if(void 0!==v){var g=Br(v)?((i={})[Dr.Equals]=v,i):v;this.isEmptyPredicate(g)||l.exps.push({type:Pr.FILTER,predicate:g,path:h,hints:{intervalGroup:qo.fromWherePredicate(g,this.comparer),isKey:!1,indices:[]}})}}}catch(y){r={error:y}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}a.exps.push(l)}}catch(m){t={error:m}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.isEmptyPredicate=function(e){return Object.values(e).every((function(e){return void 0===e}))},e}(),oi=ri,ii=function(){function e(e){this.schema=e,this.indicesMap=new Map,this.warmupIndicesMap()}return e.prototype.bind=function(e){return this.bindQueryHints(e.exp),e},e.prototype.bindQueryHints=function(e){var t,n=this,r=e;r.type!==Pr.AND&&r.type!==Pr.OR?r.type===Pr.FILTER&&(r.hints.isKey=this.schema.key&&Wr(this.schema.key.path,r.path),r.hints.indices=null!==(t=this.indicesMap.get(r.path))&&void 0!==t?t:[]):r.exps.forEach((function(e){return n.bindQueryHints(e)}))},e.prototype.warmupIndicesMap=function(){var e,t,n,r,o;try{for(var i=(0,kr.__values)(this.schema.indices.entries()),a=i.next();!a.done;a=i.next()){var s=(0,kr.__read)(a.value,2),c=s[0],u=s[1];u.priority=null!==(o=u.priority)&&void 0!==o?o:-(c+1);var l=Array.isArray(u.path)?u.path:[u.path];try{for(var f=(n=void 0,(0,kr.__values)(l)),d=f.next();!d.done;d=f.next()){var p=d.value,h=this.indicesMap.get(p)||[];h.push(u),this.indicesMap.set(p,h)}}catch(v){n={error:v}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}}catch(g){e={error:g}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e}(),ai=ii,si=function(){function e(e,t){this.collectionSchema=e,this.comparer=t}return e.prototype.plan=function(e,t){return{root:this.getRootNode(e,t),aggregate:t}},e.prototype.getRootNode=function(e,t){if(e.exp.type===Pr.NONE)return this.getSkipNode();var n=this.getBaseNode(e.exp);return(t===Nr.ENTRIES||t===Nr.VALUES||e.order)&&(n=this.getHydrateNode([n])),e.order&&(n=this.getSortNode(e.order.path,e.order.type,[n])),(e.offset||e.limit!==Fr)&&(n=this.getPaginateNode(e.offset,e.limit,[n])),n=this.getDistinctNode([n])},e.prototype.getBaseNode=function(e){return e.type===Pr.ALL?this.getScanAllNode():e.type===Pr.NONE?this.getSkipNode():e.type===Pr.FILTER?this.getFilterNode(e):this.getLogicExpNode(e)},e.prototype.getLogicExpNode=function(e){var t,n,r=[];try{for(var o=(0,kr.__values)(e.exps),i=o.next();!i.done;i=o.next()){var a=i.value;r.push(a.type===Pr.FILTER?this.getFilterNode(a):this.getLogicExpNode(a))}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return e.type===Pr.AND?this.getIntersectNode(r):this.getUnionNode(r)},e.prototype.getFilterNode=function(e){if(!e.path||e.hints.isKey)return this.getScanNode(e.hints.intervalGroup.intervals);var t=e.hints.indices.find((function(t){return Wr(t.path,e.path)}));return t?this.getIndexScanNode(e.hints.intervalGroup.intervals,t):this.getMemFilterNode(e.hints.intervalGroup.intervals,e.path)},e.prototype.getIntersectNode=function(e){return{type:wo.INTERSECT,comparer:this.comparer,children:e}},e.prototype.getDistinctNode=function(e){return void 0===e&&(e=[]),{type:wo.DISTINCT,comparer:this.comparer,children:e}},e.prototype.getUnionNode=function(e){return void 0===e&&(e=[]),{type:wo.UNION,children:e}},e.prototype.getHydrateNode=function(e){return void 0===e&&(e=[]),{type:wo.HYDRATE,collectionSchema:this.collectionSchema,children:e}},e.prototype.getPaginateNode=function(e,t,n){return void 0===n&&(n=[]),{type:wo.PAGINATE,offset:e,limit:t,children:n}},e.prototype.getSortNode=function(e,t,n){return void 0===n&&(n=[]),{type:wo.SORT,path:e,order:t,comparer:this.comparer,children:n}},e.prototype.getMemFilterNode=function(e,t,n){return{type:wo.FILTER,comparer:this.comparer,path:t,intervals:e,regroup:!1,children:[{type:wo.HYDRATE,collectionSchema:this.collectionSchema,children:n||[this.getScanAllNode()]}]}},e.prototype.getIndexScanNode=function(e,t){return{type:wo.INDEX_SCAN,collectionSchema:this.collectionSchema,index:t,intervals:e,comparer:this.comparer,children:[]}},e.prototype.getScanNode=function(e){return{type:wo.SCAN,collectionSchema:this.collectionSchema,intervals:e,comparer:this.comparer,children:[]}},e.prototype.getScanAllNode=function(){return{type:wo.SCAN_ALL,collectionSchema:this.collectionSchema,comparer:this.comparer,children:[]}},e.prototype.getSkipNode=function(){return{type:wo.FILL,inputs:[[]],children:[]}},e}(),ci=si,ui=function(){function e(){}return e.prototype.eliminate=function(e){var t=e;return t.exp=this.eliminateExp(e.exp),t},e.prototype.eliminateExp=function(e){return e.type===Pr.AND?this.eliminateAndExp(e):e.type===Pr.OR?this.eliminateOrExp(e):e.type===Pr.FILTER?this.eliminateFilterExp(e):e},e.prototype.eliminateAndExp=function(e){var t,n,r={type:Pr.AND,exps:[]};try{for(var o=(0,kr.__values)(e.exps),i=o.next();!i.done;i=o.next()){var a=i.value,s=this.eliminateExp(a);if(s.type===Pr.NONE)return{type:Pr.NONE};s.type!==Pr.ALL&&r.exps.push(s)}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.exps.length?1===r.exps.length?r.exps[0]:r:{type:Pr.ALL}},e.prototype.eliminateOrExp=function(e){var t,n,r={type:Pr.OR,exps:[]};try{for(var o=(0,kr.__values)(e.exps),i=o.next();!i.done;i=o.next()){var a=i.value,s=this.eliminateExp(a);if(s.type===Pr.ALL)return{type:Pr.ALL};s.type!==Pr.NONE&&r.exps.push(s)}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.exps.length?1===r.exps.length?e.exps[0]:r:{type:Pr.NONE}},e.prototype.eliminateFilterExp=function(e){return e.hints.intervalGroup.isEmpty()?{type:Pr.NONE}:e.hints.intervalGroup.isFull()?{type:Pr.ALL}:e},e}(),li=ui;var fi=function(){var e,t=!1;return function(n,r){if("function"!=typeof n[r])throw new Error("memo() must be decorated on one of function properties of target");Object.defineProperty(n,r,(0,kr.__assign)((0,kr.__assign)({},Object.getOwnPropertyDescriptor(n,r)),{value:function(){return t||(e=n[r](),t=!0),e}}))}},di=wo.UNION,pi=wo.INTERSECT,hi=wo.HYDRATE,vi=wo.INDEX_SCAN,gi=wo.SCAN,yi=wo.SCAN_ALL,mi=wo.FILTER;function _i(e){return bi(e.root),e}function bi(e){var t,n,r=e.children;try{for(var o=(0,kr.__values)(r.entries()),i=o.next();!i.done;i=o.next()){var a=(0,kr.__read)(i.value,2),s=a[0],c=a[1];if(bi(c),[pi,di].includes(c.type)&&1===c.children.length){var u=c.children[0];r[s]=u}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}function wi(e){return Ei(e.root),e}function Ei(e){var t,n,r,o,i=e.children;try{for(var a=(0,kr.__values)(i.entries()),s=a.next();!s.done;s=a.next()){var c=(0,kr.__read)(s.value,2),u=c[0],l=c[1];if(Ei(l),l.type===hi){var f=!1;try{for(var d=(r=void 0,(0,kr.__values)(l.children)),p=d.next();!p.done;p=d.next()){(h=p.value).type!==gi&&h.type!==vi&&h.type!==yi||(f=!0,h.hydrate=!0)}}catch(v){r={error:v}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}if(f&&1===l.children.length){var h=l.children[0];i[u]=h}}}}catch(g){t={error:g}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}function Si(e){return e}function Oi(e){return Ii(e.root),e}function Ii(e){var t,n;Ri(e.children,(function(r){if(Ii(r),r.type!==mi||!r.children.some((function(e){return e.type===yi})))return!0;if(n){var o=r;!function(e,t){var n=e;for(;e.nextFilter;)n=e.nextFilter;n.nextFilter=t}(n,o),o.regroup=e.type===di}else t=r;return n=r,!1})),t&&e.children.push(t)}function Ri(e,t){for(var n=e,r=0,o=n.length-1;r<=o;){var i=n[r];t(i)?r+=1:(n[r]=n[o],n[o]=i,o-=1)}return n.splice(o+1)}function Ci(e){return Ti(e.root),e}function Ti(e){var t,n,r=e.children;try{for(var o=(0,kr.__values)(r.entries()),i=o.next();!i.done;i=o.next()){var a=(0,kr.__read)(i.value,2),s=a[0],c=a[1];if(Ti(c),c.type===pi){var u=c.children.find((function(e){var t=e.type;return[gi,vi].includes(t)}));if(u){var l=Ri(c.children,(function(e){return e.type!==mi}));if(l.length){var f={type:hi,collectionSchema:u.collectionSchema,children:[]};r[s]=Mi.apply(void 0,(0,kr.__spreadArray)((0,kr.__spreadArray)([],(0,kr.__read)(l)),[f,c]))}}}}}catch(d){t={error:d}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}function xi(e){return[Nr.COUNT,Nr.KEYS].includes(e.aggregate)||Di((function(e){e.type!==gi&&e.type!==vi||(e.hydrate=!0)}),e.root),e}function Ai(e){return Di((function(e){var t,n,r,o,i;if(e.type===pi){var a=Number.MIN_SAFE_INTEGER;try{for(var s=(0,kr.__values)(e.children),c=s.next();!c.done;c=s.next()){var u=c.value,l=Number.MIN_SAFE_INTEGER;u.type===gi&&(l=0),u.type===vi&&u.index.priority&&(l=u.index.priority),a=Math.max(a,l)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var f=e.children;try{for(var d=(0,kr.__values)(f.entries()),p=d.next();!p.done;p=d.next()){var h=(0,kr.__read)(p.value,2),v=h[0];if((u=h[1]).type===vi)(l=null!==(i=u.index.priority)&&void 0!==i?i:Number.MIN_SAFE_INTEGER)<a&&(f[v]=ki(u))}}catch(y){r={error:y}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}}),e.root),e}function ki(e){return{path:e.index.path,intervals:e.intervals,comparer:e.comparer,type:wo.FILTER,regroup:!1,children:[{type:wo.SCAN_ALL,collectionSchema:e.collectionSchema,comparer:e.comparer,hydrate:!0,children:[]}]}}function Di(e,t,n,r){var o,i;void 0===n&&(n=null),void 0===r&&(r=-1);var a=t.children;try{for(var s=(0,kr.__values)(a.entries()),c=s.next();!c.done;c=s.next()){var u=(0,kr.__read)(c.value,2),l=u[0];Di(e,u[1],t,l)}}catch(f){o={error:f}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}e(t,n,r)}function Mi(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=(0,kr.__read)(n),i=o[0],a=o.slice(1),s=i;try{for(var c=(0,kr.__values)(a),u=c.next();!u.done;u=c.next()){var l=u.value;s.children=[l],s=l}}catch(f){e={error:f}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}return i}var Pi,Ni=function(){function e(){}return e.prototype.optimize=function(e){var t=[Ai,wi,Oi,_i,Ci,Si,_i,wi,xi];return this.applyAllRules(t,e)},e.prototype.applyAllRules=function(e,t){return e.reduce((function(e,t){return t(e)}),t)},e}(),Li=function(){function e(e){void 0===e&&(e=new Map),this.query={offset:0,limit:void 0,order:void 0,whereClauses:[]},this.aliasMap=e}return e.fromRawQuery=function(t,n){var r,o;void 0===n&&(n=new Map);var i=new e(n),a=t.offset,s=t.limit,c=t.order,u=t.whereClauses;i.setOffset(a),i.setLimit(s),c&&i.setOrderBy(c.path,c.type);try{for(var l=(0,kr.__values)(u),f=l.next();!f.done;f=l.next()){var d=f.value;i.addWhereClause(d)}}catch(p){r={error:p}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return i},e.prototype.setOffset=function(e){this.query.offset=e},e.prototype.setLimit=function(e){this.query.limit=e},e.prototype.setRange=function(e,t){void 0===e&&(e=0),this.query.offset=e,this.query.limit=t!==Fr?Math.max(0,t-e):Fr},e.prototype.setOrderBy=function(e,t){this.query.order={path:e,type:t||Lr.ASCENDING}},e.prototype.addWhereClause=function(e){var t,n,r;if(this.isValidWhereClause(e)){var o={};try{for(var i=(0,kr.__values)(Object.entries(e)),a=i.next();!a.done;a=i.next()){var s=(0,kr.__read)(a.value,2),c=s[0],u=s[1];if(void 0!==u)o[null!==(r=this.aliasMap.get(c))&&void 0!==r?r:c]=u}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.query.whereClauses.push(o)}},e.prototype.clone=function(t){return void 0===t&&(t=this.aliasMap),e.fromRawQuery(this.query,t)},e.prototype.build=function(){return this.query},e.prototype.isValidWhereClause=function(e){return!!e&&Object.keys(e).length>=0},e}(),ji=Li;!function(e){e.DISABLED="disabled",e.ALL="all"}(Pi||(Pi={}));var Ui,Fi=function(){function e(e,t){this.collectionName=e,this.context=t.context}return e.toggleOptimization=function(t){e.optimization=t?Pi.ALL:Pi.DISABLED},e.getOptimizationMode=function(){return e.optimization},e.prototype.exec=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a,s,c,u;return(0,kr.__generator)(this,(function(l){switch(l.label){case 0:return[4,this.context.getTransaction([this.collectionName],Vr.READ_ONLY)];case 1:return n=l.sent(),[4,this.getModel()];case 2:return r=l.sent(),o=this.getAliasMap(r.class),i=ji.fromRawQuery(e,o).build(),(a=n.table(this.collectionName)).supports("query")&&i.whereClauses.length<=1?t!==Nr.VALUES?[3,4]:[4,a.query(i,t)]:[3,7];case 3:return[2,l.sent().map((function(e){var t;return null!==(t=Ro(e,r.class))&&void 0!==t?t:void 0}))];case 4:return t!==Nr.ENTRIES?[3,6]:[4,a.query(i,t)];case 5:return[2,l.sent().map((function(e){var t,n=(0,kr.__read)(e,2);return[n[0],null!==(t=Ro(n[1],r.class))&&void 0!==t?t:void 0]}))];case 6:return[2,a.query(i,t)];case 7:return[4,this.getQueryPlan(i,t)];case 8:return s=l.sent(),[4,new ni(s,n).exec()];case 9:return c=kr.__read.apply(void 0,[l.sent(),1]),u=c[0],t===Nr.COUNT?[2,u.length]:t===Nr.KEYS?[2,u.map((function(e){return(0,kr.__read)(e,1)[0]}))]:t===Nr.VALUES?[2,u.map((function(e){var t;return null!==(t=Ro((0,kr.__read)(e,2)[1],r.class))&&void 0!==t?t:void 0}))]:[2,u.map((function(e){var t,n=(0,kr.__read)(e,2);return[n[0],null!==(t=Ro(n[1],r.class))&&void 0!==t?t:void 0]}))]}}))}))},e.prototype.conditions=function(e){return this.getRewriter().rewrite(e)},e.prototype.explain=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getQueryPlan(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getQueryPlan=function(t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o,i,a,s,c,u;return(0,kr.__generator)(this,(function(l){switch(l.label){case 0:return[4,this.getRewriter()];case 1:return r=l.sent(),[4,this.getEliminator()];case 2:return o=l.sent(),[4,this.getPlanner()];case 3:return i=l.sent(),[4,this.getBinder()];case 4:return a=l.sent(),[4,this.getOptimizer()];case 5:return s=l.sent(),c=r.rewrite(t),c=a.bind(c),c=o.eliminate(c),u=i.plan(c,n),[2,e.optimization===Pi.DISABLED?u:s.optimize(u)]}}))}))},e.prototype.getAliasMap=function(e){var t,n,r=new Map,o=po.getTableInfo(e.prototype);if(!o)return r;try{for(var i=(0,kr.__values)(o.properties.values()),a=i.next();!a.done;a=i.next()){var s=a.value;s.alias&&r.set(s.name,s.alias)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.getModel=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.context.waitForModelRegistered(this.collectionName)]}))}))},e.prototype.getPlanner=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getModel()];case 1:return e=t.sent(),[2,new ci(e.schema,this.context.comparer)]}}))}))},e.prototype.getRewriter=function(){return new oi(this.context.comparer)},e.prototype.getEliminator=function(){return new li},e.prototype.getBinder=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getModel()];case 1:return e=t.sent(),[2,new ai(e.schema)]}}))}))},e.prototype.getOptimizer=function(){return new Ni},e.optimization=Pi.ALL,(0,kr.__decorate)([fi()],e.prototype,"getModel",null),(0,kr.__decorate)([fi()],e.prototype,"getPlanner",null),(0,kr.__decorate)([fi()],e.prototype,"getRewriter",null),(0,kr.__decorate)([fi()],e.prototype,"getEliminator",null),(0,kr.__decorate)([fi()],e.prototype,"getBinder",null),(0,kr.__decorate)([fi()],e.prototype,"getOptimizer",null),e}(),Bi=Fi,qi=function(){function e(e,t){this.name=e,this.options=t,this.contextGenerator=t.contextGenerator,this.queryBuilder=new ji,this.patch()}return e.toggleOptimization=function(e){return Bi.toggleOptimization(e)},e.prototype.skip=function(e){return this.queryBuilder.setOffset(e),this},e.prototype.take=function(e){return this.queryBuilder.setLimit(e),this},e.prototype.slice=function(e,t){return this.queryBuilder.setRange(e,t),this},e.prototype.orderBy=function(e,t){return this.queryBuilder.setOrderBy(e,t),this},e.prototype.where=function(e){return this.queryBuilder.addWhereClause(e),this},e.prototype.or=function(e){return this.queryBuilder.addWhereClause(e),this},e.prototype.conditions=function(){var e=this.contextGenerator.spawnContext();return new Bi(this.name,{context:e}).conditions(this.queryBuilder.build())},e.prototype.clone=function(){var t=new e(this.name,this.options);return t.queryBuilder=this.queryBuilder.clone(),t},e.prototype.explain=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=this.contextGenerator.spawnContext(),[2,new Bi(this.name,{context:t}).explain(this.queryBuilder.build(),e)]}))}))},e.prototype.count=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,kr.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(t,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,new Bi(this.name,{context:e}).exec(this.queryBuilder.build(),Nr.COUNT)]}))}))}))]}))}))},e.prototype.entries=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,kr.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(t,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,new Bi(this.name,{context:e}).exec(this.queryBuilder.build(),Nr.ENTRIES)]}))}))}))]}))}))},e.prototype.keys=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,kr.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(t,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,new Bi(this.name,{context:e}).exec(this.queryBuilder.build(),Nr.KEYS)]}))}))}))]}))}))},e.prototype.values=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,kr.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(t,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,new Bi(this.name,{context:e}).exec(this.queryBuilder.build(),Nr.VALUES)]}))}))}))]}))}))},e.prototype.first=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,kr.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,new Bi(this.name,{context:e}).exec(this.queryBuilder.build(),Nr.VALUES)];case 1:return t=r.sent(),[2,null!==(n=t[0])&&void 0!==n?n:null]}}))}))}))]}))}))},e.prototype.last=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,kr.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,new Bi(this.name,{context:e}).exec(this.queryBuilder.build(),Nr.VALUES)];case 1:return t=r.sent(),[2,null!==(n=t[t.length-1])&&void 0!==n?n:null]}}))}))}))]}))}))},e.prototype.update=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.entries()];case 1:return t=o.sent(),[2,(n=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(r,void 0,void 0,(function(){var r,o,i,a,s,c,u,l,f,d,p,h,v;return(0,kr.__generator)(this,(function(g){switch(g.label){case 0:return r=[],[4,n.getTransaction([this.name],Vr.READ_WRITE)];case 1:o=g.sent(),i=o.table(this.name),g.label=2;case 2:g.trys.push([2,8,9,10]),a=(0,kr.__values)(t),s=a.next(),g.label=3;case 3:return s.done?[3,7]:(c=(0,kr.__read)(s.value,2),u=c[0],l=c[1],[4,i.openCursor(u)]);case 4:return(f=g.sent())?(d=e(l),[4,f.update(Io(d))]):[3,6];case 5:g.sent(),r.push(u),g.label=6;case 6:return s=a.next(),[3,3];case 7:return[3,10];case 8:return p=g.sent(),h={error:p},[3,10];case 9:try{s&&!s.done&&(v=a.return)&&v.call(a)}finally{if(h)throw h.error}return[7];case 10:return[2,r]}}))}))}))]}}))}))},e.prototype.clear=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t,n=this;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.keys()];case 1:return e=r.sent(),[2,(t=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(n,void 0,void 0,(function(){var n,r,o,i,a,s,c,u,l,f;return(0,kr.__generator)(this,(function(d){switch(d.label){case 0:return n=[],[4,t.getTransaction([this.name],Vr.READ_WRITE)];case 1:return r=d.sent(),(o=r.table(this.name)).supports("bulkDelete")?[4,o.bulkDelete(e)]:[3,3];case 2:return d.sent(),[2,e];case 3:d.trys.push([3,9,10,11]),i=(0,kr.__values)(e),a=i.next(),d.label=4;case 4:return a.done?[3,8]:(s=a.value,[4,o.openCursor(s)]);case 5:return(c=d.sent())?[4,c.delete()]:[3,7];case 6:d.sent(),n.push(s),d.label=7;case 7:return a=i.next(),[3,4];case 8:return[3,11];case 9:return u=d.sent(),l={error:u},[3,11];case 10:try{a&&!a.done&&(f=i.return)&&f.call(i)}finally{if(l)throw l.error}return[7];case 11:return[2,n]}}))}))}))]}}))}))},e.prototype.patch=function(){var e=this.options.aspects;e.update.patch(this,"update"),e.clear.patch(this,"clear"),e.count.patch(this,"count"),e.entries.patch(this,"entries"),e.keys.patch(this,"keys"),e.values.patch(this,"values"),e.first.patch(this,"first"),e.last.patch(this,"last"),e.skip.patch(this,"skip"),e.take.patch(this,"take"),e.slice.patch(this,"slice"),e.orderBy.patch(this,"orderBy"),e.where.patch(this,"where"),e.or.patch(this,"or")},e}(),Wi=qi,Vi=function(){function e(e,t){this.name=e,this.aspects=t.aspects,this.contextGenerator=t.contextGenerator,this.unsliced=new Wi(e,t),this.patch()}return e.prototype.skip=function(e){return this.unsliced.clone().skip(e)},e.prototype.take=function(e){return this.unsliced.clone().take(e)},e.prototype.slice=function(e,t){return this.unsliced.clone().slice(e,t)},e.prototype.orderBy=function(e,t){return this.unsliced.clone().orderBy(e,t)},e.prototype.where=function(e){return this.unsliced.clone().where(e)},e.prototype.or=function(e){return this.unsliced.clone().or(e)},e.prototype.update=function(e){return this.unsliced.update(e)},e.prototype.clear=function(){return this.unsliced.clear()},e.prototype.count=function(){return this.unsliced.count()},e.prototype.entries=function(){return this.unsliced.entries()},e.prototype.keys=function(){return this.unsliced.keys()},e.prototype.values=function(){return this.unsliced.values()},e.prototype.first=function(){return this.unsliced.first()},e.prototype.last=function(){return this.unsliced.last()},e.prototype.get=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,kr.__generator)(this,(function(r){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(n,void 0,void 0,(function(){var n,r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.getTransaction([this.name],Vr.READ_ONLY)];case 1:return n=i.sent(),[4,t.waitForModelRegistered(this.name)];case 2:return r=i.sent(),[4,n.table(this.name).get(e)];case 3:return[2,(o=i.sent())?Ro(o,r.class):null]}}))}))}))]}))}))},e.prototype.has=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,kr.__generator)(this,(function(r){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(n,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getTransaction([this.name],Vr.READ_ONLY)];case 1:return n=r.sent(),[4,n.table(this.name).openCursor(e)];case 2:return[2,!!r.sent()]}}))}))}))]}))}))},e.prototype.delete=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,kr.__generator)(this,(function(r){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(n,void 0,void 0,(function(){var n,r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.getTransaction([this.name],Vr.READ_WRITE)];case 1:return n=i.sent(),[4,(r=n.table(this.name)).openCursor(e)];case 2:return o=i.sent(),[4,r.delete(e)];case 3:return i.sent(),[2,o?e:null]}}))}))}))]}))}))},e.prototype.insert=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,kr.__generator)(this,(function(r){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(n,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getTransaction([this.name],Vr.READ_WRITE)];case 1:return n=r.sent(),[4,n.table(this.name).insert(Io(e))];case 2:return[2,r.sent()]}}))}))}))]}))}))},e.prototype.upsert=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,kr.__generator)(this,(function(r){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(n,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getTransaction([this.name],Vr.READ_WRITE)];case 1:return n=r.sent(),[4,n.table(this.name).upsert(Io(e))];case 2:return[2,r.sent()]}}))}))}))]}))}))},e.prototype.bulkInsert=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,kr.__generator)(this,(function(r){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(n,void 0,void 0,(function(){var n,r,o,i,a,s,c,u,l,f;return(0,kr.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.getTransaction([this.name],Vr.READ_WRITE)];case 1:n=d.sent(),r=[],o=n.table(this.name),d.label=2;case 2:d.trys.push([2,7,8,9]),i=(0,kr.__values)(e),a=i.next(),d.label=3;case 3:return a.done?[3,6]:(s=a.value,[4,o.insert(Io(s))]);case 4:c=d.sent(),r.push(c),d.label=5;case 5:return a=i.next(),[3,3];case 6:return[3,9];case 7:return u=d.sent(),l={error:u},[3,9];case 8:try{a&&!a.done&&(f=i.return)&&f.call(i)}finally{if(l)throw l.error}return[7];case 9:return[2,r]}}))}))}))]}))}))},e.prototype.bulkUpsert=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,kr.__generator)(this,(function(r){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return(0,kr.__awaiter)(n,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getTransaction([this.name],Vr.READ_WRITE)];case 1:return n=r.sent(),[2,n.table(this.name).bulkUpsert(e.map((function(e){return Io(e)})))]}}))}))}))]}))}))},e.prototype.conditions=function(){return this.unsliced.conditions()},e.prototype.patch=function(){this.aspects.get.patch(this,"get"),this.aspects.has.patch(this,"has"),this.aspects.delete.patch(this,"delete"),this.aspects.insert.patch(this,"insert"),this.aspects.upsert.patch(this,"upsert"),this.aspects.bulkInsert.patch(this,"bulkInsert"),this.aspects.bulkUpsert.patch(this,"bulkUpsert")},e}(),Gi=Vi,Hi=function(){function e(e,t){this.collectionMap=new Map,this.storage=e,this.eventBus=t}return e.prototype.getCollection=function(e,t){if(this.collectionMap.has(e))return this.collectionMap.get(e);var n=this.createCollection(e,t);return this.collectionMap.set(e,n),this.eventBus.emit(bo.CollectionCreated,{collectionName:e,context:t.spawnContext()}),n},e.prototype.createCollection=function(e,t){var n=this.storage.aspects.collection;return new Gi(e,{contextGenerator:t,aspects:n})},e}(),Ki=Qr.withMessageCreator("UnexpectedModifierError",(function(e){return'unexpected error occurred at the "'+e+'" stage of the plugable function, there may be a bug in your modifiers.'})),Qi=Qr.withMessageCreator("InvalidPatchedFunctionError",(function(e){return'patched target is not a function, patched key is "'+e+'"'}));!function(e){e.before="before",e.around="around",e.return="return",e.throw="throw",e.after="after",e.protect="protect"}(Ui||(Ui={}));var Yi=function(){function e(e){this.modifiers={before:[],around:[],return:[],throw:[],after:[],protect:[]},this.createContext=e}return e.prototype.before=function(e){return this.modifiers.before.push(e),this},e.prototype.around=function(e){return this.modifiers.around.push(e),this},e.prototype.throw=function(e){return this.modifiers.throw.push(e),this},e.prototype.return=function(e){return this.modifiers.return.push(e),this},e.prototype.after=function(e){return this.modifiers.after.push(e),this},e.prototype.protect=function(e){return this.modifiers.protect.push(e),this},e.prototype.patch=function(e,t){Object.defineProperty(e,t,{enumerable:!1,value:this.compile(e,t),writable:!0,configurable:!0})},e.prototype.dirty=function(){return Object.values(this.modifiers).some((function(e){return e.length}))},e.prototype.compile=function(e,t){var n=e[t];if("function"!=typeof n)throw new Qi(t);var r=this.invoke.bind(this);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(n,this,e)}},e}(),Zi=Yi,zi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,kr.__extends)(t,e),t.create=function(){return new t((function(){return{}}))},t.withContext=function(e){return new t(e)},t.prototype.invoke=function(e,t,n){var r;if(!this.dirty())return e.call.apply(e,(0,kr.__spreadArray)([t],(0,kr.__read)(n)));var o=Object.assign(this.createContext(),{args:n,this:t,callee:e,return:void 0,error:void 0});try{this.trigger(Ui.before,o,this.modifiers.protect),this.modifiers.around.length?this.trigger(Ui.around,o,this.modifiers.protect):o.return=(r=o.callee).call.apply(r,(0,kr.__spreadArray)([o.this],(0,kr.__read)(o.args))),this.trigger(Ui.return,o,this.modifiers.protect)}catch(i){throw this.modifiers.throw.length&&(Object.assign(o,{error:i}),this.trigger(Ui.throw,o,this.modifiers.protect)),i}finally{this.trigger(Ui.after,o,this.modifiers.protect)}return o.return},t.prototype.trigger=function(e,t,n){var r,o,i,a;try{for(var s=(0,kr.__values)(this.modifiers[e]),c=s.next();!c.done;c=s.next()){var u=c.value;try{u.call(t.this,t)}catch(p){if(!n.length){Zr(new Ki(e,p));continue}try{for(var l=(i=void 0,(0,kr.__values)(n)),f=l.next();!f.done;f=l.next()){var d=f.value;Object.assign(t,{error:p}),d.call(t.this,t)}}catch(h){i={error:h}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}}}}catch(v){r={error:v}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},t}(Zi),$i=zi,Ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,kr.__extends)(t,e),t.create=function(){return new t((function(){return{}}))},t.withContext=function(e){return new t(e)},t.prototype.invoke=function(e,t,n){var r=this;if(!this.dirty())return e.call.apply(e,(0,kr.__spreadArray)([t],(0,kr.__read)(n)));var o=Object.assign(this.createContext(),{args:n,this:t,callee:e,return:void 0,error:void 0});return new Promise((function(e,t){(0,kr.__awaiter)(r,void 0,void 0,(function(){var e,t,n,r;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,7,10,12]),[4,this.trigger(Ui.before,o,this.modifiers.protect)];case 1:return i.sent(),this.modifiers.around.length?[3,3]:(e=(r=o.callee).call.apply(r,(0,kr.__spreadArray)([o.this],(0,kr.__read)(o.args))),t=o,[4,e]);case 2:return t.return=i.sent(),[3,5];case 3:return[4,this.trigger(Ui.around,o,this.modifiers.protect)];case 4:i.sent(),i.label=5;case 5:return[4,this.trigger(Ui.return,o,this.modifiers.protect)];case 6:return i.sent(),[3,12];case 7:return n=i.sent(),Object.assign(o,{error:n}),this.modifiers.throw.length?[4,this.trigger(Ui.throw,o,this.modifiers.protect)]:[3,9];case 8:i.sent(),i.label=9;case 9:throw n;case 10:return[4,this.trigger(Ui.after,o,this.modifiers.protect)];case 11:return i.sent(),[7];case 12:return[2]}}))})).then((function(){e(o.return)})).catch((function(e){t(e)}))}))},t.prototype.trigger=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o,i,a,s,c,u,l,f,d,p,h,v;return(0,kr.__generator)(this,(function(g){switch(g.label){case 0:g.trys.push([0,15,16,17]),r=(0,kr.__values)(this.modifiers[e]),o=r.next(),g.label=1;case 1:if(o.done)return[3,14];i=o.value,g.label=2;case 2:return g.trys.push([2,4,,13]),[4,i.call(t.this,t)];case 3:return g.sent(),[3,13];case 4:if(a=g.sent(),!n.length)return Zr(new Ki(e,a)),[3,13];g.label=5;case 5:g.trys.push([5,10,11,12]),h=void 0,s=(0,kr.__values)(n),c=s.next(),g.label=6;case 6:return c.done?[3,9]:(u=c.value,Object.assign(t,{error:a}),[4,u.call(t.this,t)]);case 7:g.sent(),g.label=8;case 8:return c=s.next(),[3,6];case 9:return[3,12];case 10:return l=g.sent(),h={error:l},[3,12];case 11:try{c&&!c.done&&(v=s.return)&&v.call(s)}finally{if(h)throw h.error}return[7];case 12:return[3,13];case 13:return o=r.next(),[3,1];case 14:return[3,17];case 15:return f=g.sent(),d={error:f},[3,17];case 16:try{o&&!o.done&&(p=r.return)&&p.call(r)}finally{if(d)throw d.error}return[7];case 17:return[2]}}))}))},t}(Zi),Xi=Ji;function ea(){return{timings:new Map,counters:new Map,messages:new Map,errors:new Map,flags:new Map,data:new Map}}var ta,na=function(){function e(e,t){this.storage=e,this.eventBus=t,this.plugins=[]}return e.prototype.add=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{for(var o=(0,kr.__values)(n),i=o.next();!i.done;i=o.next()){var a=i.value;this.plugins.push(a),a.register(this.storage),this.eventBus.emit(_o.RegisterPlugin,a)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e}(),ra=na,oa=Qr.withMessageCreator("UnexpectedOutsideMigrationActionError",(function(e){return e+" outside ensure(callback) is not allowed, please wrap your migration actions inside a ensure callback"})),ia=function(){function e(e,t){this.name=e,this.context=t}return e.create=function(t){return{index:function(n){return new e(n,t)}}},e.prototype.create=function(e){var t=this.context.scope.collection;if(!t)throw new oa("CreateIndex");return this.context.actions.schema.push({type:Cr.CreateIndex,name:this.name,attributes:(0,kr.__assign)({},e),collection:t}),this},e.prototype.drop=function(){var e=this.context.scope.collection;if(!e)throw new oa("DropIndex");this.context.actions.schema.push({type:Cr.DropIndex,name:this.name,collection:e})},e.prototype.alter=function(e){var t=this.context.scope.collection;if(!t)throw new oa("AlterIndex");return this.context.actions.schema.push({type:Cr.DropIndex,name:this.name,collection:t},{type:Cr.CreateIndex,name:this.name,attributes:(0,kr.__assign)({},e),collection:t}),this},e.prototype.rename=function(e){var t=this.context.scope.collection;if(!t)throw new oa("RenameIndex");this.context.actions.schema.push({type:Cr.DropIndex,name:this.name,collection:t},{type:Cr.CreateIndex,name:e,attributes:{path:""},collection:t})},e.prototype.ensure=function(){throw new Yr},e}(),aa=function(){function e(e,t){this.name=e,this.context=t}return e.create=function(t){return{collection:function(n){return new e(n,t)}}},e.prototype.create=function(e){return this.context.actions.schema.push({type:Cr.CreateCollection,name:this.name,attributes:(0,kr.__assign)({},e)}),this},e.prototype.drop=function(){this.context.actions.schema.push({type:Cr.DropCollection,name:this.name})},e.prototype.alter=function(e){return this.context.actions.schema.push({type:Cr.DropCollection,name:this.name},{type:Cr.CreateCollection,name:this.name,attributes:(0,kr.__assign)({},e)}),this},e.prototype.rename=function(e){this.context.actions.schema.push({type:Cr.DropCollection,name:this.name},{type:Cr.CreateCollection,name:e,attributes:{key:{generator:jr.AutoIncrement},properties:[]}})},e.prototype.ensure=function(e){var t=this.context,n=(0,kr.__assign)({},ia.create(t));this.context.scope.collection=this.name,e(n),this.context.scope.collection=null},e}(),sa=function(){function e(){this.context={actions:{schema:[],data:[]},scope:{database:null,collection:null}},this.builder=aa.create(this.context)}return e.prototype.init=function(e){this.state=e,this.build()},e.prototype.plan=function(){return this.context.actions.schema.length||this.context.actions.data.length?[{schema:{actions:this.context.actions.schema.slice()},data:{actions:this.context.actions.data.slice()}}]:[]},e.prototype.handleDropCollection=function(e){var t,n;try{for(var r=(0,kr.__values)(e),o=r.next();!o.done;o=r.next()){var i=o.value;this.builder.collection(i.name).drop()}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.handleCreateCollection=function(e){var t,n,r=function(e){o.builder.collection(e.name).create(e).ensure((function(t){var n,r;try{for(var o=(n=void 0,(0,kr.__values)(e.indices)),i=o.next();!i.done;i=o.next()){var a=i.value;t.index(a.name).create(a)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}))},o=this;try{for(var i=(0,kr.__values)(e),a=i.next();!a.done;a=i.next()){r(a.value)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.handleIndexChange=function(e){var t,n,r=function(e){o.builder.collection(e.collection).ensure((function(t){var n,r,o,i,a,s;try{for(var c=(n=void 0,(0,kr.__values)((null===(a=e.index)||void 0===a?void 0:a.added)||[])),u=c.next();!u.done;u=c.next()){var l=u.value;t.index(l.name).create(l)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}try{for(var f=(o=void 0,(0,kr.__values)((null===(s=e.index)||void 0===s?void 0:s.deleted)||[])),d=f.next();!d.done;d=f.next()){l=d.value;t.index(l.name).drop()}}catch(h){o={error:h}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}}))},o=this;try{for(var i=(0,kr.__values)(e),a=i.next();!a.done;a=i.next()){r(a.value)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.build=function(){if(!this.state)throw new Error("Migration state is undefined, must init before!");var e=this.state.schema,t=e.expect,n=e.actual,r=Gr.databaseDiff(n,t);this.handleCreateCollection(r.added),this.handleDropCollection(r.deleted),this.handleIndexChange(r.different)},e}(),ca=Mr.name;!function(e){e.SYSTEM_TABLE="system_table",e.SCAN_EXISTING_TABLE="scan_exists_table"}(ta||(ta={}));var ua=function(){function e(){}return e.hasSystemTable=function(e){return e.tableNames.includes(ca)},e.getDatabaseSchema=function(t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,c;return(0,kr.__generator)(this,(function(u){switch(u.label){case 0:return[4,n.openDB(t,{name:t,collections:[Mr]})];case 1:o=u.sent(),i=!1,u.label=2;case 2:return u.trys.push([2,,10,11]),o.tableNames.length?[3,4]:(o.close(),i=!0,[4,n.deleteDB(t)]);case 3:return u.sent(),[2,{schema:{name:this.name,version:0,collections:[]},from:"scan_exists_table"}];case 4:return this.hasSystemTable(o)?[3,6]:[4,e.getDatabaseSchemaByScanningTableStructure(r.collections.map((function(e){return e.name})),o)];case 5:return[2,{schema:u.sent(),from:"scan_exists_table"}];case 6:return[4,o.transaction([ca],Vr.READ_ONLY)];case 7:return a=u.sent(),[4,a.table(ca).getAll()];case 8:return s=u.sent()||[],c={name:this.name,version:o.version,collections:(0,kr.__spreadArray)((0,kr.__spreadArray)([],(0,kr.__read)(s)),[this.getSystemTableSchema()])},[4,a.commit()];case 9:return u.sent(),[2,{schema:c,from:"system_table"}];case 10:return i||o.close(),[7];case 11:return[2]}}))}))},e.getSystemTableSchema=function(){return Mr},e.updateSchemaChange=function(e,t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,c,u,l,f,d,p,h,v,g,y,m,_,b,w,E,S,O,I,R;return(0,kr.__generator)(this,(function(C){switch(C.label){case 0:return o=t.table(ca),r?[4,o.bulkUpsert(n.schema.expect.collections.filter((function(e){return e.name!==ca})))]:[3,2];case 1:return C.sent(),[2];case 2:C.trys.push([2,27,,29]),i=Gr.databaseDiff(n.schema.actual,n.schema.expect),a=i.added.filter((function(e){return e.name!==ca})),C.label=3;case 3:C.trys.push([3,8,9,10]),s=(0,kr.__values)(a),c=s.next(),C.label=4;case 4:return c.done?[3,7]:((d=c.value).dataVersion=e,[4,o.upsert(d)]);case 5:C.sent(),C.label=6;case 6:return c=s.next(),[3,4];case 7:return[3,10];case 8:return u=C.sent(),w={error:u},[3,10];case 9:try{c&&!c.done&&(E=s.return)&&E.call(s)}finally{if(w)throw w.error}return[7];case 10:C.trys.push([10,15,16,17]),l=(0,kr.__values)(i.deleted),f=l.next(),C.label=11;case 11:return f.done?[3,14]:(d=f.value,[4,o.delete(d.name)]);case 12:C.sent(),C.label=13;case 13:return f=l.next(),[3,11];case 14:return[3,17];case 15:return p=C.sent(),S={error:p},[3,17];case 16:try{f&&!f.done&&(O=l.return)&&O.call(l)}finally{if(S)throw S.error}return[7];case 17:h=i.different.filter((function(e){return!!e.index})),v=function(e){var t,n,r;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return[4,o.get(e.collection)];case 1:return t=i.sent(),n=[],r=t.indices.filter((function(t){return!e.index.deleted.some((function(e){return e.name===t.name}))})),n.push.apply(n,(0,kr.__spreadArray)([],(0,kr.__read)(e.index.added))),n.push.apply(n,(0,kr.__spreadArray)([],(0,kr.__read)(r))),t.index=n,[4,o.upsert(t)];case 2:return i.sent(),[2]}}))},C.label=18;case 18:C.trys.push([18,23,24,25]),g=(0,kr.__values)(h),y=g.next(),C.label=19;case 19:return y.done?[3,22]:(m=y.value,[5,v(m)]);case 20:C.sent(),C.label=21;case 21:return y=g.next(),[3,19];case 22:return[3,25];case 23:return _=C.sent(),I={error:_},[3,25];case 24:try{y&&!y.done&&(R=g.return)&&R.call(g)}finally{if(I)throw I.error}return[7];case 25:return[4,t.commit()];case 26:if(!C.sent())throw new ao;return[3,29];case 27:return b=C.sent(),[4,t.rollback()];case 28:throw C.sent(),b;case 29:return[2]}}))}))},e.updateCollectionDataVersion=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o,i;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return[4,(r=t.table(ca)).get(po.getTableName(n))];case 1:if(o=a.sent(),i=po.getTableInfo(n.prototype),!o)throw new Error("get target table system info error!");if(!i)throw new eo(n.name);return o.dataVersion=e,o.properties=(0,kr.__spreadArray)([],(0,kr.__read)(i.properties.values())).map((function(e){return e.name})),[4,r.upsert(o)];case 2:return a.sent(),[2]}}))}))},e.getTableDataVersion=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.table(ca).get(e)];case 1:return[2,n.sent().dataVersion]}}))}))},e.getDatabaseSchemaByScanningTableStructure=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a,s,c,u,l,f,d,p,h,v,g,y;return(0,kr.__generator)(this,(function(m){switch(m.label){case 0:n=t.tableNames.filter((function(t){return e.includes(t)})),r=[],m.label=1;case 1:m.trys.push([1,6,7,8]),o=(0,kr.__values)(n),i=o.next(),m.label=2;case 2:return i.done?[3,5]:(a=i.value,[4,t.table(a,Vr.READ_ONLY)]);case 3:s=m.sent(),c={name:a,key:s.autoIncrement?{generator:jr.AutoIncrement}:{path:s.keyPath},indices:[],properties:[]};try{for(g=void 0,u=(0,kr.__values)(s.indexNames),l=u.next();!l.done;l=u.next())f=l.value,d=s.index(f),c.indices.push({name:f,path:d.keyPath,unique:d.unique})}catch(_){g={error:_}}finally{try{l&&!l.done&&(y=u.return)&&y.call(u)}finally{if(g)throw g.error}}r.push(c),m.label=4;case 4:return i=o.next(),[3,2];case 5:return[3,8];case 6:return p=m.sent(),h={error:p},[3,8];case 7:try{i&&!i.done&&(v=o.return)&&v.call(o)}finally{if(h)throw h.error}return[7];case 8:return[2,{name:t.name,version:t.version,collections:r}]}}))}))},e}(),la=function(){function e(e){this.schemaActionHandlerMap=new Map,this.dataActionHandlerMap=new Map,this.schemaActionHandlerMap.set(Cr.CreateCollection,this.performCreateCollectionAction.bind(this)),this.schemaActionHandlerMap.set(Cr.DropCollection,this.performDropCollectionAction.bind(this)),this.schemaActionHandlerMap.set(Cr.CreateIndex,this.performCreateIndexAction.bind(this)),this.schemaActionHandlerMap.set(Cr.DropIndex,this.performDropIndexAction.bind(this)),this.dataActionHandlerMap.set(Tr.DropProperty,this.performDropPropertyAction.bind(this)),this.dataActionHandlerMap.set(Tr.ClearData,this.performClearDataAction.bind(this)),this.dataActionHandlerMap.set(Tr.ReplaceData,this.performReplaceDataAction.bind(this)),e.executeDataAction.patch(this,"executeDataAction"),e.executeSchemaAction.patch(this,"executeSchemaAction")}return e.prototype.executeSchemaAction=function(e,t,n){var r=this.schemaActionHandlerMap.get(n.type);if(r){if(t.mode!==Vr.VERSION_CHANGE)throw new Xr(n.type);return r(e,t,n)}},e.prototype.executeDataAction=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r;return(0,kr.__generator)(this,(function(o){return(r=this.dataActionHandlerMap.get(n.type))?[2,r(e,t,n)]:[2]}))}))},e.prototype.performCreateIndexAction=function(e,t,n){t.table(n.collection).createIndex(n.name,n.attributes.path,{unique:n.attributes.unique})},e.prototype.performDropIndexAction=function(e,t,n){t.table(n.collection).deleteIndex(n.name)},e.prototype.performDropCollectionAction=function(e,t,n){e.deleteTable(n.name)},e.prototype.performCreateCollectionAction=function(e,t,n){var r,o;e.createTable(n.name,{keyPath:null===(r=n.attributes.key)||void 0===r?void 0:r.path,autoIncrement:(null===(o=n.attributes.key)||void 0===o?void 0:o.generator)===jr.AutoIncrement})},e.prototype.performClearDataAction=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return e=t.table(n.collection),n.filter?[3,2]:[4,e.clear()];case 1:return o.sent(),[2];case 2:return[4,e.openCursor()];case 3:r=o.sent(),o.label=4;case 4:return r?n.filter(r.value())?[4,r.delete()]:[3,6]:[3,8];case 5:o.sent(),o.label=6;case 6:return[4,r.next()];case 7:return r=o.sent(),[3,4];case 8:return[2]}}))}))},e.prototype.performDropPropertyAction=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return[4,t.table(n.collection).openCursor()];case 1:e=o.sent(),o.label=2;case 2:return e?((r=e.value())[n.path]=void 0,[4,e.update(r)]):[3,5];case 3:return o.sent(),[4,e.next()];case 4:return e=o.sent(),[3,2];case 5:return[2]}}))}))},e.prototype.performReplaceDataAction=function(e,t,n){var r;return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.table(n.collection).openCursor()];case 1:e=i.sent(),i.label=2;case 2:return e?(o=e.value(),n.filter&&!(null===(r=n.filter)||void 0===r?void 0:r.call(this,o))?[3,4]:[4,e.update(n.replacer(o))]):[3,6];case 3:i.sent(),i.label=4;case 4:return[4,e.next()];case 5:return e=i.sent(),[3,2];case 6:return[2]}}))}))},e}(),fa=function(){function e(e){this.collection=e,this.versionActionsMap=new Map}return e.prototype.getVersionActionsMap=function(){return this.versionActionsMap},e.prototype.version=function(e){var t=this,n={update:function(r){return t.pushAction(e,{type:Tr.ReplaceData,replacer:r,collection:t.collection}),n},delete:function(r){return t.pushAction(e,{filter:r,type:Tr.ClearData,collection:t.collection}),n}};return n},e.prototype.pushAction=function(e,t){var n=this.versionActionsMap.get(e)||[];n.push(t),this.versionActionsMap.set(e,n)},e}(),da=fa,pa=function(){function e(e,t,n){this.expectedSchema=e,this.actualSchema=t,this.modelClass=n}return e.prototype.plan=function(){var e=this.actualSchema.dataVersion||0,t=this.expectedSchema.dataVersion||1;if(e===t)return[];var n=[],r=this.getManualMigrationActions(e,t);n.push.apply(n,(0,kr.__spreadArray)([],(0,kr.__read)(r)));var o=this.getAutoMigrationActions();return n.push.apply(n,(0,kr.__spreadArray)([],(0,kr.__read)(o))),[{schema:{actions:[]},data:{actions:n}}]},e.prototype.getManualMigrationActions=function(e,t){var n,r,o=new da(po.getTableName(this.modelClass));return null===(r=(n=this.modelClass).onDataUpgrade)||void 0===r||r.call(n,e,t,o),this.getRangeDataAction(e,t,o.getVersionActionsMap())},e.prototype.getAutoMigrationActions=function(){var e,t,n=this,r=[],o=this.actualSchema.properties.filter((function(e){return!n.expectedSchema.properties.includes(e)}));try{for(var i=(0,kr.__values)(o),a=i.next();!a.done;a=i.next()){var s=a.value;r.push({type:Tr.DropProperty,collection:po.getTableName(this.modelClass),path:s})}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},e.prototype.getRangeDataAction=function(e,t,n){for(var r=[],o=e;o<=t;o++)r.push.apply(r,(0,kr.__spreadArray)([],(0,kr.__read)(n.get(o)||[])));return r},e}(),ha=function(){function e(e){this.migrationManager=e,this.upgradedFlag=new Map}return e.prototype.executeDataUpgrade=function(e,t,n,r){return void 0===r&&(r=function(){}),(0,kr.__awaiter)(this,void 0,void 0,(function(){var o,i;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return o=po.getTableName(e),this.upgradedFlag.get(o)?[2]:(i=this.getCollectionSchema(o,n),this.isNeedExecuteDataUpgrade(i.expect,i.actual)?[4,this.executeUpgrade(o,t,n,i.expect,i.actual,e)]:(this.upgradedFlag.set(o,!0),[2,r()]));case 1:return a.sent(),this.upgradedFlag.set(o,!0),[2,r()]}}))}))},e.prototype.isNeedExecuteDataUpgrade=function(e,t){return!(!(null==t?void 0:t.dataVersion)||e.dataVersion===t.dataVersion)},e.prototype.executeUpgrade=function(e,t,n,r,o,i){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var a,s,c,u,l,f;return(0,kr.__generator)(this,(function(d){switch(d.label){case 0:return a=new pa(r,o,i),this.migrationManager.use(a),s=this.migrationManager.buildMigration(n),[4,t.transaction([e,ua.getSystemTableSchema().name],Vr.READ_WRITE)];case 1:c=d.sent(),u=!1,d.label=2;case 2:return d.trys.push([2,6,8,11]),l=n.schema.expect.version||1,[4,ua.getTableDataVersion(po.getTableName(i),c)];case 3:return d.sent()===l?[2]:[4,this.migrationManager.executeDataMigration(t,s,c)];case 4:return d.sent(),[4,ua.updateCollectionDataVersion(l,c,i)];case 5:return d.sent(),[3,11];case 6:return f=d.sent(),u=!0,[4,c.rollback()];case 7:throw d.sent(),new Jr({oldVersion:o.dataVersion,newVersion:r.dataVersion},f);case 8:return u?[3,10]:[4,c.commit()];case 9:d.sent(),d.label=10;case 10:return[7];case 11:return[2]}}))}))},e.prototype.getCollectionSchema=function(e,t){var n=t.schema,r=n.expect,o=n.actual,i=r.collections.filter((function(t){return t.name===e})),a=o.collections.filter((function(t){return t.name===e}));if(1!==i.length)throw new $r(e);return{expect:i[0],actual:a.length?a[0]:void 0}},e}(),va=function(){function e(e,t,n){var r=this;this.planner=new sa,this.actualDBSchema=null,this.actualDBSchemaFrom=null,this.lazyMigrationProcessor=new ha(this),this.handleCollectionCreated=function(e){var t=e.collectionName,n=e.context;r.safeExecuteDataUpgrade(n,t)},this.handleStartTransaction=function(e){var t,n,o=e.collectionNames,i=e.context;try{for(var a=(0,kr.__values)(o),s=a.next();!s.done;s=a.next()){var c=s.value;r.safeExecuteDataUpgrade(i,c)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},this.eventBus=e,this.eventBus.on(bo.CollectionCreated,this.handleCollectionCreated),this.eventBus.on(bo.StartTransaction,this.handleStartTransaction),this.schemaProvider=t,this.actionExecutor=new la(n.actionExecutor),this.applyAspectPatch(n)}return e.prototype.use=function(e){this.planner=e},e.prototype.prepareAutoUpgradeHandler=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a,s=this;return(0,kr.__generator)(this,(function(c){switch(c.label){case 0:return n=this.schemaProvider.getDatabaseSchema(),[4,ua.getDatabaseSchema(e,t,n)];case 1:return r=c.sent(),o=r.schema,i=r.from,this.actualDBSchema=o,this.actualDBSchemaFrom=i,this.log("getDatabaseSchema",this.actualDBSchema),a=this.buildMigration({schema:{expect:n,actual:this.actualDBSchema}}),[2,function(e,t,n,r){s.eventBus.emit(_o.SchemaMigrationStart),s.executeSchemaMigration(e,a,r),s.updateMigrationChangeInfo(r).catch((function(e){s.emitError(new so(e))})),s.eventBus.emit(_o.SchemaMigrationEnd)}]}}))}))},e.prototype.buildMigration=function(e){var t,n,r,o,i,a,s=e.schema,c=s.actual,u=s.expect;null===(n=null===(t=this.planner)||void 0===t?void 0:t.init)||void 0===n||n.call(t,e);var l=null!==(r=c.version)&&void 0!==r?r:0,f=null!==(o=u.version)&&void 0!==o?o:1;return null!==(a=null===(i=this.planner)||void 0===i?void 0:i.plan(l,f))&&void 0!==a?a:[]},e.prototype.executeSchemaMigration=function(e,t,n){var r,o,i,a;if(t)try{for(var s=(0,kr.__values)(t),c=s.next();!c.done;c=s.next()){var u=c.value;try{for(var l=(i=void 0,(0,kr.__values)(u.schema.actions)),f=l.next();!f.done;f=l.next()){var d=f.value;this.actionExecutor.executeSchemaAction(e,n,d)}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}}}catch(h){r={error:h}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},e.prototype.executeDataMigration=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o,i,a,s,c,u,l,f,d,p,h;return(0,kr.__generator)(this,(function(v){switch(v.label){case 0:if(!t)return[2];v.label=1;case 1:v.trys.push([1,12,13,14]),r=(0,kr.__values)(t),o=r.next(),v.label=2;case 2:if(o.done)return[3,11];i=o.value,v.label=3;case 3:v.trys.push([3,8,9,10]),p=void 0,a=(0,kr.__values)(i.data.actions),s=a.next(),v.label=4;case 4:return s.done?[3,7]:(c=s.value,[4,this.actionExecutor.executeDataAction(e,n,c)]);case 5:v.sent(),v.label=6;case 6:return s=a.next(),[3,4];case 7:return[3,10];case 8:return u=v.sent(),p={error:u},[3,10];case 9:try{s&&!s.done&&(h=a.return)&&h.call(a)}finally{if(p)throw p.error}return[7];case 10:return o=r.next(),[3,2];case 11:return[3,14];case 12:return l=v.sent(),f={error:l},[3,14];case 13:try{o&&!o.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}return[7];case 14:return[2]}}))}))},e.prototype.updateMigrationChangeInfo=function(e){var t,n;return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,kr.__generator)(this,(function(i){return r=this.schemaProvider.getDatabaseSchema(),o=null!==(t=r.version)&&void 0!==t?t:1,[2,ua.updateSchemaChange(o,e,{schema:{expect:r,actual:null!==(n=this.actualDBSchema)&&void 0!==n?n:{name:r.name,collections:[]}}},"scan_exists_table"===this.actualDBSchemaFrom)]}))}))},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.prototype.executeDataUpgradeIfNeed=function(e,t){var n;return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o,i=this;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return this.log("executeDataUpgradeIfNeed",e.name),r=this.schemaProvider.getDatabaseSchema(),o={name:r.name,collections:[]},[4,this.lazyMigrationProcessor.executeDataUpgrade(e,t,{schema:{expect:r,actual:null!==(n=this.actualDBSchema)&&void 0!==n?n:o}},(function(){i.eventBus.emit(bo.ModelLazyMigrationEnd,po.getTableName(e))}))];case 1:return a.sent(),[2]}}))}))},e.prototype.safeExecuteDataUpgrade=function(e,t){var n=this;Promise.all([e.waitForModelRegistered(t),e.waitForDBReady()]).then((function(e){var r=(0,kr.__read)(e,2),o=r[0],i=r[1];n.executeDataUpgradeIfNeed(o.class,i).catch((function(e){n.emitError(new co(t,e))}))})).catch((function(){}))},e.prototype.emitError=function(e){this.eventBus.emit(_o.Error,e)},e.prototype.applyAspectPatch=function(e){e.buildMigration.patch(this,"buildMigration"),e.executeDataMigration.patch(this,"executeDataMigration"),e.executeSchemaMigration.patch(this,"executeSchemaMigration"),e.prepareAutoUpgradeHandler.patch(this,"prepareAutoUpgradeHandler"),e.log.patch(this,"log"),e.updateMigrationChangeInfo.patch(this,"updateMigrationChangeInfo")},e}(),ga=va;var ya=function(){var e;return{lock:function(t){return e||(e=t()),e.finally((function(){e=void 0}))}}},ma=function(){function e(e,t){var n,r=this;if(this.openingMutex=ya(),this.closingMutex=ya(),this.destroyingMutex=ya(),this.openDatabase=function(){return(0,kr.__awaiter)(r,void 0,void 0,(function(){var e=this;return(0,kr.__generator)(this,(function(t){return[2,this.openingMutex.lock((function(){return(0,kr.__awaiter)(e,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,c,u,l,f=this;return(0,kr.__generator)(this,(function(d){switch(d.label){case 0:if(this.db)return[2];e=this.storage,t=e.name,n=e.version,d.label=1;case 1:return d.trys.push([1,8,,9]),this.eventBus.emit(_o.BootstrapStart),r=this.getDatabaseSchema(),[4,this.migrationManager.prepareAutoUpgradeHandler(t,this.engine)];case 2:o=d.sent(),i=function(){f.eventBus.emit(_o.Fetal,new uo(t))},d.label=3;case 3:return d.trys.push([3,5,,7]),a=this,[4,this.engine.openDB(t,r,n,{upgrade:o,terminated:i})];case 4:return a.db=d.sent(),[3,7];case 5:if("VersionError"!==(s=d.sent()).name||!this.supportCompatibleOpen)throw s;return c=this,[4,this.engine.openDB(t,r,void 0,{upgrade:o,terminated:i})];case 6:return c.db=d.sent(),[3,7];case 7:return this.db.setVersionChangeListener((function(e,t){f.eventBus.emit(_o.VersionChange,{oldVersion:e,newVersion:t})})),this.eventBus.emit(_o.BootstrapEnd),this.eventBus.emit(_o.Ready,this.db),[3,9];case 8:throw u=d.sent(),this.reset(),l=new zr(t,u),this.eventBus.emit(_o.Error,l),this.eventBus.emit(_o.Fetal,l),l;case 9:return[2]}}))}))}))]}))}))},this.handleModelRegistered=function(e){if(!r.schemas.some((function(t){return t.name===e.schema.name}))){var t=e.schema;t.dataVersion=r.storage.version,r.schemas.push(t)}},this.handleFetal=function(){r.reset()},this.storage=e,this.engine=t.engine,this.eventBus=t.eventBus,this.supportCompatibleOpen=t.supportCompatibleOpen,this.engine.setAspects(e.aspects.engine),this.schemas=[ua.getSystemTableSchema()],t.databaseSchema){var o=JSON.parse(t.databaseSchema).collections.map((function(e){return(0,kr.__assign)((0,kr.__assign)({},e),{dataVersion:r.storage.version})}));(n=this.schemas).push.apply(n,(0,kr.__spreadArray)([],(0,kr.__read)(o)))}this.migrationManager=new ga(this.eventBus,this,e.aspects.migration),this.eventBus.on(_o.RegisterModel,this.handleModelRegistered),this.eventBus.on(_o.Fetal,this.handleFetal)}return e.prototype.getDatabaseEngine=function(){return this.engine},e.prototype.getDatabaseSchema=function(){if(!this.storage.name||!this.storage.version)throw new Error("The database name and version are required for generating dbSchema");return{name:this.storage.name,version:this.storage.version,collections:this.schemas}},e.prototype.closeDatabase=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,kr.__generator)(this,(function(t){return[2,this.closingMutex.lock((function(){return(0,kr.__awaiter)(e,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){switch(e.label){case 0:return this.db?[4,this.db.close()]:[2];case 1:return e.sent(),this.reset(),this.eventBus.emit(_o.Closed),[2]}}))}))}))]}))}))},e.prototype.destroyDatabase=function(){var e=this;return this.destroyingMutex.lock((function(){return(0,kr.__awaiter)(e,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.engine.deleteDB(this.storage.name)];case 1:return e.sent(),this.reset(),this.eventBus.emit(_o.Destroyed),[2]}}))}))}))},e.prototype.reset=function(){this.db=void 0},e}(),_a=ma;var ba=function(e){return setTimeout(e)},wa=function(){function e(e){var t=e.keepActive,n=e.comparer,r=e.channelDB,o=e.channelModel,i=e.channelLazyMigration;this.keepActive=t,this.comparer=n,this.channelDB=r,this.channelModel=o,this.channelLazyMigration=i}return e.fromTransactionManager=function(t,n){return void 0===n&&(n=!1),new e({keepActive:n,comparer:t.comparer,channelDB:t.channelDB,channelModel:t.channelModel,channelLazyMigration:t.channelLazyMigration})},e.prototype.openTransaction=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,kr.__generator)(this,(function(r){return this.transactionPromise=(0,kr.__awaiter)(n,void 0,void 0,(function(){var n,r,o=this;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all(e.map((function(e){return o.waitForModelRegistered(e)})))];case 1:return i.sent(),[4,Promise.all(e.map((function(e){return o.waitForMigrationReady(e)})))];case 2:return i.sent(),[4,this.waitForDBReady()];case 3:return n=i.sent(),r=this,[4,n.transaction(e,t)];case 4:return r.transaction=i.sent(),[2,this.transaction]}}))})),[2,this.transactionPromise]}))}))},e.prototype.getTransaction=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return this.transactionPromise?[3,2]:[4,this.openTransaction(e,t)];case 1:n.sent(),n.label=2;case 2:return[4,this.transactionPromise];case 3:return[2,n.sent()]}}))}))},e.prototype.waitForDBReady=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.channelDB.pick()]}))}))},e.prototype.waitForModelRegistered=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.channelModel.pick(e)]}))}))},e.prototype.waitForMigrationReady=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.channelLazyMigration.pick(e)]}))}))},e.prototype.perform=function(e){return this.keepActive?e():this.autoCommitOrRollback(e)},e.prototype.autoCommitOrRollback=function(e){var t,n;return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),[4,e()];case 1:return r=i.sent(),[4,null===(t=this.transaction)||void 0===t?void 0:t.commit()];case 2:return i.sent(),[2,r];case 3:return o=i.sent(),[4,null===(n=this.transaction)||void 0===n?void 0:n.rollback()];case 4:throw i.sent(),o;case 5:return[2]}}))}))},e}(),Ea=wa,Sa=Symbol("channel");var Oa,Ia,Ra,Ca,Ta=function(e){var t;void 0===e&&(e=function(){return Sa});var n=new Map,r=new Map;function o(e,t){var n;null===(n=r.get(e))||void 0===n||n.reject(t),r.delete(e)}function i(e,t){void 0===t&&(t=Sa),r.has(t)?function(e,t){var n;null===(n=r.get(e))||void 0===n||n.resolve(t),r.delete(e)}(t,e):n.set(t,Promise.resolve(e))}return{send:function(n){t||i(n,e(n))},pick:function(e){return void 0===e&&(e=Sa),t?Promise.reject(t):(n.has(e)||n.set(e,new Promise((function(t,n){r.set(e,{resolve:t,reject:n})}))),n.get(e))},open:function(){t=void 0},close:function(e,i){var a,s;void 0===i&&(i=!1),t=e;try{for(var c=(0,kr.__values)(r.keys()),u=c.next();!u.done;u=c.next()){o(u.value,e)}}catch(l){a={error:l}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}i&&(n.clear(),r.clear())}}},xa=function(){function e(e,t){var n=this;this.handleFetalError=function(e){n.channelDB.close(e,!0),n.channelModel.close(e),n.channelLazyMigration.close(e)},this.eventBus=e,this.channelDB=Ta(),this.channelModel=Ta((function(e){return e.schema.name})),this.channelLazyMigration=Ta((function(e){return e})),this.comparer=t,this.eventBus.on(_o.Fetal,this.handleFetalError),this.eventBus.on(_o.Ready,this.channelDB.send),this.eventBus.on(_o.RegisterModel,this.channelModel.send),this.eventBus.on(bo.ModelLazyMigrationEnd,this.channelLazyMigration.send)}return e.prototype.spawnAutoCommitContext=function(){return Ea.fromTransactionManager(this,!1)},e.prototype.spawnKeepAliveContext=function(){return Ea.fromTransactionManager(this,!0)},e.prototype.openChannels=function(){this.channelDB.open(),this.channelModel.open(),this.channelLazyMigration.open()},e}(),Aa=xa,ka=function(){function e(e){var t,n=this,r=e.name,o=e.engine,i=e.version,a=void 0===i?1:i,s=e.plugins,c=void 0===s?[]:s,u=e.disableAutoOpen,l=void 0!==u&&u,f=e.databaseSchema,d=e.supportCompatibleOpen,p=void 0!==d&&d;this.aspects={collection:{get:Xi.withContext(ea),has:Xi.withContext(ea),delete:Xi.withContext(ea),insert:Xi.withContext(ea),upsert:Xi.withContext(ea),bulkInsert:Xi.withContext(ea),bulkUpsert:Xi.withContext(ea),update:Xi.withContext(ea),clear:Xi.withContext(ea),count:Xi.withContext(ea),entries:Xi.withContext(ea),keys:Xi.withContext(ea),values:Xi.withContext(ea),first:Xi.withContext(ea),last:Xi.withContext(ea),skip:$i.withContext(ea),take:$i.withContext(ea),slice:$i.withContext(ea),orderBy:$i.withContext(ea),where:$i.withContext(ea),or:$i.withContext(ea)},query:{},model:{},migration:{prepareAutoUpgradeHandler:Xi.withContext(ea),buildMigration:$i.withContext(ea),executeDataMigration:Xi.withContext(ea),executeSchemaMigration:$i.withContext(ea),updateMigrationChangeInfo:Xi.withContext(ea),log:$i.withContext(ea),actionExecutor:{executeSchemaAction:$i.withContext(ea),executeDataAction:Xi.withContext(ea)}},engine:{deleteDB:Xi.withContext(ea),openDB:Xi.withContext(ea),database:{createTable:$i.withContext(ea),deleteTable:$i.withContext(ea),close:$i.withContext(ea),table:Xi.withContext(ea),transaction:Xi.withContext(ea)},table:{createIndex:Xi.withContext(ea),deleteIndex:Xi.withContext(ea),delete:Xi.withContext(ea),get:Xi.withContext(ea),getAll:Xi.withContext(ea),getAllKeys:Xi.withContext(ea),index:$i.withContext(ea),insert:Xi.withContext(ea),query:Xi.withContext(ea),openCursor:Xi.withContext(ea),upsert:Xi.withContext(ea),bulkUpsert:Xi.withContext(ea),clear:Xi.withContext(ea),bulkDelete:Xi.withContext(ea)},index:{get:Xi.withContext(ea),getAll:Xi.withContext(ea),getAllKeys:Xi.withContext(ea),openCursor:Xi.withContext(ea)},cursor:{delete:Xi.withContext(ea),update:Xi.withContext(ea),next:Xi.withContext(ea),value:$i.withContext(ea)},transaction:{commit:Xi.withContext(ea),rollback:Xi.withContext(ea),table:$i.withContext(ea)}}},this.eventBus=mo(),this.open=function(){return n.transactionManager.openChannels(),n.databaseManager.openDatabase()},this.close=function(){return n.databaseManager.closeDatabase()},this.destroy=function(){return n.databaseManager.destroyDatabase()},this.register=function(e){n.modelManager.register(e)},this.collection=function(e){var t=n.modelManager.getSchemaAndRegisterModelIfNeed(e);return n.collectionManager.getCollection(t.name,{spawnContext:function(){return n.transactionManager.spawnAutoCommitContext()}})},this.transaction=function(e,t,r){return(0,kr.__awaiter)(n,void 0,void 0,(function(){var n,o,i,a=this;return(0,kr.__generator)(this,(function(s){switch(s.label){case 0:return n=this.transactionManager,o=e.map((function(e){return a.modelManager.getSchemaAndRegisterModelIfNeed(e).name})),i=n.spawnKeepAliveContext(),this.eventBus.emit(bo.StartTransaction,{collectionNames:o,context:i}),[4,i.openTransaction(o,t)];case 1:return s.sent(),[2,i.autoCommitOrRollback((function(){return r(a.createStorageTransaction(i))}))]}}))}))},this.name=r,this.version=a,this.events=new Eo(this.eventBus),this.modelManager=new Oo(this.eventBus),this.databaseManager=new _a(this,{engine:o,eventBus:this.eventBus,databaseSchema:f,supportCompatibleOpen:p}),this.pluginManager=new ra(this,this.eventBus),this.collectionManager=new Hi(this,this.eventBus),this.transactionManager=new Aa(this.eventBus,{cmp:this.databaseManager.getDatabaseEngine().cmp}),(t=this.pluginManager).add.apply(t,(0,kr.__spreadArray)([],(0,kr.__read)(c))),l||ba((function(){return n.open().catch((function(e){throw e}))}))}return e.prototype.createStorageTransaction=function(e){var t=this.modelManager,n=new Hi(this,this.eventBus);return{collection:function(r){var o=t.getSchemaAndRegisterModelIfNeed(r);return n.getCollection(o.name,{spawnContext:function(){return e}})}}},e}(),Da=ka;!function(e){e[e.unknown=-1]="unknown",e[e.doc=0]="doc",e[e.sheet=1]="sheet",e[e.form=2]="form",e[e.folder=3]="folder",e[e.slide=4]="slide",e[e.note=5]="note",e[e.pdf=6]="pdf",e[e.miniProgram=7]="miniProgram",e[e.smartCanvas=8]="smartCanvas",e[e.smartSheet=9]="smartSheet",e[e.unknow=10]="unknow",e[e.resume=11]="resume",e[e.board=12]="board",e[e.drawing=89]="drawing",e[e.mind=90]="mind",e[e.flowchart=91]="flowchart",e[e.file=100]="file",e[e.drive=101]="drive",e[e.sogoSpeech=102]="sogoSpeech",e[e.addon=110]="addon"}(Ra||(Ra={})),function(e){e.doc="doc",e.sheet="sheet",e.form="form",e.slide="slide",e.smartSheet="smartSheet",e.smartCanvas="smartCanvas",e.flowchart="flowchart",e.mind="mind",e.pdf="pdf",e.drive="document"}(Ca||(Ca={}));var Ma,Pa,Na,La,ja,Ua,Fa,Ba=(Oa={},(0,f.Z)(Oa,Ca.doc,Ra.doc),(0,f.Z)(Oa,Ca.sheet,Ra.sheet),(0,f.Z)(Oa,Ca.slide,Ra.slide),(0,f.Z)(Oa,Ca.smartSheet,Ra.smartSheet),(0,f.Z)(Oa,Ca.smartCanvas,Ra.smartCanvas),(0,f.Z)(Oa,Ca.flowchart,Ra.flowchart),(0,f.Z)(Oa,Ca.mind,Ra.mind),(0,f.Z)(Oa,Ca.pdf,Ra.pdf),(0,f.Z)(Oa,Ca.drive,Ra.drive),Oa);Ia={},(0,f.Z)(Ia,Ra.doc,Ca.doc),(0,f.Z)(Ia,Ra.sheet,Ca.sheet),(0,f.Z)(Ia,Ra.slide,Ca.slide),(0,f.Z)(Ia,Ra.smartSheet,Ca.smartSheet),(0,f.Z)(Ia,Ra.smartCanvas,Ca.smartCanvas),(0,f.Z)(Ia,Ra.flowchart,Ca.flowchart),(0,f.Z)(Ia,Ra.mind,Ca.mind),(0,f.Z)(Ia,Ra.pdf,Ca.pdf),(0,f.Z)(Ia,Ra.drive,Ca.drive);!function(e){e[e.private=0]="private",e[e.partialShare=1]="partialShare",e[e.canRead=2]="canRead",e[e.canEdit=3]="canEdit"}(Ma||(Ma={})),function(e){e.new="new",e.local="local",e.deleted="deleted",e.normal="normal"}(Pa||(Pa={})),function(e){e.NONE="none",e.SUCCESS="success",e.FAIL="fail",e.ERROR="error"}(Na||(Na={})),function(e){e[e.file=1]="file",e[e.folder=2]="folder"}(La||(La={})),function(e){e[e.trash=3]="trash",e[e.share=4]="share",e[e.myDoc=5]="myDoc",e[e.recent=6]="recent",e[e.start=7]="start"}(ja||(ja={})),function(e){e.init="init",e.document="document",e.workbook="workbook",e.chunk="chunk",e.accepted="accepted",e.missChange="misschange",e.newChange="newchange",e.committing="commiting",e.waiting="watting",e.queue="queue"}(Ua||(Ua={})),function(e){e.drive="drive",e.attachment="attachment"}(Fa||(Fa={}));var qa,Wa,Va,Ga,Ha;function Ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}!function(e){e.documentStatus="DocumentStatus",e.documentEntities="DocumentEntities",e.newDocumentIds="NewDocumentIds",e.padinfo="PadInfo",e.offlineData="OfflineData",e.documentData="DocumentData",e.Users="Users",e.driveData="DriveData"}(qa||(qa={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.QQ=1]="QQ",e[e.WX=2]="WX",e[e.WORK=3]="WORK",e[e.EMAIL=4]="EMAIL",e[e.PHONE=8]="PHONE",e[e.WORK_COMBINATION=9]="WORK_COMBINATION",e[e.TOWER=10]="TOWER",e[e.ROBOT=11]="ROBOT",e[e.QFYF=12]="QFYF",e[e.OPEN=13]="OPEN",e[e.MEETING=14]="MEETING"}(Wa||(Wa={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WECHAT=4]="WECHAT",e[e.WEWORK=3]="WEWORK"}(Va||(Va={})),function(e){e.BINDING="BINDING",e.UNBIND="UNBIND"}(Ga||(Ga={})),function(e){e.NORMAL="NORMAL",e.SUPER="SUPER",e.NONE="NONE",e.EXPIRED="EXPIRED"}(Ha||(Ha={}));var Qa=function(e){(0,c.Z)(n,e);var t=Ka(n);function n(e){var o,i,a,s,c,u,l;return(0,r.Z)(this,n),(o=t.call(this)).isDefaultChunk=!1,o.uid=e.uid,o.type=e.type,o.data=e.data,o.dataVersion=e.dataVersion,o.docType=e.docType,o.subId=e.subId,o.secretId=e.secretId,o.version=e.version,o.globalPadId=e.globalPadId,o.taskId=null!==(i=e.taskId)&&void 0!==i?i:o.getTaskId(),o.isDefaultChunk=null!==(a=e.isDefaultChunk)&&void 0!==a&&a,o.chunkId=null!==(s=e.chunkId)&&void 0!==s?s:0,o.docStatus=null!==(c=e.docStatus)&&void 0!==c?c:Pa.normal,o.createTimestamp=null!==(u=e.createTimestamp)&&void 0!==u?u:Date.now(),o.lastModifyTimestamp=null!==(l=e.lastModifyTimestamp)&&void 0!==l?l:Date.now(),o.key=o.getKey(),o.subGlobalPadId=e.subGlobalPadId,o.subDocType=e.subDocType,o}return(0,a.Z)(n,[{key:"getTaskId",value:function(){return Math.ceil(2147483648*Math.random())}},{key:"getKey",value:function(){return this.type===Ua.init?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid):this.type===Ua.document?"".concat(this.globalPadId,"_").concat(this.uid,"_version_").concat(this.version):this.type===Ua.workbook?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid,"_version_").concat(this.version):this.type===Ua.chunk?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.chunkId,"_").concat(this.uid,"_version_").concat(this.version):"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid,"_taskId_").concat(this.taskId)}}]),n}(So);function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],Qa.prototype,"key",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Qa.prototype,"secretId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Qa.prototype,"globalPadId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Qa.prototype,"subGlobalPadId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",Number)],Qa.prototype,"subDocType",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",Number)],Qa.prototype,"version",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Qa.prototype,"type",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Qa.prototype,"uid",void 0),(0,kr.__decorate)([go(),ho("subSheetId"),(0,kr.__metadata)("design:type",String)],Qa.prototype,"subId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",Number)],Qa.prototype,"chunkId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Qa.prototype,"taskId",void 0),(0,kr.__decorate)([ho("_data"),(0,kr.__metadata)("design:type",String)],Qa.prototype,"data",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Qa.prototype,"docType",void 0),(0,kr.__decorate)([ho("padStatus"),(0,kr.__metadata)("design:type",String)],Qa.prototype,"docStatus",void 0),(0,kr.__decorate)([ho("createTime"),(0,kr.__metadata)("design:type",Number)],Qa.prototype,"createTimestamp",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Qa.prototype,"lastModifyTimestamp",void 0),(0,kr.__decorate)([ho("dver"),(0,kr.__metadata)("design:type",String)],Qa.prototype,"dataVersion",void 0),(0,kr.__decorate)([ho("default"),(0,kr.__metadata)("design:type",Object)],Qa.prototype,"isDefaultChunk",void 0);var Za=function(e){(0,c.Z)(n,e);var t=Ya(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(Qa);function za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}Za=(0,kr.__decorate)([vo(qa.documentData)],Za);var $a=function(e){(0,c.Z)(n,e);var t=za(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(So);function Ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],$a.prototype,"key",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],$a.prototype,"data",void 0),$a=(0,kr.__decorate)([vo(qa.documentEntities)],$a);var Xa=function(e){(0,c.Z)(n,e);var t=Ja(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).isCreated=!1,e}return(0,a.Z)(n)}(So);function es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],Xa.prototype,"globalPadId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Xa.prototype,"secretId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Xa.prototype,"documentType",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Xa.prototype,"localPadId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],Xa.prototype,"isCreated",void 0),Xa=(0,kr.__decorate)([vo(qa.newDocumentIds)],Xa);var ts=function(e){(0,c.Z)(n,e);var t=es(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).lastSyncTimestamp=0,e}return(0,a.Z)(n)}(So);function ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],ts.prototype,"globalPadId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],ts.prototype,"secretId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],ts.prototype,"uid",void 0),(0,kr.__decorate)([ho("lastSyncTime"),(0,kr.__metadata)("design:type",Object)],ts.prototype,"lastSyncTimestamp",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],ts.prototype,"lastErrorTimestamp",void 0),ts=(0,kr.__decorate)([vo(qa.documentStatus)],ts);var rs=function(e){(0,c.Z)(n,e);var t=ns(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(So);function os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],rs.prototype,"driveId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],rs.prototype,"fileId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],rs.prototype,"objKey",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],rs.prototype,"secretId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],rs.prototype,"uid",void 0),(0,kr.__decorate)([ho("type"),(0,kr.__metadata)("design:type",String)],rs.prototype,"type",void 0),(0,kr.__decorate)([ho("lastRequestTime"),(0,kr.__metadata)("design:type",Number)],rs.prototype,"lastRequestTime",void 0),(0,kr.__decorate)([ho("fileInfo"),(0,kr.__metadata)("design:type",Object)],rs.prototype,"fileInfo",void 0),(0,kr.__decorate)([ho("previewInfo"),(0,kr.__metadata)("design:type",Object)],rs.prototype,"previewInfo",void 0),rs=(0,kr.__decorate)([vo(qa.driveData)],rs);var is=function(e){(0,c.Z)(n,e);var t=os(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(Qa);function as(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}is=(0,kr.__decorate)([vo(qa.offlineData)],is);var ss=function(e){(0,c.Z)(n,e);var t=as(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).addListTimestamp=0,e.attribute=null,e.docPolicy=Ma.private,e.docPrivilege=null,e.folderPolicy=0,e.folderPrivilege=null,e.isManualOffline=!1,e.isOfflineCache=!1,e.hasSnapShot=!1,e.isAddedToMy=0,e.isCollected=0,e.isOwner=1,e.isPinned=0,e.isShortcut=0,e.isUserChangeTitle=!1,e.lastCollectTimestamp=0,e.lastDeleteTimestamp=0,e.parents=[],e.cacheStatus=0,e}return(0,a.Z)(n)}(So);function cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],ss.prototype,"key",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],ss.prototype,"secretId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],ss.prototype,"globalPadId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],ss.prototype,"uid",void 0),(0,kr.__decorate)([ho("add_list_ts"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"addListTimestamp",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],ss.prototype,"attribute",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],ss.prototype,"childrenLength",void 0),(0,kr.__decorate)([ho("client_version"),(0,kr.__metadata)("design:type",String)],ss.prototype,"clientVersion",void 0),(0,kr.__decorate)([ho("create_ts"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"createTimestamp",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],ss.prototype,"creator",void 0),(0,kr.__decorate)([ho("creator_domain"),(0,kr.__metadata)("design:type",String)],ss.prototype,"creatorDomain",void 0),(0,kr.__decorate)([ho("doc_icon"),(0,kr.__metadata)("design:type",String)],ss.prototype,"icon",void 0),(0,kr.__decorate)([ho("doc_policy"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"docPolicy",void 0),(0,kr.__decorate)([ho("doc_privilege"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"docPrivilege",void 0),(0,kr.__decorate)([ho("doc_thumbnail"),(0,kr.__metadata)("design:type",String)],ss.prototype,"thumbnail",void 0),(0,kr.__decorate)([ho("doc_type"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"docType",void 0),(0,kr.__decorate)([ho("doc_type_desc"),(0,kr.__metadata)("design:type",String)],ss.prototype,"docTypeDesc",void 0),(0,kr.__decorate)([ho("doc_url"),(0,kr.__metadata)("design:type",String)],ss.prototype,"url",void 0),(0,kr.__decorate)([ho("domain_id"),(0,kr.__metadata)("design:type",String)],ss.prototype,"domainId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],ss.prototype,"dver",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],ss.prototype,"folder",void 0),(0,kr.__decorate)([ho("folder_id"),(0,kr.__metadata)("design:type",String)],ss.prototype,"folderId",void 0),(0,kr.__decorate)([ho("folder_policy"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"folderPolicy",void 0),(0,kr.__decorate)([ho("folder_privilege"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"folderPrivilege",void 0),(0,kr.__decorate)([ho("isDelete"),(0,kr.__metadata)("design:type",Boolean)],ss.prototype,"isDeleted",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],ss.prototype,"isManualOffline",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],ss.prototype,"isMyCreated",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],ss.prototype,"isMydoc",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],ss.prototype,"isOfflineCache",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],ss.prototype,"isRencent",void 0),(0,kr.__decorate)([ho("isShareme"),(0,kr.__metadata)("design:type",Boolean)],ss.prototype,"isShareToMe",void 0),(0,kr.__decorate)([ho("isSnapShot"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"hasSnapShot",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],ss.prototype,"isStar",void 0),(0,kr.__decorate)([ho("is_added_my"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"isAddedToMy",void 0),(0,kr.__decorate)([ho("is_collected"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"isCollected",void 0),(0,kr.__decorate)([ho("is_owner"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"isOwner",void 0),(0,kr.__decorate)([ho("is_pinned"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"isPinned",void 0),(0,kr.__decorate)([ho("is_shortcut"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"isShortcut",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],ss.prototype,"isUserChangeTitle",void 0),(0,kr.__decorate)([ho("lastSyncTime"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"lastSyncTimestamp",void 0),(0,kr.__decorate)([ho("last_browse_ts"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"lastBrowseTimestamp",void 0),(0,kr.__decorate)([ho("last_collect_ts"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"lastCollectTimestamp",void 0),(0,kr.__decorate)([ho("last_delete_ts"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"lastDeleteTimestamp",void 0),(0,kr.__decorate)([ho("last_modify_ts"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"lastModifyTimestamp",void 0),(0,kr.__decorate)([ho("last_modify_nick"),(0,kr.__metadata)("design:type",String)],ss.prototype,"lastModifyNick",void 0),(0,kr.__decorate)([ho("last_modify_uid"),(0,kr.__metadata)("design:type",String)],ss.prototype,"lastModifyUid",void 0),(0,kr.__decorate)([ho("last_pinned_ts"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"lastPinnedTimestamp",void 0),(0,kr.__decorate)([ho("list_info_type"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"listInfoType",void 0),(0,kr.__decorate)([ho("list_type"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"listType",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],ss.prototype,"offlineCommiting",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],ss.prototype,"offlineCommitSuccessd",void 0),(0,kr.__decorate)([ho("origin_folder_id"),(0,kr.__metadata)("design:type",String)],ss.prototype,"originFolderId",void 0),(0,kr.__decorate)([ho("owner_nick"),(0,kr.__metadata)("design:type",String)],ss.prototype,"ownerNick",void 0),(0,kr.__decorate)([ho("owner_uid"),(0,kr.__metadata)("design:type",String)],ss.prototype,"ownerUid",void 0),(0,kr.__decorate)([ho("pad_id"),(0,kr.__metadata)("design:type",String)],ss.prototype,"padId",void 0),(0,kr.__decorate)([ho("parent_folder_id"),(0,kr.__metadata)("design:type",String)],ss.prototype,"parentFolderId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Array)],ss.prototype,"parents",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],ss.prototype,"privilege",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],ss.prototype,"status",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],ss.prototype,"title",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],ss.prototype,"type",void 0),(0,kr.__decorate)([ho("uncommit"),(0,kr.__metadata)("design:type",Boolean)],ss.prototype,"hasLocalChanges",void 0),(0,kr.__decorate)([ho("doc_sub_type"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"docSubType",void 0),(0,kr.__decorate)([ho("official_auth_info"),(0,kr.__metadata)("design:type",String)],ss.prototype,"officialAuthInfo",void 0),(0,kr.__decorate)([ho("personalize_info"),(0,kr.__metadata)("design:type",String)],ss.prototype,"personalizeInfo",void 0),(0,kr.__decorate)([ho("nativeEngineStatusRecord"),(0,kr.__metadata)("design:type",String)],ss.prototype,"nativeEngineStatusRecord",void 0),(0,kr.__decorate)([ho("nativeEngineDocPrivilege"),(0,kr.__metadata)("design:type",String)],ss.prototype,"nativeEngineDocPrivilege",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],ss.prototype,"data",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],ss.prototype,"ext",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],ss.prototype,"isOfflineCacheByNative",void 0),(0,kr.__decorate)([ho("mime_type"),(0,kr.__metadata)("design:type",String)],ss.prototype,"mimeType",void 0),(0,kr.__decorate)([ho("owner_vip_info"),(0,kr.__metadata)("design:type",String)],ss.prototype,"ownerVipInfo",void 0),(0,kr.__decorate)([ho("documentResourceCacheStatus"),(0,kr.__metadata)("design:type",String)],ss.prototype,"documentResourceCacheStatus",void 0),(0,kr.__decorate)([ho("cache_status"),(0,kr.__metadata)("design:type",Object)],ss.prototype,"cacheStatus",void 0),(0,kr.__decorate)([ho("cache_status_ts"),(0,kr.__metadata)("design:type",Number)],ss.prototype,"cacheStatusTs",void 0),ss=(0,kr.__decorate)([vo(qa.padinfo)],ss);var us=function(e){(0,c.Z)(n,e);var t=cs(n);function n(e){var o,i,a,s;return(0,r.Z)(this,n),(o=t.call(this)).docId=e.docId,o.pageType=e.pageType,o.updateTime=e.updateTime,o.tinyId=e.tinyId,o.wedriveUin=e.wedriveUin,o.wedocOpenId=e.wedocOpenId,o.nowUserIndex=null!==(i=e.nowUserIndex)&&void 0!==i?i:"",o.corpId=e.corpId,o.corpName=e.corpName,o.englishName=e.englishName,o.loginType=e.loginType,o.uidSource=e.uidSource,o.uin=e.uin,o.userId=e.userId,o.userName=e.userName,o.userPic=e.userPic,o.settings=e.settings,o.bindUserInfo=null!==(a=e.bindUserInfo)&&void 0!==a?a:{type:Ga.UNBIND,userName:"",userPic:"",accountType:Wa.UNKNOWN},o.vipUserInfo=null!==(s=e.vipUserInfo)&&void 0!==s?s:{type:Ha.NONE,beginTime:0,endTime:0},o.key="".concat(o.pageType,"-").concat(o.docId,"-").concat(o.tinyId),o}return(0,a.Z)(n)}(So);(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],us.prototype,"key",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],us.prototype,"tinyId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],us.prototype,"nowUserIndex",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],us.prototype,"docId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],us.prototype,"pageType",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],us.prototype,"wedriveUin",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],us.prototype,"wedocOpenId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],us.prototype,"corpId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],us.prototype,"corpName",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],us.prototype,"englishName",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],us.prototype,"loginType",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],us.prototype,"openId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],us.prototype,"uidSource",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],us.prototype,"uin",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],us.prototype,"userId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],us.prototype,"userName",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],us.prototype,"userPic",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],us.prototype,"updateTime",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],us.prototype,"settings",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],us.prototype,"bindUserInfo",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],us.prototype,"vipUserInfo",void 0),us=(0,kr.__decorate)([vo(qa.Users),(0,kr.__metadata)("design:paramtypes",[Object])],us);var ls,fs,ds,ps,hs=o(2953),vs=o(63363),gs=o.n(vs);o(45134);!function(e){e[e.unknown=-1]="unknown",e[e.doc=0]="doc",e[e.sheet=1]="sheet",e[e.form=2]="form",e[e.folder=3]="folder",e[e.slide=4]="slide",e[e.note=5]="note",e[e.pdf=6]="pdf",e[e.miniProgram=7]="miniProgram",e[e.smartCanvas=8]="smartCanvas",e[e.smartSheet=9]="smartSheet",e[e.unknow=10]="unknow",e[e.resume=11]="resume",e[e.board=12]="board",e[e.drawing=89]="drawing",e[e.mind=90]="mind",e[e.flowchart=91]="flowchart",e[e.file=100]="file",e[e.drive=101]="drive",e[e.sogoSpeech=102]="sogoSpeech",e[e.addon=110]="addon"}(ds||(ds={})),function(e){e.doc="doc",e.sheet="sheet",e.form="form",e.slide="slide",e.smartSheet="smartSheet",e.smartCanvas="smartCanvas",e.flowchart="flowchart",e.mind="mind",e.pdf="pdf",e.drive="document"}(ps||(ps={}));var ys,ms,_s,bs,ws,Es,Ss;ls={},(0,f.Z)(ls,ps.doc,ds.doc),(0,f.Z)(ls,ps.sheet,ds.sheet),(0,f.Z)(ls,ps.slide,ds.slide),(0,f.Z)(ls,ps.smartSheet,ds.smartSheet),(0,f.Z)(ls,ps.smartCanvas,ds.smartCanvas),(0,f.Z)(ls,ps.flowchart,ds.flowchart),(0,f.Z)(ls,ps.mind,ds.mind),(0,f.Z)(ls,ps.pdf,ds.pdf),(0,f.Z)(ls,ps.drive,ds.drive),fs={},(0,f.Z)(fs,ds.doc,ps.doc),(0,f.Z)(fs,ds.sheet,ps.sheet),(0,f.Z)(fs,ds.slide,ps.slide),(0,f.Z)(fs,ds.smartSheet,ps.smartSheet),(0,f.Z)(fs,ds.smartCanvas,ps.smartCanvas),(0,f.Z)(fs,ds.flowchart,ps.flowchart),(0,f.Z)(fs,ds.mind,ps.mind),(0,f.Z)(fs,ds.pdf,ps.pdf),(0,f.Z)(fs,ds.drive,ps.drive);!function(e){e[e.private=0]="private",e[e.partialShare=1]="partialShare",e[e.canRead=2]="canRead",e[e.canEdit=3]="canEdit"}(ys||(ys={})),function(e){e.new="new",e.local="local",e.deleted="deleted",e.normal="normal"}(ms||(ms={})),function(e){e.NONE="none",e.SUCCESS="success",e.FAIL="fail",e.ERROR="error"}(_s||(_s={})),function(e){e[e.file=1]="file",e[e.folder=2]="folder"}(bs||(bs={})),function(e){e[e.trash=3]="trash",e[e.share=4]="share",e[e.myDoc=5]="myDoc",e[e.recent=6]="recent",e[e.start=7]="start"}(ws||(ws={})),function(e){e.init="init",e.document="document",e.workbook="workbook",e.chunk="chunk",e.accepted="accepted",e.missChange="misschange",e.newChange="newchange",e.committing="commiting",e.waiting="watting",e.queue="queue"}(Es||(Es={})),function(e){e.drive="drive",e.attachment="attachment"}(Ss||(Ss={}));var Os,Is,Rs,Cs,Ts;function xs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}!function(e){e.documentStatus="DocumentStatus",e.documentEntities="DocumentEntities",e.newDocumentIds="NewDocumentIds",e.padinfo="PadInfo",e.offlineData="OfflineData",e.documentData="DocumentData",e.Users="Users",e.driveData="DriveData"}(Os||(Os={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.QQ=1]="QQ",e[e.WX=2]="WX",e[e.WORK=3]="WORK",e[e.EMAIL=4]="EMAIL",e[e.PHONE=8]="PHONE",e[e.WORK_COMBINATION=9]="WORK_COMBINATION",e[e.TOWER=10]="TOWER",e[e.ROBOT=11]="ROBOT",e[e.QFYF=12]="QFYF",e[e.OPEN=13]="OPEN",e[e.MEETING=14]="MEETING"}(Is||(Is={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WECHAT=4]="WECHAT",e[e.WEWORK=3]="WEWORK"}(Rs||(Rs={})),function(e){e.BINDING="BINDING",e.UNBIND="UNBIND"}(Cs||(Cs={})),function(e){e.NORMAL="NORMAL",e.SUPER="SUPER",e.NONE="NONE",e.EXPIRED="EXPIRED"}(Ts||(Ts={}));var As=function(e){(0,c.Z)(n,e);var t=xs(n);function n(e){var o,i,a,s,c,u,l;return(0,r.Z)(this,n),(o=t.call(this)).isDefaultChunk=!1,o.uid=e.uid,o.type=e.type,o.data=e.data,o.dataVersion=e.dataVersion,o.docType=e.docType,o.subId=e.subId,o.secretId=e.secretId,o.version=e.version,o.globalPadId=e.globalPadId,o.taskId=null!==(i=e.taskId)&&void 0!==i?i:o.getTaskId(),o.isDefaultChunk=null!==(a=e.isDefaultChunk)&&void 0!==a&&a,o.chunkId=null!==(s=e.chunkId)&&void 0!==s?s:0,o.docStatus=null!==(c=e.docStatus)&&void 0!==c?c:ms.normal,o.createTimestamp=null!==(u=e.createTimestamp)&&void 0!==u?u:Date.now(),o.lastModifyTimestamp=null!==(l=e.lastModifyTimestamp)&&void 0!==l?l:Date.now(),o.key=o.getKey(),o.subGlobalPadId=e.subGlobalPadId,o.subDocType=e.subDocType,o}return(0,a.Z)(n,[{key:"getTaskId",value:function(){return Math.ceil(2147483648*Math.random())}},{key:"getKey",value:function(){return this.type===Es.init?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid):this.type===Es.document?"".concat(this.globalPadId,"_").concat(this.uid,"_version_").concat(this.version):this.type===Es.workbook?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid,"_version_").concat(this.version):this.type===Es.chunk?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.chunkId,"_").concat(this.uid,"_version_").concat(this.version):"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid,"_taskId_").concat(this.taskId)}}]),n}(So);function ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],As.prototype,"key",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],As.prototype,"secretId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],As.prototype,"globalPadId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],As.prototype,"subGlobalPadId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",Number)],As.prototype,"subDocType",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",Number)],As.prototype,"version",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],As.prototype,"type",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],As.prototype,"uid",void 0),(0,kr.__decorate)([go(),ho("subSheetId"),(0,kr.__metadata)("design:type",String)],As.prototype,"subId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",Number)],As.prototype,"chunkId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],As.prototype,"taskId",void 0),(0,kr.__decorate)([ho("_data"),(0,kr.__metadata)("design:type",String)],As.prototype,"data",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],As.prototype,"docType",void 0),(0,kr.__decorate)([ho("padStatus"),(0,kr.__metadata)("design:type",String)],As.prototype,"docStatus",void 0),(0,kr.__decorate)([ho("createTime"),(0,kr.__metadata)("design:type",Number)],As.prototype,"createTimestamp",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],As.prototype,"lastModifyTimestamp",void 0),(0,kr.__decorate)([ho("dver"),(0,kr.__metadata)("design:type",String)],As.prototype,"dataVersion",void 0),(0,kr.__decorate)([ho("default"),(0,kr.__metadata)("design:type",Object)],As.prototype,"isDefaultChunk",void 0);var Ds=function(e){(0,c.Z)(n,e);var t=ks(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(As);function Ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}Ds=(0,kr.__decorate)([vo(Os.documentData)],Ds);var Ps=function(e){(0,c.Z)(n,e);var t=Ms(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(So);function Ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],Ps.prototype,"key",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],Ps.prototype,"data",void 0),Ps=(0,kr.__decorate)([vo(Os.documentEntities)],Ps);var Ls=function(e){(0,c.Z)(n,e);var t=Ns(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).isCreated=!1,e}return(0,a.Z)(n)}(So);function js(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],Ls.prototype,"globalPadId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ls.prototype,"secretId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Ls.prototype,"documentType",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ls.prototype,"localPadId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],Ls.prototype,"isCreated",void 0),Ls=(0,kr.__decorate)([vo(Os.newDocumentIds)],Ls);var Us=function(e){(0,c.Z)(n,e);var t=js(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).lastSyncTimestamp=0,e}return(0,a.Z)(n)}(So);function Fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],Us.prototype,"globalPadId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Us.prototype,"secretId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Us.prototype,"uid",void 0),(0,kr.__decorate)([ho("lastSyncTime"),(0,kr.__metadata)("design:type",Object)],Us.prototype,"lastSyncTimestamp",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Us.prototype,"lastErrorTimestamp",void 0),Us=(0,kr.__decorate)([vo(Os.documentStatus)],Us);var Bs=function(e){(0,c.Z)(n,e);var t=Fs(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(So);function qs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],Bs.prototype,"driveId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Bs.prototype,"fileId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Bs.prototype,"objKey",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Bs.prototype,"secretId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Bs.prototype,"uid",void 0),(0,kr.__decorate)([ho("type"),(0,kr.__metadata)("design:type",String)],Bs.prototype,"type",void 0),(0,kr.__decorate)([ho("lastRequestTime"),(0,kr.__metadata)("design:type",Number)],Bs.prototype,"lastRequestTime",void 0),(0,kr.__decorate)([ho("fileInfo"),(0,kr.__metadata)("design:type",Object)],Bs.prototype,"fileInfo",void 0),(0,kr.__decorate)([ho("previewInfo"),(0,kr.__metadata)("design:type",Object)],Bs.prototype,"previewInfo",void 0),Bs=(0,kr.__decorate)([vo(Os.driveData)],Bs);var Ws=function(e){(0,c.Z)(n,e);var t=qs(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(As);function Vs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}Ws=(0,kr.__decorate)([vo(Os.offlineData)],Ws);var Gs=function(e){(0,c.Z)(n,e);var t=Vs(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).addListTimestamp=0,e.attribute=null,e.docPolicy=ys.private,e.docPrivilege=null,e.folderPolicy=0,e.folderPrivilege=null,e.isManualOffline=!1,e.isOfflineCache=!1,e.hasSnapShot=!1,e.isAddedToMy=0,e.isCollected=0,e.isOwner=1,e.isPinned=0,e.isShortcut=0,e.isUserChangeTitle=!1,e.lastCollectTimestamp=0,e.lastDeleteTimestamp=0,e.parents=[],e.cacheStatus=0,e}return(0,a.Z)(n)}(So);function Hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"key",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"secretId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"globalPadId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"uid",void 0),(0,kr.__decorate)([ho("add_list_ts"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"addListTimestamp",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"attribute",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"childrenLength",void 0),(0,kr.__decorate)([ho("client_version"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"clientVersion",void 0),(0,kr.__decorate)([ho("create_ts"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"createTimestamp",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"creator",void 0),(0,kr.__decorate)([ho("creator_domain"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"creatorDomain",void 0),(0,kr.__decorate)([ho("doc_icon"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"icon",void 0),(0,kr.__decorate)([ho("doc_policy"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"docPolicy",void 0),(0,kr.__decorate)([ho("doc_privilege"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"docPrivilege",void 0),(0,kr.__decorate)([ho("doc_thumbnail"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"thumbnail",void 0),(0,kr.__decorate)([ho("doc_type"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"docType",void 0),(0,kr.__decorate)([ho("doc_type_desc"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"docTypeDesc",void 0),(0,kr.__decorate)([ho("doc_url"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"url",void 0),(0,kr.__decorate)([ho("domain_id"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"domainId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"dver",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"folder",void 0),(0,kr.__decorate)([ho("folder_id"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"folderId",void 0),(0,kr.__decorate)([ho("folder_policy"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"folderPolicy",void 0),(0,kr.__decorate)([ho("folder_privilege"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"folderPrivilege",void 0),(0,kr.__decorate)([ho("isDelete"),(0,kr.__metadata)("design:type",Boolean)],Gs.prototype,"isDeleted",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"isManualOffline",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],Gs.prototype,"isMyCreated",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],Gs.prototype,"isMydoc",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"isOfflineCache",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],Gs.prototype,"isRencent",void 0),(0,kr.__decorate)([ho("isShareme"),(0,kr.__metadata)("design:type",Boolean)],Gs.prototype,"isShareToMe",void 0),(0,kr.__decorate)([ho("isSnapShot"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"hasSnapShot",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],Gs.prototype,"isStar",void 0),(0,kr.__decorate)([ho("is_added_my"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"isAddedToMy",void 0),(0,kr.__decorate)([ho("is_collected"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"isCollected",void 0),(0,kr.__decorate)([ho("is_owner"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"isOwner",void 0),(0,kr.__decorate)([ho("is_pinned"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"isPinned",void 0),(0,kr.__decorate)([ho("is_shortcut"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"isShortcut",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"isUserChangeTitle",void 0),(0,kr.__decorate)([ho("lastSyncTime"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"lastSyncTimestamp",void 0),(0,kr.__decorate)([ho("last_browse_ts"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"lastBrowseTimestamp",void 0),(0,kr.__decorate)([ho("last_collect_ts"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"lastCollectTimestamp",void 0),(0,kr.__decorate)([ho("last_delete_ts"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"lastDeleteTimestamp",void 0),(0,kr.__decorate)([ho("last_modify_ts"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"lastModifyTimestamp",void 0),(0,kr.__decorate)([ho("last_modify_nick"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"lastModifyNick",void 0),(0,kr.__decorate)([ho("last_modify_uid"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"lastModifyUid",void 0),(0,kr.__decorate)([ho("last_pinned_ts"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"lastPinnedTimestamp",void 0),(0,kr.__decorate)([ho("list_info_type"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"listInfoType",void 0),(0,kr.__decorate)([ho("list_type"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"listType",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],Gs.prototype,"offlineCommiting",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],Gs.prototype,"offlineCommitSuccessd",void 0),(0,kr.__decorate)([ho("origin_folder_id"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"originFolderId",void 0),(0,kr.__decorate)([ho("owner_nick"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"ownerNick",void 0),(0,kr.__decorate)([ho("owner_uid"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"ownerUid",void 0),(0,kr.__decorate)([ho("pad_id"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"padId",void 0),(0,kr.__decorate)([ho("parent_folder_id"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"parentFolderId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Array)],Gs.prototype,"parents",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"privilege",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"status",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"title",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"type",void 0),(0,kr.__decorate)([ho("uncommit"),(0,kr.__metadata)("design:type",Boolean)],Gs.prototype,"hasLocalChanges",void 0),(0,kr.__decorate)([ho("doc_sub_type"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"docSubType",void 0),(0,kr.__decorate)([ho("official_auth_info"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"officialAuthInfo",void 0),(0,kr.__decorate)([ho("personalize_info"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"personalizeInfo",void 0),(0,kr.__decorate)([ho("nativeEngineStatusRecord"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"nativeEngineStatusRecord",void 0),(0,kr.__decorate)([ho("nativeEngineDocPrivilege"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"nativeEngineDocPrivilege",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"data",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Gs.prototype,"ext",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Boolean)],Gs.prototype,"isOfflineCacheByNative",void 0),(0,kr.__decorate)([ho("mime_type"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"mimeType",void 0),(0,kr.__decorate)([ho("owner_vip_info"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"ownerVipInfo",void 0),(0,kr.__decorate)([ho("documentResourceCacheStatus"),(0,kr.__metadata)("design:type",String)],Gs.prototype,"documentResourceCacheStatus",void 0),(0,kr.__decorate)([ho("cache_status"),(0,kr.__metadata)("design:type",Object)],Gs.prototype,"cacheStatus",void 0),(0,kr.__decorate)([ho("cache_status_ts"),(0,kr.__metadata)("design:type",Number)],Gs.prototype,"cacheStatusTs",void 0),Gs=(0,kr.__decorate)([vo(Os.padinfo)],Gs);var Ks=function(e){(0,c.Z)(n,e);var t=Hs(n);function n(e){var o,i,a,s;return(0,r.Z)(this,n),(o=t.call(this)).docId=e.docId,o.pageType=e.pageType,o.updateTime=e.updateTime,o.tinyId=e.tinyId,o.wedriveUin=e.wedriveUin,o.wedocOpenId=e.wedocOpenId,o.nowUserIndex=null!==(i=e.nowUserIndex)&&void 0!==i?i:"",o.corpId=e.corpId,o.corpName=e.corpName,o.englishName=e.englishName,o.loginType=e.loginType,o.uidSource=e.uidSource,o.uin=e.uin,o.userId=e.userId,o.userName=e.userName,o.userPic=e.userPic,o.settings=e.settings,o.bindUserInfo=null!==(a=e.bindUserInfo)&&void 0!==a?a:{type:Cs.UNBIND,userName:"",userPic:"",accountType:Is.UNKNOWN},o.vipUserInfo=null!==(s=e.vipUserInfo)&&void 0!==s?s:{type:Ts.NONE,beginTime:0,endTime:0},o.key="".concat(o.pageType,"-").concat(o.docId,"-").concat(o.tinyId),o}return(0,a.Z)(n)}(So);(0,kr.__decorate)([yo(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"key",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"tinyId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"nowUserIndex",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"docId",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"pageType",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"wedriveUin",void 0),(0,kr.__decorate)([go(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"wedocOpenId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"corpId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"corpName",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"englishName",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Ks.prototype,"loginType",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"openId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Number)],Ks.prototype,"uidSource",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"uin",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"userId",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"userName",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"userPic",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",String)],Ks.prototype,"updateTime",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],Ks.prototype,"settings",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],Ks.prototype,"bindUserInfo",void 0),(0,kr.__decorate)([ho(),(0,kr.__metadata)("design:type",Object)],Ks.prototype,"vipUserInfo",void 0),Ks=(0,kr.__decorate)([vo(Os.Users),(0,kr.__metadata)("design:paramtypes",[Object])],Ks);var Qs;!function(e){e.pending="[PENDING]",e.success="[SUCCESS]",e.failure="[FAILURE]",e.slow="[SLOW]"}(Qs||(Qs={}));var Ys,Zs,zs,$s=Symbol("begin"),Js=function(e,t){return e+"/"+t},Xs=function(e,t){return"["+e+"."+t+"]"},ec=function(e){var t=Array.isArray(e)?e:Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return t+"="+e[t]}));return t.length?(0,kr.__spreadArray)(["args:"],(0,kr.__read)(t)):[]},tc=function(e){return"[-* "+e+"]"},nc=function(){function e(e){var t=this,n=void 0===e?{logger:console,verbose:!1,disabled:!1,prefix:""}:e,r=n.logger,o=void 0===r?console:r,i=n.disabled,a=void 0!==i&&i,s=n.verbose,c=void 0!==s&&s,u=n.prefix,l=void 0===u?"":u;this.name="LoggerPlugin",this.formatQueryConditionsExp=function(e){if(e.type===Pr.AND||e.type===Pr.OR){if(!e.exps.length)return;return e.exps.map(t.formatQueryConditionsExp).filter(Boolean).map((function(t){return e.type===Pr.OR&&e.exps.length>1?"("+t+")":t})).join(e.type===Pr.AND?" AND ":" OR ")}return e.type===Pr.FILTER?t.formatPredicate(e.path,e.predicate):e.type},this.formatPredicate=function(e,t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(n){return e+" "+n+" "+JSON.stringify(t[n])})).join(" AND ")},this.logMethodBegin=function(e,n,r,o){var i;e.timings.set($s,new Date),(i=t.logger).info.apply(i,(0,kr.__spreadArray)([t.prefix,Qs.pending,Xs(n,r)],(0,kr.__read)(ec(o))))},this.logMethodEnd=function(e,n,r,o,i){var a,s,c,u,l=e.timings.get($s)||new Date,f=Xs(n,r),d=Date.now()-l.getTime(),p="cost="+d+"ms",h=d>=500;i.error?(a=t.logger).error.apply(a,(0,kr.__spreadArray)([t.prefix,Qs.failure,Xs(n,r),p,null===(c=i.error)||void 0===c?void 0:c.message,null===(u=i.error)||void 0===u?void 0:u.stack],(0,kr.__read)(ec(o)))):(s=t.logger)[h?"warn":"info"].apply(s,(0,kr.__spreadArray)((0,kr.__spreadArray)((0,kr.__spreadArray)((0,kr.__spreadArray)([t.prefix,Qs.success],(0,kr.__read)(h?[Qs.slow]:[])),[f,p]),(0,kr.__read)(ec(o))),["result:",i.data]))},this.logger=o,this.disabled=a,this.verbose=c,this.prefix=l}return e.prototype.register=function(e){this.disabled||(this.prefix=this.prefix||"["+e.name+"]",this.hookPrimaryKeyQueries(e),this.hookConditionQueries(e),this.hookDataManipulationQueries(e),this.hookEvents(e),this.hookMigration(e),this.verbose&&this.hookEngine(e))},e.prototype.dispose=function(e){throw new Yr({storage:e})},e.prototype.hookMigration=function(e){var t=this,n=function(e,n,r){void 0===r&&(r="migration"),e.before((function(e){t.logMethodBegin(e,r,n,e.args)})).after((function(e){t.logMethodEnd(e,r,n,e.args,{data:e.return,error:e.error})}))};n(e.aspects.migration.buildMigration,"buildMigration"),n(e.aspects.migration.executeDataMigration,"executeDataMigration"),n(e.aspects.migration.executeSchemaMigration,"executeSchemaMigration"),n(e.aspects.migration.updateMigrationChangeInfo,"updateMigrationChangeInfo"),n(e.aspects.migration.prepareAutoUpgradeHandler,"prepareAutoUpgradeHandler"),n(e.aspects.migration.log,"innerLog"),n(e.aspects.migration.actionExecutor.executeSchemaAction,"executeSchemaAction"),n(e.aspects.migration.actionExecutor.executeDataAction,"executeDataAction")},e.prototype.hookEngine=function(e){var t=this,n=function(e,n,r){e.before((function(e){t.logMethodBegin(e,n,r,e.args)})).after((function(e){t.logMethodEnd(e,n,r,e.args,{data:e.return,error:e.error})}))},r=e.aspects.engine;n(r.openDB,"engine","openDB"),n(r.deleteDB,"engine","deleteDB"),this.hookEngineDatabase(r.database,n),this.hookEngineTable(r.table,n),this.hookEngineTransaction(r.transaction,n),this.hookEngineIndex(r.index,n),this.hookEngineCursor(r.cursor,n)},e.prototype.hookEngineDatabase=function(e,t){var n=Js("engine","database");t(e.close,n,"close"),t(e.table,n,"table"),t(e.transaction,n,"transaction"),t(e.createTable,n,"createTable"),t(e.deleteTable,n,"deleteTable")},e.prototype.hookEngineTransaction=function(e,t){var n=Js("engine","transaction");t(e.commit,n,"commit"),t(e.rollback,n,"rollback"),t(e.table,n,"table")},e.prototype.hookEngineIndex=function(e,t){var n=Js("engine","index");t(e.get,n,"get"),t(e.getAll,n,"getAll"),t(e.getAllKeys,n,"getAllKeys"),t(e.openCursor,n,"openCursor")},e.prototype.hookEngineCursor=function(e,t){var n=Js("engine","cursor");t(e.delete,n,"delete"),t(e.update,n,"update"),t(e.next,n,"next"),t(e.value,n,"value")},e.prototype.hookEngineTable=function(e,t){var n=Js("engine","table");t(e.clear,n,"clear"),t(e.get,n,"get"),t(e.delete,n,"delete"),t(e.getAll,n,"getAll"),t(e.getAllKeys,n,"getAllKeys"),t(e.index,n,"index"),t(e.insert,n,"insert"),t(e.upsert,n,"upsert"),t(e.createIndex,n,"createIndex"),t(e.deleteIndex,n,"deleteIndex"),t(e.openCursor,n,"openCursor"),t(e.query,n,"query"),t(e.bulkDelete,n,"bulkDelete"),t(e.bulkUpsert,n,"bulkUpsert")},e.prototype.hookPrimaryKeyQueries=function(e){var t=this,n=function(e,n){e.before((function(e){t.logMethodBegin(e,e.this.name,n,{key:e.args[0]})})).after((function(e){t.logMethodEnd(e,e.this.name,n,{key:e.args[0]},{data:e.return,error:e.error})}))};n(e.aspects.collection.get,"get"),n(e.aspects.collection.has,"has"),n(e.aspects.collection.delete,"delete")},e.prototype.hookConditionQueries=function(e){var t=this,n=function(e,n){e.before((function(e){t.logMethodBegin(e,e.this.name,n,t.formatQueryConditions(e.this.conditions()))})).after((function(e){t.logMethodEnd(e,e.this.name,n,t.formatQueryConditions(e.this.conditions()),{data:e.return,error:e.error})}))};n(e.aspects.collection.count,"count"),n(e.aspects.collection.entries,"entries"),n(e.aspects.collection.keys,"keys"),n(e.aspects.collection.values,"values"),n(e.aspects.collection.first,"first"),n(e.aspects.collection.last,"last"),n(e.aspects.collection.clear,"clear"),n(e.aspects.collection.update,"update")},e.prototype.hookDataManipulationQueries=function(e){var t=this,n=function(e,n){e.before((function(e){t.logMethodBegin(e,e.this.name,n,e.args)})).after((function(e){t.logMethodEnd(e,e.this.name,n,e.args,{data:e.return,error:e.error})}))};n(e.aspects.collection.insert,"insert"),n(e.aspects.collection.upsert,"upsert"),n(e.aspects.collection.bulkInsert,"bulkInsert"),n(e.aspects.collection.bulkUpsert,"bulkUpsert")},e.prototype.hookEvents=function(e){var t,n=this,r=(t=Date.now(),function(){var e=Date.now(),n="+"+(e-t)+"ms";return t=e,n});e.events.onBootstrapStart((function(){n.logger.info(n.prefix,tc(_o.BootstrapStart),r())})),e.events.onBootstrapEnd((function(){n.logger.info(n.prefix,tc(_o.BootstrapEnd),r())})),e.events.onSchemaMigrationStart((function(){n.logger.info(n.prefix,tc(_o.SchemaMigrationStart),r())})),e.events.onSchemaMigrationEnd((function(){n.logger.info(n.prefix,tc(_o.SchemaMigrationEnd),r())})),e.events.onRegisterModel((function(e){var t,o=e.schema;return(t=n.logger).info.apply(t,(0,kr.__spreadArray)((0,kr.__spreadArray)([n.prefix,tc(_o.RegisterModel)],(0,kr.__read)(ec({schema:JSON.stringify(o)}))),[r()]))})),e.events.onRegisterPlugin((function(e){var t,o=e.name;return(t=n.logger).info.apply(t,(0,kr.__spreadArray)((0,kr.__spreadArray)([n.prefix,tc(_o.RegisterPlugin)],(0,kr.__read)(ec({name:o}))),[r()]))})),e.events.onReady((function(e){var t,o=e.version,i=e.tableNames;return(t=n.logger).info.apply(t,(0,kr.__spreadArray)((0,kr.__spreadArray)([n.prefix,tc(_o.Ready)],(0,kr.__read)(ec({version:o,collections:Array.from(i)}))),[r()]))}))},e.prototype.formatQueryConditions=function(e){var t=e.offset,n=e.limit,r=e.order,o=e.exp;return{OFFSET:t||void 0,LIMIT:n,ORDER_BY:r&&"("+r.path+" "+r.type+")",WHERE:"("+this.formatQueryConditionsExp(o)+")"}},e}(),rc=nc;!function(e){e.storage="storage",e.collection="collection",e.query="query",e.migration="migration",e.engine="engine"}(Ys||(Ys={})),function(e){e.tableGetAll="table#getAll",e.tableGetAllKeys="table#getAllKeys",e.tableGet="table#get",e.tableInsert="table#insert",e.tableUpsert="table#upsert",e.tableDelete="table#delete",e.tableClear="table#clear",e.tableBulkUpsert="table#bulkUpsert",e.tableBulkDelete="table#bulkDelete",e.tableQuery="table#query",e.tableCreateIndex="table#createIndex",e.tableDeleteIndex="table#deleteIndex",e.indexGet="index#get",e.indexGetAll="index#getAll",e.indexGetAllKeys="index#getAllKeys",e.cursorNext="cursor#next",e.cursorValue="cursor#value",e.cursorUpdate="cursor#update",e.cursorDelete="cursor#delete",e.transactionCommit="transaction#commit",e.transactionRollback="transaction#rollback",e.databaseClose="database#close",e.databaseCreateTable="database#createTable",e.databaseDeleteTable="database#deleteTable",e.engineOpenDB="engine#openDB",e.engineDeleteDB="engine#deleteDB"}(Zs||(Zs={})),function(e){e[e.success=0]="success",e[e.fail=1]="fail"}(zs||(zs={}));var oc=function(){function e(e,t){this.module=Ys.engine,this.actionExecuteState=0,this.status=0,this.time=new Date,this.action=e,this.cost=t}return e.prototype.markError=function(e){this.errorMsg=e.message,this.actionExecuteState=1,this.status=1},e}(),ic=function(){function e(e,t){this.module=Ys.collection,this.status=0,this.actionExecuteState=0,this.write={count:0},this.read={count:0},this.delete={count:0},this.fail={count:0,reasons:[]},this.time=new Date,this.action=e,this.cost=t}return e.prototype.increment=function(e,t){void 0===t&&(t=1),this[e].count+=t},e.prototype.error=function(e){this.actionExecuteState=1,this.status=1,this.increment("fail"),this.fail.reasons.push(e.name)},e}(),ac=Symbol("begin");function sc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}var cc,uc,lc=function(){function e(e){var t=this,n=void 0===e?{}:e,r=n.disabled,o=void 0!==r&&r,i=n.onEvent,a=n.onCollectionEvent,s=n.onEngineEvent;this.name="MonitorPlugin",this.begin=function(e){e.timings.set(ac,new Date)},this.reportReadEvent=function(e,n){t.reportCollectionEvent(e,n,(function(r){return(0,kr.__awaiter)(t,void 0,void 0,(function(){var t,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return e.return?[4,e.return]:[3,2];case 1:t=i.sent(),o="has"===n?!t:null===t,r.increment("read",o?0:1),i.label=2;case 2:return[2]}}))}))}))},this.reportBatchReadEvent=function(e,n){t.reportCollectionEvent(e,n,(function(n){return(0,kr.__awaiter)(t,void 0,void 0,(function(){var t,r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return e.return?(r=(t=n).increment,o=["read"],[4,e.return]):[3,2];case 1:r.apply(t,o.concat([i.sent().length])),i.label=2;case 2:return[2]}}))}))}))},this.reportWriteEvent=function(e,n){t.reportCollectionEvent(e,n,(function(n){return(0,kr.__awaiter)(t,void 0,void 0,(function(){var t,r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return e.return?(r=(t=n).increment,o=["write"],[4,e.return]):[3,2];case 1:r.apply(t,o.concat([null===i.sent()?0:1])),i.label=2;case 2:return[2]}}))}))}))},this.reportBatchWriteEvent=function(e,n){t.reportCollectionEvent(e,n,(function(n){return(0,kr.__awaiter)(t,void 0,void 0,(function(){var t,r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return e.return?(r=(t=n).increment,o=["write"],[4,e.return]):[3,2];case 1:r.apply(t,o.concat([i.sent().length])),i.label=2;case 2:return[2]}}))}))}))},this.reportDeleteEvent=function(e,n){t.reportCollectionEvent(e,n,(function(n){return(0,kr.__awaiter)(t,void 0,void 0,(function(){var t,r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return e.return?(r=(t=n).increment,o=["delete"],[4,e.return]):[3,2];case 1:r.apply(t,o.concat([null===i.sent()?0:1])),i.label=2;case 2:return[2]}}))}))}))},this.reportBatchDeleteEvent=function(e,n){t.reportCollectionEvent(e,n,(function(n){return(0,kr.__awaiter)(t,void 0,void 0,(function(){var t,r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return e.return?(r=(t=n).increment,o=["delete"],[4,e.return]):[3,2];case 1:r.apply(t,o.concat([i.sent().length])),i.label=2;case 2:return[2]}}))}))}))},this.disabled=o,this.onEvent=i,this.onCollectionEvent=a,this.onEngineEvent=s}return e.prototype.register=function(e){var t,n,r,o,i,a,s,c,u=this;if(!this.disabled){var l=e.aspects,f=l.collection,d=l.engine,p=function(e){f[e].before(h.begin).after((function(t){return u.reportReadEvent(t,e)}))},h=this;try{for(var v=(0,kr.__values)(sc("get","has","first","last")),g=v.next();!g.done;g=v.next()){p(g.value)}}catch(P){t={error:P}}finally{try{g&&!g.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}var y=function(e){f[e].before(m.begin).after((function(t){return u.reportBatchReadEvent(t,e)}))},m=this;try{for(var _=(0,kr.__values)(sc("entries","keys","values","update")),b=_.next();!b.done;b=_.next()){y(b.value)}}catch(N){r={error:N}}finally{try{b&&!b.done&&(o=_.return)&&o.call(_)}finally{if(r)throw r.error}}var w=function(e){f[e].before(E.begin).after((function(t){return u.reportWriteEvent(t,e)}))},E=this;try{for(var S=(0,kr.__values)(sc("upsert","insert")),O=S.next();!O.done;O=S.next()){w(O.value)}}catch(L){i={error:L}}finally{try{O&&!O.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}var I=function(e){f[e].before(R.begin).after((function(t){return u.reportBatchWriteEvent(t,e)}))},R=this;try{for(var C=(0,kr.__values)(sc("bulkUpsert","bulkInsert","update")),T=C.next();!T.done;T=C.next()){I(T.value)}}catch(j){s={error:j}}finally{try{T&&!T.done&&(c=C.return)&&c.call(C)}finally{if(s)throw s.error}}f.delete.before(this.begin).after((function(e){return u.reportDeleteEvent(e,"delete")})),f.clear.before(this.begin).after((function(e){return u.reportBatchDeleteEvent(e,"clear")})),d.openDB.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.engineOpenDB)})),d.deleteDB.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.engineDeleteDB)}));var x=d.database,A=d.table,k=d.transaction,D=d.index,M=d.cursor;x.close.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.databaseClose)})),x.createTable.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.databaseCreateTable)})),x.deleteTable.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.databaseDeleteTable)})),A.get.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableGet)})),A.getAll.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableGetAll)})),A.getAllKeys.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableGetAllKeys)})),A.insert.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableInsert)})),A.upsert.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableUpsert)})),A.delete.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableDelete)})),A.clear.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableClear)})),A.bulkDelete.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableBulkDelete)})),A.bulkUpsert.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableBulkUpsert)})),A.query.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableQuery)})),A.createIndex.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableCreateIndex)})),A.deleteIndex.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.tableDeleteIndex)})),k.commit.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.transactionCommit)})),k.rollback.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.transactionRollback)})),D.get.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.indexGet)})),D.getAll.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.indexGetAll)})),D.getAllKeys.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.indexGetAllKeys)})),M.delete.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.cursorDelete)})),M.update.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.cursorUpdate)})),M.next.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.cursorNext)})),M.value.before(this.begin).after((function(e){return u.reportEngineEvent(e,Zs.cursorValue)}))}},e.prototype.dispose=function(e){throw new Yr({storage:e})},e.prototype.reportEngineEvent=function(e,t){var n,r,o=e.timings.get(ac)||new Date,i=Date.now()-o.getTime(),a=new oc(t,i);e.error&&a.markError(e.error),null===(n=this.onEvent)||void 0===n||n.call(this,a),null===(r=this.onEngineEvent)||void 0===r||r.call(this,a)},e.prototype.reportCollectionEvent=function(e,t,n){var r,o;return(0,kr.__awaiter)(this,void 0,void 0,(function(){var i,a,s;return(0,kr.__generator)(this,(function(c){switch(c.label){case 0:return i=e.timings.get(ac)||new Date,a=Date.now()-i.getTime(),s=new ic(t,a),e.error?(s.error(e.error),[3,3]):[3,1];case 1:return[4,n(s,e)];case 2:c.sent(),c.label=3;case 3:return null===(r=this.onEvent)||void 0===r||r.call(this,s),null===(o=this.onCollectionEvent)||void 0===o||o.call(this,s),[2]}}))}))},e}(),fc=lc,dc=o(93700),pc=o(79868),hc=o(81390),vc=o.n(hc),gc=function(e,t){return t.some((function(t){return e instanceof t}))};var yc=new WeakMap,mc=new WeakMap,_c=new WeakMap,bc=new WeakMap,wc=new WeakMap;var Ec={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ic(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Sc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(uc||(uc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rc(this),n),Ic(yc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ic(e.apply(Rc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.call.apply(e,[Rc(this),t].concat(r));return _c.set(i,t.sort?t.sort():[t]),Ic(i)}}function Oc(e){return"function"==typeof e?Sc(e):(e instanceof IDBTransaction&&function(e){if(!mc.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=function(){t(),r()},i=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));mc.set(e,t)}}(e),gc(e,cc||(cc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ec):e)}function Ic(e){if(e instanceof IDBRequest)return t=e,(n=new Promise((function(e,n){var r=function(){t.removeEventListener("success",o),t.removeEventListener("error",i)},o=function(){e(Ic(t.result)),r()},i=function(){n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)}))).then((function(e){e instanceof IDBCursor&&yc.set(e,t)})).catch((function(){})),wc.set(n,t),n;var t,n;if(bc.has(e))return bc.get(e);var r=Oc(e);return r!==e&&(bc.set(e,r),wc.set(r,e)),r}var Rc=function(e){return wc.get(e)};function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){(0,dc.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,o=n.upgrade,i=n.blocking,a=n.terminated,s=indexedDB.open(e,t),c=Ic(s);return o&&s.addEventListener("upgradeneeded",(function(e){o(Ic(s.result),e.oldVersion,e.newVersion,Ic(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),c.then((function(e){a&&e.addEventListener("close",(function(){return a()})),i&&e.addEventListener("versionchange",(function(){return i()}))})).catch((function(){})),c}function Ac(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).blocked,n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(function(){return t()})),Ic(n).then((function(){}))}var kc=["get","getKey","getAll","getAllKeys","count"],Dc=["put","add","delete","clear"],Mc=new Map;function Pc(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(Mc.get(t))return Mc.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,o=Dc.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(o||kc.includes(n))){var i=function(){var e=(0,pc.Z)(vc().mark((function e(t){var i,a,s,c,u,l,f=arguments;return vc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,o?"readwrite":"readonly"),s=a.store,c=f.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=f[l];return r&&(s=s.index(u.shift())),e.next=6,Promise.all([(i=s)[n].apply(i,u),o&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Mc.set(t,i),i}}}Ec=function(e){return Tc(Tc({},e),{},{get:function(t,n,r){return Pc(t,n)||e.get(t,n,r)},has:function(t,n){return!!Pc(t,n)||e.has(t,n)}})}(Ec);var Nc=function(){function e(e,t,n,r){var o,i=this;this.mode=e,this.proxyCursor=t,this.direction=n,this.engineAspects=r,this.delete=void 0,this.update=void 0,e!==Vr.READ_ONLY&&(this.delete=function(){return i.getProxyCursorWithMode().delete()},this.update=function(e){return i.getProxyCursorWithMode().update(e)}),(null===(o=this.engineAspects)||void 0===o?void 0:o.cursor)&&this.applyAspectPatch()}return e.prototype[Symbol.asyncIterator]=function(){return new Lc(this)},e.prototype.next=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.proxyCursor.continue()];case 1:return(e=t.sent())?(this.proxyCursor=e,[2,this]):[2,null]}}))}))},e.prototype.value=function(){return this.proxyCursor.value},e.prototype.getProxyCursorWithMode=function(){return this.proxyCursor},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.cursor;if(this.mode!==Vr.READ_ONLY){null==t||t.delete.patch(this,"delete"),null==t||t.update.patch(this,"update")}null==t||t.next.patch(this,"next"),null==t||t.value.patch(this,"value")},e}(),Lc=function(){function e(e){this.currentCursor=e}return e.prototype[Symbol.asyncIterator]=function(){return this},e.prototype.next=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return this.currentCursor?(e=this.currentCursor.value(),t=this,[4,this.currentCursor.next()]):[2,{value:void 0,done:!0}];case 1:return t.currentCursor=n.sent(),[2,{value:e,done:!1}]}}))}))},e}(),jc=function(){function e(e,t,n,r){this.table=e,this.proxyIndex=t,this.mode=n,this.engineAspects=r,this.name=t.name,this.keyPath=t.keyPath,this.unique=t.unique,(null==r?void 0:r.index)&&this.applyAspectPatch()}return e.prototype.getAll=function(e){return this.proxyIndex.getAll(e)},e.prototype.getAllKeys=function(e,t){return this.proxyIndex.getAllKeys(e,t)},e.prototype.get=function(e){return this.proxyIndex.get(e)},e.prototype.openCursor=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.proxyIndex.openCursor(e,t)];case 1:return(n=r.sent())?[2,new Nc(this.mode,n,null!=t?t:"next")]:[2,null]}}))}))},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.index,n=this;null==t||t.get.patch(n,"get"),null==t||t.getAll.patch(n,"getAll"),null==t||t.getAllKeys.patch(n,"getAllKeys"),null==t||t.openCursor.patch(n,"openCursor")},e}(),Uc=function(){function e(e,t,n,r){this.mode=e,this.objectStore=t,this.engineAspects=n,this.transaction=r,this.createIndex=void 0,this.delete=void 0,this.bulkDelete=void 0,this.clear=void 0,this.insert=void 0,this.upsert=void 0,this.deleteIndex=void 0,this.bulkUpsert=void 0,this.keyPath=t.keyPath,this.autoIncrement=t.autoIncrement,this.tableName=t.name,this.indexNames=(0,kr.__spreadArray)([],(0,kr.__read)(t.indexNames)),this.initWriteFun(e),(null==n?void 0:n.table)&&this.applyAspectPatch()}return e.prototype.query=function(){throw new Error("query Method is not support for IDB.")},e.prototype.supports=function(e){return!["query","bulkDelete"].includes(e)},e.prototype.index=function(e){var t=this.objectStore.index(e);return new jc(this,t,this.mode,this.engineAspects)},e.prototype.getAll=function(e){return this.objectStore.getAll(e)},e.prototype.getAllKeys=function(e,t){return this.objectStore.getAllKeys(e,t)},e.prototype.get=function(e){var t;return null!==(t=this.objectStore.get(e))&&void 0!==t?t:null},e.prototype.openCursor=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.objectStore.openCursor(e,t)];case 1:return(n=r.sent())?[2,new Nc(this.mode,n,null!=t?t:"next")]:[2,null]}}))}))},e.prototype.initWriteFun=function(e){var t=this;e===Vr.VERSION_CHANGE&&(this.createIndex=this.createIndexFun,this.deleteIndex=function(e){return t.getProxyObjectStoreWithMode().deleteIndex(e)}),e!==Vr.READ_ONLY&&(this.delete=function(e){return t.getProxyObjectStoreWithMode().delete(e)},this.bulkDelete=function(e){throw new Error("bulkDelete Method is not support for IDB.")},this.clear=function(){return t.getProxyObjectStoreWithMode().clear()},this.insert=function(e){return t.getProxyObjectStoreWithMode().add(e)},this.upsert=function(e){return t.getProxyObjectStoreWithMode().put(e)},this.bulkUpsert=function(e){var n=t.getProxyObjectStoreWithMode(),r=e.reduce((function(e,t){return e.push(n.put(t)),e}),[]);return Promise.all(r)})},e.prototype.createIndexFun=function(e,t,n){var r=this.getProxyObjectStoreWithMode();return new jc(this,r.createIndex(e,t,n),this.mode)},e.prototype.getProxyObjectStoreWithMode=function(){return this.objectStore},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.table;if(this.mode===Vr.READ_ONLY)return null==t||t.get.patch(this,"get"),null==t||t.getAll.patch(this,"getAll"),null==t||t.getAllKeys.patch(this,"getAllKeys"),null==t||t.index.patch(this,"index"),void(null==t||t.openCursor.patch(this,"openCursor"));this.mode===Vr.VERSION_CHANGE&&(null==t||t.createIndex.patch(this,"createIndex"),null==t||t.deleteIndex.patch(this,"deleteIndex")),null==t||t.delete.patch(this,"delete"),null==t||t.insert.patch(this,"insert"),null==t||t.upsert.patch(this,"upsert"),null==t||t.bulkUpsert.patch(this,"bulkUpsert"),null==t||t.clear.patch(this,"clear")},e}(),Fc=function(){function e(e,t){this.proxyTransaction=e,this.engineAspects=t,this.tables=e.objectStoreNames,this.mode=e.mode,(null==t?void 0:t.transaction)&&this.applyAspectPatch()}return e.prototype.table=function(e){var t=this.proxyTransaction.objectStore(e);return new Uc(this.mode,t,this.engineAspects,this)},e.prototype.commit=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.proxyTransaction.done];case 1:return e.sent(),[3,3];case 2:return e.sent(),[2,!1];case 3:return[2,!0]}}))}))},e.prototype.rollback=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,1,,6]),this.proxyTransaction.abort(),[3,6];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.proxyTransaction.done];case 3:return e.sent(),[3,5];case 4:return e.sent(),[2,!0];case 5:return[2,!1];case 6:return[2,!0]}}))}))},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.transaction,n=this;null==t||t.commit.patch(n,"commit"),null==t||t.rollback.patch(n,"rollback"),null==t||t.table.patch(n,"table")},e}(),Bc=function(){function e(e,t){this.idbDatabase=e,this.engineAspect=t,this.name=e.name,this.version=e.version,this.tableNames=(0,kr.__spreadArray)([],(0,kr.__read)(e.objectStoreNames)),this.engineAspect&&this.applyAspectPatch()}return e.prototype.setVersionChangeListener=function(e){this.idbDatabase.addEventListener("versionchange",(function(t){e(t.oldVersion,t.newVersion)}))},e.prototype.close=function(){this.idbDatabase.close()},e.prototype.createTable=function(e,t){var n=this.idbDatabase.createObjectStore(e,t);return new Uc(Vr.VERSION_CHANGE,n)},e.prototype.deleteTable=function(e){this.idbDatabase.deleteObjectStore(e)},e.prototype.transaction=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){return n=this.idbDatabase.transaction(e,t),[2,new Fc(n,this.engineAspect)]}))}))},e.prototype.table=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,kr.__generator)(this,(function(i){return n=this.idbDatabase.transaction([e],t),r=new Fc(n),o=n.objectStore(e),[2,new Uc(t,o,this.engineAspect,r)]}))}))},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspect)||void 0===e?void 0:e.database;null==t||t.deleteTable.patch(this,"deleteTable"),null==t||t.createTable.patch(this,"createTable"),null==t||t.transaction.patch(this,"transaction"),null==t||t.table.patch(this,"table"),null==t||t.close.patch(this,"close")},e}();var qc,Wc,Vc,Gc=function(e,t){var n=typeof e,r=typeof t;if(isNaN(e)||isNaN(t))return indexedDB.cmp(e,t);if(n===r){if("number"===n||"bigint"===n)return e-t;if("string"===n)return function(e,t){return e<t?-1:+(e>t)}(e,t)}return e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():indexedDB.cmp(e,t)},Hc=Qr.withDefaultMessage("IndexedDB is missing in global context. Consider using `indexeddbshim` for better compatibility or `fake-indexeddb` in your test environment."),Kc=function(){function e(){if("undefined"==typeof indexedDB)throw new Hc;this.cmp=Gc}return e.prototype.deleteDB=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,Ac(e)]}))}))},e.prototype.setAspects=function(e){this.engineAspects=e,this.engineAspects.openDB.patch(this,"openDB"),this.engineAspects.deleteDB.patch(this,"deleteDB")},e.prototype.openDB=function(e,t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,o=this;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return[4,xc(e,n,{upgrade:function(e,t,n,i){var a;null===(a=null==r?void 0:r.upgrade)||void 0===a||a.call(r,new Bc(e,o.engineAspects),t,n,new Fc(i))},blocked:function(){var e;return null===(e=null==r?void 0:r.blocked)||void 0===e?void 0:e.call(r)},blocking:function(){var e;return null===(e=null==r?void 0:r.blocking)||void 0===e?void 0:e.call(r)},terminated:function(){var e;return null===(e=null==r?void 0:r.terminated)||void 0===e?void 0:e.call(r)}})];case 1:return t=i.sent(),[2,new Bc(t,this.engineAspects)]}}))}))},e}();!function(e){e.INIT="init",e.GET="get",e.GET_ALL="getAll",e.DELETE="delete",e.INSERT="set",e.UPDATE="update",e.UPDATE_MUTIL_TABLE_DATA="updateMultiTableData",e.BEGIN_TRANSACTION="beginTransaction",e.COMMIT_TRANSACTION="commitTransaction",e.ROLLBACK_TRANSACTION="rollbackTransaction"}(qc||(qc={})),function(e){e[e.IN=0]="IN",e[e.LOWER_BOUND=1]="LOWER_BOUND",e[e.UPPER_BOUND=2]="UPPER_BOUND",e[e.BOUND=3]="BOUND",e[e.ONLY=4]="ONLY",e[e.NOT_IN=5]="NOT_IN"}(Wc||(Wc={})),function(e){e[e.INCREASE=0]="INCREASE",e[e.DECREASE=1]="DECREASE",e[e.INCREASE_BY_TEXT=2]="INCREASE_BY_TEXT",e[e.DECREASE_BY_TEXT=3]="DECREASE_BY_TEXT"}(Vc||(Vc={}));var Qc=o(85854),Yc=function(){function e(){}return e.send=function(t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){return n=new Promise((function(e){var n;(null===(n=null===window||void 0===window?void 0:window.tdocs)||void 0===n?void 0:n.clientDatabaseRequest)?window.tdocs.clientDatabaseRequest(t).then(e).catch((function(t,n){e({err_code:n,err_msg:t})})):Qc.nativeRequest.invoke({schema:"jsapi",namespace:"docx",method:"clientDatabaseRequest",params:t,removeCallback:!0,callback:function(t){e(t)}})})),r=new Promise((function(t){setTimeout((function(){t({err_msg:"req timeout",err_code:e.timeoutErrorCode})}),e.timeout)})),[2,Promise.race([n,r])]}))}))},e.timeout=1e4,e.timeoutErrorCode="100002",e}(),Zc=function(){function e(){}return e.getDBKeyFromKeyPath=function(e){return"string"==typeof e?e:e.join("_")},e.normalizeUnionKeyValue=function(e){return Array.isArray(e)?JSON.stringify(e):e},e.getKeyFromValue=function(e,t){if("object"!=typeof e)return e;var n=e;if("string"==typeof t)return n[t];var r=[];return t.forEach((function(e){r.push(n[e])})),r},e.addUnionKeyIfNeed=function(t,n){if("string"==typeof n)return t;var r=(0,kr.__assign)({},t),o=e.getDBKeyFromKeyPath(n),i=[];return n.forEach((function(e){return i.push(r[e])})),r[o]=e.normalizeUnionKeyValue(i),r},e.deleteUnionKeyIfNeed=function(t,n){if("string"==typeof n)return t;var r=(0,kr.__assign)({},t);return r[e.getDBKeyFromKeyPath(n)]=void 0,r},e}(),zc=function(){function e(e,t,n,r,o){var i;this.direction=n,this.mode=r,this.engineAspects=o,this.delete=void 0,this.update=void 0,this.cursor=0,this.engineTable=t,this.values=this.preProcessedData(e),this.isPositiveDirection()||(this.cursor=this.values.length-1),r!==Vr.READ_ONLY&&(this.delete=this.deleteData,this.update=this.updateData),(null===(i=this.engineAspects)||void 0===i?void 0:i.cursor)&&this.applyAspectPatch()}return e.prototype.next=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return(e=this.cursor+(this.isPositiveDirection()?1:-1))<0||e>this.values.length-1?[2,null]:(this.cursor=e,[2,this])}))}))},e.prototype.value=function(){return this.values[this.cursor]},e.prototype[Symbol.asyncIterator]=function(){return new $c(this)},e.prototype.deleteData=function(){var e=Zc.getKeyFromValue(this.value(),this.engineTable.keyPath);return this.engineTable.delete(e)},e.prototype.updateData=function(e){return this.engineTable.upsert(e)},e.prototype.isPositiveDirection=function(){return"next"===this.direction||"nextunique"===this.direction},e.prototype.isUniqueDirection=function(){return"nextunique"===this.direction||"prevunique"===this.direction},e.prototype.preProcessedData=function(e){return this.isUniqueDirection()?(0,kr.__spreadArray)([],(0,kr.__read)(new Set(e))):e},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.cursor;if(this.mode!==Vr.READ_ONLY){null==t||t.delete.patch(this,"delete"),null==t||t.update.patch(this,"update")}null==t||t.next.patch(this,"next"),null==t||t.value.patch(this,"value")},e}(),$c=function(){function e(e){this.currentCursor=e}return e.prototype[Symbol.asyncIterator]=function(){return this},e.prototype.next=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return this.currentCursor?(e=this.currentCursor.value(),t=this,[4,this.currentCursor.next()]):[2,{value:void 0,done:!0}];case 1:return t.currentCursor=n.sent(),[2,{value:e,done:!1}]}}))}))},e}(),Jc=Qr.withMessageCreator("UnSupportError Error",(function(e){return"client db does not support "+e})),Xc=Qr.withMessageCreator("openDBError",(function(e){return"open db error in database , msg: "+e})),eu=Qr.withMessageCreator("tableNotExist",(function(e){return e+" is not exist in the database"})),tu=Qr.withMessageCreator("indexNotExist",(function(e){return e+" is not exist in the table"})),nu=Qr.withDefaultMessage("WhereOrUnsupportedError","multiple where clause is not supported in native engine"),ru=Qr.withMessageCreator("DBOperationError",(function(e){return"query or write db has error, msg: "+e}));function ou(e,t){var n=t.collections.filter((function(t){return t.name===e}));if(!n.length)throw new eu(e);return n[0]}function iu(e,t,n){if(e.err_code||e.err_msg){var r=new ru("has error in "+t+" opt, code: "+e.err_code+" msg: "+e.err_msg);throw null==n||n(r),r}}var au,su=function(){function e(){this.conditions=[],this.limitCount=Number.MAX_VALUE,this.offsetCount=0,this.orders=[]}return e.prototype.addKeyQueryCondition=function(e,t){var n=this;if("string"==typeof e)return this.addCondition(e,t);if(t instanceof Array)return this.addCondition(Zc.getDBKeyFromKeyPath(e),Zc.normalizeUnionKeyValue(t));if(!(t instanceof IDBKeyRange))throw new Error("unsupported key: "+t);var r=t.upper,o=t.upperOpen,i=t.lower,a=t.lowerOpen;return e.forEach((function(t,s){var c=null==i?void 0:i[s],u=null==r?void 0:r[s];if(void 0===c&&void 0===u)throw new Error("key range query param has error, keyPath: "+e+" lower: "+i+", upper: "+r);void 0!==c&&void 0!==u?n.addCondition(t,IDBKeyRange.bound(c,u,a,o)):void 0!==c?n.addCondition(t,IDBKeyRange.lowerBound(c,a)):n.addCondition(t,IDBKeyRange.upperBound(u,o))})),this},e.prototype.addCondition=function(e,t,n){void 0===n&&(n=Wc.ONLY);var r,o=n;return t instanceof IDBKeyRange?void 0!==t.lower&&void 0!==t.upper?(o=Wc.BOUND,r={lower:t.lower,upper:t.upper,lowerOpen:t.lowerOpen,upperOpen:t.upperOpen}):void 0!==t.lower?(o=Wc.LOWER_BOUND,r={lower:t.lower,open:t.lowerOpen}):(o=Wc.UPPER_BOUND,r={upper:t.upper,open:t.upperOpen}):r=t,this.conditions.push({type:o,column:e,value:r}),this},e.prototype.setLimit=function(e){return this.limitCount=e,this},e.prototype.setOffset=function(e){return this.offsetCount=e,this},e.prototype.addOrder=function(e,t){var n=Vc.INCREASE;t===Lr.DESCENDING&&(n=Vc.DECREASE),this.orders.push({key:e,type:n})},e.prototype.build=function(){return{_conditions:this.conditions,_limitCount:this.limitCount,_offsetCount:this.offsetCount,_orders:this.orders}},e}(),cu=function(){function e(e,t,n,r,o){var i,a=this;this.dbName=e,this.table=t,this.mode=r,this.engineAspects=o,this.name=n.name,this.keyPath=n.path,this.unique=null!==(i=n.unique)&&void 0!==i&&i,this.transaction=t.transaction,this.reqErrorObserver=function(e){var t;return null===(t=a.transaction)||void 0===t?void 0:t.notifyTransactionFail(e)},(null==o?void 0:o.index)&&this.applyAspectPatch()}return e.prototype.getAll=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o=this;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return n={command:qc.GET_ALL,dbName:this.dbName,tableName:this.table.tableName,where:e?(new su).addKeyQueryCondition(this.keyPath,e).setLimit(null!=t?t:Number.MAX_VALUE).build():void 0},[4,this.sendRequest(n)];case 1:return iu(r=i.sent(),"getAll",this.reqErrorObserver),r.result?[2,r.result.map((function(e){return Zc.deleteUnionKeyIfNeed(e,o.table.keyPath)}))]:[2,[]]}}))}))},e.prototype.getAllKeys=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.getAll(null!=e?e:void 0,t)];case 1:return(n=o.sent())?[2,n.map((function(e){return Zc.getKeyFromValue(e,r.table.keyPath)}))]:[2,[]]}}))}))},e.prototype.get=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t={command:qc.GET,dbName:this.dbName,tableName:this.table.tableName,where:(new su).addKeyQueryCondition(this.keyPath,e).build()},[4,this.sendRequest(t)];case 1:return iu(n=r.sent(),"get",this.reqErrorObserver),n.result?[2,Zc.deleteUnionKeyIfNeed(n.result,this.table.keyPath)]:[2,null]}}))}))},e.prototype.openCursor=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getAll(e)];case 1:return(n=r.sent())?[2,new zc(n,this.table,null!=t?t:"next",this.mode)]:[2,null]}}))}))},e.prototype.sendRequest=function(e){var t,n;(null===(t=this.transaction)||void 0===t?void 0:t.transactionID)&&(e.transaction=this.transaction.transactionID);var r=Yc.send(e);return null===(n=this.transaction)||void 0===n||n.addResponsePromise(r),r},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.index,n=this;null==t||t.get.patch(n,"get"),null==t||t.getAll.patch(n,"getAll"),null==t||t.getAllKeys.patch(n,"getAllKeys"),null==t||t.openCursor.patch(n,"openCursor")},e}(),uu=function(){function e(e,t,n,r,o){var i,a,s,c=this;this.dbName=e,this.collectionSchema=t,this.mode=n,this.engineAspects=r,this.transaction=o,this.createIndex=void 0,this.delete=void 0,this.bulkDelete=void 0,this.clear=void 0,this.insert=void 0,this.upsert=void 0,this.deleteIndex=void 0,this.bulkUpsert=void 0,this.keyPath=null!==(a=null===(i=t.key)||void 0===i?void 0:i.path)&&void 0!==a?a:[],this.autoIncrement=!!(null===(s=t.key)||void 0===s?void 0:s.generator),this.tableName=t.name,this.indexNames=t.indices.map((function(e){return Zc.getDBKeyFromKeyPath(e.path)})),this.initWriteFun(n),this.reqErrorObserver=function(e){var t;return null===(t=c.transaction)||void 0===t?void 0:t.notifyTransactionFail(e)},(null==r?void 0:r.table)&&this.applyAspectPatch()}return e.prototype.query=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i=this;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return n={command:qc.GET_ALL,dbName:this.dbName,tableName:this.tableName,where:this.getClientQueryCondition(e)},[4,this.sendRequest(n)];case 1:return iu(r=a.sent(),"query",this.reqErrorObserver),r.result&&r.result.length?(o=r.result.map((function(e){return[Zc.getKeyFromValue(e,i.keyPath),Zc.deleteUnionKeyIfNeed(e,i.keyPath)]})),t===Nr.COUNT?[2,o.length]:t===Nr.KEYS?[2,o.map((function(e){return(0,kr.__read)(e,1)[0]}))]:t===Nr.VALUES?[2,o.map((function(e){return(0,kr.__read)(e,2)[1]}))]:[2,o]):[2,[]]}}))}))},e.prototype.supports=function(){return!0},e.prototype.index=function(e){var t=this.collectionSchema.indices.filter((function(t){return t.name===e}));if(!t.length)throw new tu(e);return new cu(this.dbName,this,t[0],this.mode,this.engineAspects)},e.prototype.getAll=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o=this;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return n={command:qc.GET_ALL,dbName:this.dbName,tableName:this.tableName,where:e?(new su).addKeyQueryCondition(this.keyPath,e).setLimit(null!=t?t:Number.MAX_VALUE).build():void 0},[4,this.sendRequest(n)];case 1:return iu(r=i.sent(),"getAll",this.reqErrorObserver),r.result&&r.result.length?[2,r.result.map((function(e){return Zc.deleteUnionKeyIfNeed(e,o.keyPath)}))]:[2,[]]}}))}))},e.prototype.getAllKeys=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.getAll(null!=e?e:void 0,t)];case 1:return(n=o.sent())?[2,n.map((function(e){return Zc.getKeyFromValue(e,r.keyPath)}))]:[2,[]]}}))}))},e.prototype.get=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t={command:qc.GET,dbName:this.dbName,tableName:this.tableName,where:(new su).addKeyQueryCondition(this.keyPath,e).build()},[4,this.sendRequest(t)];case 1:return iu(n=r.sent(),"get",this.reqErrorObserver),n.result?[2,Zc.deleteUnionKeyIfNeed(n.result,this.keyPath)]:[2,null]}}))}))},e.prototype.openCursor=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getAll(e)];case 1:return(n=r.sent())?[2,new zc(n,this,null!=t?t:"next",this.mode,this.engineAspects)]:[2,null]}}))}))},e.prototype.initWriteFun=function(e){var t=this;e===Vr.VERSION_CHANGE&&(this.createIndex=this.createIndexFun,this.deleteIndex=function(e){}),e!==Vr.READ_ONLY&&(this.delete=this.deleteData,this.bulkDelete=this.bulkDeleteData,this.clear=this.deleteData,this.insert=this.insertAndUpdate,this.upsert=function(e){return t.insertAndUpdate(e,!0)},this.bulkUpsert=this.bulkUpsertData)},e.prototype.createIndexFun=function(e,t){var n=this.collectionSchema.indices.filter((function(t){return t.name===e}));if(!n.length)throw new tu(e);return new cu(this.dbName,this,n[0],this.mode)},e.prototype.bulkDeleteData=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t=e.map((function(e){return Zc.normalizeUnionKeyValue(e)})),n={command:qc.DELETE,dbName:this.dbName,tableName:this.tableName,where:e?(new su).addCondition(Zc.getDBKeyFromKeyPath(this.keyPath),t,Wc.IN).build():void 0},[4,this.sendRequest(n)];case 1:return iu(r.sent(),"bulkDelete",this.reqErrorObserver),[2]}}))}))},e.prototype.bulkUpsertData=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return t=e.map((function(e){return Zc.addUnionKeyIfNeed(e,r.keyPath)})).map((function(e){return{tableName:r.tableName,data:e}})),n={command:qc.UPDATE_MUTIL_TABLE_DATA,dbName:this.dbName,multiData:t},[4,this.sendRequest(n)];case 1:return iu(o.sent(),"bulkUpsert",this.reqErrorObserver),[2,e.map((function(e){return Zc.getKeyFromValue(e,r.keyPath)}))]}}))}))},e.prototype.insertAndUpdate=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return n=Zc.addUnionKeyIfNeed(e,this.keyPath),r={command:t?qc.UPDATE:qc.INSERT,dbName:this.dbName,tableName:this.tableName,data:n},[4,this.sendRequest(r)];case 1:return iu(o.sent(),t?"upsert":"insert",this.reqErrorObserver),[2,Zc.getKeyFromValue(e,this.keyPath)]}}))}))},e.prototype.deleteData=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return t={command:qc.DELETE,dbName:this.dbName,tableName:this.tableName,where:e?(new su).addKeyQueryCondition(this.keyPath,e).build():void 0},[4,this.sendRequest(t)];case 1:return iu(n.sent(),e?"delete":"clear",this.reqErrorObserver),[2]}}))}))},e.prototype.sendRequest=function(e){var t,n;(null===(t=this.transaction)||void 0===t?void 0:t.transactionID)&&(e.transaction=this.transaction.transactionID);var r=Yc.send(e);return null===(n=this.transaction)||void 0===n||n.addResponsePromise(r),r},e.prototype.getClientQueryCondition=function(e){var t,n,r,o,i,a=new su;if(e.whereClauses.length>1)throw new nu;if(!e.whereClauses.length)return a.build();var s=(0,kr.__read)(e.whereClauses,1)[0];try{for(var c=(0,kr.__values)(Object.entries(s)),u=c.next();!u.done;u=c.next()){var l=(0,kr.__read)(u.value,2),f=l[0],d=l[1];if(Br(d))a.addKeyQueryCondition(f,d);else if(!this.isEmptyPredicate(d)){var p=d[Dr.In];Array.isArray(p)&&a.addCondition(Zc.getDBKeyFromKeyPath(f),p.map(Zc.normalizeUnionKeyValue),Wc.IN);var h=d[Dr.NotIn];Array.isArray(h)&&a.addCondition(Zc.getDBKeyFromKeyPath(f),h.map(Zc.normalizeUnionKeyValue),Wc.NOT_IN);try{for(var v=(r=void 0,(0,kr.__values)(Object.entries(d))),g=v.next();!g.done;g=v.next()){var y=(0,kr.__read)(g.value,2),m=y[0],_=y[1];if(void 0!==_)if(m!==Dr.NotEquals){var b=(i={},i[Dr.Equals]=IDBKeyRange.only(_),i[Dr.GreaterThan]=IDBKeyRange.lowerBound(_,!0),i[Dr.GreaterOrEqualThan]=IDBKeyRange.lowerBound(_,!1),i[Dr.LessThan]=IDBKeyRange.upperBound(_,!0),i[Dr.LessOrEqualThan]=IDBKeyRange.upperBound(_,!1),i)[m];void 0!==b&&a.addKeyQueryCondition(f,b)}else a.addCondition(Zc.getDBKeyFromKeyPath(f),[Zc.normalizeUnionKeyValue(_)],Wc.NOT_IN)}}catch(w){r={error:w}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(r)throw r.error}}}}}catch(E){t={error:E}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return void 0!==e.limit&&a.setLimit(e.limit),a.setOffset(e.offset),void 0!==e.order&&a.addOrder(Zc.getDBKeyFromKeyPath(e.order.path),e.order.type),a.build()},e.prototype.isEmptyPredicate=function(e){return!e||Object.values(e).every((function(e){return void 0===e}))},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.table;null==t||t.get.patch(this,"get"),null==t||t.getAll.patch(this,"getAll"),null==t||t.getAllKeys.patch(this,"getAllKeys"),null==t||t.index.patch(this,"index"),null==t||t.openCursor.patch(this,"openCursor"),this.mode===Vr.VERSION_CHANGE&&(null==t||t.createIndex.patch(this,"createIndex"),null==t||t.deleteIndex.patch(this,"deleteIndex")),this.mode!==Vr.READ_WRITE&&this.mode!==Vr.VERSION_CHANGE||(null==t||t.delete.patch(this,"delete"),null==t||t.insert.patch(this,"insert"),null==t||t.upsert.patch(this,"upsert"),null==t||t.clear.patch(this,"clear"),null==t||t.query.patch(this,"query"),null==t||t.bulkDelete.patch(this,"bulkDelete"),null==t||t.bulkUpsert.patch(this,"bulkUpsert"))},e}();!function(e){e.ACTIVE="active",e.COMMITTING="committing",e.COMPLETED="completed"}(au||(au={}));var lu=function(){function e(e,t,n,r,o,i){var a,s=this;this.tables=e,this.dbName=t,this.dbSchema=n,this.transactionID=r,this.mode=o,this.engineAspects=i,this.reqSeqFactory=(a=0,function(){return a+=1}),this.dbRequestSeqAndResponseMap=new Map,this.transactionStatus="active",this.autoCommitTimerId=null,this.onTransactionDonePromiseResolve=function(){},this.onTransactionDonePromiseReject=function(){},this.waitingTransactionDonePromise=new Promise((function(e,t){s.onTransactionDonePromiseResolve=e,s.onTransactionDonePromiseReject=t})),(null==i?void 0:i.transaction)&&this.applyAspectPatch(),this.tryToAutoCommit()}return e.prototype.notifyTransactionFail=function(e){this.onTransactionDonePromiseReject(e),this.clearAutoCommitTimer()},e.prototype.waitForTransactionDone=function(){return this.waitingTransactionDonePromise},e.prototype.addResponsePromise=function(e){var t=this,n=this.reqSeqFactory();this.clearAutoCommitTimer(),this.dbRequestSeqAndResponseMap.set(n,e),e.then((function(){t.dbRequestSeqAndResponseMap.delete(n),t.tryToAutoCommit()}))},e.prototype.table=function(e){return new uu(this.dbName,ou(e,this.dbSchema),this.mode,this.engineAspects,this)},e.prototype.commit=function(e){var t,n,r,o;return(0,kr.__awaiter)(this,void 0,void 0,(function(){var i,a;return(0,kr.__generator)(this,(function(s){switch(s.label){case 0:return this.clearAutoCommitTimer(),"active"!==this.transactionStatus?(e||null===(n=null===(t=window.log)||void 0===t?void 0:t.report)||void 0===n||n.call(t,"transaction_repeat_error",{query:{sessionId:null===(o=null===(r=window.log)||void 0===r?void 0:r.var)||void 0===o?void 0:o.sessionId}}),[2,!0]):this.transactionID?(i={command:qc.COMMIT_TRANSACTION,dbName:this.dbName,transaction:this.transactionID},this.transactionStatus="committing",[4,Yc.send(i)]):(this.onTransactionDonePromiseResolve(),[2,!0]);case 1:return a=s.sent(),this.transactionStatus="completed",a.err_code||a.err_msg?(this.onTransactionDonePromiseReject(),[2,!1]):(this.onTransactionDonePromiseResolve(),[2,!0])}}))}))},e.prototype.rollback=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return this.transactionID?(e={command:qc.ROLLBACK_TRANSACTION,dbName:this.dbName,transaction:this.transactionID},[4,Yc.send(e)]):(this.onTransactionDonePromiseResolve(),[2,!0]);case 1:return(t=n.sent()).err_code||t.err_msg?(this.onTransactionDonePromiseReject(),[2,!1]):(this.onTransactionDonePromiseResolve(),[2,!0])}}))}))},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.transaction,n=this;null==t||t.commit.patch(n,"commit"),null==t||t.rollback.patch(n,"rollback"),null==t||t.table.patch(n,"table")},e.prototype.tryToAutoCommit=function(){var e=this;0===this.dbRequestSeqAndResponseMap.size&&null===this.autoCommitTimerId&&(this.autoCommitTimerId=setTimeout((function(){0===e.dbRequestSeqAndResponseMap.size&&"active"===e.transactionStatus&&e.commit(!0)})))},e.prototype.clearAutoCommitTimer=function(){null!==this.autoCommitTimerId&&(clearTimeout(this.autoCommitTimerId),this.autoCommitTimerId=null)},e}(),fu=function(){function e(e,t,n,r,o,i){this.isSupportTransactions=o,this.engineAspects=i,this.schema=e,this.name=t,this.version=n,this.tableNames=r,(null==i?void 0:i.database)&&this.applyAspectPatch()}return e.prototype.setVersionChangeListener=function(){},e.prototype.close=function(){},e.prototype.createTable=function(e){return new uu(this.name,ou(e,this.schema),Vr.VERSION_CHANGE,this.engineAspects)},e.prototype.deleteTable=function(){},e.prototype.transaction=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return this.isSupportTransactions&&t!==Vr.READ_ONLY?(n={command:qc.BEGIN_TRANSACTION,dbName:this.name},[4,Yc.send(n)]):[2,new lu(e,this.name,this.schema,void 0,null!=t?t:Vr.READ_ONLY,this.engineAspects)];case 1:return iu(r=o.sent(),"startTransaction"),[2,new lu(e,this.name,this.schema,r.result,null!=t?t:Vr.READ_ONLY,this.engineAspects)]}}))}))},e.prototype.table=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,new uu(this.name,ou(e,this.schema),t,this.engineAspects)]}))}))},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.database;null==t||t.deleteTable.patch(this,"deleteTable"),null==t||t.createTable.patch(this,"createTable"),null==t||t.transaction.patch(this,"transaction"),null==t||t.table.patch(this,"table"),null==t||t.close.patch(this,"close")},e}();var du,pu=function(e,t){return e===t?0:e>t?1:-1},hu=function(){function e(){this.cmp=pu}return e.prototype.deleteDB=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2]}))}))},e.prototype.setAspects=function(e){this.engineAspects=e,e.openDB.patch(this,"openDB"),e.deleteDB.patch(this,"deleteDB")},e.prototype.openDB=function(e,t,n,r){var o,i,a,s;return(0,kr.__awaiter)(this,void 0,void 0,(function(){var c,u,l,f;return(0,kr.__generator)(this,(function(d){switch(d.label){case 0:return[4,Yc.send({command:qc.INIT,dbName:e,table:this.getTableInfo(t)})];case 1:if((c=d.sent()).err_msg||c.err_code)throw new Xc(e+" errCode: "+c.err_code+", errMsg: "+c.err_msg);return[4,this.getDBExistTableNames(e)];case 2:return u=d.sent(),l=new fu(t,e,null!=n?n:0,u,null!==(i=null===(o=c.result)||void 0===o?void 0:o.supportTransaction)&&void 0!==i&&i,this.engineAspects),(null===(a=c.result)||void 0===a?void 0:a.dbSchemaChange)&&(null==r?void 0:r.upgrade)?[4,l.transaction(u,Vr.VERSION_CHANGE)]:[2,l];case 3:return f=d.sent(),null===(s=null==r?void 0:r.upgrade)||void 0===s||s.call(r,l,0,null!=n?n:null,f),[4,f.waitForTransactionDone()];case 4:return d.sent(),[2,l]}}))}))},e.prototype.getDBExistTableNames=function(e){var t;return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return[4,Yc.send({dbName:e,command:qc.GET_ALL,tableName:Mr.name})];case 1:return(n=o.sent()).err_code||n.err_msg||!(null===(t=n.result)||void 0===t?void 0:t.length)?[2,[]]:(r=n.result,[2,(0,kr.__spreadArray)((0,kr.__spreadArray)([],(0,kr.__read)(r)),[Mr]).map((function(e){return e.name}))])}}))}))},e.prototype.getTableInfo=function(e){return e?e.collections.map((function(e){var t;if(!(null===(t=e.key)||void 0===t?void 0:t.path))throw new Jc("key autoIncrement");var n=e.indices.map((function(e){if(e.path instanceof Array)throw new Jc("union index");return Zc.getDBKeyFromKeyPath(e.path)}));return e.key.path instanceof Array&&e.key.path.forEach((function(e){n.push(e)})),{tableName:e.name,keyName:Zc.getDBKeyFromKeyPath(e.key.path),indexs:(0,kr.__spreadArray)([],(0,kr.__read)(new Set(n)))}})):[]},e}(),vu=hu;o(38719),o(20862);var gu;!function(e){e[e.indexDB=1]="indexDB",e[e.nativeDB=2]="nativeDB"}(gu||(gu={}));var yu=(du={},(0,f.Z)(du,gu.indexDB,Kc),(0,f.Z)(du,gu.nativeDB,vu),du),mu=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:gu.indexDB,disableAutoOpen:!0};(0,r.Z)(this,e),this.config=n;var o=yu[n.type];this.storage=new Da({name:null!==(t=n.databaseName)&&void 0!==t?t:"TencentDocs",version:5,engine:new o,databaseSchema:'{"name":"unknown","collections":[{"name":"DocumentData","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"subGlobalPadId","path":"subGlobalPadId","unique":false},{"name":"subDocType","path":"subDocType","unique":false},{"name":"version","path":"version","unique":false},{"name":"type","path":"type","unique":false},{"name":"uid","path":"uid","unique":false},{"name":"subId","path":"subSheetId","unique":false},{"name":"chunkId","path":"chunkId","unique":false}],"properties":["key","secretId","globalPadId","subGlobalPadId","subDocType","version","type","uid","subId","chunkId","taskId","data","docType","docStatus","createTimestamp","lastModifyTimestamp","dataVersion","isDefaultChunk"]},{"name":"DocumentEntities","key":{"path":"key"},"indices":[],"properties":["key","data"]},{"name":"NewDocumentIds","key":{"path":"globalPadId"},"indices":[],"properties":["globalPadId","secretId","documentType","localPadId","isCreated"]},{"name":"DocumentStatus","key":{"path":"globalPadId"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["globalPadId","secretId","uid","lastSyncTimestamp","lastErrorTimestamp"]},{"name":"DriveData","key":{"path":"driveId"},"indices":[{"name":"fileId","path":"fileId","unique":false},{"name":"objKey","path":"objKey","unique":false},{"name":"secretId","path":"secretId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["driveId","fileId","objKey","secretId","uid","type","lastRequestTime","fileInfo","previewInfo"]},{"name":"OfflineData","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"subGlobalPadId","path":"subGlobalPadId","unique":false},{"name":"subDocType","path":"subDocType","unique":false},{"name":"version","path":"version","unique":false},{"name":"type","path":"type","unique":false},{"name":"uid","path":"uid","unique":false},{"name":"subId","path":"subSheetId","unique":false},{"name":"chunkId","path":"chunkId","unique":false}],"properties":["key","secretId","globalPadId","subGlobalPadId","subDocType","version","type","uid","subId","chunkId","taskId","data","docType","docStatus","createTimestamp","lastModifyTimestamp","dataVersion","isDefaultChunk"]},{"name":"PadInfo","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["key","secretId","globalPadId","uid","addListTimestamp","attribute","childrenLength","clientVersion","createTimestamp","creator","creatorDomain","icon","docPolicy","docPrivilege","thumbnail","docType","docTypeDesc","url","domainId","dver","folder","folderId","folderPolicy","folderPrivilege","isDeleted","isManualOffline","isMyCreated","isMydoc","isOfflineCache","isRencent","isShareToMe","hasSnapShot","isStar","isAddedToMy","isCollected","isOwner","isPinned","isShortcut","isUserChangeTitle","lastSyncTimestamp","lastBrowseTimestamp","lastCollectTimestamp","lastDeleteTimestamp","lastModifyTimestamp","lastModifyNick","lastModifyUid","lastPinnedTimestamp","listInfoType","listType","offlineCommiting","offlineCommitSuccessd","originFolderId","ownerNick","ownerUid","padId","parentFolderId","parents","privilege","status","title","type","hasLocalChanges","docSubType","officialAuthInfo","personalizeInfo","nativeEngineStatusRecord","nativeEngineDocPrivilege","data","ext","isOfflineCacheByNative","mimeType","ownerVipInfo","documentResourceCacheStatus","cacheStatus","cacheStatusTs"]},{"name":"Users","key":{"path":"key"},"indices":[{"name":"tinyId","path":"tinyId","unique":false},{"name":"nowUserIndex","path":"nowUserIndex","unique":false},{"name":"docId","path":"docId","unique":false},{"name":"pageType","path":"pageType","unique":false},{"name":"wedriveUin","path":"wedriveUin","unique":false},{"name":"wedocOpenId","path":"wedocOpenId","unique":false}],"properties":["key","tinyId","nowUserIndex","docId","pageType","wedriveUin","wedocOpenId","corpId","corpName","englishName","loginType","openId","uidSource","uin","userId","userName","userPic","updateTime","settings","bindUserInfo","vipUserInfo"]}]}',disableAutoOpen:n.disableAutoOpen,plugins:this.getPlugins(n),supportCompatibleOpen:!0})}return(0,a.Z)(e,[{key:"dispose",value:function(){this.storage.close()}},{key:"init",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n,r=setTimeout((function(){var n,r;null===(r=null===(n=t.config.logger)||void 0===n?void 0:n.error)||void 0===r||r.call(n,"dababase init timeout."),e(!1)}),null!==(n=t.config.timeout)&&void 0!==n?n:15e3);t.storage.open().then((function(){e(!0),clearTimeout(r)})).catch((function(){e(!1),clearTimeout(r)}))})));case 1:case"end":return e.stop()}}),e)})))}},{key:"getPlugins",value:function(e){var t,n=[];if(e.logger){var r=new rc({logger:e.logger,disabled:!!e.disabled,verbose:!!e.verbose});n.push(r)}return e.monitorReporter&&n.push((t=e.monitorReporter,new fc({onEvent:function(e){t.report("storageActionResultAndCost",{action:e.action,module:e.module,retCode:e.actionExecuteState,cost:e.cost,time:e.time.getTime(),errorMsg:e.errorMsg})}}))),n}}]),e}();var _u=function(){function e(t){(0,r.Z)(this,e),this.collection=t}return(0,a.Z)(e,[{key:"getPadInfo",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){var r;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getPadInfos({uid:e,secretId:t});case 2:if(0!==(r=n.sent).length){n.next=5;break}return n.abrupt("return",null);case 5:return n.abrupt("return",r.shift());case 6:case"end":return n.stop()}}),n,this)})))}},{key:"getPadInfos",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.collection.where({uid:e.uid,secretId:{in:e.secretId?(new Array).concat(e.secretId):void 0}}),t.abrupt("return",n.values());case 2:case"end":return t.stop()}}),t,this)})))}},{key:"upsertPadInfo",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.upsert(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"updateField",value:function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function r(){var o;return gs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.collection.where({uid:e,secretId:t}).first();case 2:if(o=r.sent){r.next=5;break}return r.abrupt("return");case 5:return Object.assign(o,n),r.next=8,this.collection.upsert(o);case 8:case"end":return r.stop()}}),r,this)})))}},{key:"deletePadInfo",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.collection.where({uid:e,secretId:t}).clear();case 2:case"end":return n.stop()}}),n,this)})))}}]),e}(),bu=function(){function e(t){(0,r.Z)(this,e),this.collection=t}return(0,a.Z)(e,[{key:"getUserInfoByTinyId",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.where({tinyId:e}).last();case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getUserInfoByNowUserIndex",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.where({nowUserIndex:e}).last();case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",this.getUserInfoLastByAll());case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getUserInfoByDocInfo",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){var r;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.collection.where({pageType:e,docId:t}).last();case 2:if(!(r=n.sent)){n.next=5;break}return n.abrupt("return",r);case 5:return n.abrupt("return",this.getUserInfoLastByAll());case 6:case"end":return n.stop()}}),n,this)})))}},{key:"addUserInfo",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.collection.get(e.key);case 3:return n=t.sent,this.collection.upsert(Object.assign(Object.assign({},n),e)),t.abrupt("return",!0);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})))}},{key:"updateUserInfo",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){var r,o;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.collection.where(e).values();case 3:if(0!==(r=n.sent).length){n.next=6;break}return n.abrupt("return",!1);case 6:return o=r.map((function(e){return Object.assign(Object.assign({},e),t)})),n.next=9,this.collection.bulkUpsert(o);case 9:return n.abrupt("return",!0);case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n,this,[[0,12]])})))}},{key:"getUserInfoLastByAll",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collection.last();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})))}}]),e}(),wu=o(49879);function Eu(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(this,arguments)),t}}var Su=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Ou=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Iu=Eu((function(){return Su(void 0,void 0,Promise,(function(){var e;return Ou(this,(function(t){switch(t.label){case 0:return[4,(e=new mu({type:wu.OB()?gu.nativeDB:gu.indexDB})).init()];case 1:return t.sent(),[2,e.storage]}}))}))}));var Ru,Cu,Tu=(Ru=function(e,t){return Ru=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ru(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ru(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),xu=function(){return xu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xu.apply(this,arguments)},Au=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ku=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Du=function(e){function t(t){var n=e.call(this)||this;return n.domainService=t,n.domainService=t,n}return Tu(t,e),t.prototype.setForceDisabled=function(e){this.forceDisabled=e},t.prototype.setIsUseOriginKeyboardEvent=function(e){this.isUseOriginKeyboardEvent=e},t.prototype.isIsUseOriginKeyboardEvent=function(){return this.isUseOriginKeyboardEvent},t.prototype.isTitleEditable=function(){var e=this.domainService.authDomain.authAggregate.authInfoEntity.selfDocPrivilege.canEditTitle;return!this.forceDisabled&&e},t.prototype.getWhyNotEditable=function(){return this.forceDisabled?"force-disabled":this.domainService.authDomain.authAggregate.authInfoEntity.selfDocPrivilege.canEditTitle?"editable":"no-auth"},t.prototype.onTitleDidChange=function(e){this._register(this.domainService.docMetaDomain.docMetaEntity.onTitleDidChange(e))},t.prototype.initPadInfoFromDB=function(){var e;return Au(this,void 0,Promise,(function(){var t,n,r,o,i;return ku(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.padInfoFromDB?[2]:[4,Iu()];case 1:return t=a.sent(),c=t.collection(ss),n=new _u(c),r=(this.domainService.userInfoDomain.userInfoAggregate.userInfo||(null===(e=window.clientVars)||void 0===e?void 0:e.userInfo)).tinyid,o=this,[4,n.getPadInfo(r,(s=location.href,s.split("?")[0].split("/").pop()||""))];case 2:return o.padInfoFromDB=a.sent(),[3,4];case 3:return i=a.sent(),console.error(i.message),[3,4];case 4:return[2]}var s,c}))}))},t.prototype.getTitle=function(){var e,t,n,r;return Au(this,void 0,Promise,(function(){var o;return ku(this,(function(i){switch(i.label){case 0:return(o=this.domainService.docMetaDomain.docMetaEntity.titleInfo.title)?[2,o]:(console.debug("[title] - 无可用标题，尝试从缓存里获取...."),[4,this.initPadInfoFromDB()]);case 1:return i.sent(),(null===(e=this.padInfoFromDB)||void 0===e?void 0:e.title)&&console.debug("[title] - 缓存内有标题：",null===(t=this.padInfoFromDB)||void 0===t?void 0:t.title),!(null===(n=this.padInfoFromDB)||void 0===n?void 0:n.title)&&console.debug("[title] - 缓存内无可用标题，生成默认标题...."),[2,(null===(r=this.padInfoFromDB)||void 0===r?void 0:r.title)||this.generateDefaultTitle()]}}))}))},t.prototype.getPadType=function(){var e;return this.domainService.docMetaDomain.docMetaEntity.padInfo.padType||(null===(e=window.clientVars)||void 0===e?void 0:e.padType)},t.prototype.getPadId=function(){var e,t=this.domainService.docMetaDomain.docMetaEntity.padInfo.padId;return t||((null===(e=this.padInfoFromDB)||void 0===e?void 0:e.globalPadId)||decodeURIComponent(tr("globalPadId")))},t.prototype.updateTitle=function(e,t){return Au(this,void 0,Promise,(function(){var n;return ku(this,(function(r){switch(r.label){case 0:return[4,this.domainService.docMetaDomain.docMetaEntity.updateTitle(e,!!t)];case 1:return n=r.sent(),er({opername:"doc_menubar",module:"title",action:"modify"}),[2,xu({retcode:n.resData.retcode,cgicode:n.resData.cgicode},n.data)]}}))}))},t.prototype.onNetworkRecovery=function(e){var t=function(t){t===xr.ONLINE&&e()};return hs.network.changeEnd(t),function(){hs.network.remove(t)}},t.prototype.updateTitleWithoutDomain=function(e,t,n){return Au(this,void 0,Promise,(function(){var r;return ku(this,(function(o){switch(o.label){case 0:return[4,this.domainService.docMetaDomain.docMetaEntity.docMetaRepository.updateTitle(e,!1,t,n)];case 1:return r=o.sent(),[2,xu({retcode:r.data.retcode,cgicode:r.data.cgicode},r.data)]}}))}))},t.prototype.generateDefaultTitle=function(){return Mn[this.getPadType()]||Mn[On.Doc]},t}(Ar.Disposable),Mu=(0,o(15342).getUid)()||(null===(Cu=window)||void 0===Cu||null===(Cu=Cu.basicClientVars)||void 0===Cu||null===(Cu=Cu.userInfo)||void 0===Cu?void 0:Cu.tinyId)||"10000",Pu="https://aegis.qq.com/collect?id=".concat("iBDzmdJUCdbqzwnOcS","&uin=").concat(Mu);function Nu(e){if(e){var t,n,r={level:["4"],msg:[e],count:1};null===(t=window)||void 0===t||null===(n=t.fetch)||void 0===n||n.call(t,Pu,{method:"POST",body:JSON.stringify(r)})}}o(88638),o(70266),o(59841),o(99012),o(51716),o(44837),o(61457),o(46133),o(87514),o(92499),o(74619),o(47406),o(11150),o(59936),o(51434),o(99931),o(31904),o(36986),o(25128),o(48362),o(64104),o(47711),o(17527),o(74769),o(76536),o(15815),o(46836),o(68132);var Lu,ju=o(85909);!function(e){e.LOG="log",e.INFO="info",e.DEBUG="debug",e.WARN="warn",e.ERROR="error"}(Lu||(Lu={}));var Uu,Fu,Bu,qu,Wu,Vu,Gu=function(){function e(e){this.entities=new Map,this.defaultLogLevel=[Lu.LOG,Lu.INFO,Lu.DEBUG,Lu.WARN,Lu.ERROR],this.initDefaultLogger(),e&&(this.entities.set(e.name,e),this.nowUsedLogger=e.name)}return e.prototype.add=function(e){this.entities.has(e.name)||this.entities.set(e.name,e),this.nowUsedLogger=e.name},e.prototype.use=function(e){this.nowUsedLogger=e.name;var t=this.entities.get(e.name);t&&(t.levels=e.level||[])},e.prototype.changeDefaultLevel=function(e){this.defaultLogLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.writeLog({type:Lu.LOG,log:e})},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.writeLog({type:Lu.DEBUG,log:e})},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.writeLog({type:Lu.INFO,log:e})},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.writeLog({type:Lu.WARN,log:e})},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.writeLog({type:Lu.ERROR,log:e})},e.prototype.initDefaultLogger=function(){this.defaultLogger=(null===o.g||void 0===o.g?void 0:o.g.log)||o.g.console,(null===o.g||void 0===o.g?void 0:o.g.log)&&(this.defaultLogger.log=this.defaultLogger.info)},e.prototype.writeLog=function(e){var t,n,r,o,i=e.type,a=e.log,s=this.entities.get(this.nowUsedLogger),c=(null==s?void 0:s.levels)||this.defaultLogLevel;s&&c.includes(i)&&(null===(n=(t=s.entity)[i])||void 0===n||n.call(t,a)),this.defaultLogLevel.includes(i)&&(null===(o=(r=this.defaultLogger)[i])||void 0===o||o.call(r,a))},e}(),Hu=new Gu;!function(e){e[e.USER_IN_FILE=1]="USER_IN_FILE",e[e.META=2]="META"}(Uu||(Uu={})),function(e){e[e.NOT_CLEAR_DATA=0]="NOT_CLEAR_DATA",e[e.CLEAR_DATA=1]="CLEAR_DATA"}(Fu||(Fu={})),function(e){e.USER="user",e.DEPARTMENT="department"}(Bu||(Bu={})),function(e){e[e.INVALID_PERM=0]="INVALID_PERM",e[e.VIEW_COLLABORATE=1]="VIEW_COLLABORATE",e[e.EDIT_COLLABORATE=2]="EDIT_COLLABORATE",e[e.VIEW_CUSTOM_ROLE=3]="VIEW_CUSTOM_ROLE",e[e.EDIT_CUSTOM_ROLE=4]="EDIT_CUSTOM_ROLE",e[e.EDIT_ADMIN=5]="EDIT_ADMIN",e[e.SHARE=11]="SHARE",e[e.CONFIG_SHARE=12]="CONFIG_SHARE",e[e.CONFIG_PRIV_POLICY=13]="CONFIG_PRIV_POLICY",e[e.SHARE_ADMIN=20]="SHARE_ADMIN",e[e.SHARE_EDITOR=21]="SHARE_EDITOR",e[e.SHARE_CONTRIBUTOR=22]="SHARE_CONTRIBUTOR",e[e.SHARE_VIEWER=23]="SHARE_VIEWER",e[e.SHARE_COMMENTATOR=24]="SHARE_COMMENTATOR",e[e.SHARE_VIEWER_EX=25]="SHARE_VIEWER_EX",e[e.SHARE_COMMENTATOR_EX=26]="SHARE_COMMENTATOR_EX",e[e.SHARE_EXECUTOR=27]="SHARE_EXECUTOR",e[e.SET_COLLABORATOR_EXPIRE=28]="SET_COLLABORATOR_EXPIRE",e[e.APPROVE_OP=51]="APPROVE_OP",e[e.PRIV_OP=52]="PRIV_OP",e[e.CREATE_FILE=101]="CREATE_FILE",e[e.VIEW_FILE=102]="VIEW_FILE",e[e.EDIT_FILE=103]="EDIT_FILE",e[e.REMOVE_FILE=104]="REMOVE_FILE",e[e.COPY_FILE=105]="COPY_FILE",e[e.DUMP_FILE=106]="DUMP_FILE",e[e.SET_WATER_MARK=107]="SET_WATER_MARK",e[e.COMMENT_FILE=108]="COMMENT_FILE",e[e.SAVE_FILE_LINK=109]="SAVE_FILE_LINK",e[e.SAVE_FILE_AND_CREATE_COPY=110]="SAVE_FILE_AND_CREATE_COPY",e[e.PRINT_FILE=111]="PRINT_FILE",e[e.SAVE_AS_TEMPLATE=112]="SAVE_AS_TEMPLATE",e[e.EDIT_TAB=113]="EDIT_TAB",e[e.APPLY_EDIT=114]="APPLY_EDIT",e[e.EDIT_TITLE=115]="EDIT_TITLE",e[e.DELETE_ABSOLUTELY_FILE=116]="DELETE_ABSOLUTELY_FILE",e[e.RESTORE_FILE=117]="RESTORE_FILE",e[e.MOVE_FILE=118]="MOVE_FILE",e[e.CREATE_FOLDER=201]="CREATE_FOLDER",e[e.EDIT_FOLDER=202]="EDIT_FOLDER",e[e.READ_FOLDER=203]="READ_FOLDER",e[e.REMOVE_FOLDER=204]="REMOVE_FOLDER",e[e.COPY_FOLDER=205]="COPY_FOLDER",e[e.CREATE_CANVAS=301]="CREATE_CANVAS",e[e.REMOVE_CANVAS=302]="REMOVE_CANVAS",e[e.CONFIG_CANVAS=303]="CONFIG_CANVAS",e[e.RENAME_CANVAS=304]="RENAME_CANVAS",e[e.HIDE_CANVAS=305]="HIDE_CANVAS",e[e.MOVE_CANVAS=306]="MOVE_CANVAS",e[e.VIEW_CANVAS=401]="VIEW_CANVAS",e[e.COMMENT_CANVAS=402]="COMMENT_CANVAS",e[e.EXTERNAL_VIEW_CANVAS=403]="EXTERNAL_VIEW_CANVAS",e[e.CREATE_BLOCK=501]="CREATE_BLOCK",e[e.REMOVE_BLOCK=502]="REMOVE_BLOCK",e[e.EDIT_BLOCK_PROP=503]="EDIT_BLOCK_PROP",e[e.USER_BUTTON=504]="USER_BUTTON",e[e.TABLE_FILTER=505]="TABLE_FILTER",e[e.CREATE_ROW=506]="CREATE_ROW",e[e.MODIFY_DATA_CREATE_BY_YOU_SELF=507]="MODIFY_DATA_CREATE_BY_YOU_SELF",e[e.EDIT_TABLE_AS_YOU_LIKE=508]="EDIT_TABLE_AS_YOU_LIKE",e[e.EDIT_TEXT_IN_BLOCK=509]="EDIT_TEXT_IN_BLOCK",e[e.COMMIT_BLOCK=510]="COMMIT_BLOCK",e[e.WRITE_AND_POST_FORM=511]="WRITE_AND_POST_FORM",e[e.EDIT_FORM=512]="EDIT_FORM",e[e.EXTERNAL_USE_BUTTON=513]="EXTERNAL_USE_BUTTON",e[e.EXTERNAL_WRITE_ADD_POST_FORM=514]="EXTERNAL_WRITE_ADD_POST_FORM"}(qu||(qu={})),function(e){e[e.DEPARTMENT_STATUS_UNSPECIFIED=0]="DEPARTMENT_STATUS_UNSPECIFIED",e[e.DEPARTMENT_STATUS_All=1]="DEPARTMENT_STATUS_All",e[e.DEPARTMENT_STATUS_ENABLED=2]="DEPARTMENT_STATUS_ENABLED",e[e.DEPARTMENT_STATUS_DISABLED=3]="DEPARTMENT_STATUS_DISABLED"}(Wu||(Wu={})),function(e){e[e.CAN_EDIT=0]="CAN_EDIT",e[e.CAN_VIEW=1]="CAN_VIEW",e[e.REVIEW_BY_MEMBER=2]="REVIEW_BY_MEMBER",e[e.REVIEW_BY_ADMIN=3]="REVIEW_BY_ADMIN",e[e.CAN_FILL=4]="CAN_FILL",e[e.CAN_UPLOAD=5]="CAN_UPLOAD",e[e.CAN_DOWNLOAD=6]="CAN_DOWNLOAD",e[e.FORBID_ENTRY=100]="FORBID_ENTRY"}(Vu||(Vu={}));var Ku,Qu,Yu,Zu,zu,$u,Ju,Xu,el,tl,nl,rl,ol,il,al,sl,cl,ul,ll,fl;!function(e){e[e.DEPARTMENT_STATUS_UNSPECIFIED=0]="DEPARTMENT_STATUS_UNSPECIFIED",e[e.DEPARTMENT_STATUS_All=1]="DEPARTMENT_STATUS_All",e[e.DEPARTMENT_STATUS_ENABLED=2]="DEPARTMENT_STATUS_ENABLED",e[e.DEPARTMENT_STATUS_DISABLED=3]="DEPARTMENT_STATUS_DISABLED"}(Ku||(Ku={})),function(e){e[e.VIEW_RANGE_ONLY_COLLABORATOR=0]="VIEW_RANGE_ONLY_COLLABORATOR",e[e.VIEW_RANGE_ONLY_ADMIN=4]="VIEW_RANGE_ONLY_ADMIN",e[e.VIEW_RANGE_WITH_ENTERPRISE=1]="VIEW_RANGE_WITH_ENTERPRISE",e[e.VIEW_RANGE_OUTSIDE_ENTERPRISE=2]="VIEW_RANGE_OUTSIDE_ENTERPRISE",e[e.EDIT_RANGE_WITH_ENTERPRISE=3]="EDIT_RANGE_WITH_ENTERPRISE"}(Qu||(Qu={})),function(e){e[e.ONLY_ENTERPRISE=0]="ONLY_ENTERPRISE",e[e.ALL_USER=1]="ALL_USER"}(Yu||(Yu={})),function(e){e[e.MEMBER=0]="MEMBER",e[e.DEPARTMENT=1]="DEPARTMENT"}(Zu||(Zu={})),function(e){e[e.IN_SERVICE=0]="IN_SERVICE",e[e.EXPIRED=1]="EXPIRED"}(zu||(zu={})),function(e){e[e.FILTER_IF_LOCAL_EXIST=0]="FILTER_IF_LOCAL_EXIST",e[e.FILTER_IF_LOCAL_NOT_EXIST=1]="FILTER_IF_LOCAL_NOT_EXIST"}($u||($u={})),function(e){e[e.OPTION_INVALID=0]="OPTION_INVALID",e[e.OPT_NOTIFY=1]="OPT_NOTIFY"}(Ju||(Ju={})),function(e){e[e.MEMBER_MANAGEMENT=0]="MEMBER_MANAGEMENT",e[e.SECURITY_SETTING=1]="SECURITY_SETTING",e[e.JOIN_RULE=2]="JOIN_RULE",e[e.SHARE_LINK=3]="SHARE_LINK",e[e.FORM_RULE=4]="FORM_RULE",e[e.CREATE_SPACE=5]="CREATE_SPACE",e[e.TRANSFER_SPACE=6]="TRANSFER_SPACE",e[e.TRANSFER_FILE=7]="TRANSFER_FILE",e[e.WATER_MARK=8]="WATER_MARK",e[e.SPACE_MANAGEMENT=9]="SPACE_MANAGEMENT",e[e.SPACE_QR_CODE=10]="SPACE_QR_CODE"}(Xu||(Xu={})),function(e){e[e.INVALID_OBJ=0]="INVALID_OBJ",e[e.GENERAL=1]="GENERAL",e[e.FILE=2]="FILE",e[e.FOLDER=3]="FOLDER",e[e.ELEMENT=4]="ELEMENT"}(el||(el={})),function(e){e[e.SPACE=0]="SPACE",e[e.FOLDER=1]="FOLDER",e[e.FILE=2]="FILE",e[e.ELEMENT=3]="ELEMENT"}(tl||(tl={})),function(e){e[e.PRIVATE_ACCESS=0]="PRIVATE_ACCESS",e[e.DESIGNATE_PEOPLE=1]="DESIGNATE_PEOPLE",e[e.EVERY_ONE_READ=2]="EVERY_ONE_READ",e[e.EVERY_ONE_EDITOR=3]="EVERY_ONE_EDITOR",e[e.EVERY_ONE_EXECUTOR=4]="EVERY_ONE_EXECUTOR",e[e.ILLEGAL=999]="ILLEGAL"}(nl||(nl={})),function(e){e[e.PERMISSION=0]="PERMISSION",e[e.ADV_PERMISSION=1]="ADV_PERMISSION",e[e.WATER_MARK=2]="WATER_MARK",e[e.PERMISSION_MEMBER=3]="PERMISSION_MEMBER",e[e.PERMISSION_SEARCH=4]="PERMISSION_SEARCH"}(rl||(rl={})),function(e){e[e.SCB_DEFAULT=0]="SCB_DEFAULT",e[e.SCB_YES=1]="SCB_YES",e[e.SCB_NO=2]="SCB_NO"}(ol||(ol={})),function(e){e[e.INVALID_UID=0]="INVALID_UID",e[e.QQ_UIN=1]="QQ_UIN",e[e.QQ_UID=2]="QQ_UID",e[e.WX_UID=3]="WX_UID",e[e.WORK_UID=4]="WORK_UID",e[e.QFYF_UID=5]="QFYF_UID",e[e.GROUP=6]="GROUP",e[e.DISCUSS=7]="DISCUSS",e[e.DOCX=8]="DOCX",e[e.WX_DEPT=9]="WX_DEPT",e[e.QFYF_DEPT=10]="QFYF_DEPT",e[e.MEETING=11]="MEETING",e[e.MEETING_UID=12]="MEETING_UID",e[e.PRIVATE_GROUP=13]="PRIVATE_GROUP",e[e.PRIVATE_MEMBER=14]="PRIVATE_MEMBER"}(il||(il={})),function(e){e[e.PRINCIPAL=0]="PRINCIPAL",e[e.DEPUTY=10]="DEPUTY",e[e.ASSIST=20]="ASSIST",e[e.TEMPORARY=50]="TEMPORARY"}(al||(al={})),function(e){e[e.THIN=1]="THIN",e[e.NORMAL=0]="NORMAL",e[e.DENSE=2]="DENSE"}(sl||(sl={})),function(e){e[e.LIGHT_COLOR=0]="LIGHT_COLOR",e[e.NORMAL_COLOR=1]="NORMAL_COLOR",e[e.DEEP_COLOR=2]="DEEP_COLOR"}(cl||(cl={})),function(e){e[e.INVALID_SOURCE=0]="INVALID_SOURCE",e[e.INHERIT_SOURCE=1]="INHERIT_SOURCE",e[e.NEW_ADD_SOURCE=2]="NEW_ADD_SOURCE",e[e.SHARE_SPACE_SOURCE=3]="SHARE_SPACE_SOURCE",e[e.SHARE_FOLDER_SOURCE=4]="SHARE_FOLDER_SOURCE"}(ul||(ul={})),function(e){e[e.NO_PRIVILEGE=0]="NO_PRIVILEGE",e[e.READABLE=1]="READABLE",e[e.EDITABLE=2]="EDITABLE",e[e.EXECUTABLE=4]="EXECUTABLE",e[e.ALLOW_UPLOAD_OR_DOWNLOAD=5]="ALLOW_UPLOAD_OR_DOWNLOAD",e[e.DOWNLOAD_ONLY=6]="DOWNLOAD_ONLY",e[e.ANNOTATE=7]="ANNOTATE",e[e.EXTERNAL=10]="EXTERNAL",e[e.CUSTOM=11]="CUSTOM",e[e.FILLABLE=12]="FILLABLE",e[e.INHERIT=20]="INHERIT",e[e.DIFFERENT=21]="DIFFERENT",e[e.FORBIDDEN=33]="FORBIDDEN",e[e.ADMINISTRATOR=1024]="ADMINISTRATOR",e[e.SUPER_ADMINISTRATOR=2048]="SUPER_ADMINISTRATOR"}(ll||(ll={})),function(e){e[e.COPY_RULE_DEFAULT=0]="COPY_RULE_DEFAULT",e[e.COPY_RULE_ALLOW_ALL=1]="COPY_RULE_ALLOW_ALL",e[e.COPY_RULE_FORBID_VIEWER=2]="COPY_RULE_FORBID_VIEWER",e[e.COPY_RULE_FORBID_ALL=3]="COPY_RULE_FORBID_ALL"}(fl||(fl={}));o(75992);function dl(){return"undefined"!=typeof document?document.cookie:""}function pl(e,t){var n,r=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)");return void 0===t&&(t=dl()),null==(n=t.match(r))?void 0:n[1]}function hl(){var e;return null==(e=window.AppConfig)?void 0:e.normal}var vl=function(){var e=pl("env_id")||"",t=pl("env_name")||"";return/^(uat|sit(-[0-9a-z]{8})?)$/.test(e)&&!/^(release|hotfix)\//i.test(t)};(function(){var e})(),function(){var e}();var gl="uid",yl="TDOCS_UID";Object.assign;Symbol("mapObjectSkip");function ml(){return _l()||function(){var e,t;return(null==(t=null==(e=hl())?void 0:e.npm["@tencent/docs-login"])?void 0:t.USE_TDOCS_UID)?pl(yl):pl(gl)}()||function(){var e;return null==(e=window.global_multi_user)?void 0:e.uid}()||function(){var e,t=(null==(e=window.clientVars)?void 0:e.userInfo)||{},n=t.tinyId,r=t.uid;return n||r}()}function _l(){var e;return null==(e=window.basicClientVars)?void 0:e.userInfo.tinyId}vl(),vl(),vl(),vl();var bl=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},wl=Array.isArray;var El=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n};var Sl=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}},Ol=Sl();var Il=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Rl="object"==typeof global&&global&&global.Object===Object&&global,Cl="object"==typeof self&&self&&self.Object===Object&&self,Tl=Rl||Cl||Function("return this")(),xl=Tl.Symbol,Al=Object.prototype,kl=Al.hasOwnProperty,Dl=Al.toString,Ml=xl?xl.toStringTag:void 0;var Pl=function(e){var t=kl.call(e,Ml),n=e[Ml];try{e[Ml]=void 0;var r=!0}catch(i){}var o=Dl.call(e);return r&&(t?e[Ml]=n:delete e[Ml]),o},Nl=Object.prototype.toString;var Ll=function(e){return Nl.call(e)},jl=xl?xl.toStringTag:void 0;var Ul=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":jl&&jl in Object(e)?Pl(e):Ll(e)};var Fl=function(e){return null!=e&&"object"==typeof e};var Bl=function(e){return Fl(e)&&"[object Arguments]"==Ul(e)},ql=Object.prototype,Wl=ql.hasOwnProperty,Vl=ql.propertyIsEnumerable,Gl=Bl(function(){return arguments}())?Bl:function(e){return Fl(e)&&Wl.call(e,"callee")&&!Vl.call(e,"callee")},Hl=Gl;var Kl=function(){return!1},Ql="object"==typeof exports&&exports&&!exports.nodeType&&exports,Yl=Ql&&"object"==typeof module&&module&&!module.nodeType&&module,Zl=Yl&&Yl.exports===Ql?Tl.Buffer:void 0,zl=(Zl?Zl.isBuffer:void 0)||Kl,$l=/^(?:0|[1-9]\d*)$/;var Jl=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&$l.test(e))&&e>-1&&e%1==0&&e<t};var Xl=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ef={};ef["[object Float32Array]"]=ef["[object Float64Array]"]=ef["[object Int8Array]"]=ef["[object Int16Array]"]=ef["[object Int32Array]"]=ef["[object Uint8Array]"]=ef["[object Uint8ClampedArray]"]=ef["[object Uint16Array]"]=ef["[object Uint32Array]"]=!0,ef["[object Arguments]"]=ef["[object Array]"]=ef["[object ArrayBuffer]"]=ef["[object Boolean]"]=ef["[object DataView]"]=ef["[object Date]"]=ef["[object Error]"]=ef["[object Function]"]=ef["[object Map]"]=ef["[object Number]"]=ef["[object Object]"]=ef["[object RegExp]"]=ef["[object Set]"]=ef["[object String]"]=ef["[object WeakMap]"]=!1;var tf=function(e){return Fl(e)&&Xl(e.length)&&!!ef[Ul(e)]};var nf=function(e){return function(t){return e(t)}},rf="object"==typeof exports&&exports&&!exports.nodeType&&exports,of=rf&&"object"==typeof module&&module&&!module.nodeType&&module,af=of&&of.exports===rf&&Rl.process,sf=function(){try{var e=of&&of.require&&of.require("util").types;return e||af&&af.binding&&af.binding("util")}catch(t){}}(),cf=sf&&sf.isTypedArray,uf=cf?nf(cf):tf,lf=Object.prototype.hasOwnProperty;var ff=function(e,t){var n=wl(e),r=!n&&Hl(e),o=!n&&!r&&zl(e),i=!n&&!r&&!o&&uf(e),a=n||r||o||i,s=a?Il(e.length,String):[],c=s.length;for(var u in e)!t&&!lf.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Jl(u,c))||s.push(u);return s},df=Object.prototype;var pf=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||df)};var hf=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),vf=Object.prototype.hasOwnProperty;var gf=function(e){if(!pf(e))return hf(e);var t=[];for(var n in Object(e))vf.call(e,n)&&"constructor"!=n&&t.push(n);return t};var yf=function(e){if(!bl(e))return!1;var t=Ul(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var mf=function(e){return null!=e&&Xl(e.length)&&!yf(e)};var _f=function(e){return mf(e)?ff(e):gf(e)};var bf=function(e,t){return function(n,r){if(null==n)return n;if(!mf(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}},wf=bf((function(e,t){return e&&Ol(e,t,_f)}));var Ef=function(){this.__data__=[],this.size=0};var Sf=function(e,t){return e===t||e!=e&&t!=t};var Of=function(e,t){for(var n=e.length;n--;)if(Sf(e[n][0],t))return n;return-1},If=Array.prototype.splice;var Rf=function(e){var t=this.__data__,n=Of(t,e);return!(n<0)&&(n==t.length-1?t.pop():If.call(t,n,1),--this.size,!0)};var Cf=function(e){var t=this.__data__,n=Of(t,e);return n<0?void 0:t[n][1]};var Tf=function(e){return Of(this.__data__,e)>-1};var xf=function(e,t){var n=this.__data__,r=Of(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Af(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Af.prototype.clear=Ef,Af.prototype.delete=Rf,Af.prototype.get=Cf,Af.prototype.has=Tf,Af.prototype.set=xf;var kf=Af;var Df=function(){this.__data__=new kf,this.size=0};var Mf=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Pf=function(e){return this.__data__.get(e)};var Nf,Lf=function(e){return this.__data__.has(e)},jf=Tl["__core-js_shared__"],Uf=(Nf=/[^.]+$/.exec(jf&&jf.keys&&jf.keys.IE_PROTO||""))?"Symbol(src)_1."+Nf:"";var Ff=function(e){return!!Uf&&Uf in e},Bf=Function.prototype.toString;var qf=function(e){if(null!=e){try{return Bf.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Wf=/^\[object .+?Constructor\]$/,Vf=Function.prototype,Gf=Object.prototype,Hf=Vf.toString,Kf=Gf.hasOwnProperty,Qf=RegExp("^"+Hf.call(Kf).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Yf=function(e){return!(!bl(e)||Ff(e))&&(yf(e)?Qf:Wf).test(qf(e))};var Zf=function(e,t){return null==e?void 0:e[t]};var zf=function(e,t){var n=Zf(e,t);return Yf(n)?n:void 0},$f=zf(Tl,"Map"),Jf=zf(Object,"create");var Xf=function(){this.__data__=Jf?Jf(null):{},this.size=0};var ed=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},td=Object.prototype.hasOwnProperty;var nd=function(e){var t=this.__data__;if(Jf){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return td.call(t,e)?t[e]:void 0},rd=Object.prototype.hasOwnProperty;var od=function(e){var t=this.__data__;return Jf?void 0!==t[e]:rd.call(t,e)};var id=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jf&&void 0===t?"__lodash_hash_undefined__":t,this};function ad(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ad.prototype.clear=Xf,ad.prototype.delete=ed,ad.prototype.get=nd,ad.prototype.has=od,ad.prototype.set=id;var sd=ad;var cd=function(){this.size=0,this.__data__={hash:new sd,map:new($f||kf),string:new sd}};var ud=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ld=function(e,t){var n=e.__data__;return ud(t)?n["string"==typeof t?"string":"hash"]:n.map};var fd=function(e){var t=ld(this,e).delete(e);return this.size-=t?1:0,t};var dd=function(e){return ld(this,e).get(e)};var pd=function(e){return ld(this,e).has(e)};var hd=function(e,t){var n=ld(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function vd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vd.prototype.clear=cd,vd.prototype.delete=fd,vd.prototype.get=dd,vd.prototype.has=pd,vd.prototype.set=hd;var gd=vd;var yd=function(e,t){var n=this.__data__;if(n instanceof kf){var r=n.__data__;if(!$f||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new gd(r)}return n.set(e,t),this.size=n.size,this};function md(e){var t=this.__data__=new kf(e);this.size=t.size}md.prototype.clear=Df,md.prototype.delete=Mf,md.prototype.get=Pf,md.prototype.has=Lf,md.prototype.set=yd;var _d=md;var bd=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var wd=function(e){return this.__data__.has(e)};function Ed(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new gd;++t<n;)this.add(e[t])}Ed.prototype.add=Ed.prototype.push=bd,Ed.prototype.has=wd;var Sd=Ed;var Od=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Id=function(e,t){return e.has(t)};var Rd=function(e,t,n,r,o,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(e),l=i.get(t);if(u&&l)return u==t&&l==e;var f=-1,d=!0,p=2&n?new Sd:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var h=e[f],v=t[f];if(r)var g=a?r(v,h,f,t,e,i):r(h,v,f,e,t,i);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!Od(t,(function(e,t){if(!Id(p,t)&&(h===e||o(h,e,n,r,i)))return p.push(t)}))){d=!1;break}}else if(h!==v&&!o(h,v,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d},Cd=Tl.Uint8Array;var Td=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var xd=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ad=xl?xl.prototype:void 0,kd=Ad?Ad.valueOf:void 0;var Dd=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Cd(e),new Cd(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Sf(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Td;case"[object Set]":var c=1&r;if(s||(s=xd),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=Rd(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(kd)return kd.call(e)==kd.call(t)}return!1};var Md=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var Pd=function(e,t,n){var r=t(e);return wl(e)?r:Md(r,n(e))};var Nd=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var Ld=function(){return[]},jd=Object.prototype.propertyIsEnumerable,Ud=Object.getOwnPropertySymbols,Fd=Ud?function(e){return null==e?[]:(e=Object(e),Nd(Ud(e),(function(t){return jd.call(e,t)})))}:Ld;var Bd=function(e){return Pd(e,_f,Fd)},qd=Object.prototype.hasOwnProperty;var Wd=function(e,t,n,r,o,i){var a=1&n,s=Bd(e),c=s.length;if(c!=Bd(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:qd.call(t,l)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var p=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<c;){var v=e[l=s[u]],g=t[l];if(r)var y=a?r(g,v,l,t,e,i):r(v,g,l,e,t,i);if(!(void 0===y?v===g||o(v,g,n,r,i):y)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var m=e.constructor,_=t.constructor;m==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(p=!1)}return i.delete(e),i.delete(t),p},Vd=zf(Tl,"DataView"),Gd=zf(Tl,"Promise"),Hd=zf(Tl,"Set"),Kd=zf(Tl,"WeakMap"),Qd="[object Map]",Yd="[object Promise]",Zd="[object Set]",zd="[object WeakMap]",$d="[object DataView]",Jd=qf(Vd),Xd=qf($f),ep=qf(Gd),tp=qf(Hd),np=qf(Kd),rp=Ul;(Vd&&rp(new Vd(new ArrayBuffer(1)))!=$d||$f&&rp(new $f)!=Qd||Gd&&rp(Gd.resolve())!=Yd||Hd&&rp(new Hd)!=Zd||Kd&&rp(new Kd)!=zd)&&(rp=function(e){var t=Ul(e),n="[object Object]"==t?e.constructor:void 0,r=n?qf(n):"";if(r)switch(r){case Jd:return $d;case Xd:return Qd;case ep:return Yd;case tp:return Zd;case np:return zd}return t});var op=rp,ip="[object Arguments]",ap="[object Array]",sp="[object Object]",cp=Object.prototype.hasOwnProperty;var up=function(e,t,n,r,o,i){var a=wl(e),s=wl(t),c=a?ap:op(e),u=s?ap:op(t),l=(c=c==ip?sp:c)==sp,f=(u=u==ip?sp:u)==sp,d=c==u;if(d&&zl(e)){if(!zl(t))return!1;a=!0,l=!1}if(d&&!l)return i||(i=new _d),a||uf(e)?Rd(e,t,n,r,o,i):Dd(e,t,c,n,r,o,i);if(!(1&n)){var p=l&&cp.call(e,"__wrapped__"),h=f&&cp.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,g=h?t.value():t;return i||(i=new _d),o(v,g,n,r,i)}}return!!d&&(i||(i=new _d),Wd(e,t,n,r,o,i))};var lp=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Fl(t)&&!Fl(n)?t!=t&&n!=n:up(t,n,r,o,e,i))};var fp=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=n[o])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var f=new _d;if(r)var d=r(u,l,c,e,t,f);if(!(void 0===d?lp(l,u,3,r,f):d))return!1}}return!0};var dp=function(e){return e==e&&!bl(e)};var pp=function(e){for(var t=_f(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,dp(o)]}return t};var hp=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var vp=function(e){var t=pp(e);return 1==t.length&&t[0][2]?hp(t[0][0],t[0][1]):function(n){return n===e||fp(n,e,t)}};var gp=function(e){return"symbol"==typeof e||Fl(e)&&"[object Symbol]"==Ul(e)},yp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mp=/^\w*$/;var _p=function(e,t){if(wl(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!gp(e))||(mp.test(e)||!yp.test(e)||null!=t&&e in Object(t))};function bp(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(bp.Cache||gd),n}bp.Cache=gd;var wp=bp;var Ep=function(e){var t=wp(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},Sp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Op=/\\(\\)?/g,Ip=Ep((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Sp,(function(e,n,r,o){t.push(r?o.replace(Op,"$1"):n||e)})),t})),Rp=Ip;var Cp=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},Tp=xl?xl.prototype:void 0,xp=Tp?Tp.toString:void 0;var Ap=function e(t){if("string"==typeof t)return t;if(wl(t))return Cp(t,e)+"";if(gp(t))return xp?xp.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var kp=function(e){return null==e?"":Ap(e)};var Dp=function(e,t){return wl(e)?e:_p(e,t)?[e]:Rp(kp(e))};var Mp=function(e){if("string"==typeof e||gp(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Pp=function(e,t){for(var n=0,r=(t=Dp(t,e)).length;null!=e&&n<r;)e=e[Mp(t[n++])];return n&&n==r?e:void 0};var Np=function(e,t,n){var r=null==e?void 0:Pp(e,t);return void 0===r?n:r};var Lp=function(e,t){return null!=e&&t in Object(e)};var jp=function(e,t,n){for(var r=-1,o=(t=Dp(t,e)).length,i=!1;++r<o;){var a=Mp(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Xl(o)&&Jl(a,o)&&(wl(e)||Hl(e))};var Up=function(e,t){return null!=e&&jp(e,t,Lp)};var Fp=function(e,t){return _p(e)&&dp(t)?hp(Mp(e),t):function(n){var r=Np(n,e);return void 0===r&&r===t?Up(n,e):lp(t,r,3)}};var Bp=function(e){return e};var qp=function(e){return function(t){return null==t?void 0:t[e]}};var Wp=function(e){return function(t){return Pp(t,e)}};var Vp=function(e){return _p(e)?qp(Mp(e)):Wp(e)};var Gp=function(e){return"function"==typeof e?e:null==e?Bp:"object"==typeof e?wl(e)?Fp(e[0],e[1]):vp(e):Vp(e)};var Hp=function(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n};var Kp=function(e,t,n){var r=wl(e)?El:Hp,o=arguments.length<3;return r(e,Gp(t,4),n,o,wf)};var Qp=function(e){return function(t){return null==e?void 0:e[t]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Yp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zp=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var zp=function(e){return(e=kp(e))&&e.replace(Yp,Qp).replace(Zp,"")},$p=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Jp=function(e){return e.match($p)||[]},Xp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var eh=function(e){return Xp.test(e)},th="\\ud800-\\udfff",nh="\\u2700-\\u27bf",rh="a-z\\xdf-\\xf6\\xf8-\\xff",oh="A-Z\\xc0-\\xd6\\xd8-\\xde",ih="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ah="["+ih+"]",sh="\\d+",ch="["+nh+"]",uh="["+rh+"]",lh="[^"+th+ih+sh+nh+rh+oh+"]",fh="(?:\\ud83c[\\udde6-\\uddff]){2}",dh="[\\ud800-\\udbff][\\udc00-\\udfff]",ph="["+oh+"]",hh="(?:"+uh+"|"+lh+")",vh="(?:"+ph+"|"+lh+")",gh="(?:['’](?:d|ll|m|re|s|t|ve))?",yh="(?:['’](?:D|LL|M|RE|S|T|VE))?",mh="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",_h="[\\ufe0e\\ufe0f]?",bh=_h+mh+("(?:\\u200d(?:"+["[^"+th+"]",fh,dh].join("|")+")"+_h+mh+")*"),wh="(?:"+[ch,fh,dh].join("|")+")"+bh,Eh=RegExp([ph+"?"+uh+"+"+gh+"(?="+[ah,ph,"$"].join("|")+")",vh+"+"+yh+"(?="+[ah,ph+hh,"$"].join("|")+")",ph+"?"+hh+"+"+gh,ph+"+"+yh,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sh,wh].join("|"),"g");var Sh=function(e){return e.match(Eh)||[]};var Oh=function(e,t,n){return e=kp(e),void 0===(t=n?void 0:t)?eh(e)?Sh(e):Jp(e):e.match(t)||[]},Ih=RegExp("['’]","g");var Rh=function(e){return function(t){return El(Oh(zp(t).replace(Ih,"")),e,"")}},Ch=Rh((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Th=Ch,xh=function(){return xh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xh.apply(this,arguments)};function Ah(e){return function(e){if(!bl(e))return e;if(wl(e))return e.map((function(e){return Ah(e)}));return Kp(e,(function(e,t,n){var r;return xh(xh({},e),((r={})[Th(n)]=Ah(t),r))}),{})}(e)}const kh=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/kswps","application/kswpt","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],Dh=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","text/csv","text/csv; charset=utf-8","application/vnd.ms-excel.sheet.binary.macroEnabled.12","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/kset","application/ksett"],Mh=["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/ksdps","application/ksdpt","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],Ph=["text/lrc","text/asp; charset=utf-8","application/x-msdownload","text/richtext; charset=utf-8","text/plain","text/plain; charset=utf-8","text/xml","text/html","text/html; charset=utf-8","text/markdown"],Nh=["text/x-c; charset=utf-8","text/x-c; charset=utf-8","text/x-chdr","text/x-asm; charset=utf-8","text/x-java-source; charset=utf-8","text/javascript","text/x-go"],Lh=["application/vnd.ms-visio.drawing","application/x-visio","application/vnd.ms-visio.drawing.main+xml"],jh=["application/vnd.pos"];var Uh,Fh,Bh,qh;!function(e){e.Doc="application/vnd.tdocs-apps.doc",e.Sheet="application/vnd.tdocs-apps.sheet",e.Form="application/vnd.tdocs-apps.form",e.Folder="application/vnd.tdocs-apps.folder",e.CollaborationSpace="application/vnd.tdocs-apps.collaboration-space",e.CollaborationSpaceRoot="application/vnd.tdocs-apps.collaboration-space-root",e.SharedFolder="application/vnd.tdocs-apps.shared-folder",e.Share="application/vnd.tdocs-apps.share-folder",e.Slide="application/vnd.tdocs-apps.slide",e.Pdf="application/pdf",e.Aio="application/vnd.tdocs-apps.aio",e.SmartCanvas="application/vnd.tdocs-apps.smartcanvas",e.SmartSheet="application/vnd.tdocs-apps.smartsheet",e.Mind="application/vnd.tdocs-apps.mind",e.FlowChart="application/vnd.tdocs-apps.flowchart",e.Rec="application/vnd.tdocs-apps.rec",e.Word="application/vnd.ms-word",e.Excel="application/vnd.ms-excel",e.Powerpoint="application/vnd.ms-powerpoint"}(Uh||(Uh={})),function(e){e[e.Doc=0]="Doc",e[e.Sheet=1]="Sheet",e[e.Form=2]="Form",e[e.Folder=3]="Folder",e[e.Slide=4]="Slide",e[e.Pdf=6]="Pdf",e[e.Aio=7]="Aio",e[e.SmartCanvas=8]="SmartCanvas",e[e.Unknown=10]="Unknown",e[e.SmartSheet=9]="SmartSheet",e[e.Mind=90]="Mind",e[e.FlowChart=91]="FlowChart",e[e.Drive=101]="Drive",e[e.Rec=102]="Rec"}(Fh||(Fh={})),function(e){e.Doc="doc",e.Sheet="sheet",e.Slide="slide",e.Form="form",e.Pdf="pdf",e.Mind="mind",e.FlowChart="flowchart",e.Aio="Aio",e.Folder="folder",e.SmartCanvas="smartcanvas",e.SmartSheet="smartsheet",e.Drive="drive"}(Bh||(Bh={})),function(e){e.Video="video",e.Audio="audio",e.Image="image",e.Doc="doc",e.Zip="zip",e.Unknown="unknown"}(qh||(qh={}));Fh.Doc,Uh.Doc,Fh.Sheet,Uh.Sheet,Fh.Slide,Uh.Slide,Fh.Form,Uh.Form,Fh.SmartCanvas,Uh.SmartCanvas,Fh.Mind,Uh.Mind,Fh.FlowChart,Uh.FlowChart,Fh.Rec,Uh.Rec,Fh.Pdf,Uh.Pdf,Fh.Aio,Uh.Aio,Fh.Doc,Fh.Sheet,Fh.Slide,Uh.Form,Fh.Form,Uh.SmartCanvas,Fh.SmartCanvas,Uh.SmartSheet,Fh.SmartSheet,Uh.Doc,Fh.Doc,Uh.Sheet,Fh.Sheet,Uh.Slide,Fh.Slide,Uh.Mind,Fh.Mind,Uh.FlowChart,Fh.FlowChart,Fh.Doc,Fh.Doc,Uh.Pdf,Fh.Pdf,Fh.FlowChart,Fh.Mind,Uh.Folder,Fh.Folder,Bh.Doc,Uh.Word,Bh.Sheet,Uh.Excel,Bh.Slide,Uh.Powerpoint,Bh.Doc,Uh.Doc,Bh.Sheet,Uh.Sheet,Bh.Slide,Uh.Slide,Bh.Form,Uh.Form,Bh.SmartCanvas,Uh.SmartCanvas,Bh.Mind,Uh.Mind,Bh.FlowChart,Uh.FlowChart,Bh.Pdf,Uh.Pdf,Bh.Aio,Uh.Aio,Bh.Drive,Bh.Drive,Bh.Drive,Uh.Form,Bh.Form,Uh.SmartCanvas,Bh.SmartCanvas,Uh.SmartSheet,Bh.SmartSheet,Uh.Doc,Bh.Doc,Uh.Sheet,Bh.Sheet,Uh.Slide,Bh.Slide,Uh.Mind,Bh.Mind,Uh.FlowChart,Bh.FlowChart,Bh.Drive,Bh.Drive,Uh.Pdf,Bh.Pdf,Bh.FlowChart,Bh.Mind;var Wh=function(e,t){return Wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Wh(e,t)};var Vh=function(){return Vh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vh.apply(this,arguments)};function Gh(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function Hh(e,t){return function(n,r){t(n,r,e)}}function Kh(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function Qh(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Yh(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Zh(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var zh,$h,Jh,Xh=function(e){function t(t,n){var r=e.call(this,n)||this;return r.retcode=t,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Wh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function ev(e){var t=new URLSearchParams;return Object.keys(e).forEach((function(n){void 0!==e[n]&&t.set(n,e[n])})),t}!function(e){e[e.ERR_ADMIN_NOT_ALLOW_CREATE_SPACE=314103]="ERR_ADMIN_NOT_ALLOW_CREATE_SPACE",e[e.ERR_COLLABORATOR_LIMIT_EXCEEDED=315104]="ERR_COLLABORATOR_LIMIT_EXCEEDED"}(zh||(zh={})),function(e){e[e.ERR_TRANSFERRED=41611]="ERR_TRANSFERRED",e[e.ERR_LIMIT=41623]="ERR_LIMIT",e[e.ERR_HAS_TRANS=41619]="ERR_HAS_TRANS"}($h||($h={})),function(e){e[e.ERR_LIMIT_EXCEEDED=222301]="ERR_LIMIT_EXCEEDED"}(Jh||(Jh={}));var tv=function(e){var t=e||[],n=new Map,r=[];return t.forEach((function(e){var t=[];e.collabInfos.forEach((function(e){var t=n.get(e.userID);(!t||Number(e.setTime)>Number(t.setTime))&&n.set(e.userID,e)})),n.forEach((function(e){t.push(e)})),r.push({groupID:e.groupID,collabInfos:t}),n.clear()})),r},nv=function(){function e(){}return e.getInstance=function(){return window.rootInstantiationService||(window.rootInstantiationService=new ju.FS),window.rootInstantiationService},e.get=function(t){return e.getInstance().invokeFunction((function(e){return e.get(t)}))},e.bind=function(t,n){e.getInstance().has(t)||e.getInstance().addService(t,new ju.Mj(n))},e.addChild=function(t){e.getInstance().addChild(t)},e}(),rv=Symbol.for("appService: IPermissionAppService"),ov=function(){function e(e){var t,n;this.uid=e.uid,this.uidSource=e.uidSource,this.memberType=[il.GROUP,il.PRIVATE_GROUP].includes(this.uidSource)?Zu.DEPARTMENT:Zu.MEMBER,this.name=e.name,this.avatar=e.avatar||"",this.role=e.role,this.customPermissions=function(e,t){switch(e){case ll.SUPER_ADMINISTRATOR:case ll.ADMINISTRATOR:return[qu.CREATE_FOLDER,qu.CREATE_FILE,qu.EDIT_FOLDER,qu.EDIT_FILE,qu.EDIT_FORM,qu.COMMENT_FILE,qu.DUMP_FILE,qu.VIEW_FILE,qu.SHARE,qu.CONFIG_SHARE,qu.DELETE_ABSOLUTELY_FILE,qu.REMOVE_FILE,qu.RESTORE_FILE,qu.MOVE_FILE,qu.SAVE_FILE_AND_CREATE_COPY,qu.COPY_FILE];case ll.EDITABLE:return[qu.CREATE_FOLDER,qu.CREATE_FILE,qu.EDIT_FOLDER,qu.COMMENT_FILE,qu.EDIT_FILE,qu.DUMP_FILE,qu.VIEW_FILE,qu.SHARE,qu.CONFIG_SHARE,qu.SAVE_FILE_AND_CREATE_COPY,qu.COPY_FILE];case ll.ALLOW_UPLOAD_OR_DOWNLOAD:return[qu.CREATE_FOLDER,qu.CREATE_FILE,qu.EDIT_FOLDER,qu.EDIT_FILE,qu.DUMP_FILE,qu.VIEW_FILE,qu.SHARE,qu.CONFIG_SHARE,qu.SAVE_FILE_AND_CREATE_COPY,qu.COPY_FILE];case ll.DOWNLOAD_ONLY:return[qu.DUMP_FILE,qu.VIEW_FILE,qu.SAVE_FILE_AND_CREATE_COPY,qu.COPY_FILE];case ll.ANNOTATE:return[qu.COMMENT_FILE,qu.DUMP_FILE,qu.VIEW_FILE,qu.SAVE_FILE_AND_CREATE_COPY,qu.COPY_FILE];case ll.FILLABLE:return[qu.EDIT_FILE,qu.EDIT_FORM,qu.VIEW_FILE,qu.COPY_FILE,qu.SAVE_FILE_AND_CREATE_COPY];case ll.READABLE:return[qu.VIEW_FILE,qu.DUMP_FILE,qu.SAVE_FILE_AND_CREATE_COPY,qu.COPY_FILE];default:return t}}(e.role,e.customPermissions),this.lastModifyId=e.lastModifyId,this.isCreator=e.isCreator,this.isExpired=e.isExpired||zu.IN_SERVICE,this.inherit=!!e.inherit,this.roleSource=e.roleSource||ul.NEW_ADD_SOURCE,e.deptUnfoldTraces&&(this.deptUnfoldTraces=e.deptUnfoldTraces||[]),this.uidSource===il.PRIVATE_GROUP&&(this.childRoleInfo=(null===(n=null===(t=e.extendRoleInfo)||void 0===t?void 0:t.find((function(t){return t.groupID===e.uid})))||void 0===n?void 0:n.collabInfos)||[],this.childMembers=e.childMembers||[],this.isDeptUnfolded=e.isDeptUnfolded||!1,this.isLoadChildMember=e.isLoadChildMember||!1)}return Object.defineProperty(e.prototype,"needBreakInheritMember",{get:function(){return this.roleSource===ul.SHARE_SPACE_SOURCE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMember",{get:function(){return!this.isDepMember},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDepMember",{get:function(){return this.memberType===Zu.DEPARTMENT},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAdmin",{get:function(){return this.role===ll.ADMINISTRATOR},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSuperAdmin",{get:function(){return this.role===ll.SUPER_ADMINISTRATOR},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isForbid",{get:function(){return this.role===ll.FORBIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpaceMember",{get:function(){return this.needBreakInheritMember},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isShareMember",{get:function(){return!this.needBreakInheritMember},enumerable:!1,configurable:!0}),e}(),iv=function(e){var t=[];return e.forEach((function(e){var n=av(e);t.push(n)})),t},av=function(e){var t,n=e.uid,r=e.roleID,o=e.uidSource,i=e.permissionIds,a=e.setUid,s=e.isCreator,c=e.isExpired,u=e.inherit,l=e.extendRoleInfo,f=e.roleSource,d=e.Base64Nick?atob(e.nick):e.nick,p=(null===(t=e.avatar)||void 0===t?void 0:t[0])||"";return new ov({uid:n,uidSource:o,name:d,role:r,customPermissions:i,lastModifyId:a,avatar:p,isCreator:s,isExpired:c,inherit:u,extendRoleInfo:l,roleSource:f})},sv=function(){function e(e){this.init(e)}return e.prototype.init=function(e){var t=e||{},n=t.admin,r=t.collaborator,o=t.inherit,i=t.op,a=t.isBreakInherit,s=void 0!==a&&a,c=t.extendIdaasGroup,u=void 0===c?[]:c,l=t.policy,f=tv(u),d=(n||[]).concat(r||[]);d.map((function(e){return e.uidSource===il.PRIVATE_GROUP&&Object.assign(e,{extendRoleInfo:f}),e})),this.members=iv(d||[]),this.inheritStatus=(null==o?void 0:o.policy)||ll.NO_PRIVILEGE,this.currentRole=(null==i?void 0:i.roleID)||ll.NO_PRIVILEGE,this.currentPermissionIds=(null==i?void 0:i.permissionIds)||[],this.currentLevel=(null==i?void 0:i.level)||al.TEMPORARY,this.isBreakInherit=s,this.extendInfo=f,this.privilegePolicy=l||nl.ILLEGAL,this.searchedMembers=[],this.deptUnfoldInfo=[],this.loadedDeptTreeList=[]},e}(),cv=function(){function e(e){this.init(e)}return e.prototype.init=function(e){var t=e||{};this.confidentialMode=!!t.confidentialMode,this.fileViewRange=t.fileViewRange,this.insiderEnterDocsByUrlQrCode=t.insiderEnterDocsByUrlQrcode,this.inviteByUrlQrCode=!!t.inviteByUrlQrcode,this.noNeedReview=!!t.noNeedReview,this.onlyAdminEditSpaceMemFileView=!!t.onlyAdminEditSpaceMemFileView,this.outsiderEnterDocsByUrlQrCode=t.outsiderEnterDocsByUrlQrcode,this.outsiderForbidAddSpace=!!t.outsiderForbidAddSpace,this.viewerForbidComment=!!t.viewerForbidComment,this.viewerForBidCopy=!!t.viewerForbidCopy,this.forbidCopy=t.forbidCopy||fl.COPY_RULE_ALLOW_ALL,this.forbidShareOutSideEnterprise=!!t.forbidShareOutsideEnterprise,this.viewForbidCopyRight=!!t.viewForbidCopyRight,this.viewForbidApplyEdit=!!t.viewForbidApplyEdit,this.readerCanComment=!!t.readerCanComment,this.writerCanComment=!!t.writerCanComment,this.showCommentBox=null==t?void 0:t.showCommentBox,this.writerForbidEditTab=!!t.writerForbidEditTab,this.writerForbidCopyPrint=!!t.writerForbidCopyPrint,this.writerForbidEditTitle=!!t.writerForbidEditTitle},e}(),uv=function(){function e(e){e.content?this.initByResult(e):this.initByStore(e)}return e.prototype.initByResult=function(e){var t=e,n=t.forceByAdmin,r=t.needsShowVisitor,o=t.content,i=t.style,a=t.needsShow,s=t.forceByCollaborationSpace;this.waterMarkShowVisitor=r,this.waterMarkOpenBySpace=s,this.waterMarkOpenByAdmin=n,this.showWaterMark=a,this.waterMarkText=o.text,this.waterMarkShowName=o.needsShowName,this.waterMarkShowAccount=o.needsShowId,this.waterMarkShowPhone=o.needsShowPhoneNumber,this.waterMarkShowTime=o.needsShowTimestamp,this.waterMarkStyle=i.density,this.waterMarkColor=i.color},e.prototype.initByStore=function(e){this.waterMarkOpenByAdmin=!!e.waterMarkOpenByAdmin,this.showWaterMark=!!e.showWaterMark,this.waterMarkText=e.waterMarkText,this.waterMarkShowName=!!e.waterMarkShowName,this.waterMarkShowAccount=!!e.waterMarkShowAccount,this.waterMarkShowPhone=!!e.waterMarkShowPhone,this.waterMarkShowTime=!!e.waterMarkShowTime,this.waterMarkStyle=e.waterMarkStyle,this.waterMarkColor=e.waterMarkColor,this.waterMarkShowVisitor=!!e.waterMarkShowVisitor,this.waterMarkOpenBySpace=!!e.waterMarkOpenBySpace},e}();function lv(e){return function(e,t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}("Object",e)}function fv(e){if(!e||!lv(e))return e;var t={};return Object.keys(e).forEach((function(n){var r=function(e){for(var t=e.split("_"),n="",r=0;r<t.length;r++){var o=t[r];o.length>0&&(n+=0===r?o:o="".concat(o[0].toUpperCase()).concat(o.substring(1)))}return n}(n);if(Object.prototype.hasOwnProperty.call(e,n))if(e[n]instanceof Array){var o=e[n],i=[];o.forEach((function(e){var t=fv(e);i.push(t)})),t[r]=i}else e[n]instanceof Object?t[r]=fv(e[n]):t[r]=e[n]})),t}function dv(e){return e.retcode||e.code||0}function pv(e){return e.msg||e.message||e.retmsg||""}function hv(){return function(e,t,n){var r=n.value;n.value=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Qh(this,void 0,void 0,(function(){var n,o;return Yh(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.apply(this,t)];case 1:return n=i.sent().data,o={data:n,retcode:dv(n),msg:pv(n),cgicode:null!==(e=n.cgicode)&&void 0!==e?e:0},delete n.msg,delete n.message,delete n.retmsg,delete n.retcode,delete n.code,delete n.cgicode,delete n.ret,[2,{resData:o}];case 2:return[2,{error:i.sent(),resData:{}}];case 3:return[2]}}))}))}}}function vv(){return function(e,t,n){var r=n.value;n.value=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Qh(this,void 0,void 0,(function(){var n;return Yh(this,(function(o){switch(o.label){case 0:return[4,r.apply(this,t)];case 1:return n=o.sent(),(null===(e=n.resData)||void 0===e?void 0:e.data)&&(n.resData.data=fv(n.resData.data)),[2,n]}}))}))}}}var gv=function(){function e(){}return e.prototype.getPermission=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/v2/privilege/get_user","?xsrf=").concat(e.xsrf),e)];case 1:return[2,t.sent()]}}))}))},e.prototype.checkPermission=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/cgi-bin/online_docs/auth_info/check","?xsrf=").concat(e.xsrf,"&localPadId=").concat(e.id),e)];case 1:return[2,t.sent()]}}))}))},e.prototype.setPermission=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/v2/privilege/set_user","?xsrf=").concat(e.xsrf),e)];case 1:return[2,t.sent()]}}))}))},e.prototype.setAdvPermission=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/cgi-bin/online_docs/auth_info/set","?xsrf=").concat(e.xsrf,"&localPadId=").concat(e.localPadId),ev(e))];case 1:return[2,t.sent()]}}))}))},e.prototype.getAdvPermission=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/cgi-bin/online_docs/auth_info/get","?xsrf=").concat(e.xsrf,"&localPadId=").concat(e.localPadId,"&type=").concat(e.type))];case 1:return[2,t.sent()]}}))}))},e.prototype.getWhiteList=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/api/permission/white_list/get","?xsrf=").concat(e.xsrf),Ah(e))];case 1:return[2,t.sent()]}}))}))},e.prototype.setWhiteList=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/api/permission/white_list/set","?xsrf=").concat(e.xsrf),Ah(e))];case 1:return[2,t.sent()]}}))}))},Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"getPermission",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"checkPermission",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"setPermission",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"setAdvPermission",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"getAdvPermission",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"getWhiteList",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"setWhiteList",null),e}(),yv=Symbol.for("repository:IPermissionRepository");nv.bind(yv,gv);var mv=function(){function e(){}return e.prototype.searchCollaboration=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/api/collaboratorsearch/list","?xsrf=").concat(e.xsrf),Ah(e))];case 1:return[2,t.sent()]}}))}))},Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"searchCollaboration",null),e}(),_v=Symbol.for("repository:ICollaborationRepository");nv.bind(_v,mv);var bv=function(){function e(){}return e.prototype.createCollaborationSpace=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/api/file/collaboration/space/create","?xsrf=").concat(e.xsrf),e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getUserInfo=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/cgi-bin/online_docs/user_info","?xsrf=").concat(e.xsrf),e)];case 1:return[2,t.sent()]}}))}))},Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"createCollaborationSpace",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"getUserInfo",null),e}(),wv=Symbol.for("repository:ICollaborationSpaceRepository");nv.bind(wv,bv);var Ev=function(){function e(){}return e.prototype.acceptTransfer=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/cgi-bin/online_docs/transowner_accept","?xsrf=").concat(e.xsrf),Ah(e))];case 1:return[2,t.sent()]}}))}))},e.prototype.rejectTransfer=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/cgi-bin/online_docs/transowner_reject","?xsrf=").concat(e.xsrf),Ah(e))];case 1:return[2,t.sent()]}}))}))},e.prototype.transferSpaceOwner=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/api/transowner/trans_space_owner","?xsrf=").concat(e.xsrf),Ah(e))];case 1:return[2,t.sent()]}}))}))},e.prototype.transferFileOwner=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/cgi-bin/online_docs/transowner_start","?xsrf=").concat(e.xsrf),ev(Ah(e)))];case 1:return[2,t.sent()]}}))}))},Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"acceptTransfer",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"rejectTransfer",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"transferSpaceOwner",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"transferFileOwner",null),e}(),Sv=Symbol.for("repository:ITransferOwnerRepository");nv.bind(Sv,Ev);var Ov=function(){function e(){}return e.prototype.getWaterMark=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.get("".concat("/watermark/get","?xsrf=").concat(e.xsrf,"&pad_id=").concat(e.padId))];case 1:return[2,t.sent()]}}))}))},e.prototype.setWaterMark=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/watermark/set","?xsrf=").concat(e.xsrf),Ah(e))];case 1:return[2,t.sent()]}}))}))},e.prototype.getSpaceWaterMark=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.get("".concat("/api/file/lookup/watermark/flag","?xsrf=").concat(e.xsrf,"&file_id=").concat(e.padId))];case 1:return[2,t.sent()]}}))}))},e.prototype.setSpaceWaterMark=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,Qc.networkRequest.post("".concat("/api/file/collaboration/space/watermark/set","?xsrf=").concat(e.xsrf),Ah(e))];case 1:return[2,t.sent()]}}))}))},Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"getWaterMark",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"setWaterMark",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"getSpaceWaterMark",null),Gh([vv(),hv(),Kh("design:type",Function),Kh("design:paramtypes",[Object]),Kh("design:returntype",Promise)],e.prototype,"setSpaceWaterMark",null),e}(),Iv=Symbol.for("repository:IWaterMarkRepository");function Rv(e){var t=e.error,n=e.resData;if(t)throw t;if(null==n?void 0:n.retcode)throw new Xh(n.retcode,n.msg);return n}nv.bind(Iv,Ov);var Cv=Symbol.for("domainService: IPermissionService"),Tv={};function xv(){return"undefined"!=typeof window}function Av(){return void 0!==o.g}var kv,Dv=xv()?window:Av()?o.g:xv||"undefined"==typeof self?(Av()&&o.g.describe,Tv):self,Mv="document";function Pv(e){if(!function(e,t){return null!==e&&Object.prototype.hasOwnProperty.call(e,t)}(Dv,Mv))return null;var t=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)")),n=document.cookie.match(t);return(n?n[1]:null)||null}function Nv(e){return Pv(e)}!function(e){e.xsrf="TOK",e.devRouteId="dev_route_id",e.devOaName="dev_oa_name",e.fd="fd",e.envId="env_id",e.sid="SID",e.sids="SID_S",e.uid="uid",e.uidKey="uid_key",e.uin="uin",e.loginTime="loginTime",e.hasBeenLogin="has_been_login",e.adtag="adtag",e.plUin="p_luin",e.pUin="p_uin",e.pSkey="p_skey",e.plSkey="p_lskey"}(kv||(kv={}));var Lv=function(){function e(e,t){this.permissionRepository=e,this.collaborationRepository=t}return e.prototype.getPermission=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c;return Yh(this,(function(u){switch(u.label){case 0:return e.id,[4,this.permissionRepository.getPermission(Vh(Vh({},e),{xsrf:Nv(kv.xsrf)}))];case 1:return t=u.sent(),n=Rv(t),r=(null==n?void 0:n.data.result)||{},o=r.admin,i=r.collaborator,r.inherit,r.op,r.isBreakInherit,a=r.extendIdaasGroup,s=void 0===a?[]:a,r.policy,c=tv(s),(o||[]).concat(i||[]).map((function(e){return e.uidSource===il.PRIVATE_GROUP&&Object.assign(e,{extendRoleInfo:c}),e})),[2,new sv(null==n?void 0:n.data.result)]}}))}))},e.prototype.modifyMembers=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r,o,i;return Yh(this,(function(a){switch(a.label){case 0:return t=e.type,n=e.id,r=e.added,o=void 0===r?[]:r,i=this.createParams(n,t,e),[4,this.permissionRepository.setPermission(i)];case 1:return Rv(a.sent()),[2,this.permissionToMember(o)]}}))}))},e.prototype.removeMembers=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r,o;return Yh(this,(function(i){switch(i.label){case 0:return t=e.members,n=e.id,r=e.type,o={id:n,type:r,removed:t},[4,this.modifyMembers(o)];case 1:return i.sent(),[2,this.permissionToMember(t)]}}))}))},e.prototype.addMembers=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r;return Yh(this,(function(o){switch(o.label){case 0:return t=e.id,n=e.members,r=e.type,[4,this.modifyMembers({id:t,added:n.map((function(e){return Vh({},e)})),type:r})];case 1:return[2,o.sent()]}}))}))},e.prototype.checkPermission=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c;return Yh(this,(function(u){switch(u.label){case 0:return[4,this.permissionRepository.checkPermission({id:e,xsrf:Nv(kv.xsrf)})];case 1:for(t=u.sent(),n=Rv(t),r={},o=0,i=Object.entries(null==n?void 0:n.data.result.attribute);o<i.length;o++)a=i[o],s=a[0],c=a[1],r[s]=!!c;return[2,Vh(Vh({},r),{roleType:null==n?void 0:n.data.result.privilegeFlag})]}}))}))},e.prototype.search=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l,f,d;return Yh(this,(function(p){switch(p.label){case 0:return t=e.id,n=e.keyword,r=void 0===n?"":n,o=e.size,i=void 0===o?50:o,a=e.cookie,s=e.roleId,c={docId:t,size:i,keyword:r,roleId:s,xsrf:Nv(kv.xsrf),pageCookie:a||void 0},[4,this.collaborationRepository.searchCollaboration(c)];case 1:return u=p.sent(),l=Rv(u),f=((null==l?void 0:l.data.result)||{}).collaborators,d=(null==f?void 0:f.map((function(e){return function(e){var t=e.roleId,n=e.name,r=e.id,o=e.avatar,i=e.permissionIds,a=e.isCreator,s=e.setUid,c=e.uidSource;return new ov({uid:r,name:n,avatar:o,customPermissions:i,isCreator:a,role:t,lastModifyId:s,uidSource:c})}(e)})))||[],[2,d]}}))}))},e.prototype.getAdvPermission=function(e){var t,n,r;return Qh(this,void 0,void 0,(function(){var o,i,a;return Yh(this,(function(s){switch(s.label){case 0:return o={localPadId:e,type:Uu.USER_IN_FILE,ver:2,xsrf:Nv(kv.xsrf)},[4,this.permissionRepository.getAdvPermission(o)];case 1:return i=s.sent(),a=Rv(i),[2,new cv((null===(n=null===(t=null==a?void 0:a.data)||void 0===t?void 0:t.result)||void 0===n?void 0:n.advpolicy)||(null===(r=null==a?void 0:a.data)||void 0===r?void 0:r.advpolicy))]}}))}))},e.prototype.modifyAdvPermission=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r,o,i,a;return Yh(this,(function(s){switch(s.label){case 0:return t=e.message,n=e.policy,r=e.advPolicy,o=e.id,i=r,a={message:t||"",localPadId:o,data:JSON.stringify({policy:n,advpolicy:{file_view_range:Number(i.fileViewRange),only_admin_edit_space_mem_file_view:Number(i.onlyAdminEditSpaceMemFileView),outsider_forbid_add_space:Number(i.outsiderForbidAddSpace),forbid_share_outside_enterprise:Number(i.forbidShareOutSideEnterprise),confidential_mode:Number(i.confidentialMode),invite_by_url_qrcode:Number(i.inviteByUrlQrCode),no_need_review:Number(i.noNeedReview),insider_enter_docs_by_url_qrcode:Number(i.insiderEnterDocsByUrlQrCode),outsider_enter_docs_by_url_qrcode:Number(i.outsiderEnterDocsByUrlQrCode),viewer_forbid_comment:Number(i.viewerForbidComment),viewer_forbid_copy:Number(i.viewerForBidCopy),forbid_copy:i.forbidCopy,all_enter_docs_by_qrcode:Number(i.formFillByQrCode)}}),xsrf:Nv(kv.xsrf)},[4,this.permissionRepository.setAdvPermission(a)];case 1:return Rv(s.sent()),[2,i]}}))}))},e.prototype.getJoinWhiteList=function(e){var t;return Qh(this,void 0,void 0,(function(){var n,r;return Yh(this,(function(o){switch(o.label){case 0:return[4,this.permissionRepository.getWhiteList({objectId:e,xsrf:Nv(kv.xsrf)})];case 1:return n=o.sent(),r=Rv(n),[2,this.createMember(null===(t=null==r?void 0:r.data)||void 0===t?void 0:t.result.whiteList)]}}))}))},e.prototype.addJoinWhiteList=function(e){return Qh(this,void 0,void 0,(function(){var t,n;return Yh(this,(function(r){switch(r.label){case 0:return t=e.id,n=e.members,[4,this.modifyJoinWhiteList({id:t,added:n})];case 1:return[2,r.sent()]}}))}))},e.prototype.removeJoinWhiteList=function(e){return Qh(this,void 0,void 0,(function(){var t,n;return Yh(this,(function(r){switch(r.label){case 0:return t=e.id,n=e.members,[4,this.modifyJoinWhiteList({id:t,removed:n})];case 1:return r.sent(),[2,this.whiteUserToMember(n)]}}))}))},e.prototype.modifyJoinWhiteList=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r,o;return Yh(this,(function(i){switch(i.label){case 0:return t=e.id,n=e.added,r=e.removed,o=this.whiteUserToMember(n||[]),[4,this.permissionRepository.setWhiteList({objectId:t,add:n||[],sub:r||[],xsrf:Nv(kv.xsrf)})];case 1:return Rv(i.sent()),[2,o]}}))}))},e.prototype.createMember=function(e){return iv(e)},e.prototype.createParams=function(e,t,n){var r=n.added,o=n.removed,i=[];r?i=Zh([],r,!0):o&&(i=Zh([],o,!0)).map((function(e){return Object.assign(e,{role:ll.NO_PRIVILEGE})}));var a=function(e){var t=e.members,n=[];return t.forEach((function(e){var t;if(null===(t=e.deptUnfoldTraces)||void 0===t?void 0:t.length){var r=e.deptUnfoldTraces,o=e.uid,i=e.uidSource,a=e.role,s=r[r.length-1],c={userID:o,uidSource:i,roleID:a},u=n.findIndex((function(e){return e.groupID===s}));u>=0?n[u].collabInfos.push(c):n.push({groupID:s,collabInfos:[c]})}})),n}({members:i}),s={obj:this.getObject(e,t),opt:Ju.OPT_NOTIFY,add:this.createChangeMembers(r),sub:this.createChangeMembers(o),xsrf:Nv(kv.xsrf)};return a.length&&Object.assign(s,{extendIdaasGroup:a}),s},e.prototype.getObject=function(e,t){return{id:e,type:t}},e.prototype.createChangeMembers=function(e){return(null==e?void 0:e.map((function(e){return{tinyId:e.uid,userID:e.uid,workID:e.workId,corpID:e.corpId,uidSource:e.uidSource,roleID:e.role,permissionIDs:e.role===ll.CUSTOM?e.customPermissions:[]}})))||[]},e.prototype.whiteUserToMember=function(e){return e.map((function(e){return function(e){var t=ml()||"",n=e.id,r=e.name,o=e.uidSource,i=e.roleId;return new ov({uid:n,name:r||"",uidSource:o,role:i,customPermissions:[],lastModifyId:t,avatar:"",isCreator:!1})}(e)}))},e.prototype.permissionToMember=function(e){return e.map((function(e){return function(e){var t=e.uid,n=e.uidSource,r=e.name,o=e.role,i=e.customPermissions,a=e.lastModifyId,s=e.avatar,c=e.isCreator,u=e.isExpired,l=e.inherit,f=e.roleSource;return new ov({uid:t,uidSource:n,name:r||"",role:o||ll.NO_PRIVILEGE,customPermissions:i||[],lastModifyId:a||"",avatar:s,isCreator:!!c,isExpired:u,inherit:l,roleSource:f})}(e)}))},e=Gh([Hh(0,(0,ju.f3)(yv)),Hh(1,(0,ju.f3)(_v)),Kh("design:paramtypes",[Object,Object])],e)}();nv.bind(Cv,Lv);var jv=function(){function e(e){this.waterMarkRepository=e,this.waterMarkDataMap=new Map}return e.prototype.getWaterMark=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r;return Yh(this,(function(o){switch(o.label){case 0:return t=e.id,[4,this.waterMarkRepository.getWaterMark({padId:"300000000$".concat(t),xsrf:Nv(kv.xsrf)})];case 1:return n=o.sent(),r=Rv(n),[2,new uv(null==r?void 0:r.data.result)]}}))}))},e.prototype.setWaterMark=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,this.waterMarkRepository.setWaterMark({padId:"300000000$".concat(e.id),watermark:{needs_show:e.showWaterMark,needs_show_visitor:e.waterMarkShowVisitor,text:e.waterMarkText,density:e.waterMarkStyle||sl.THIN},xsrf:Nv(kv.xsrf)})];case 1:return Rv(t.sent()),[2,new uv(e)]}}))}))},e.prototype.getSpaceWaterMark=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r,o;return Yh(this,(function(i){switch(i.label){case 0:return t=e.id,[4,this.waterMarkRepository.getSpaceWaterMark({padId:t,xsrf:Nv(kv.xsrf)})];case 1:return n=i.sent(),r=Rv(n),o=(null==r?void 0:r.data.result).flag,[2,new uv({waterMarkOpenBySpace:!!o})]}}))}))},e.prototype.setSpaceWaterMark=function(e){return Qh(this,void 0,void 0,(function(){var t,n;return Yh(this,(function(r){switch(r.label){case 0:return t=e.id,n=e.flag,[4,this.waterMarkRepository.setSpaceWaterMark({fileId:t,flag:Number(n),xsrf:Nv(kv.xsrf)})];case 1:return Rv(r.sent()),[2,new uv({waterMarkOpenBySpace:!!n})]}}))}))},e=Gh([Hh(0,(0,ju.f3)(Iv)),Kh("design:paramtypes",[Object])],e)}(),Uv=Symbol.for("domainService:IWaterMarkService");nv.bind(Uv,jv);var Fv=Symbol.for("domainService:ITransferService"),Bv=function(){function e(e){this.transferRepository=e}return e.prototype.transferSpaceOwner=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r;return Yh(this,(function(o){switch(o.label){case 0:return t={fileId:e.id,destUid:e.destUid,xsrf:Nv(kv.xsrf)},[4,this.transferRepository.transferSpaceOwner(t)];case 1:return n=o.sent(),[2,!(null==(r=Rv(n))?void 0:r.data.retcode)]}}))}))},e.prototype.transferFileOwner=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r;return Yh(this,(function(o){switch(o.label){case 0:return t={padId:e.id,destUid:e.destUid,userSource:e.userSource,xsrf:Nv(kv.xsrf)},[4,this.transferRepository.transferFileOwner(t)];case 1:return n=o.sent(),[2,!(null==(r=Rv(n))?void 0:r.data.retcode)]}}))}))},e=Gh([Hh(0,(0,ju.f3)(Sv)),Kh("design:paramtypes",[Object])],e)}();nv.bind(Fv,Bv);var qv=Symbol.for("domainService:ICreateCollaborationSpaceService"),Wv=function(){function e(e){this.collaborationSpaceRepository=e}return e.prototype.createCollaborationSpace=function(e){var t;return Qh(this,void 0,void 0,(function(){var n,r,o;return Yh(this,(function(i){switch(i.label){case 0:return n=Vh(Vh({},e),{xsrf:Nv(kv.xsrf)}),[4,this.collaborationSpaceRepository.createCollaborationSpace(n)];case 1:return r=i.sent(),o=Rv(r),[2,(null===(t=null==o?void 0:o.data.result)||void 0===t?void 0:t.fileId)||""]}}))}))},e.prototype.getUserInfo=function(e){return Qh(this,void 0,void 0,(function(){var t,n;return Yh(this,(function(r){switch(r.label){case 0:return t=Vh(Vh({},e),{xsrf:Nv(kv.xsrf)}),[4,this.collaborationSpaceRepository.getUserInfo(t)];case 1:return n=r.sent(),[2,Rv(n)]}}))}))},e=Gh([Hh(0,(0,ju.f3)(wv)),Kh("design:paramtypes",[Object])],e)}();nv.bind(qv,Wv);var Vv,Gv=function(){function e(e,t){this.permissionService=e,this.waterMarkService=t,this.subscribers=new Map}return e.prototype.getPermission=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r;return Yh(this,(function(o){switch(o.label){case 0:return n=(t=e||{}).id,r=t.type,[4,this.permissionService.getPermission({id:n,type:this.changeType(r)})];case 1:return[2,o.sent()]}}))}))},e.prototype.addMember=function(e){return Qh(this,void 0,void 0,(function(){var t;return Yh(this,(function(n){switch(n.label){case 0:return[4,this.permissionService.addMembers(e)];case 1:return t=n.sent(),Hu.log("[sc framework] add member params: %o, add member result: %d",e,t),[2,t]}}))}))},e.prototype.removeMember=function(e){return Qh(this,void 0,void 0,(function(){var t;return Yh(this,(function(n){switch(n.label){case 0:return[4,this.permissionService.removeMembers(e)];case 1:return t=n.sent(),Hu.log("[sc framework] remove member params: %o, remove member result: %d",e,t),[2,t]}}))}))},e.prototype.modifyMember=function(e){return Qh(this,void 0,void 0,(function(){var t;return Yh(this,(function(n){switch(n.label){case 0:return[4,this.permissionService.modifyMembers(e)];case 1:return t=n.sent(),Hu.log("[sc framework] modify member params: %o, modify member result: %o",e,t),[2,t]}}))}))},e.prototype.getAdvPermission=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,this.permissionService.getAdvPermission(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.modifyAdvPermission=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r;return Yh(this,(function(o){switch(o.label){case 0:return t=e.id,n=e.advPolicy,[4,this.permissionService.modifyAdvPermission({id:t,advPolicy:n})];case 1:return r=o.sent(),Hu.log("[sc framework] modify adv permission: %o, modify adv result: %s",e,r),[2,r]}}))}))},e.prototype.checkPermission=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,this.permissionService.checkPermission(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.subscribe=function(e,t){if(this.subscribers.has(e)){var n=this.subscribers.get(e);null==n||n.push(t)}else this.subscribers.set(e,[t])},e.prototype.searchMembers=function(e){return Qh(this,void 0,void 0,(function(){var t,n;return Yh(this,(function(r){switch(r.label){case 0:return t=e.id,[4,this.permissionService.search(Vh(Vh({},e),{id:t}))];case 1:return n=r.sent(),Hu.log("[sc framework] search member: %o, result: %o",e,n),[2,n]}}))}))},e.prototype.getWaterMark=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return console.log("====== get Water ====== app ====",this.waterMarkService),[4,this.waterMarkService.getWaterMark({id:e})];case 1:return[2,t.sent()]}}))}))},e.prototype.getSpaceWaterMark=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,this.waterMarkService.getSpaceWaterMark({id:e})];case 1:return[2,t.sent()]}}))}))},e.prototype.changeType=function(e){switch(e){case tl.FOLDER:return el.FOLDER;case tl.SPACE:return el.ELEMENT;default:return el.FILE}},e.prototype.setWaterMark=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return Hu.log("[sc framework] set watermark: %o",e),[4,this.waterMarkService.setWaterMark(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.setSpaceWaterMark=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return Hu.log("[sc framework] set space watermark: %o",e),[4,this.waterMarkService.setSpaceWaterMark({id:e.id,flag:!!e.waterMarkOpenBySpace})];case 1:return[2,t.sent()]}}))}))},e.prototype.getJoinWhiteList=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,this.permissionService.getJoinWhiteList(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.addJoinWhiteList=function(e){return Qh(this,void 0,void 0,(function(){var t,n;return Yh(this,(function(r){switch(r.label){case 0:return t=e.id,[4,this.permissionService.addJoinWhiteList({id:t,members:e.members})];case 1:return n=r.sent(),Hu.log("[sc framework] add join whitelist: %o",e),[2,n]}}))}))},e.prototype.removeJoinWhiteList=function(e){return Qh(this,void 0,void 0,(function(){var t,n;return Yh(this,(function(r){switch(r.label){case 0:return t=e.id,[4,this.permissionService.removeJoinWhiteList({id:t,members:e.members})];case 1:return n=r.sent(),Hu.log("[sc framework] remove join whitelist: %o",e),[2,n]}}))}))},e.prototype.modifyJoinWhiteList=function(e){return Qh(this,void 0,void 0,(function(){var t,n;return Yh(this,(function(r){switch(r.label){case 0:return t=e.id,[4,this.permissionService.modifyJoinWhiteList(Vh(Vh({},e),{id:t}))];case 1:return n=r.sent(),Hu.log("[sc framework] modify join whitelist: %o",e),[2,n]}}))}))},e=Gh([Hh(0,(0,ju.f3)(Cv)),Hh(1,(0,ju.f3)(Uv)),Kh("design:paramtypes",[Object,Object])],e)}();nv.bind(rv,Gv),function(e){e.PERMISSION_MEMBER_CHANGE="PERMISSION_MEMBER_CHANGE"}(Vv||(Vv={}));var Hv=function(){function e(){}return e.prototype.onPermissionMemberChange=function(e){var t=new CustomEvent(Vv.PERMISSION_MEMBER_CHANGE,{detail:e});window.dispatchEvent(t)},e.prototype.listenPermissionMemberChange=function(e){window.addEventListener(Vv.PERMISSION_MEMBER_CHANGE,(function(t){null==e||e(t.detail)}))},e}(),Kv=Symbol.for("appService:INotificationAppService");nv.bind(Kv,Hv);var Qv=Symbol.for("appService: ISpaceAppService"),Yv=function(){function e(e){this.createSpaceService=e}return e.prototype.createCollaborationSpace=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,this.createSpaceService.createCollaborationSpace(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getUserInfo=function(e){return Qh(this,void 0,void 0,(function(){return Yh(this,(function(t){switch(t.label){case 0:return[4,this.createSpaceService.getUserInfo(e)];case 1:return[2,t.sent()]}}))}))},e=Gh([Hh(0,(0,ju.f3)(qv)),Kh("design:paramtypes",[Object])],e)}();nv.bind(Qv,Yv);var Zv=Symbol.for("appService: ITransferAppService"),zv=function(){function e(e){this.transferService=e}return e.prototype.transferSpaceOwner=function(e){return Qh(this,void 0,void 0,(function(){var t,n;return Yh(this,(function(r){switch(r.label){case 0:return t=e.id,n=e.destUid,Hu.log("[sc framework] transfer space owner: %o",e),[4,this.transferService.transferSpaceOwner({id:t,destUid:n})];case 1:return[2,r.sent()]}}))}))},e.prototype.transferFileOwner=function(e){return Qh(this,void 0,void 0,(function(){var t,n,r;return Yh(this,(function(o){switch(o.label){case 0:return t=e.id,n=e.destUid,r=e.userSource,Hu.log("[sc framework] transfer file owner: %o",e),[4,this.transferService.transferFileOwner({id:t,destUid:n,userSource:r||il.WX_DEPT})];case 1:return[2,o.sent()]}}))}))},e=Gh([Hh(0,(0,ju.f3)(Fv)),Kh("design:paramtypes",[Object])],e)}();nv.bind(Zv,zv);o(63286),o(64123),o(13664),o(76351),o(91334),o(68823),o(5240),o(54555),o(86387),o(49455),o(29637),o(56844),o(72315),o(75027);var $v=o(34419);function Jv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Xv(e,t,n){return Xv=Jv()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&(0,$v.Z)(o,n.prototype),o},Xv.apply(null,arguments)}function eg(e){var t="function"==typeof Map?new Map:void 0;return eg=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Xv(e,arguments,(0,l.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,$v.Z)(r,e)},eg(e)}o(11818),o(16802),o(52249);var tg=o(30060),ng=(o(98220),o(87905),o(21330),o(47661),o(95174),o(51795),o(96210),o(11401),o(67314),o(14253),o(7367),o(16116),o(86134),o(44477),o(59308)),rg=o(34405),og=rg.default.getInstance();o(33415),o(71125);function ig(){return ig="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,l.Z)(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ig.apply(this,arguments)}o(69536),o(49210),o(18858);var ag,sg=(0,ju.yh)("IDocMetaDomainService"),cg=(0,ju.yh)("IAuthDomainService"),ug=(0,ju.yh)("ICollaborateDomainService"),lg=(0,ju.yh)("ILikeDomainService"),fg="100000000000000000";!function(e){e.LOGOUT="logout",e.SWITCH="switch",e.LOGIN="login"}(ag||(ag={}));var dg,pg,hg,vg=(0,ju.yh)("IAccountDomainService"),gg=(0,ju.yh)("IMessageDomainService"),yg=(0,ju.yh)("ILoginDomainService"),mg=(0,ju.yh)("IEnterpriseAccountDomainService");!function(e){e.C_DOMAIN="C_DOMAIN",e.B_DOMAIN="B_DOMAIN"}(dg||(dg={})),function(e){e.WECHAT="wx",e.WEWORK="ww",e.QQ="qq"}(pg||(pg={})),function(e){e[e.WEWORK=2]="WEWORK",e[e.WECHAT=1]="WECHAT"}(hg||(hg={}));o(87641),o(24295);var _g=o(57201),bg=new Map;function wg(e){return function(t){t.prototype.appenderOptions=e,bg.set(e.name,{provide:t})}}var Eg=new Map,Sg=function(){function e(){}return e.get=function(e,t){var n=e;return Eg.has(e)||(n="basic",console.warn("".concat(e," layout doesn't exists"))),new(Eg.get(n).provide)(null!=t?t:{})},e}(),Og=function(){function e(){this.config={},this.appenderOptions={name:""},this.configure({})}return e.prototype.configure=function(e){var t;Object.assign(this.config,e),e.layout?this.useLayout=Sg.get(e.layout.type,e.layout):this.useLayout=Sg.get(null!==(t=this.appenderOptions.defaultLayout)&&void 0!==t?t:"basic")},e.prototype.layout=function(e){return this.useLayout.transform(e)},e}(),Ig=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,kr.__extends)(t,e),t.prototype.write=function(e){var t=e.level;return t.isGreaterThanOrEqualTo("ERROR")?console.error.apply(console,this.layout(e)):t.isEqualTo("WARN")?console.warn.apply(console,this.layout(e)):t.isEqualTo("INFO")?console.info.apply(console,this.layout(e)):console.log.apply(console,this.layout(e))},t=(0,kr.__decorate)([wg({name:"console"})],t)}(Og);function Rg(e){return function(t){Eg.set(e.name,{provide:t})}}var Cg=function(e){var t=Array.prototype.slice.call(arguments,1);return t.length&&(e=e.replace(/(%?)(%([jds]))/g,(function(e,n,r,o){var i=t.shift();switch(o){case"s":i=""+i;break;case"d":i=Number(i);break;case"j":i=JSON.stringify(i)}return n?(t.unshift(i),e):i}))),t.length&&(e+=" "+t.join(" ")),""+(e=e.replace(/%{2,2}/g,"%"))};function Tg(e,t){void 0===t&&(t="yyyy-MM-ddThh:mm:ss.SSS");var n="".concat(e.getDate()).padStart(2,"0"),r="".concat(e.getMonth()+1).padStart(2,"0"),o="".concat(e.getFullYear()).padStart(2,"0"),i="".concat(o).substring(2,4),a=t.indexOf("yyyy")>-1?o:i,s="".concat(e.getHours()).padStart(2,"0"),c="".concat(e.getMinutes()).padStart(2,"0"),u="".concat(e.getSeconds()).padStart(2,"0"),l="".concat(e.getMilliseconds()).padStart(3,"0"),f=function(e){var t=Math.abs(e),n=String(Math.floor(t/60)),r=String(t%60);return 1===n.length&&(n="0".concat(n)),1===r.length&&(r="0".concat(r)),e<0?"+".concat(n).concat(r):"-".concat(n).concat(r)}(e.getTimezoneOffset());return t.replace(/dd/g,n).replace(/MM/g,r).replace(/y{1,4}/g,a).replace(/hh/g,s).replace(/mm/g,c).replace(/ss/g,u).replace(/SSS/g,l).replace(/O/g,f)}var xg,Ag=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,kr.__extends)(t,e),t.prototype.transform=function(e){var t=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e;return Array.isArray(r)||(r=(0,kr.__spreadArray)([r],t,!0)),Cg.apply(void 0,r)}("[%s] [%s] [%s] - ",Tg(e.startTime),e.formatedLevel,e.categoryName);return"string"==typeof e.data?[t+e.data]:[t,e.data]},t=(0,kr.__decorate)([Rg({name:"basic"})],t)}((function(){})),kg=function(){function e(e,t,n,r){this._categoryName=e,this._level=t,this._data=n,this._context=r,this._startTime=new Date}return Object.defineProperty(e.prototype,"startTime",{get:function(){return this._startTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"categoryName",{get:function(){return this._categoryName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formatedLevel",{get:function(){return this.level.toString().padEnd(5," ")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data.length>1?this._data:this._data[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),e}(),Dg=function(){function e(e,t){this.level=e,this.levelStr=t,this.level=e,this.levelStr=t}return e.getLevel=function(t,n){return t instanceof e?t:"string"==typeof t?xg[t.toUpperCase()]||n:this.getLevel(t.toString())},e.prototype.toString=function(){return this.levelStr},e.prototype.isLessThanOrEqualTo=function(t){return this.level<=e.getLevel(t).level},e.prototype.isGreaterThanOrEqualTo=function(t){return this.level>=e.getLevel(t).level},e.prototype.isEqualTo=function(t){return this.level===e.getLevel(t).level},e}();function Mg(){return xg}xg={ALL:new Dg(Number.MIN_VALUE,"ALL"),TRACE:new Dg(5e3,"TRACE"),DEBUG:new Dg(1e4,"DEBUG"),INFO:new Dg(2e4,"INFO"),WARN:new Dg(3e4,"WARN"),ERROR:new Dg(4e4,"ERROR"),FATAL:new Dg(5e4,"FATAL"),MARK:new Dg(9007199254740992,"MARK"),OFF:new Dg(Number.MAX_VALUE,"OFF")};var Pg=function(){function e(){this.appenders=new Map,this.levels=new Map}return Object.defineProperty(e.prototype,"size",{get:function(){return this.appenders.size},enumerable:!1,configurable:!0}),e.prototype.has=function(e){return this.appenders.has(e)},e.prototype.get=function(e){return this.appenders.get(e)},e.prototype.set=function(e,t){if(!bg.has(e)){var n=new Error("Appender ".concat(e," doesn't exists. Check your configuration:\n").concat(JSON.stringify(t),"\n"));throw n.name="UNKNOW_APPENDER",n}var r=new(0,bg.get(e).provide)(t);return this.appenders.set(e,{instance:r,config:t}),this.levels.clear(),this},e.prototype.delete=function(e){var t=this.appenders.delete(e);return t&&this.levels.clear(),t},e.prototype.clear=function(){this.appenders.clear(),this.levels.clear()},e.prototype.forEach=function(e,t){this.appenders.forEach(e,t)},e.prototype.byLogLevel=function(e){var t=e.toString();if(this.levels.has(t))return this.levels.get(t);var n=this.toArray().filter((function(t){return!t.config.levels||t.config.levels.find((function(t){return t.toUpperCase()===e.toString()}))})).map((function(e){return e.instance}));return this.levels.set(e.toString(),n),n},e.prototype.toArray=function(){var e=[];return this.appenders.forEach((function(t){return e.push(t)})),e},e}(),Ng="ALL",Lg=function(){function e(e){this.name=e,this.appenders=new Pg}return e.createStack=function(){var e,t=(null!==(e=(new Error).stack)&&void 0!==e?e:"").replace("Error\n","").split("\n");return t[0].indexOf("Logger.")>-1&&t.splice(0,1),t[0].indexOf("Logger.")>-1&&t.splice(0,1),t.join("\n")},Object.defineProperty(e.prototype,"level",{get:function(){return this.currentLevel?this.currentLevel.toString():Dg.getLevel(Ng).toString()},set:function(e){this.currentLevel=Dg.getLevel(e,Ng)},enumerable:!1,configurable:!0}),e.prototype.use=function(e,t){return this.appenders.set(e,(0,kr.__assign)({layout:{type:"basic"},levels:["trace","debug","info","warn","error","fatal"]},t)),this},e.prototype.isLevelEnabled=function(e){return this.currentLevel?this.currentLevel.isLessThanOrEqualTo(e):Dg.getLevel(Ng).isLessThanOrEqualTo(e)},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(Mg().DEBUG,e)},e.prototype.trace=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r="\n".concat(e.createStack(),"\n");return t.push(r),this.write(Mg().TRACE,t)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(Mg().INFO,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(Mg().WARN,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(Mg().ERROR,e)},e.prototype.fatal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(Mg().FATAL,e)},e.prototype.write=function(e,t){if(!this.isLevelEnabled(e))return this;var n=new kg(this.name,e,t,this.context);return this.appenders.byLogLevel(e).forEach((function(e){e.write(n)})),this},e}();wg({name:"console"})(Ig),Rg({name:"basic"})(Ag);o(74832),o(77801),o(83277);var jg=o(71121);o(83135),o(44799),o(53844),o(20974),o(39548);const Ug=rg.default.getInstance().getConfig('npm["@tencent/netcheck"]');var Fg,Bg={version:6,autoRun:!0,ignoreDefaultSources:!0,cdnSources:Object.values((null==Ug?void 0:Ug.cdnSources)||["https://docs.qq.com/net-check/img","https://docs.gtimg.com/components/img/1px.gif","https://docs2.gtimg.com/components/img/1px.gif"]),duration:6e4},qg=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};!function(e){e.OFF_LINE="offline",e.ON_LINE="online"}(Fg||(Fg={}));let Wg;window.__offlinetest=!1,void 0!==document.hidden?Wg="visibilitychange":void 0!==document.mozHidden?Wg="mozvisibilitychange":void 0!==document.msHidden?Wg="msvisibilitychange":void 0!==document.webkitHidden&&(Wg="webkitvisibilitychange");class Vg{constructor(e){this.cdnSources=Bg.cdnSources,this.autoRun=Bg.autoRun,this.duration=Bg.duration,this.counter=0,this.handleVisibility=()=>{document.hidden||document.webkitHidden||document.msHidden||document.mozHidden?(this.duration=3e5,this.pause(),this.startCheck()):(this.duration=6e4,this.pause(),this.startCheck())},this.handleNetstatus=()=>qg(this,void 0,void 0,(function*(){this.status=yield this.netcheck(),this.handleCalback()})),this.setConfig(e),this.status=this.navigatorOnlineStatus,[this.netchecksource]=this.cdnSources,this.callbacks=[],this.autoRun&&this.init()}static create(e){return new Vg(e)}static getInstance(e){return Vg.instance||(Vg.instance=Vg.create(e)),Vg.instance}setConfig(e){const{cdnSources:t=this.cdnSources,ignoreDefaultSources:n=Bg.ignoreDefaultSources,autoRun:r=this.autoRun,duration:o=this.duration}=e;Array.isArray(t)&&(this.cdnSources=n?t:this.cdnSources.concat(t)),this.autoRun=!!r,Number.isInteger(o)&&(this.duration=o)}getVersion(){return Vg.version}init(){return qg(this,void 0,void 0,(function*(){const e=yield this.preNetCheck();this.status=e,this.bindVisibility(),this.bindNetStatus(),this.startCheck()}))}get isOnline(){return!window.__offlinetest&&this.status===Fg.ON_LINE}changeEnd(e){this.callbacks.push(e)}extendCallbacks(e){this.callbacks=this.callbacks.concat(e.slice())}getCallbacks(){return this.callbacks}remove(e){const t=this.callbacks.slice(0,this.callbacks.length);for(let n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),this.callbacks=t)}handleCalback(){this.callbacks.forEach((e=>{e(this.status)}))}destory(){window.mqq&&jg.default.isAndroid&&(jg.default.isTencentDocsApp||jg.default.isTimOrQQ)&&!jg.default.isQQMiniProgram?window.mqq.removeEventListener("qbrowserVisibilityChange",this.handleVisibility):document.removeEventListener(Wg,this.handleVisibility),this.pause(),window.removeEventListener(Fg.ON_LINE,this.handleNetstatus),window.removeEventListener(Fg.OFF_LINE,this.handleNetstatus),this.counter=0,this.preCheckOnlineStatus=!1,this.duration=6e4}bindNetStatus(){window.addEventListener(Fg.ON_LINE,this.handleNetstatus),window.addEventListener(Fg.OFF_LINE,this.handleNetstatus)}bindVisibility(){window.mqq&&jg.default.isAndroid&&(jg.default.isTencentDocsApp||jg.default.isTimOrQQ)&&!jg.default.isQQMiniProgram?window.mqq.addEventListener("qbrowserVisibilityChange",this.handleVisibility):document.addEventListener(Wg,this.handleVisibility)}pause(){clearInterval(this.Timer),this.Timer=null}startCheck(){this.Timer=window.setInterval((()=>qg(this,void 0,void 0,(function*(){yield this.polling()}))),this.duration)}polling(){return qg(this,void 0,void 0,(function*(){this.preCheckOnlineStatus?this.status=yield this.netcheck():this.status=this.navigatorOnlineStatus,this.counter>=15?(yield this.preNetCheck(),this.counter=0):this.counter+=1,this.handleCalback()}))}get navigatorOnlineStatus(){return window.navigator.onLine?Fg.ON_LINE:Fg.OFF_LINE}preNetCheck(){return qg(this,void 0,void 0,(function*(){return new Promise((e=>{const t=this.cdnSources.map((e=>this.sourceCheck(e)));var n;(n=t,new Promise(((e,t)=>{let{length:r}=n;r||t(new AggregateError("null"));const o=[];n.forEach((n=>{n.then((t=>e(t))).catch((e=>{r-=1,o.push(e),r||t(new AggregateError(o))}))}))}))).then((t=>{this.preCheckOnlineStatus=!0,this.netchecksource=t,e(Fg.ON_LINE)})).catch((()=>{this.preCheckOnlineStatus=!1,e(Fg.OFF_LINE)}))}))}))}sourceCheck(e){return qg(this,void 0,void 0,(function*(){const t=new Image;return new Promise(((n,r)=>{t.onload=()=>{n(e)},t.onerror=()=>{r(`${e} load fail`)},t.src=`${e}?t=${Date.now()}`}))}))}netcheck(){return qg(this,void 0,void 0,(function*(){return this.netcheckImage||(this.netcheckImage=new Image),new Promise((e=>{this.netcheckImage.onload=function(){e(Fg.ON_LINE)},this.netcheckImage.onerror=function(){e(Fg.OFF_LINE)},this.netcheckImage.src=`${this.netchecksource}?t=${Date.now()}`}))}))}}Vg.version=Bg.version;const Gg=function(e){if(window.tdocsNetcheck){const t=window.tdocsNetcheck.getVersion();e.getVersion()>t&&(e.extendCallbacks(window.tdocsNetcheck.getCallbacks()),window.tdocsNetcheck.destory(),window.tdocsNetcheck=e,window.tdocsNetcheck.init())}else window.tdocsNetcheck=e,window.tdocsNetcheck.init();return window.tdocsNetcheck}(Vg.create({autoRun:!1}));var Hg=o(68723),Kg=(o(73398),o(16830),o(93285)),Qg=o.n(Kg),Yg=o(31638),Zg=o.n(Yg),zg=(o(59605),o(11866),o(79246),o(12916),o(96570),o(67892),o(97627),function(e){return e&&window.frameElement&&window.top||window}),$g=function(e){var t;return e&&window.frameElement?null===(t=window.top)||void 0===t?void 0:t.mqq:window.mqq},Jg=function(e){var t;return e&&window.frameElement?null===(t=window.top)||void 0===t?void 0:t.wx:window.wx};var Xg=function(){var e,t,n,r;return/from=miniprogram/.test(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.search)||/from=miniprogram_wedoc/.test(null===(n=window)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.search)};function ey(e,t){var n=t.wxUrl,r=t.replace,o=t.supportIFrame,i=Jg(o),a=zg(o);if(Xg())a.location.href=e;else{if(null==i||!i.miniProgram)return function(e,t){var n,r=t.replace,o=t.windowName,i=t.windowFeatures,a=t.supportIFrame,s=zg(a);r?null==s||null===(n=s.location)||void 0===n||n.replace(e):null==s||s.open(e,o,i)}(e,t),void console.error("no miniProgram sdk");var s=null!=n?n:function(e){if(/^https:\/\/docs\.qq\.com\/(sheet|doc|slide|form|pdf|file|mind|flowchart|rec|aio)\/(.*)$/.test(e))return"/pages/detail/detail?url=".concat(encodeURIComponent(e));return"/pages/webview/webview?url=".concat(encodeURIComponent(e))}(e);r?i.miniProgram.redirectTo({url:s}):i.miniProgram.navigateTo({url:s})}}var ty=dn.default.isTencentDocsApp,ny=dn.default.isQQ,ry=dn.default.isWindows;function oy(){var e,t;return(null===(e=o.g)||void 0===e?void 0:e.ntqq)||(null===(t=o.g)||void 0===t?void 0:t.ntQQApi)}function iy(e,t){var n=t.replace,r=t.style,o=t.useNewConfig,i=t.supportIFrame,a=$g(i),s=zg(i),c=r||2;n||!ry||!ny||oy()?n&&!oy()||!a?function(e,t){var n=zg(t);ty?(n.history.replaceState(null,document.title,e),n.location.replace("")):n.location.replace(e)}(e,i):null==a||a.invoke("ui","openUrl",{url:e,target:1,style:c,useQQBrowser:!0,useNewConfig:o},(function(){})):s.open(e)}var ay,sy=o(14217);!function(e){e[e.WxworkBrowser=1]="WxworkBrowser"}(ay||(ay={}));var cy,uy,ly,fy="doc.weixin.qq.com",dy="docs.qq.com";function py(e){var t,n=function(e){var t,n=e.match(/(http?:\/\/|https:\/\/|\/\/)?([^\/\?#]+)/i);return null!==(t=null==n?void 0:n[2])&&void 0!==t?t:""}(e);if(!dn.default.isWxWork||![fy,dy].includes(n))return e;var r=e.split("#"),o=null!==(t=r.shift())&&void 0!==t?t:"",i=r.join("#"),a=[cy.NAME,cy.VID,cy.DEVICE_ID,uy.NAME,uy.VID,uy.DEVICE_ID],s=o;return a.forEach((function(e){s=function(e,t){var n=e.split("?");if(n.length>=2){for(var r="".concat(encodeURIComponent(t),"="),o=n[1].split(/[&]/g),i=o.length;i-- >0;)-1!==o[i].lastIndexOf(r,0)&&o.splice(i,1);return e=n[0]+(o.length>0?"?".concat(o.join("&")):"")}return e}(s,e)})),i?"".concat(s,"#").concat(i):"".concat(s)}function hy(e){var t=my(e),n=gy("u",t);if(!function(e){return/^http(s)?:\/\/docs\.qq\.com/.test(e)}(t)||""!==n)return t;var r=function(){var e=window,t=e.global_multi_user;return window.nowUserIndex||(null==t?void 0:t.nowUserIndex)||gy("u")||""}();if(!r)return t;var o=new URL(t),i=o.protocol,a=o.host,s=o.pathname,c=o.search,u=o.hash;return t=c?"".concat(i,"//").concat(a).concat(s).concat(c,"&u=").concat(r).concat(u):"".concat(i,"//").concat(a).concat(s,"?u=").concat(r).concat(u)}function vy(e){return/^(mailto:(\/\/)?)?([a-z\u00a1-\uffff0-9_\-.])+@([a-z\u00a1-\uffff0-9_\-.])+\.([a-z]{2,})$/i.test(e)?e=e.replace(/^(mailto:(\/\/)?)?/i,"mailto:"):/^(https?|ftp|file):\/\//i.test(e)||(e=/^(doc.weixin.qq.com)/i.test(e)?"https://".concat(e):"http://".concat(e)),e}function gy(e,t){var n=function(e){if("string"==typeof e)return e;return e.search}(t||o.g.location||"").match(new RegExp("(\\?|&)".concat(e,"=([^&]*)(#|&|$)")));return n?decodeURIComponent(n[2]):""}function yy(e){return/\.qq\.com/.test(e)}function my(e){return yy(e)?e.replace(/^(http:)?\/\//i,"https://"):e}function _y(e,t){var n=location.host,r=py(e);if(!r)return null;if(r=my(e),function(e,t){return(!yy(e)||function(e){return e.startsWith("https://docs.qq.com/scenario/link.html")||e.startsWith("https://doc.weixin.qq.com/scenario/link.html")}(e))&&!(null!=t&&t.ignoreDomainDetect)}(e,t)&&n!==fy){r="https://".concat(n,"/scenario/link.html?url=").concat(encodeURIComponent(r));var o=window.clientVars;o&&(r="".concat(r,"&pid=").concat(o.globalPadId,"&cid=").concat(o.creatorId))}return(null==t?void 0:t.noUserIndex)||(r=hy(r)),r}!function(e){e.NAME="wwapp_cst",e.VID="wwapp_vid",e.DEVICE_ID="wwapp_deviceid"}(cy||(cy={})),function(e){e.NAME="cst",e.VID="vid",e.DEVICE_ID="deviceid"}(uy||(uy={})),function(e){e[e.LOW=-1]="LOW",e[e.EQUQL=0]="EQUQL",e[e.HEIGHT=1]="HEIGHT"}(ly||(ly={}));var by,wy=o(86235),Ey=o(10561),Sy=dn.default.isMac||dn.default.isIPad,Oy=new(function(){function e(){var t=this;(0,wy.Z)(this,e),(0,dc.Z)(this,"isPressed",!1),(0,dc.Z)(this,"handleKeyboardEvent",(function(e){e.key===(Sy?"Meta":"Control")&&t.setCtrlKeyStatus("keydown"===e.type)})),(0,dc.Z)(this,"handleBlurEvent",(function(){t.setCtrlKeyStatus(!1)}));var n=["keydown","keyup"];"undefined"!=typeof window&&"undefined"!=typeof document?(n.forEach((function(e){document.addEventListener(e,t.handleKeyboardEvent)})),window.addEventListener("blur",this.handleBlurEvent),window.addEventListener("beforeunload",(function(){n.forEach((function(e){document.removeEventListener(e,t.handleKeyboardEvent)})),window.removeEventListener("blur",t.handleBlurEvent)}))):console.debug("CtrlKeyManager skip init, window or document is undefined")}return(0,Ey.Z)(e,[{key:"setCtrlKeyStatus",value:function(e){this.isPressed=e}}]),e}()),Iy=function(){return function(e,t){if(e==t)return 0;for(var n=e.split("."),r=t.split("."),o=0;n[o]&&r[o];){if(+n[o]!=+r[o])return+n[o]>+r[o]?ly.HEIGHT:ly.LOW;o+=1}return n[o]?ly.HEIGHT:r[o]?ly.LOW:ly.EQUQL}(function(e){var t=navigator.userAgent.toLowerCase(),n=t.match(new RegExp("".concat(e,"\\/(\\d+\\.\\d+\\.\\d+)")))||t.match(new RegExp("".concat(e,"\\/(\\d+\\.\\d+)")));return n?n[1]:""}("wdocs"),"1.0.0")>=0},Ry=function(e){return window.PRIVATE?function(e){return[/^http(s):\/\/drive\.weixin\.qq\.com\/s\?/i,/^http(s):\/\/drive\.weixin\.qq\.com\/cgi-bin\/disk\/s\?/i].some((function(t){return t.test(e)}))}(e):/^http(s):\/\/drive\.weixin\.qq\.com\//i.test(e)},Cy=function(e){return[/^http(s):\/\/doc\.weixin\.qq\.com\/doc/i,/^http(s):\/\/doc\.weixin\.qq\.com\/sheet/i,/^http(s):\/\/doc\.weixin\.qq\.com\/forms/i,/^http(s):\/\/doc\.weixin\.qq\.com\/mind/i,/^http(s):\/\/doc\.weixin\.qq\.com\/flowchart/i,/^http(s):\/\/doc\.weixin\.qq\.com\/slide/i,/^http(s):\/\/doc\.weixin\.qq\.com\/home/i,/^http(s):\/\/doc\.weixin\.qq\.com\/mall\/m\/profile\/craft/i,/^http(s):\/\/doc\.weixin\.qq\.com\/scenario\/login/i,/^http(s):\/\/doc\.weixin\.qq\.com\/txdoc/i,/^http(s):\/\/doc\.weixin\.qq\.com\/formcol/i].some((function(t){return t.test(e)}))};!function(e){e[e.REPLACE=0]="REPLACE",e[e.FORK_WEBVIEW=1]="FORK_WEBVIEW",e[e.BROWSER=2]="BROWSER",e[e.NEW_WEBVIEW=3]="NEW_WEBVIEW"}(by||(by={}));var Ty=function(e,t){var n,r;if(null!==(n=window)&&void 0!==n&&null!==(r=n.tdocs)&&void 0!==r&&r.openUrl){var o=t.replace?by.REPLACE:Cy(e)?by.FORK_WEBVIEW:by.NEW_WEBVIEW;return console.log("doOpenUrlForWxworkOrWedrive use window.tdocs.openUrl",e,(0,kt.Z)((0,kt.Z)({},t),{},{target:o})),window.tdocs.openUrl({url:e,target:o,style:3})}return xy(e,t)},xy=function(e,t){var n,r,o,i,a;return null!==(n=window)&&void 0!==n&&null!==(r=n.mqq)&&void 0!==r&&null!==(o=r.ui)&&void 0!==o&&o.openUrl?(console.log("doOpenUrlForWxworkOrWedrive use window.mqq.ui.openUrl",e,t),window.mqq.ui.openUrl({url:e,target:t.replace?0:1,style:3,useQQBrowser:!0})):null!==(i=window)&&void 0!==i&&null!==(a=i.qmailBridge)&&void 0!==a&&a.openDocLink?(console.log("doOpenUrlForWxworkOrWedrive use window.qmailBridge.openDocLink",e,t),window.qmailBridge.openDocLink({url:e})):Dy(e,t)},Ay=function(){var e=(0,pc.Z)((0,sy.Z)().mark((function e(t,n){var r,o,i,a,s;return(0,sy.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=window)||void 0===r||null===(o=r.qmailBridge)||void 0===o||!o.openFileInWedrive||!Ry(t)){e.next=6;break}return e.next=3,Py(t);case 3:return s=e.sent,console.log("doOpenUrlForWxworkOrWedrive use window.qmailBridge.openFileInWedrive",t,n),e.abrupt("return",window.qmailBridge.openFileInWedrive(s,t));case 6:if(null===(i=window)||void 0===i||null===(a=i.tdocs)||void 0===a||!a.openInTab||!Cy(t)){e.next=9;break}return console.log("doOpenUrlForWxworkOrWedrive use window.tdocs.openInTab",t,n),e.abrupt("return",window.tdocs.openInTab({url:t}));case 9:return e.abrupt("return",Dy(t,n));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ky=function(){var e=(0,pc.Z)((0,sy.Z)().mark((function e(t,n){var r,o,i,a,s,c,u;return(0,sy.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.replace){e.next=4;break}return console.log("doOpenUrlForWxworkOrWedrive use window.location.href",t,n),window.location.href=t,e.abrupt("return");case 4:if(null===(r=window)||void 0===r||null===(o=r.tdocs)||void 0===o||!o.openFileInWedrive||!Ry(t)){e.next=10;break}return e.next=7,Py(t);case 7:return u=e.sent,console.log("doOpenUrlForWxworkOrWedrive use window.tdocs.openFileInWedrive",t,n),e.abrupt("return",window.tdocs.openFileInWedrive({fileId:u,url:t}));case 10:if(null===(i=window)||void 0===i||null===(a=i.tdocs)||void 0===a||!a.openInBrowser||!Yy(t)){e.next=13;break}return console.log("doOpenUrlForWxworkOrWedrive use window.tdocs.openInBrowser",t,n),e.abrupt("return",window.tdocs.openInBrowser({url:vy(t)}));case 13:if(null===(s=window)||void 0===s||null===(c=s.tdocs)||void 0===c||!c.openInTab){e.next=16;break}return console.log("doOpenUrlForWxworkOrWedrive use window.tdocs.openInTab",t,n),e.abrupt("return",window.tdocs.openInTab({is_silent:Oy.isPressed,url:t}));case 16:return e.abrupt("return",Dy(t,n));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Dy=function(e,t){t.replace?(console.log("doOpenUrlForWxworkOrWedrive use window.location.href",e,t),window.location.href=e):(console.log("doOpenUrlForWxworkOrWedrive use window.open",e,t),window.open(e))},My=function(e){var t;null===(t=window.tdocs)||void 0===t||t.openInWxworkBrowser({url:e})},Py=function(e){return new Promise((function(t){var n="https://doc.weixin.qq.com/wedoc/getfileinfobyurl?url=".concat(e),r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var e=r.responseText;try{var n,o=JSON.parse(e),i=null==o||null===(n=o.body)||void 0===n?void 0:n.fileid;t(i||null)}catch(a){console.error("fetchFileIdFromSvr error",a),t(null)}}},r.onerror=function(e){console.error("fetchFileIdFromSvr error",e),t(null)},r.ontimeout=function(e){console.error("fetchFileIdFromSvr timeout",e),t(null)},r.open("GET",n,!0),r.setRequestHeader("Content-type","text/plain"),r.send()}))};function Ny(e,t,n){var r=t.replace,o=t.noHistory;if(t.safariNeedReplace)n.location.href=e;else if(!function(e){var t=e.url,n=e.windowName,r=e.windowFeatures;if(n&&r)return window.open(t,n,r),!0;return!1}((0,kt.Z)((0,kt.Z)({},t),{},{url:e}))){var i=document.createElement("a");i.href=e,r?i.target="_self":(i.target="_blank",i.rel="noreferrer"),o&&history.replaceState(null,document.title,e),function(e){if(e.href!==location.href||"_self"!==e.target){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}else location.reload()}(i)}}var Ly=dn.default.isIPad,jy=dn.default.isMobile,Uy=(dn.default.isMiniProgram,dn.default.isWxMiniProgram),Fy=dn.default.isQQMiniProgram,By=dn.default.isTimOrQQ,qy=dn.default.isIOS,Wy=dn.default.isWeChat,Vy=dn.default.isWxWork,Gy=dn.default.isTencentDocsApp,Hy=dn.default.isPCTencentDocsClient,Ky=dn.default.isIE,Qy=dn.default.isWxDrive;function Yy(e,t){return!(yy(e)||null!=t&&t.ignoreDomainDetect)}function Zy(e){var t=e.url,n=e.wxUrl,r=e.replace,o=e.style,i=e.supportIFrame,a=e.safariNeedReplace,s=zg(i),c=_y(t,e);c&&(console.log("open_url 参数》》》》》》",c,n,r,Uy,Fy,By,qy,jy,Ly,Ky,window.mqq,o,a,e),Uy||Fy?ey(c,e):Wy||a?s.location.href=c:By||Gy?iy(c,e):Vy||Qy?function(e,t){try{return dn.default.isMobile?Iy()?Ty(e,t):xy(e,t):dn.default.isWxDrive?Ay(e,t):dn.default.isWxWorkVersionAboveOrEqual("3.1.18")||dn.default.isWxWorkPrivateVersionAboveOrEqual("2.7.2000")?t.openType===ay.WxworkBrowser&&dn.default.isWxWorkVersionAboveOrEqual("4.0.0")?(console.log("trigger openInWxworkBrowser"),My(e)):ky(e,t):Dy(e,t)}catch(n){return console.error("doOpenUrlForWxworkOrWedrive error",n),Dy(e,t)}}(c,e):Ky?function(e,t){var n=t.replace,r=t.windowFeatures,o=t.windowName;n?window.location.href=e:window.open(e,o,r)}(c,e):Hy?function(e,t){var n=t.replace,r=t.windowFeatures,o=t.windowName,i=t.supportIFrame,a=zg(i);n?a.location.href=e:a.open(function(e,t){var n=e;return t?(n.indexOf("?")>=0?n+="&".concat(t):n+="?".concat(t),n):n}(e,"opennew=1"),o,r)}(c,e):Ny(c,e,s))}o(18193);function zy(e,t){return d(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||(0,h.Z)(e,t)||v()}var $y=(0,ju.yh)("IConnectionControllerService"),Jy=function(e){return"".concat(String(e),"__locked")},Xy=function(e){return"".concat(String(e),"__result")};function em(){return function(e,t,n){var r=n.value,o=Jy(t),i=Xy(t);n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this[o]||(this[i]=r.call.apply(r,(0,kr.__spreadArray)([this],(0,kr.__read)(e),!1)),this[o]=!0),this[i]}}}function tm(e){return function(t,n,r){var o=r.value,i=Jy(e),a=Xy(e);r.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this[i]&&(this[i]=!1,this[a]=void 0),o.call.apply(o,(0,kr.__spreadArray)([this],(0,kr.__read)(e),!1))}}}var nm=function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}(),rm=function(){function e(){this.first=nm.Undefined,this.last=nm.Undefined,this.mSize=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.first===nm.Undefined},e.prototype.clear=function(){this.first=nm.Undefined,this.last=nm.Undefined,this.mSize=0},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.shift=function(){if(this.first!==nm.Undefined){var e=this.first.element;return this.remove(this.first),e}},e.prototype.pop=function(){if(this.last!==nm.Undefined){var e=this.last.element;return this.remove(this.last),e}},e.prototype[Symbol.iterator]=function(){var e;return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:e=this.first,t.label=1;case 1:return e===nm.Undefined?[3,3]:[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))},e.prototype.insert=function(e,t){var n=this,r=new nm(e);if(this.first===nm.Undefined)this.first=r,this.last=r;else if(t){var o=this.last;this.last=r,r.prev=o,o.next=r}else{var i=this.first;this.first=r,r.next=i,i.prev=r}this.mSize+=1;var a=!1;return function(){a||(a=!0,n.remove(r))}},e.prototype.remove=function(e){if(e.prev!==nm.Undefined&&e.next!==nm.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===nm.Undefined&&e.next===nm.Undefined?(this.first=nm.Undefined,this.last=nm.Undefined):e.next===nm.Undefined?(this.last=this.last.prev,this.last.next=nm.Undefined):e.prev===nm.Undefined&&(this.first=this.first.next,this.first.prev=nm.Undefined);this.mSize-=1},e}(),om=function(){function e(e){this.disposed=!1,this.options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this.mEvent||(this.mEvent=function(t,n,r){var o,i,a;e.listeners||(e.listeners=new rm);var s=e.listeners.isEmpty();s&&(null===(o=e.options)||void 0===o?void 0:o.onFirstListenerAdd)&&e.options.onFirstListenerAdd(e);var c=e.listeners.push(n?[t,n]:t);s&&(null===(i=e.options)||void 0===i?void 0:i.onFirstListenerDidAdd)&&e.options.onFirstListenerDidAdd(e),(null===(a=e.options)||void 0===a?void 0:a.onListenerDidAdd)&&e.options.onListenerDidAdd(e,t,n);var u={dispose:function(){var t;e.disposed||(c(),(null===(t=e.options)||void 0===t?void 0:t.onLastListenerRemove)&&(e.listeners&&!e.listeners.isEmpty()||e.options.onLastListenerRemove(e)));(0,Ar.markTracked)(u)},disposableId:"event"};return Array.isArray(r)&&r.push(u),(0,Ar.trackDisposable)(u),u}),this.mEvent},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new rm);try{for(var r=(0,kr.__values)(this.listeners),o=r.next();!o.done;o=r.next()){var i=o.value;this.deliveryQueue.push([i,e])}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}for(;this.deliveryQueue.size>0;){var a=(0,kr.__read)(this.deliveryQueue.shift(),2),s=(i=a[0],a[1]);try{"function"==typeof i?i.call(void 0,s):i[0].call(i[1],s)}catch(u){console.error(u)}}}},e.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},e}();function im(e,t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}function am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var sm;!function(e){e[e.USER_INITIATIVE=72105]="USER_INITIATIVE"}(sm||(sm={}));var cm=function(e){(0,c.Z)(n,e);var t=am(n);function n(e,o,i,a){var s;return(0,r.Z)(this,n),(s=t.call(this)).docMetaDomain=e,s.authDomain=o,s.collaborateDomain=i,s.likeDomain=a,s.onEnterOnlineEmitter=new om,s.onEnterOfflineEmitter=new om,s.onRoomStateChangeEmitter=new om,s.onNetReconnectedFailEmitter=new om,s.logger=new Lg("ConnectionControllerService").use("console"),s.onEnterOnline=s.onEnterOnlineEmitter.event,s.onEnterOffline=s.onEnterOfflineEmitter.event,s.onRoomStateChange=s.onRoomStateChangeEmitter.event,s.onNetReconnectedFail=s.onNetReconnectedFailEmitter.event,s.configEventHandlerMap(),s.configMsgHandlerMap(),s}return(0,a.Z)(n,[{key:"openRoom",value:function(){if(!this.connectionController)throw new Error("没有 connectionController 对象，需要先通过 initConnectionControllerWithClientVars 初始化");this.connectionController.connect()}},{key:"shutDown",value:function(e){if(!this.connectionController)throw new Error("没有 connectionController 对象，需要先通过 initConnectionControllerWithClientVars 初始化");var t=Object.assign({},e);t.errCode||(t.errCode=72105),this.connectionController.disconnect(t)}},{key:"setConnectionController",value:function(e){var t=this;this.connectionController=e,this.connectionController.onConnectionEvent((function(e){t.dispathEvent(e)}))}},{key:"dispose",value:function(){var e;ig((0,l.Z)(n.prototype),"dispose",this).call(this),null===(e=this.connectionController)||void 0===e||e.dispose(),this.connectionController=null}},{key:"init",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))}},{key:"getConnectionController",value:function(){return this.connectionController}},{key:"initConnectionControllerWithClientVars",value:function(e){var t=this,n={serverVars:e.collab_client_vars,uuId:e.userId+e.collab_client_vars.client.sid.slice(0,5),userid:e.userId,module:"ARK",uid:e.tinyid};this.connectionController=new _g.ConnectionController(n),this.connectionController.onConnectionEvent((function(e){t.dispathEvent(e)}))}},{key:"configEventHandlerMap",value:function(){var e=this;this.eventHandlerMap={onEnterOnline:function(){return e.onEnterOnlineEmitter.fire(void 0)},onEnterOffline:function(){return e.onEnterOfflineEmitter.fire(void 0)},onNetReconnectedFail:function(){return e.onNetReconnectedFailEmitter.fire(void 0)},onRoomStateChange:function(t){var n;e.onRoomStateChangeEmitter.fire(null===(n=t.data)||void 0===n?void 0:n.roomState)}}}},{key:"configMsgHandlerMap",value:function(){var e=this;this.msgHandlerMap={HANDLE_DELETE:function(){return e.handleDelete()},REVERT_MESSAGE:function(){return e.handleRevertMessage()},RIGHT_MESSAGE:function(t){return e.handleRightMessage(t)},TITLE_MESSAGE:function(t){return e.handleTitleMessage(t)},USER_NEWINFO:function(t){return e.handleNewUserInfo(t)},USER_NEWINFOS:function(t){return e.handleNewUserInfos(t)},USER_LEAVE:function(t){return e.handleUserLeave(t)},USER_LEAVES:function(t){return e.handleUserLeaves(t)},COMMERCIALIZE_MESSAGE:function(t){return e.handleCommerCializeMessage(t)},COMMERICILIZE_MESSAGE:function(t){return e.handleCommerIcilizeMessage(t)},MARK_MESSAGE:function(t){return e.handleMarkMessage(t)},COMM_NOTICE:function(t){return e.handleCommNotice(t)}}}},{key:"onRoomShutDown",value:function(e){if(e){var t=e.errCode;72105!==(void 0===t?0:t)||this.logger.info("info  = onRoomShutDown = type or errCode === USER_SHUTDOWN_CODE")}else this.logger.info("info  = onRoomShutDown = type or closeReason is null")}},{key:"onReceiveMsgFromServer",value:function(e){if((null==e?void 0:e.type)&&im("Array",null==e?void 0:e.data)){var t=e.type,n=e.data,r=this.msgHandlerMap[t];r&&r(n)}else this.logger.error("error = onReceiveMsgFromServer, type or receiveData.data is null")}},{key:"dispathEvent",value:function(e){var t,n,r=this.eventHandlerMap[e.event];r?r(e):"OnReceiveMsgFromServer"===e.event?this.onReceiveMsgFromServer(null===(t=e.data)||void 0===t?void 0:t.serverMsg):"OnRoomShutDown"===e.event&&this.onRoomShutDown(null===(n=e.data)||void 0===n?void 0:n.closeReason)}},{key:"handleDelete",value:function(){this.docMetaDomain.docMetaEntity.handleNoticeDeleted()}},{key:"handleRevertMessage",value:function(){this.logger.debug("REVERT_MESSAGE")}},{key:"handleRightMessage",value:function(e){var t=this;this.logger.debug("RIGHT_MESSAGE"),e.forEach((function(e){var n;t.authDomain.authAggregate.authInfoEntity.onReceiveMessageFromServer(null===(n=null==e?void 0:e.body)||void 0===n?void 0:n.notice,t.connectionController)}))}},{key:"handleTitleMessage",value:function(e){var t=this;e.forEach((function(e){var n=e.body.notice;t.docMetaDomain.docMetaEntity.handleNoticeTitleChanged(n.title)}))}},{key:"handleNewUserInfo",value:function(e){var t=this;e.forEach((function(e){var n=e.body.notice,r={sessionType:n.session_type,userId:n.userId,uuId:n.uuId,vipInfo:n.vip_info},o={memCount:n.mem_count,notices:[r]};t.collaborateDomain.collaborateAggregate.handleUserComeIn(o)}))}},{key:"handleNewUserInfos",value:function(e){var t=this;e.forEach((function(e){var n=e.body,r=n.notices,o=n.mem_count,i=[];null==r||r.forEach((function(e){var t={sessionType:e.session_type,userId:e.userId,uuId:e.uuId,vipInfo:e.vip_info};i.push(t)}));var a={memCount:o,notices:i};t.collaborateDomain.collaborateAggregate.handleUserComeIn(a)}))}},{key:"handleUserLeave",value:function(e){var t=this;e.forEach((function(e){var n=e.body.notice,r={sessionType:n.session_type,userId:n.userId,uuId:n.uuId,vipInfo:n.vip_info},o={memCount:n.mem_count,notices:[r]};t.collaborateDomain.collaborateAggregate.handleUserLeave(o)}))}},{key:"handleUserLeaves",value:function(e){var t=this;e.forEach((function(e){var n=e.body,r=n.notices,o=n.mem_count,i=[];null==r||r.forEach((function(e){var t={sessionType:e.session_type,userId:e.userId,uuId:e.uuId,vipInfo:e.vip_info};i.push(t)}));var a={memCount:o,notices:i};t.collaborateDomain.collaborateAggregate.handleUserLeave(a)}))}},{key:"handleCommerCializeMessage",value:function(e){var t=this;this.likeDomain.likeEntity.handleRealTimeLikeMessage(e),e.forEach((function(e){t.collaborateDomain.collaborateAggregate.handleCommerIcilizeMessage(e)}))}},{key:"handleCommerIcilizeMessage",value:function(e){var t=this;e.forEach((function(e){t.collaborateDomain.collaborateAggregate.handleCommerIcilizeMessage(e)}))}},{key:"handleMarkMessage",value:function(e){this.logger.debug(e)}},{key:"handleCommNotice",value:function(e){this.logger.debug(e)}}]),n}(Ar.Disposable);(0,kr.__decorate)([tm("init"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",void 0)],cm.prototype,"dispose",null),(0,kr.__decorate)([em(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],cm.prototype,"init",null),cm=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,cg),(0,kr.__param)(2,ug),(0,kr.__param)(3,lg),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object,Object])],cm);var um=og.getConfig('npm["@tencent/ark-application"]'),lm=window.location.host;null==um||um.TENCENT_DOCS_HOME,new RegExp((null==um?void 0:um.TENCENT_DOCS_EDITOR_REGEXP)||"docs\\.qq\\.com\\/.+\\/[BD].+"),null==um||um.WECOM_DOCS_HOME,null==um||um.WECOM_DOCS_EDITOR;null==um||um.FEEDBACK_URL;var fm=(null==um?void 0:um.EXACTLY_PARENT_TOC_COOKIE_DOMAIN)||"qq.com",dm=(null==um?void 0:um.PARENT_TOC_COOKIE_DOMAIN)||".qq.com",pm=(null==um?void 0:um.TOC_COOKIE_DOMAIN)||".docs.qq.com",hm=(null==um?void 0:um.PARENT_TOB_COOKIE_DOMAIN)||".weixin.qq.com",vm=(null==um?void 0:um.TOB_COOKIE_DOMAIN)||".doc.weixin.qq.com",gm=(null==um?void 0:um.WECOM_HOME_PAGE)||"https://doc.weixin.qq.com/home/recent";null==um||um.PAGE_JUMP_TO_C,new RegExp((null==um?void 0:um.TOC_HOME_PAGE_REGEXP)||"docs\\.qq\\.com\\/desktop(\\/)?","i");var ym=(null==um?void 0:um.TOB_LOGIN_PAGE_URL)||"https://doc.weixin.qq.com/disklogin/login",mm=(null==um?void 0:um.TOC_HOME_PAGE)||"https://docs.qq.com/desktop",_m=(null==um?void 0:um.C_JUMP_TO_B_URL)||"https://docs.qq.com/scenario/page-jump-to-b.html";null==um||um.C_JUMP_TOB_LOGIN_PAGE_URL;var bm=(null==um?void 0:um.C_LOGIN_URL)||"https://docs.qq.com/scenario/login.html";new RegExp((null==um?void 0:um.TOB_HOME_PAGE_REGEXP)||"doc\\.weixin\\.qq\\.com\\/home\\/recent(\\/)?","i"),new RegExp((null==um?void 0:um.TOB_MALL_PAGE_REGEXP)||"doc\\.weixin\\.qq\\.com\\/mall\\/index(\\/)?","i"),new RegExp((null==um?void 0:um.TOC_MALL_PAGE_REGEXP)||"docs\\.qq\\.com\\/mall(\\/)?","i"),null==um||um.TOC_MALL_PAGE;var wm=Symbol.for("swr-decorator:fetcherMap");function Em(e){return function(t,n){var r=Reflect.getMetadata(wm,t)||new Map;r.set(e,n),Reflect.defineMetadata(wm,r,t)}}var Sm=Symbol.for("swr-decorator:properties");function Om(e,t){var n,r=null!==(n=Reflect.getMetadata(Sm,e))&&void 0!==n?n:[];r.push(t),Reflect.defineMetadata(Sm,r,e)}function Im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var Rm=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.Z)(this,e),this.value=t,this.fetcher=n,this.subscribers=new Set,this.validating=!1,this.firstRequire=!1,this.updatePropertiesOnFirstRequire=o}return(0,a.Z)(e,[{key:"getValue",value:function(){var e=this;return this.updatePropertiesOnFirstRequire&&!this.firstRequire&&(setTimeout((function(){return e.revalidate()}),0),this.firstRequire=!0),this.value}},{key:"getValueMutate",value:function(){return this.revalidate(),this.value}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.value=e,t||this.subscribers.forEach((function(t){return t(e)})),!0}},{key:"addSubscriber",value:function(e){this.subscribers.add(e)}},{key:"removeSubscriber",value:function(e){this.subscribers.delete(e)}},{key:"isValidating",value:function(){return this.validating}},{key:"revalidate",value:function(){var e=this;this.validating||this.fetcher&&(this.validating=!0,this.fetcher().then((function(t){e.validating=!1,e.setValue(t)})).catch((function(t){throw e.validating=!1,t})))}}]),e}();function Cm(e){var t=(null!=e?e:{}).updatePropertiesOnFirstRequire;return function(e){var n=new Map;return function(e){(0,c.Z)(i,e);var o=Im(i);function i(){var e,a,c;(0,r.Z)(this,i);for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];e=o.call.apply(o,[this].concat(l));var d={},p=null!==(a=Reflect.getMetadata(wm,(0,s.Z)(e)))&&void 0!==a?a:new Map;return(null!==(c=Reflect.getMetadata(Sm,(0,s.Z)(e)))&&void 0!==c?c:[]).forEach((function(r){var o,i=p.get(r),a=null===(o=e[i])||void 0===o?void 0:o.bind((0,s.Z)(e)),c=new Rm(e[r],a,t);n.set(r,c),d[r]={get:function(){return c.getValue()},set:function(e){return c.setValue(e),!0}},e[i]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,kr.__awaiter)((0,s.Z)(e),void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.apply(void 0,n);case 2:return t=e.sent,c.setValue(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))}})),Object.defineProperties((0,s.Z)(e),d),e}return(0,a.Z)(i,[{key:"isValidating",value:function(e){var t,r;return null!==(r=null===(t=n.get(e))||void 0===t?void 0:t.isValidating())&&void 0!==r&&r}},{key:"subscribe",value:function(e,t){var r;return null===(r=n.get(e))||void 0===r||r.addSubscriber(t),function(){var r;null===(r=n.get(e))||void 0===r||r.removeSubscriber(t)}}},{key:"mutate",value:function(e,t){return(0,kr.__awaiter)(this,arguments,void 0,(function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return gs().mark((function o(){var i,a;return gs().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:void 0!==t&&(null===(i=n.get(e))||void 0===i||i.setValue(t,!0)),r&&(null===(a=n.get(e))||void 0===a||a.revalidate());case 2:case"end":return o.stop()}}),o)}))()}))}}]),i}(e)}}var Tm={nick:"nickname",avatar:"avatarURI",uType:"accountType",phone:"phoneNumber",isHasPassword:"enabled",utype:"accountType",uin:"qq"},xm={raw:Tm,words:Object.keys(Tm)},Am={};function km(){return"undefined"!=typeof window}function Dm(){return void 0!==o.g}var Mm=km()?window:Dm()?o.g:km||"undefined"==typeof self?(Dm()&&o.g.describe,Am):self;function Pm(e,t){return null!==e&&Object.prototype.hasOwnProperty.call(e,t)}var Nm="location";function Lm(){return Pm(Mm,Nm)?location.search:""}function jm(e,t){if(void 0===t&&(t={shouldDecodeURI:!1}),!Pm(Mm,Nm))return"";var n=new RegExp("(\\?|&)".concat(e,"=([^&]*)(#|&|$)")),r=((null==t?void 0:t.shouldDecodeURI)?decodeURIComponent(Lm()):Lm()).match(n);return r?decodeURIComponent(r[2]):""}var Um,Fm=["/doc/","/sheet/","/slide/","/form/","/mind/","/flowchart/","/pdf/"],Bm=function(){function e(){if((0,r.Z)(this,e),jg.default.isMiniProgram)return new qm;try{var t=new mu({type:this.isSupportClientDB()?gu.nativeDB:gu.indexDB,disableAutoOpen:!1}).storage.collection(us);this.userInfoStorage=new bu(t),this.onOfflineState=!1}catch(n){return console.error(n),new qm}}return(0,a.Z)(e,[{key:"setOnOfflineState",value:function(e){this.onOfflineState=e}},{key:"addUserInfo",value:function(e){if(Gg.isOnline&&!this.onOfflineState&&(null==e?void 0:e.tinyId)&&e.tinyId!==fg){var t=new us(Object.assign(Object.assign({},e),this.getDocInfo()));this.userInfoStorage.addUserInfo(t)}}},{key:"updateUserInfo",value:function(e){Gg.isOnline&&(e.tinyId===fg||this.onOfflineState||this.userInfoStorage.updateUserInfo({tinyId:e.tinyId},e))}},{key:"getUserInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=jm("u"))){e.next=7;break}return e.t0=this,e.next=5,this.userInfoStorage.getUserInfoByNowUserIndex(t);case 5:return e.t1=e.sent,e.abrupt("return",e.t0.changeOfflineData.call(e.t0,e.t1));case 7:return n=this.getDocInfo(),r=n.pageType,o=n.docId,e.t2=this,e.next=11,this.userInfoStorage.getUserInfoByDocInfo(r,o);case 11:return e.t3=e.sent,e.abrupt("return",e.t2.changeOfflineData.call(e.t2,e.t3));case 13:case"end":return e.stop()}}),e,this)})))}},{key:"changeOfflineData",value:function(e){if(!e)return null;var t={tinyId:e.tinyId,corpId:e.corpId,corpName:e.corpName,englishName:e.englishName,loginType:e.loginType,uidSource:e.uidSource,openId:e.openId,uin:e.uin,userId:e.userId,userName:e.userName,userPic:e.userPic,nowUserIndex:e.nowUserIndex,settings:e.settings,wedriveUin:e.wedriveUin||""},n=e.bindUserInfo;return{userInfo:t,vipInfo:e.vipUserInfo,bindUserInfo:n}}},{key:"isSupportClientDB",value:function(){var e=/_tdocFlag\/(\d+)/.exec(navigator.userAgent);return!!(null==e?void 0:e[1])&&(2&parseInt(e[1],10))>0}},{key:"getDocInfo",value:function(){var e=null===globalThis||void 0===globalThis?void 0:globalThis.location.pathname.split("/"),t=e[1];return Fm.filter((function(e){return globalThis.location.pathname.includes(e)})).length>0?{pageType:t,docId:e[2],updateTime:Date.now().toString()}:{pageType:t,docId:t,updateTime:Date.now().toString()}}}]),e}(),qm=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"setOnOfflineState",value:function(){}},{key:"addUserInfo",value:function(){}},{key:"updateUserInfo",value:function(){}},{key:"getUserInfo",value:function(){return Promise.resolve(null)}}]),e}();!function(e){e.SUCCESS="SUCCESS",e.MAIN_SUCCESS_SECOND_FAIL="MAIN_SUCCESS_SECOND_FAIL",e.MAIN_FAIL_SECOND_SUCCESS="MAIN_FAIL_SECOND_SUCCESS",e.FAIL="FAIL",e.NOT_EXIST="NOT_EXIST"}(Um||(Um={}));var Wm,Vm=function(){function e(t,n){(0,r.Z)(this,e),this.accountDomainService=t,this.messageDomainService=n}return(0,a.Z)(e,[{key:"getPersonalAccountList",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getFetchAccountList(e,t);case 2:return this.fetchAccountList=n.sent,n.abrupt("return",this.mergeAccountList(this.fetchAccountList,[]));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"getFetchAccountList",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.accountDomainService.accountAggregate.accountListEntity.getAccountList(e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"deleteAccountForList",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r,o;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.uid,r=e.userIndex,o=!0,!this.isHasSameTinyID(this.fetchAccountList,n)){t.next=7;break}return t.next=6,this.deleteFetchAccountList(e);case 6:o=t.sent;case 7:return o&&Qg().postMessage({type:ag.LOGOUT,data:r,needCookie:!0}),t.abrupt("return",this.changeDeleteAccountState(o,!0));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"changeSign",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.userIndex){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.accountDomainService.accountAggregate.accountListEntity.changeSign(n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"dispose",value:function(){this.messageDomainService.getEnterpriseAccountListMessage.dispose()}},{key:"changeDeleteAccountState",value:function(e,t){return e&&t?Um.SUCCESS:e?Um.MAIN_SUCCESS_SECOND_FAIL:t?Um.MAIN_FAIL_SECOND_SUCCESS:Um.FAIL}},{key:"deleteFetchAccountList",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.userIndex){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.accountDomainService.accountAggregate.accountListEntity.delAccountForList(n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"mergeAccountList",value:function(e,t){var n=this;return t.reduce((function(e,t){return n.isHasSameTinyID(e,t.uid)?e:[].concat((0,Hg.Z)(e),[t])}),e)}},{key:"isHasSameTinyID",value:function(e,t){return e.some((function(e){return e.uid===t}))}},{key:"getEnterpriseAccountList",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.messageDomainService.getEnterpriseAccountListMessage.connect(),this.getIframeMountMessage(),this.messageDomainService.getEnterpriseAccountListMessage.createGetAccountListIframe((function(){n.messageDomainService.getEnterpriseAccountListMessage.sendAccountListMessage()})),e.next=5,this.getAccountListMessage();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"deleteEnterpriseAccountList",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cookie){t.next=3;break}return t.abrupt("return",!1);case 3:return this.messageDomainService.getEnterpriseAccountListMessage.sendDeleteAccountMessage(n),t.next=6,this.getDeleteAccountMessage();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getAccountListMessage",value:function(){var e=this;return new Promise((function(t){e.messageDomainService.getEnterpriseAccountListMessage.getAccountListMessage((function(e){var n=e.data.userList;t(n)}))}))}},{key:"getDeleteAccountMessage",value:function(){var e=this;return new Promise((function(t){e.messageDomainService.getEnterpriseAccountListMessage.getDeleteAccountMessage((function(){t(!0)}))}))}},{key:"getIframeMountMessage",value:function(){var e=this;return new Promise((function(t){e.messageDomainService.getEnterpriseAccountListMessage.getIframeMountMessage((function(){t(!0),e.messageDomainService.getEnterpriseAccountListMessage.sendAccountListMessage()}))}))}}]),e}();Vm=(0,kr.__decorate)([(0,kr.__param)(0,vg),(0,kr.__param)(1,gg),(0,kr.__metadata)("design:paramtypes",[Object,Object])],Vm),function(e){e.BIND_CGI_SUCCESS="BIND_CGI_SUCCESS",e.CHECK_KEY_IS_READY="CHECK_KEY_IS_READY",e.BIND_POLLING_RUNNING="BIND_POLLING_RUNNING",e.BIND_POLLING_FINISH="BIND_POLLING_FINISH",e.BIND_TIMEOUT="BIND_TIMEOUT",e.ERROR="ERROR"}(Wm||(Wm={}));var Gm,Hm,Km=function(){function e(t){(0,r.Z)(this,e),this.accountDomainService=t,this.isExpired=!1}return(0,a.Z)(e,[{key:"getBindingQQAccountInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountDomainService.accountAggregate.bindingQQInfo();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getStatus",value:function(e){var t=this;return this.runBindProcess(e),{dispose:function(){return t.dispose()}}}},{key:"runBindProcess",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.accountDomainService.accountAggregate.accountRepository.bindUserInfo();case 2:n=t.sent,0===(null==(r=n.resData)?void 0:r.cgicode)?(e(Wm.BIND_CGI_SUCCESS),this.getKey(e)):e(Wm.ERROR,{errBindQQStatus:Wm.BIND_CGI_SUCCESS});case 5:case"end":return t.stop()}}),t,this)})))}},{key:"dispose",value:function(){this.pollingTimer&&clearTimeout(this.pollingTimer),this.isExpired=!0}},{key:"getKey",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r,o;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.accountDomainService.accountAggregate.userInfo.nowUserIndex,t.next=3,this.accountDomainService.accountAggregate.accountRepository.getBindWxQrCode(n);case 3:if(r=t.sent,0!==(null==(o=r.resData)?void 0:o.cgicode)){t.next=9;break}return e(Wm.CHECK_KEY_IS_READY),this.runPolling(o.data.checkKey,e),t.abrupt("return");case 9:e(Wm.ERROR,{errBindQQStatus:Wm.CHECK_KEY_IS_READY});case 10:case"end":return t.stop()}}),t,this)})))}},{key:"runPolling",value:function(e,t){var n=this;this.isExpired||(this.pollingTimer=setTimeout((function(){return(0,kr.__awaiter)(n,void 0,void 0,gs().mark((function n(){var r,o;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.accountDomainService.accountAggregate.accountRepository.getBindProcess(e);case 2:if(r=n.sent,o=r.resData,clearTimeout(this.pollingTimer),0!==(null==o?void 0:o.cgicode)){n.next=15;break}if(!o.data.isFinish){n.next=9;break}return t(Wm.BIND_POLLING_FINISH),n.abrupt("return");case 9:if(!(Number(o.data.lastUpdateRs)>15)){n.next=12;break}return t(Wm.BIND_POLLING_FINISH,{progress:this.getProgress(o.data.totalNum,o.data.succNum)}),n.abrupt("return");case 12:return t(Wm.BIND_POLLING_RUNNING,{progress:this.getProgress(o.data.totalNum,o.data.succNum)}),this.runPolling(e,t),n.abrupt("return");case 15:t(Wm.ERROR,{errBindQQStatus:Wm.BIND_POLLING_RUNNING});case 16:case"end":return n.stop()}}),n,this)})))}),1e3))}},{key:"getProgress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?Math.floor(t/e):1}}]),e}();function Qm(e,t){var n,r=this;return Hm=t,function(o){return function i(){return(0,kr.__awaiter)(r,void 0,void 0,gs().mark((function r(){var a,s,c;return gs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(Hm===t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.loginRepository.updateWeChatLoginQRCodeStatus(t);case 4:if(a=r.sent,s=a.error,c=a.resData,!s){r.next=10;break}return o({status:Gm.ERROR}),r.abrupt("return");case 10:if(!(null==c?void 0:c.data.status.isFinish)){r.next=13;break}return o({status:Gm.USER_HAS_CONFIRMED}),r.abrupt("return");case 13:n=setTimeout(i,1e3);case 14:case"end":return r.stop()}}),r)})))}(),setTimeout((function(){Hm===t&&o({status:Gm.CODE_WAS_EXPIRED}),clearTimeout(n)}),58e3),function(){return clearTimeout(n)}}}Km=(0,kr.__decorate)([(0,kr.__param)(0,vg),(0,kr.__metadata)("design:paramtypes",[Object])],Km),function(e){e.CODE_IS_READY="CODE_IS_READY",e.USER_HAS_SCANNED="USER_HAS_SCANNED",e.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",e.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",e.ERROR="ERROR"}(Gm||(Gm={}));var Ym=function(){function e(t,n){(0,r.Z)(this,e),this.accountDomainService=t,this.loginDomainService=n}return(0,a.Z)(e,[{key:"getQRCode",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.accountDomainService.accountAggregate.userInfo.nowUserIndex,e.next=3,this.accountDomainService.accountAggregate.accountRepository.getBindWxQrCode(t);case 3:if(n=e.sent,r=n.error,o=n.resData,!r){e.next=7;break}throw r;case 7:return e.abrupt("return",this.convertWeChatQRCodeResponse(null==o?void 0:o.data));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"convertWeChatQRCodeResponse",value:function(e){var t=null!=e?e:{},n=t.img,r=t.checkKey;if(!n||!r)throw Error("获取微信二维码失败");return{id:r,image:"data:image/png;base64,".concat(n),subscribe:Qm(this.loginDomainService.loginAggregate,r)}}}]),e}();Ym=(0,kr.__decorate)([(0,kr.__param)(0,vg),(0,kr.__param)(1,yg),(0,kr.__metadata)("design:paramtypes",[Object,Object])],Ym);var Zm,zm,$m=function(){function e(t,n){(0,r.Z)(this,e),this.accountDomainService=t,this.loginDomainService=n}return(0,a.Z)(e,[{key:"qqBind",value:function(e){return this.qqBindApplication||(this.qqBindApplication=new Km(this.accountDomainService)),this.qqBindApplication.getStatus(e)}},{key:"wechatBind",value:function(){return this.wechatBindApplication=new Ym(this.accountDomainService,this.loginDomainService),this.wechatBindApplication.getQRCode()}},{key:"getQQBindingInfo",value:function(){return this.qqBindApplication||(this.qqBindApplication=new Km(this.accountDomainService)),this.qqBindApplication.getBindingQQAccountInfo()}},{key:"getCurrentAccountBindingInfo",value:function(){return this.accountDomainService.accountAggregate.currentLoginAccountBindInfo()}}]),e}();$m=(0,kr.__decorate)([(0,kr.__param)(0,vg),(0,kr.__param)(1,yg),(0,kr.__metadata)("design:paramtypes",[Object,Object])],$m),function(e){e.CODE_IS_READY="CODE_IS_READY",e.USER_HAS_SCANNED="USER_HAS_SCANNED",e.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.ERROR="ERROR"}(Zm||(Zm={})),function(e){e[e.WECHAT_LOGIN_CASE_DEFAULT=0]="WECHAT_LOGIN_CASE_DEFAULT",e[e.WECHAT_LOGIN_CASE_H5=1]="WECHAT_LOGIN_CASE_H5"}(zm||(zm={}));var Jm,Xm=function(){function e(t){(0,r.Z)(this,e),this.loginDomainService=t,this.isExpired=!1}return(0,a.Z)(e,[{key:"login",value:function(e){var t=this;return this.runLoginProcess(e),{dispose:function(){return t.dispose()}}}},{key:"dispose",value:function(){this.qrTimer&&clearTimeout(this.qrTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.isExpired=!0}},{key:"runLoginProcess",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getWechatLoginQRcode(e);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:this.isExpired=!1,this.runPolling(n,e),this.runQRTimer(e);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"getWechatLoginQRcode",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r,o,i;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loginDomainService.loginAggregate.loginRepository.getWeChatLogInQRCodeURI();case 2:if(n=t.sent,0!==(null==(r=n.resData)?void 0:r.retcode)){t.next=11;break}return o=r.data.checkKey,t.next=8,this.getQRcode(o,e);case 8:return i=t.sent,e(Zm.CODE_IS_READY,{qrCodeImage:i}),t.abrupt("return",r.data.checkKey);case 11:return e(Zm.ERROR,{errorQrQQLoginStatus:Zm.CODE_IS_READY}),t.abrupt("return","");case 13:case"end":return t.stop()}}),t,this)})))}},{key:"getQRcode",value:function(e,t){return new Promise((function(n){Zg().make("https://".concat(lm,"/scenario/qr-h5login.html?key=").concat(e)).then((function(e){return n(e)})).catch((function(){t(Zm.ERROR,{errorQrQQLoginStatus:Zm.CODE_IS_READY})}))}))}},{key:"runPolling",value:function(e,t){var n=this;this.isExpired||(this.pollingTimer=setTimeout((function(){return(0,kr.__awaiter)(n,void 0,void 0,gs().mark((function n(){var r,o,i,a,s,c;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loginDomainService.loginAggregate.loginRepository.updateEnterpriseWeChatLoginQRCodeStatus(e);case 2:if(i=n.sent,0===(null==(a=i.resData)?void 0:a.retcode)){n.next=9;break}return t(Zm.ERROR,{errorQrQQLoginStatus:Zm.USER_HAS_SCANNED}),clearTimeout(this.qrTimer),clearTimeout(this.pollingTimer),n.abrupt("return");case 9:if(s=null!==(o=null===(r=null==a?void 0:a.data)||void 0===r?void 0:r.status)&&void 0!==o?o:{},c=s.loginScanFlag,!s.login){n.next=15;break}return t(Zm.LOGIN_SUCCESS,{changeKey:e}),clearTimeout(this.qrTimer),clearTimeout(this.pollingTimer),n.abrupt("return");case 15:c&&t(Zm.USER_HAS_SCANNED),clearTimeout(this.pollingTimer),this.runPolling(e,t);case 18:case"end":return n.stop()}}),n,this)})))}),1e3))}},{key:"runQRTimer",value:function(e){var t=this;this.qrTimer=setTimeout((function(){e(Zm.CODE_WAS_EXPIRED),t.isExpired=!0,clearTimeout(t.qrTimer)}),58e3)}}]),e}();Xm=(0,kr.__decorate)([(0,kr.__param)(0,yg),(0,kr.__metadata)("design:paramtypes",[Object])],Xm),function(e){e.UPDATE_USER_INDEX="account:update-user-index",e.DELETE_USER_INDEX="account:delete-user-index",e.SWITCH_USER_INDEX="account:switch-user-index"}(Jm||(Jm={}));var e_,t_="https://".concat(lm,"/tim/docs/components/BindQQ.html?type=login"),n_=function(e){return t_+(e?"&autojump=1":"")};!function(e){e.IFRAME_MESSAGE_CONNECTED="IFRAME_MESSAGE_CONNECTED",e.IFRAME_DOM_MOUNTED="IFRAME_DOM_MOUNTED",e.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.ERROR="ERROR"}(e_||(e_={}));var r_=function(){function e(t,n){(0,r.Z)(this,e),this.loginDomainService=t,this.messageDomainService=n}return(0,a.Z)(e,[{key:"login",value:function(e,t){var n=this;return this.runLoginProcess(e,t),{dispose:function(){return n.disposeQQLoginIframe()}}}},{key:"disposeQQLoginIframe",value:function(){this.messageDomainService.qqMessage.qqLoginMessage.dispose()}},{key:"loadQQLoginIframe",value:function(e,t){var n,r,o;this.messageDomainService.qqMessage.qqLoginMessage.connect(),this.getLoadQQLoginIframeMessage(t),this.messageDomainService.qqMessage.qqLoginMessage.createQQLoginIframe(e.qqPtLoginIframeRenderDom,this.getQQLoginIframeSrc(null!==(n=null==e?void 0:e.useOauth)&&void 0!==n&&n,null===(r=e.isCheckAutoLogin)||void 0===r||r,null!==(o=e.isJumpFromQQClient)&&void 0!==o&&o,e.isJumpFromQQClient?jm("jumpuin"):""))}},{key:"runLoginProcess",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){var r;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.loadQQLoginIframe(e,t),n.next=3,this.getQQLoginSuccessMessage(t);case 3:if(r=n.sent,!e.disableUserInfoAutoUpdating){n.next=7;break}return t(e_.LOGIN_SUCCESS,{}),n.abrupt("return");case 7:this.checkQQLogin(t,r);case 8:case"end":return n.stop()}}),n,this)})))}},{key:"getQQLoginIframeSrc",value:function(e,t,n,r){var o=e?function(e){return"https://graph.qq.com/oauth2.0/authorize?which=Login&display=pc&response_type=code&theme=10&client_id=101458937&redirect_uri=".concat(encodeURIComponent(e),"&state=state")}(n_(n)):function(e,t){return"https://xui.ptlogin2.qq.com/cgi-bin/xlogin?theme=4&appid=1600000931&pt_no_auth=1&daid=536&link_target=blank&target=self&hide_close_icon=1&style=20&low_login_enable=".concat(e?1:0,"&low_login_foreced=1&low_login_hour=720&hide_border=1&s_url=").concat(encodeURIComponent(t),"&pt_isdocs=0")}(t,n_(n));return r?"".concat(o,"&jumpuin=").concat(r):o}},{key:"getLoadQQLoginIframeMessage",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.messageDomainService.qqMessage.qqLoginMessage.getQQIframeMessage((function(){e(e_.IFRAME_DOM_MOUNTED)}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getQQLoginSuccessMessage",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n=this;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){n.messageDomainService.qqMessage.qqLoginMessage.getQQLoginSuccessMessage((function(n){e(e_.USER_HAS_CONFIRMED);var r=n.data;if("string"==typeof r&&r.startsWith("login qq oauth success")&&r.includes("code=")){var o=r.slice(r.indexOf("code=")+5);t({success:!0,code:o})}t({success:!0})}))})));case 1:case"end":return t.stop()}}),t)})))}},{key:"checkQQLogin",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){var r,o,i,a,s,c;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s={},!t.code){n.next=7;break}return n.next=4,this.loginDomainService.loginAggregate.loginRepository.checkQQOAuthLogin(t.code);case 4:s=n.sent,n.next=10;break;case 7:return n.next=9,this.loginDomainService.loginAggregate.loginRepository.checkQQLogin();case 9:s=n.sent;case 10:if(!(null==(c=s.resData)?void 0:c.data.userIndex)){n.next=15;break}return e(e_.LOGIN_SUCCESS,{userIndex:null==c?void 0:c.data.userIndex}),null===(o=null===(r=navigator.serviceWorker)||void 0===r?void 0:r.controller)||void 0===o||o.postMessage({type:Jm.SWITCH_USER_INDEX,data:{userIndex:c.data.userIndex,url:location.href}}),n.abrupt("return");case 15:if(0!==(null==c?void 0:c.cgicode)){n.next=19;break}return e(e_.LOGIN_SUCCESS),null===(a=null===(i=navigator.serviceWorker)||void 0===i?void 0:i.controller)||void 0===a||a.postMessage({type:Jm.SWITCH_USER_INDEX,data:{url:location.href}}),n.abrupt("return");case 19:e(e_.ERROR,{errorQrQQLoginStatus:e_.LOGIN_SUCCESS});case 20:case"end":return n.stop()}}),n,this)})))}}]),e}();r_=(0,kr.__decorate)([(0,kr.__param)(0,yg),(0,kr.__param)(1,gg),(0,kr.__metadata)("design:paramtypes",[Object,Object])],r_);var o_=function(){function e(t,n,o){(0,r.Z)(this,e),this.messageDomainService=t,this.loginDomainService=n,this.accountDomainService=o,this.isExpired=!1}return(0,a.Z)(e,[{key:"login",value:function(e,t){var n=this;return this.runLoginProcess(e,t),{dispose:function(){return n.dispose()}}}},{key:"dispose",value:function(){this.qrTimer&&clearTimeout(this.qrTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.isExpired=!0}},{key:"runLoginProcess",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){var r;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(null==t?void 0:t.useOfficialAccountOrH5)?this.getWechatLoginQRUrl(e,t):this.getWechatLoginQRcode(e);case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return");case 5:this.isExpired=!1,this.runPolling(r,e),this.runQRTimer(r,e);case 8:case"end":return n.stop()}}),n,this)})))}},{key:"getWechatLoginQRcode",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loginDomainService.loginAggregate.loginRepository.getWeChatLogInQRCodeURI();case 2:if(n=t.sent,0!==(null==(r=n.resData)?void 0:r.retcode)){t.next=7;break}return e(Zm.CODE_IS_READY,{qrCodeImage:"data:image/png;base64,".concat(r.data.img),checkKey:r.data.checkKey}),t.abrupt("return",r.data.checkKey);case 7:return e(Zm.ERROR,{errorQrQQLoginStatus:Zm.CODE_IS_READY}),t.abrupt("return","");case 9:case"end":return t.stop()}}),t,this)})))}},{key:"getWechatLoginQRUrl",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){var r,o;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loginDomainService.loginAggregate.loginRepository.getWeChatLogInQRURI(null==t?void 0:t.wechatLoginCase);case 2:if(r=n.sent,0!==(null==(o=r.resData)?void 0:o.retcode)){n.next=7;break}return e(Zm.CODE_IS_READY,{qrCodeUrl:o.data.url,checkKey:o.data.checkKey}),n.abrupt("return",o.data.checkKey);case 7:return e(Zm.ERROR,{errorQrQQLoginStatus:Zm.CODE_IS_READY}),n.abrupt("return","");case 9:case"end":return n.stop()}}),n,this)})))}},{key:"runPolling",value:function(e,t){var n=this,r=this.accountDomainService.accountAggregate.userInfo.nowUserIndex;this.isExpired||(this.pollingTimer=setTimeout((function(){return(0,kr.__awaiter)(n,void 0,void 0,gs().mark((function n(){var o,i,a,s,c,u,l,f;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loginDomainService.loginAggregate.loginRepository.updateWeChatLoginQRCodeStatus(e);case 2:if(c=n.sent,0===(null==(u=c.resData)?void 0:u.retcode)){n.next=10;break}return Qg().postMessage({type:ag.LOGIN,data:r,needCookie:!0}),t(Zm.ERROR,{errorQrQQLoginStatus:Zm.USER_HAS_SCANNED,checkKey:e}),clearTimeout(this.qrTimer),clearTimeout(this.pollingTimer),n.abrupt("return");case 10:if(l=null!==(i=null===(o=null==u?void 0:u.data)||void 0===o?void 0:o.status)&&void 0!==i?i:{},f=l.loginScanFlag,!l.login){n.next=18;break}return Qg().postMessage({type:ag.LOGIN,data:r,needCookie:!0}),t(Zm.LOGIN_SUCCESS,{userIndex:u.data.userIndex,checkKey:e}),clearTimeout(this.qrTimer),clearTimeout(this.pollingTimer),null===(s=null===(a=navigator.serviceWorker)||void 0===a?void 0:a.controller)||void 0===s||s.postMessage({type:Jm.SWITCH_USER_INDEX,data:{userIndex:u.data.userIndex,url:location.href}}),n.abrupt("return");case 18:f&&t(Zm.USER_HAS_SCANNED,{checkKey:e}),clearTimeout(this.pollingTimer),this.runPolling(e,t);case 21:case"end":return n.stop()}}),n,this)})))}),1e3))}},{key:"runQRTimer",value:function(e,t){var n=this;this.qrTimer=setTimeout((function(){t(Zm.CODE_WAS_EXPIRED,{checkKey:e}),n.isExpired=!0,clearTimeout(n.qrTimer)}),58e3)}}]),e}();o_=(0,kr.__decorate)([(0,kr.__param)(0,gg),(0,kr.__param)(1,yg),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],o_);var i_;!function(e){e.IFRAME_MESSAGE_CONNECTED="IFRAME_MESSAGE_CONNECTED",e.IFRAME_DOM_MOUNTED="IFRAME_DOM_MOUNTED",e.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",e.GOT_CHANGE_KEY="GOT_CHANGE_KEY",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.ERROR="ERROR"}(i_||(i_={}));var a_=function(){function e(t){(0,r.Z)(this,e),this.messageDomainService=t}return(0,a.Z)(e,[{key:"login",value:function(e,t){var n=this;return this.loadWeworkLoginIframe(e,t),this.getWeworkLoginSuccessMessage(t),{dispose:function(){return n.dispose()}}}},{key:"loadWeworkLoginIframe",value:function(e,t){this.messageDomainService.weworkMessage.weworkLoginMessage.connect("enterprise"),this.getLoadWeworkLoginIframeMessage(t),this.messageDomainService.weworkMessage.weworkLoginMessage.createWeworkLoginIframe(e.weworkLoginIframeRenderDom,function(e){return"https://".concat(lm,"/components/feature/WeworkLogin.html?redirect_uri=").concat(encodeURIComponent(e),"&open_id_gray=1&code_gray=1")}(function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}(e.targetUrl)))}},{key:"dispose",value:function(){this.messageDomainService.weworkMessage.weworkLoginMessage.dispose()}},{key:"getLoadWeworkLoginIframeMessage",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.messageDomainService.weworkMessage.weworkLoginMessage.getWeworkIframeMessage((function(){e(i_.IFRAME_DOM_MOUNTED)}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getWeworkLoginSuccessMessage",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n=this;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){n.messageDomainService.weworkMessage.weworkLoginMessage.getWeworkLoginSuccessMessage((function(n){var r,o,i=n.data;i.includes("code=")?e(i_.LOGIN_SUCCESS,{code:i.slice(i.indexOf("code=")+5)}):e(i_.LOGIN_SUCCESS),null===(o=null===(r=navigator.serviceWorker)||void 0===r?void 0:r.controller)||void 0===o||o.postMessage({type:Jm.SWITCH_USER_INDEX,data:{url:location.href}}),Qg().postMessage({type:ag.LOGIN,data:"",needCookie:!0}),t(i)}))})));case 1:case"end":return t.stop()}}),t)})))}}]),e}();a_=(0,kr.__decorate)([(0,kr.__param)(0,gg),(0,kr.__metadata)("design:paramtypes",[Object])],a_);var s_=function(){function e(t,n,o){(0,r.Z)(this,e),this.loginDomainService=t,this.messageDomainService=n,this.accountDomainService=o}return(0,a.Z)(e,[{key:"qrQQLogin",value:function(e,t){return new r_(this.loginDomainService,this.messageDomainService).login(e,t)}},{key:"qrWechatLogin",value:function(e,t){return new o_(this.messageDomainService,this.loginDomainService,this.accountDomainService).login(e,t)}},{key:"enterpriseQrWechatLogin",value:function(e){return new Xm(this.loginDomainService).login(e)}},{key:"qrWecomLogin",value:function(e,t){return new a_(this.messageDomainService).login(e,t)}}]),e}();s_=(0,kr.__decorate)([(0,kr.__param)(0,yg),(0,kr.__param)(1,gg),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],s_);var c_,u_="document";function l_(e){return im("Object",e)?JSON.stringify(e):e}function f_(e,t,n,r,o){if(Pm(Mm,u_)){var i=encodeURIComponent(l_(t)),a=2592e6;n&&(a=864e5*n);var s=new Date;a+=s.getTime(),s.setTime(a);var c=s.toUTCString(),u=r||"/",l=o?"domain=".concat(o,";"):"";document.cookie="".concat(e,"=").concat(i,";expires=").concat(c,";path=").concat(u,";").concat(l)}}function d_(e,t,n){if(Pm(Mm,u_)){var r=t||"/",o=n?"domain=".concat(n,";"):"",i=new Date(0).toUTCString();document.cookie="".concat(e,"=;expires=").concat(i,";path=").concat(r,";").concat(o)}}function p_(e){if(!Pm(Mm,u_))return null;var t=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)")),n=document.cookie.match(t);return(n?n[1]:null)||null}!function(e){e.xsrf="TOK",e.devRouteId="dev_route_id",e.devOaName="dev_oa_name",e.fd="fd",e.envId="env_id",e.sid="SID",e.sids="SID_S",e.uid="uid",e.uidKey="uid_key",e.uin="uin",e.loginTime="loginTime",e.hasBeenLogin="has_been_login",e.adtag="adtag",e.plUin="p_luin",e.pUin="p_uin",e.pSkey="p_skey",e.plSkey="p_lskey"}(c_||(c_={}));var h_="#",v_="?",g_="&";function y_(e,t){var n,r=e.split(v_),o=null===(n=r[1])||void 0===n?void 0:n.split(g_);if(!o)return e;var i=o;return t.forEach((function(e){o.forEach((function(t){if(0===t.indexOf("".concat(e,"="))){var n=i.indexOf(t);i.splice(n,1)}}))})),0===i.length?r[0]:(r[1]=i.join(g_),r.join(v_))}function m_(e,t){if(e.includes(v_)){var n=e;return Object.keys(t).map((function(e){n=function(e,t,n){var r=e.split(v_),o=r[1].split(g_),i=!0,a=new Map;o.forEach((function(e){var t=e.split("=");a.set(t[0],t[1])})),o.some((function(e){0===e.indexOf("".concat(t,"="))&&(a.set(t,n),i=!1)})),i&&a.set(t,n);var s=[];return a.forEach((function(e,t){var n="".concat(t,"=").concat(e);s.push(n)})),r[1]=s.join(g_),r.join(v_)}(n,e,t[e])})),n}var r=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join(g_);return"".concat(e,"?").concat(r)}function __(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e.split(v_).length<2||t.length<1)return e;if(e.includes(h_)){var r=e.split(h_);return r[0]=y_(r[0],t),r.join(h_)}return y_(e,t)}function b_(e,t){if(Object.keys(t).length<1)return e;if(e.includes(h_)){var n=e.split(h_);return n[0]=m_(n[0],t),n.join(h_)}return m_(e,t)}var w_=gm,E_=function(){function e(t){(0,r.Z)(this,e),this.accountDomainService=t}return(0,a.Z)(e,[{key:"loginSuccessJumpUrl",value:function(e,t,n,r){var o=this.accountDomainService.accountAggregate.userInfo.nowUserIndex;if(t){var i=window.btoa(w_).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),a="".concat(ym,"?product=2&from=30&code=").concat(n,"&redirect_url=").concat(i);Zy({replace:null==r?void 0:r.replace,url:a})}else{var s=b_(__(e,"autoshowlogin","u","jumpuin"),(0,f.Z)({},"_t",Date.now()));Qg().postMessage({type:ag.LOGIN,data:o,needCookie:!0}),Zy({replace:!0,url:s})}}},{key:"logoutSuccessJumpUrl",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o,i;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=__(window.location.href,"u"),e.next=3,this.accountDomainService.accountAggregate.accountListEntity.getAccountList();case 3:if(n=e.sent,r=p_("uid")||null,o=n.find((function(e){return e.uid!==r})),!(null==(i=o)?void 0:i.userIndex)){e.next=13;break}return e.next=10,this.accountDomainService.accountAggregate.accountListEntity.changeSign(i.userIndex);case 10:return Zy({replace:!0,url:b_(__(t,"u"),{u:i.userIndex})}),e.abrupt("return");case 13:Zy({replace:!0,url:b_(__(t,"needShowTips"),{needShowTips:1}),noUserIndex:!0});case 15:case"end":return e.stop()}}),e,this)})))}}]),e}();E_=(0,kr.__decorate)([(0,kr.__param)(0,vg),(0,kr.__metadata)("design:paramtypes",[Object])],E_);var S_,O_,I_=jg.default.isPC||jg.default.isIPad&&!(jg.default.isMiniProgram||jg.default.isTencentDocsApp||jg.default.isWeChat||jg.default.isQQ||jg.default.isTim||jg.default.isWxWork),R_=function(){function e(t){(0,r.Z)(this,e),this.loginDomainService=t}return(0,a.Z)(e,[{key:"login",value:function(e,t,n){document.location.pathname.indexOf("/desktop")>-1?this.desktopLogin(e,t):this.docLogin(e,t,n)}},{key:"docLogin",value:function(e,t,n){var r=this.loginDomainService.loginAggregate;jg.default.isMiniProgram?r.loginDocsInMiniProgram(e):jg.default.isWeChat?n():jg.default.isWxWork?r.loginDocsInWework(e):(jg.default.isTimOrQQ&&r.timOrQQH5Login(),I_?t():r.jumpToLoginInCommonView(e))}},{key:"desktopLogin",value:function(e,t){var n=this.loginDomainService.loginAggregate;jg.default.isMiniProgram?n.reloadMiniProgramForDesktop():jg.default.isWeChat?n.jumpToLoginInWechatWebview(e):jg.default.isWxWork?n.jumpToLoginInWeworkWebview(e):I_?t():n.jumpToLoginInCommonView(e)}}]),e}();R_=(0,kr.__decorate)([(0,kr.__param)(0,yg),(0,kr.__metadata)("design:paramtypes",[Object])],R_),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.QQ=1]="QQ",e[e.WX=2]="WX",e[e.WORK=3]="WORK",e[e.EMAIL=4]="EMAIL",e[e.PHONE=8]="PHONE",e[e.WORK_COMBINATION=9]="WORK_COMBINATION",e[e.TOWER=10]="TOWER",e[e.ROBOT=11]="ROBOT",e[e.QFYF=12]="QFYF",e[e.OPEN=13]="OPEN",e[e.MEETING=14]="MEETING"}(S_||(S_={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WECHAT=4]="WECHAT",e[e.WEWORK=3]="WEWORK"}(O_||(O_={}));var C_=function(){d_("p_uin","/",pm),d_("p_skey","/",pm),d_("p_luin","/",pm),d_("p_lskey","/",pm),d_("p_uin","/",dm),d_("p_skey","/",dm),d_("p_luin","/",dm),d_("p_lskey","/",dm),d_("txdoc_pwd_token","/",pm)},T_=function(){function e(t){(0,r.Z)(this,e),this.accountDomainService=t}return(0,a.Z)(e,[{key:"logout",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.accountDomainService.accountAggregate.userInfo.loginType!==S_.WORK){e.next=5;break}return e.next=4,this.logoutForEnterpriseAccount();case 4:case 7:return e.abrupt("return",e.sent);case 5:return e.next=7,this.logoutForPersonAccount();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"getLogoutMessage",value:function(e){Qg().setCallback((function(){e()}))}},{key:"logoutForEnterpriseAccount",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o,i,a,s;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.accountDomainService.accountAggregate.userInfo,o=r.tinyId,i=r.nowUserIndex,e.next=3,this.accountDomainService.accountAggregate.accountRepository.wecomLogoutForCDomain(o);case 3:if(a=e.sent,0!==(null==(s=a.resData)?void 0:s.retcode)){e.next=9;break}return Qg().postMessage({type:ag.LOGOUT,data:i,needCookie:!0}),null===(n=null===(t=navigator.serviceWorker)||void 0===t?void 0:t.controller)||void 0===n||n.postMessage({type:Jm.DELETE_USER_INDEX,data:{userIndex:i}}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"logoutForPersonAccount",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o,i;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.accountDomainService.accountAggregate.userInfo.nowUserIndex,e.next=3,this.accountDomainService.accountAggregate.accountRepository.logout();case 3:if(o=e.sent,0!==(null==(i=o.resData)?void 0:i.retcode)){e.next=10;break}return Qg().postMessage({type:ag.LOGOUT,data:r,needCookie:!0}),null===(n=null===(t=navigator.serviceWorker)||void 0===t?void 0:t.controller)||void 0===n||n.postMessage({type:Jm.DELETE_USER_INDEX,data:{userIndex:r}}),C_(),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})))}}]),e}();T_=(0,kr.__decorate)([(0,kr.__param)(0,vg),(0,kr.__metadata)("design:paramtypes",[Object])],T_);var x_=function(){return p_("TOK")};function A_(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))}var k_,D_;!function(e){e[e.CAN_NOT_VIEW=0]="CAN_NOT_VIEW",e[e.CAN_VIEW=1]="CAN_VIEW"}(k_||(k_={})),function(e){e.QQ="qq",e.WX="wx",e.WX_WORK="wx-work",e.WW="ww",e.QFYF="qfyf"}(D_||(D_={}));var M_=function(){function e(t,n){(0,r.Z)(this,e),this.accountDomainService=t,this.messageDomainService=n,this.accountListApplicationService=new Vm(t,n)}return(0,a.Z)(e,[{key:"switchAccount",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.accountType,r=e.userIndex,Qg().postMessage({type:ag.SWITCH,data:r,needCookie:!0}),n!==D_.WW||!document.location.pathname.includes("/desktop")){t.next=5;break}return Zy({url:gm}),t.abrupt("return");case 5:if(n!==D_.WW||!document.location.pathname.includes("/mall")){t.next=8;break}return Zy({url:gm,replace:!0}),t.abrupt("return");case 8:if(n!==D_.WW||!document.location.pathname.includes("/resume")){t.next=11;break}return Zy({url:gm,replace:!0}),t.abrupt("return");case 11:return C_(),t.next=14,this.accountListApplicationService.changeSign(e);case 14:this.switchFetchAccount(r);case 15:case"end":return t.stop()}}),t,this)})))}},{key:"switchFetchAccount",value:function(e){var t,n;null===(n=null===(t=navigator.serviceWorker)||void 0===t?void 0:t.controller)||void 0===n||n.postMessage({type:Jm.SWITCH_USER_INDEX,data:{userIndex:e,url:location.href}}),Zy({url:this.getNewJumpUrl(e),replace:!0,noUserIndex:!0})}},{key:"switchEnterpriseAccount",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r=this;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cookie){t.next=3;break}return t.abrupt("return",!1);case 3:return this.messageDomainService.switchEnterpriseAccountMessage.connect(),this.getIframeMountMessage(n),this.messageDomainService.switchEnterpriseAccountMessage.createSwitchEnterpriseAccount((function(){r.messageDomainService.switchEnterpriseAccountMessage.sendSwitchAccountMessage(n)})),t.next=8,this.getSwitchAccountMessage();case 8:if(t.sent){t.next=11;break}return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"getNewJumpUrl",value:function(e){var t=location,n=t.pathname,r=t.hostname,o="https://".concat(r).concat(n);(function(e){return/^(https?:)?\/\/(\w*\.)*(docs\.qq\.com|txdocs\.qq\.com|doc\.weixin\.qq\.com)($|\/|\\|\?)/i.test(decodeURIComponent(e))})(jm("success_jump_url"))&&(o=__((o=decodeURIComponent(jm("success_jump_url"))||"https://".concat(r).concat(n)).replace(/&$/gi,""),"u"));var i=location.search;if(i=__(i.replace(/&$/gi,""),"hst"),i=__(i.replace(/&$/gi,""),"success_jump_url"),""===(i=__(i.replace(/&$/gi,""),"show_type"))&&e)return"".concat(o,"?u=").concat(e);if(""===i)return"".concat(o);var a=i.replace(/(&)*u=(\w+)(\/|\?|#|&|$)/,"");return e?"".concat(o).concat(a,"&u=").concat(e):"".concat(o).concat(a)}},{key:"getIframeMountMessage",value:function(e){var t=this;return new Promise((function(n){t.messageDomainService.switchEnterpriseAccountMessage.getIframeMountMessage((function(){n(!0),t.messageDomainService.switchEnterpriseAccountMessage.sendSwitchAccountMessage(e)}))}))}},{key:"getSwitchAccountMessage",value:function(){var e=this;return new Promise((function(t){e.messageDomainService.switchEnterpriseAccountMessage.getSwitchAccountMessage((function(){t(!0)}))}))}}]),e}();M_=(0,kr.__decorate)([(0,kr.__param)(0,vg),(0,kr.__param)(1,gg),(0,kr.__metadata)("design:paramtypes",[Object,Object])],M_);var P_=function e(t,n){if(Array.isArray(t))return t.map((function(t){return e(t,n)}));if(!t)return t;for(var r={},o=0,i=Object.keys(t);o<i.length;o++){var a=i[o];r[n.words.includes(a)?n.raw[a]:a]=t[a]}return r},N_=function(e){return function(t){return P_(t,e)}};function L_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var j_=N_(xm),U_=function(e){(0,c.Z)(n,e);var t=L_(n);function n(e,o,i){var a;(0,r.Z)(this,n),(a=t.call(this)).accountDomainService=e,a.loginDomainService=o,a.messageDomainService=i,a.accountApplicationOfflineService=new Bm;var s=null===globalThis||void 0===globalThis?void 0:globalThis.basicClientVars;a.isInitFinish=a.accountDomainService.createPersonalEnvAccountAggregateByBasicClientVars(null==s?void 0:s.userInfo);var c=a.accountDomainService.accountAggregate.userInfo.tinyId;return a.loginDomainService.createLoginAggregate(c),a.initDomainService(),a.accountListApplicationService=new Vm(e,i),a.dcLoginApplicationService=new s_(o,i,e),a}return(0,a.Z)(n,[{key:"updatePasswordsSettings",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.accountDomainService.accountAggregate,e.next=3,t.passwordEntity.updatePwdTips();case 3:return e.abrupt("return",{enabled:t.passwordEntity.isHasPassword,phoneNumber:t.passwordEntity.phone});case 4:case"end":return e.stop()}}),e,this)})))}},{key:"updateVipInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserVipInfo();case 2:return t=this.accountDomainService.accountAggregate,n=t.vipInfo,r=t.userInfo,this.accountApplicationOfflineService.updateUserInfo(Object.assign(Object.assign({},r),{vipUserInfo:n})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"updateBindUserInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.completionUserInfo();case 2:return t=this.accountDomainService.accountAggregate,n=t.userInfo,r=t.bindUserInfo,o=t.officialInfo,this.accountApplicationOfflineService.updateUserInfo(Object.assign(Object.assign({},n),{bindUserInfo:r,officialInfo:o})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"updateOfficialInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.completionUserInfo();case 2:return t=this.accountDomainService.accountAggregate,n=t.userInfo,r=t.bindUserInfo,o=t.officialInfo,this.accountApplicationOfflineService.updateUserInfo(Object.assign(Object.assign({},n),{bindUserInfo:r,officialInfo:o})),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"updateUserInfo",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.accountDomainService.updatePersonalEnvAccountAggregate(e);case 2:return n=this.accountDomainService.accountAggregate.userInfo.tinyId,this.loginDomainService.createLoginAggregate(n),this.initDomainService(),t.abrupt("return",this.accountDomainService.accountAggregate.userInfo);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"init",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInitFinish){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,this.initForUserInfoFetch();case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",this.initForUserInfoOfflineData());case 8:case"end":return e.stop()}}),e,this)})))}},{key:"dispose",value:function(){}},{key:"updatePersonalNicknameAndAvatar",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.accountDomainService.updatePersonalNicknameAndAvatar(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getPasswordsModifyQuestionList",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.accountDomainService.accountAggregate,e.next=3,t.passwordEntity.updatePwdQuestionList();case 3:return e.abrupt("return",t.passwordEntity.pwdQuestionList);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getAccountProfileList",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){var r;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.accountListApplicationService.getPersonalAccountList(e,t);case 2:return r=n.sent,n.abrupt("return",j_(r));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"getFetchAccountList",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountListApplicationService.getFetchAccountList();case 2:return t=e.sent,e.abrupt("return",j_(t));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"completionUserInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountDomainService.completionUserInfo();case 2:return t=e.sent,this.bindUserInfo=this.accountDomainService.accountAggregate.bindUserInfo,this.officialInfo=this.accountDomainService.accountAggregate.officialInfo,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getUserVipInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountDomainService.getUserVipInfo();case 2:return t=e.sent,this.vipInfo=this.accountDomainService.accountAggregate.vipInfo,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"loginSuccessJumpUrl",value:function(e,t,n,r){new E_(this.accountDomainService).loginSuccessJumpUrl(e,t,n,r)}},{key:"logoutSuccessJumpUrl",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new E_(this.accountDomainService),e.next=3,t.logoutSuccessJumpUrl();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"login",value:function(e,t,n){new R_(this.loginDomainService).login(e,t,n)}},{key:"logout",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new T_(this.accountDomainService),e.abrupt("return",t.logout());case 2:case"end":return e.stop()}}),e,this)})))}},{key:"deleteAccount",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.accountListApplicationService.deleteAccountForList(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"switchToAccount",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new M_(this.accountDomainService,this.messageDomainService),t.next=3,n.switchAccount(e);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"bindQQAccount",value:function(e){return new $m(this.accountDomainService,this.loginDomainService).qqBind(e)}},{key:"getCertificationGrey",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountDomainService.accountAggregate.accountRepository.getCertificationGrey();case 2:return r=e.sent,o=r.resData,e.abrupt("return",(null===(n=null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.result)||void 0===n?void 0:n.open)||!1);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"bindWeChatAccount",value:function(){return new $m(this.accountDomainService,this.loginDomainService).wechatBind()}},{key:"getQQBindingInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.accountDomainService.accountAggregate.bindingQQInfo());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getTipsStatus",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.accountDomainService.getTipsStatus(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"initDomainAction",value:function(){var e=this.accountDomainService.accountAggregate,t=e.passwordEntity.passwordRepository;this.sendVerifyCodeSMS=t.pwdVerifyCodeGet.bind(t),this.addPasswordsWithNewPhoneNumber=t.pwdAdd.bind(t),this.resetPasswords=t.pwdReset.bind(t),this.verifyCodeSMS=t.pwdVerifyCodeCheck.bind(t),this.verifyQuestionAnswers=t.pwdQuestionCheck.bind(t),this.delPasswords=t.pwdDel.bind(t),this.verifyPasswords=t.pwdVerify.bind(t),this.unbindAccount=e.accountRepository.unbindUserInfo.bind(e.accountRepository),this.getCurrentAccountBindingInfo=e.currentLoginAccountBindInfo.bind(e)}},{key:"initDomainService",value:function(){var e=this.accountDomainService.accountAggregate;this.userInfo=e.userInfo;var t=e.passwordEntity,n=t.isHasPassword,r=t.phone;this.passwordsSettings={enabled:n,phoneNumber:r},this.vipInfo=e.vipInfo,this.bindUserInfo=e.bindUserInfo,this.officialInfo=e.officialInfo,this.accountApplicationOfflineService.addUserInfo(Object.assign(Object.assign({},this.userInfo),{vipUserInfo:this.vipInfo,bindUserInfo:this.bindUserInfo})),this.initDomainAction()}},{key:"initForUserInfoFetch",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountDomainService.userInfoRepository.getPersonalUserInfo();case 2:if(t=e.sent,n=t.resData,!t.error){e.next=7;break}return e.abrupt("return",!1);case 7:return 0===(null==n?void 0:n.cgicode)&&(r=window.nowUserIndex||"",this.accountDomainService.createPersonalEnvAccountAggregateByUserInfoCgi(n.data,r),o=this.accountDomainService.accountAggregate.userInfo.tinyId,this.loginDomainService.createLoginAggregate(o),this.initDomainService()),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"initForUserInfoOfflineData",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountApplicationOfflineService.getUserInfo();case 2:if(t=e.sent,this.accountApplicationOfflineService.setOnOfflineState(!0),t){e.next=6;break}return e.abrupt("return",!1);case 6:return this.userInfo=t.userInfo,this.vipInfo=t.vipInfo,this.bindUserInfo=t.bindUserInfo,e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,this)})))}}]),n}(Ar.Disposable);(0,kr.__decorate)([Om,(0,kr.__metadata)("design:type",Object)],U_.prototype,"userInfo",void 0),(0,kr.__decorate)([Om,(0,kr.__metadata)("design:type",Object)],U_.prototype,"passwordsSettings",void 0),(0,kr.__decorate)([Om,(0,kr.__metadata)("design:type",Object)],U_.prototype,"vipInfo",void 0),(0,kr.__decorate)([Om,(0,kr.__metadata)("design:type",Object)],U_.prototype,"bindUserInfo",void 0),(0,kr.__decorate)([Om,(0,kr.__metadata)("design:type",Object)],U_.prototype,"officialInfo",void 0),(0,kr.__decorate)([Em("passwordsSettings"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],U_.prototype,"updatePasswordsSettings",null),(0,kr.__decorate)([Em("vipInfo"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],U_.prototype,"updateVipInfo",null),(0,kr.__decorate)([Em("bindUserInfo"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],U_.prototype,"updateBindUserInfo",null),(0,kr.__decorate)([Em("officialInfo"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],U_.prototype,"updateOfficialInfo",null),(0,kr.__decorate)([Em("userInfo"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],U_.prototype,"updateUserInfo",null),(0,kr.__decorate)([em(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],U_.prototype,"init",null),(0,kr.__decorate)([tm("init"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",void 0)],U_.prototype,"dispose",null),U_=(0,kr.__decorate)([Cm(),(0,kr.__param)(0,vg),(0,kr.__param)(1,yg),(0,kr.__param)(2,gg),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],U_);var F_=function(){function e(t,n){(0,r.Z)(this,e),this.messageDomainService=t,this.accountDomainService=n}return(0,a.Z)(e,[{key:"getAccountList",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFetchEnterpriseAccountList();case 2:return this.fetchEnterpriseAccountList=e.sent,e.abrupt("return",this.fetchEnterpriseAccountList);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"deleteAccountForList",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.uid,r=!0,!this.isHasSameUid(this.fetchEnterpriseAccountList,n)){t.next=7;break}return t.next=6,this.deleteFetchEnterpriseAccountList(e);case 6:r=t.sent;case 7:return t.abrupt("return",this.changeDeleteAccountState(r));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"addAccountForList",value:function(){}},{key:"dispose",value:function(){this.messageDomainService.getPersonAccountListMessage.dispose()}},{key:"deleteFetchEnterpriseAccountList",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r,o,i;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cookie,r=n.wedocSid,o=n.wedriveSid,i=r||o){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.accountDomainService.accountAggregate.enterpriseAccountListEntity.delEnterpriseAccountForList(i);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getFetchEnterpriseAccountList",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountDomainService.accountAggregate.enterpriseAccountListEntity.getEnterpiseAccountList();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"changeDeleteAccountState",value:function(e){return e?Um.SUCCESS:Um.FAIL}},{key:"isHasSameUid",value:function(e,t){return e.some((function(e){return e.uid===t}))}}]),e}();F_=(0,kr.__decorate)([(0,kr.__param)(0,gg),(0,kr.__param)(1,mg),(0,kr.__metadata)("design:paramtypes",[Object,Object])],F_);var B_=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"loginSuccessJumpUrl",value:function(e,t){Zy({replace:!0,url:e,noUserIndex:!0})}},{key:"logoutSuccessJumpUrl",value:function(){var e=__(window.location.href,"u","wwapp_deviceid","wwapp_vid","wwapp_cst","needShowTips");window.location.pathname.includes("home/recent")?window.location.replace("".concat(bm,"?success_jump_url=").concat(encodeURIComponent(mm))):window.location.replace(e)}}]),e}(),q_=function(){function e(t){(0,r.Z)(this,e),this.accountDomainService=t}return(0,a.Z)(e,[{key:"logout",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.accountDomainService.accountAggregate.userInfo,n=t.loginType,r=t.tinyId,n!==S_.WORK){e.next=4;break}return e.next=4,this.logoutForEnterpriseAccount();case 4:return d_("utype","/",vm),d_("uid","/",vm),d_("uid","/",fm),d_("uid_key","/",vm),d_("login_client","/",vm),d_("CheckKey","/",vm),d_("TOK","/",vm),d_("ES2","/",vm),d_("loginTime","/",vm),d_("wedrive_uin","/",pm),d_("wedrive_sids","/",pm),d_("wedrive_sid","/",pm),d_("wedrive_skey","/",pm),d_("wedrive_ticket","/",pm),d_("wedrive_uin","/",hm),d_("wedrive_sids","/",hm),d_("wedrive_sid","/",hm),d_("wedrive_skey","/",hm),d_("wedrive_ticket","/",hm),d_("wedrive_uin","/",vm),d_("wedrive_sids","/",vm),d_("wedrive_sid","/",vm),d_("wedrive_skey","/",vm),d_("wedrive_ticket","/",vm),d_("tdoc_vid","/",pm),d_("tdoc_sid","/",pm),d_("tdoc_skey","/",pm),d_("tdoc_vid","/",hm),d_("tdoc_sid","/",hm),d_("tdoc_skey","/",hm),d_("tdoc_vid","/",vm),d_("tdoc_sid","/",vm),d_("tdoc_skey","/",vm),d_("wedoc_openid","/",vm),d_("wedoc_skey","/",vm),d_("wedoc_ticket","/",vm),d_("wedoc_sid","/",vm),d_("tdoc_uid","/",vm),d_("tdoc_skey","/",vm),Qg().postMessage({type:ag.LOGOUT,data:r,needCookie:!0}),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"logoutForEnterpriseAccount",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o,i;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p_("wedoc_sid"),n=p_("wedrive_sid"),!(r=t||n)){e.next=10;break}return e.next=6,this.accountDomainService.accountAggregate.accountRepository.wecomLogoutForBDomain(r);case 6:if(o=e.sent,0!==(null==(i=o.resData)?void 0:i.retcode)){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})))}}]),e}();q_=(0,kr.__decorate)([(0,kr.__param)(0,mg),(0,kr.__metadata)("design:paramtypes",[Object])],q_);var W_=function(){function e(t){(0,r.Z)(this,e),this.messageDomainService=t}return(0,a.Z)(e,[{key:"switchAccount",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r,o,i,a;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cookie,r=e.uid,e.fromDomain!==dg.C_DOMAIN){t.next=9;break}if(n){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.switchPersonAccount(n);case 6:return(o=t.sent)&&(i=this.isInDesktopPage()?mm:"".concat(location.origin).concat(location.pathname),a="".concat(_m,"?redirect_uri=").concat(i,"u=").concat(e.userIndex),window.location.href=a),t.abrupt("return",o);case 9:return this.switchEnterpriseAccount(e),Qg().postMessage({type:ag.SWITCH,data:r,needCookie:!0}),t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,this)})))}},{key:"switchPersonAccount",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n=this;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.messageDomainService.switchPersonAccountMessage.connect(),this.getIframeMountMessage(e),this.messageDomainService.switchPersonAccountMessage.createSwitchEnterpriseAccount((function(){n.messageDomainService.switchPersonAccountMessage.sendSwitchAccountMessage(e)})),t.next=5,this.getSwitchAccountMessage();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"switchEnterpriseAccount",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r,o,i,a,s,c,u;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=null===(n=e.cookie)||void 0===n?void 0:n.wedocSid,s=null===(r=e.cookie)||void 0===r?void 0:r.tdocUid,c=null===(o=e.cookie)||void 0===o?void 0:o.wedocOpenid,u=null===(i=e.cookie)||void 0===i?void 0:i.wedriveSid,a?(f_("wedoc_sid",a,30,"/",vm),s&&f_("tdoc_uid",s,30,"/",vm),c&&f_("wedoc_openid",c,30,"/",vm)):u&&f_("wedrive_sid",u,30,"/",hm),location.reload(),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})))}},{key:"getIframeMountMessage",value:function(e){var t=this;return new Promise((function(n){t.messageDomainService.switchPersonAccountMessage.getIframeMountMessage((function(){n(!0),t.messageDomainService.switchPersonAccountMessage.sendSwitchAccountMessage(e)}))}))}},{key:"getSwitchAccountMessage",value:function(){var e=this;return new Promise((function(t){e.messageDomainService.switchPersonAccountMessage.getSwitchAccountMessage((function(e){"SUCCESS_SET_COOKIE"===e.data.event&&t(!0),t(!1)}))}))}},{key:"isInDesktopPage",value:function(){return document.location.pathname.indexOf("/home/")>-1}}]),e}();function V_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}W_=(0,kr.__decorate)([(0,kr.__param)(0,gg),(0,kr.__metadata)("design:paramtypes",[Object])],W_);var G_=N_(xm),H_=function(e){(0,c.Z)(n,e);var t=V_(n);function n(e,o,i){var a,s;(0,r.Z)(this,n),(a=t.call(this)).accountDomainService=e,a.loginDomainService=o,a.messageDomainService=i,a.accountApplicationOfflineService=new Bm,a.enterpriseAccountListApplicationService=new F_(i,e),a.dcLoginApplicationService=new s_(o,i,e);var c=null===globalThis||void 0===globalThis?void 0:globalThis.basicClientVars;return a.loginDomainService.createLoginAggregate((null===(s=null==c?void 0:c.userInfo)||void 0===s?void 0:s.tinyId)||fg),a.createEnterpriseEnvAccountAggregateByBasicClientVarsAndDocInfo(),a}return(0,a.Z)(n,[{key:"updateVipInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o,i;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.completionUserInfo();case 2:return t=this.accountDomainService.accountAggregate,n=t.vipInfo,r=t.userInfo,o=t.bindUserInfo,i=t.officialInfo,this.accountApplicationOfflineService.updateUserInfo(Object.assign(Object.assign({},r),{vipUserInfo:n,bindUserInfo:o,officialInfo:i})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"updateUserInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o,i;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountDomainService.userInfoRepository.getEnterpriseUserInfo();case 2:return t=e.sent,e.next=5,this.accountDomainService.userInfoRepository.getEnterpriseDocInfo();case 5:if(n=e.sent,r=n.resData,!t||0!==(null==r?void 0:r.cgicode)){e.next=12;break}return o=this.accountDomainService.accountAggregate.userInfo.tinyId,this.loginDomainService.createLoginAggregate(o),i=this.accountDomainService.accountAggregate,e.abrupt("return",i.userInfo);case 12:return this.accountApplicationOfflineService.updateUserInfo(Object.assign({},this.userInfo)),e.abrupt("return",this.userInfo);case 14:case"end":return e.stop()}}),e,this)})))}},{key:"init",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initForUserInfoFetch();case 2:if(!e.sent){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",this.initForUserInfoOfflineData());case 6:case"end":return e.stop()}}),e,this)})))}},{key:"dispose",value:function(){}},{key:"getAccountProfileList",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.enterpriseAccountListApplicationService.getAccountList();case 2:return t=e.sent,e.abrupt("return",G_(t));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"deleteAccount",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.enterpriseAccountListApplicationService.deleteAccountForList(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"addAccount",value:function(){}},{key:"switchToAccount",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new W_(this.messageDomainService),t.next=3,n.switchAccount(e);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"completionUserInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountDomainService.completionUserInfo();case 2:return t=e.sent,this.vipInfo=this.accountDomainService.accountAggregate.vipInfo,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"loginSuccessJumpUrl",value:function(e,t){var n=this.accountDomainService.accountAggregate.userInfo.nowUserIndex;Qg().postMessage({type:ag.LOGIN,data:n,needCookie:!0}),(new B_).loginSuccessJumpUrl(e,t)}},{key:"logoutSuccessJumpUrl",value:function(){(new B_).logoutSuccessJumpUrl()}},{key:"login",value:function(e,t,n){new R_(this.loginDomainService).login(e,t,n)}},{key:"logout",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new q_(this.accountDomainService),e.abrupt("return",t.logout());case 2:case"end":return e.stop()}}),e,this)})))}},{key:"initForUserInfoFetch",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([this.accountDomainService.userInfoRepository.getEnterpriseUserInfo(),this.accountDomainService.userInfoRepository.getEnterpriseDocInfo()]).then((function(e){var n=zy(e,2),r=n[0],o=n[1],i=o.resData;if(o.error)return!1;if(r&&0===(null==i?void 0:i.retcode)){t.accountDomainService.createEnterpriseEnvAccountAggregateByUserInfoCgi(r,i.data);var a=t.accountDomainService.accountAggregate.userInfo.tinyId;t.loginDomainService.createLoginAggregate(a);var s=t.accountDomainService.accountAggregate;t.userInfo=s.userInfo,t.accountApplicationOfflineService.addUserInfo(Object.assign({},t.userInfo))}return!0})));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"initForUserInfoOfflineData",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountApplicationOfflineService.getUserInfo();case 2:if(t=e.sent,this.accountApplicationOfflineService.setOnOfflineState(!0),t){e.next=6;break}return e.abrupt("return",!1);case 6:return this.userInfo=t.userInfo,e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"createEnterpriseEnvAccountAggregateByBasicClientVarsAndDocInfo",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===globalThis||void 0===globalThis?void 0:globalThis.basicClientVars,n=this.accountDomainService.createEnterpriseEnvAccountAggregateByBasicClientVars(null==t?void 0:t.userInfo),r=this.accountDomainService.accountAggregate,this.userInfo=r.userInfo,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))}}]),n}(Ar.Disposable);(0,kr.__decorate)([Om,(0,kr.__metadata)("design:type",Object)],H_.prototype,"userInfo",void 0),(0,kr.__decorate)([Om,(0,kr.__metadata)("design:type",Object)],H_.prototype,"vipInfo",void 0),(0,kr.__decorate)([Em("vipInfo"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],H_.prototype,"updateVipInfo",null),(0,kr.__decorate)([Em("userInfo"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],H_.prototype,"updateUserInfo",null),(0,kr.__decorate)([em(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],H_.prototype,"init",null),(0,kr.__decorate)([tm("init"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",void 0)],H_.prototype,"dispose",null),H_=(0,kr.__decorate)([Cm(),(0,kr.__param)(0,mg),(0,kr.__param)(1,yg),(0,kr.__param)(2,gg),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],H_);var K_,Q_,Y_,Z_=(0,ju.yh)("IAccountApplicationService"),z_=(0,ju.yh)("IEnterpriseAccountApplicationService");!function(e){e.CODE_IS_READY="CODE_IS_READY",e.USER_HAS_SCANNED="USER_HAS_SCANNED",e.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",e.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",e.ERROR="ERROR"}(K_||(K_={})),function(e){e.TENCENT_DOCS="TENCENT_DOCS"}(Q_||(Q_={})),function(e){e.CODE_IS_READY="CODE_IS_READY",e.BIND_POLLING_RUNNING="BIND_POLLING_RUNNING",e.BIND_POLLING_FINISH="BIND_POLLING_FINISH",e.BIND_TIMEOUT="BIND_TIMEOUT",e.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",e.ERROR="ERROR"}(Y_||(Y_={}));var $_,J_,X_,eb,tb=function(){function e(t){var n,o,i;(0,r.Z)(this,e),this.title=t.title,this.padId=t.padId,this.domainId=t.domainId,this.docType=t.docType,this.create_type=null!==(n=t.create_type)&&void 0!==n?n:"",this.redirect=null!==(o=t.redirect)&&void 0!==o?o:"",this.isMiniProgram=null!==(i=t.isMiniProgram)&&void 0!==i?i:""}return(0,a.Z)(e,[{key:"send",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("domain_id",this.domainId),t.append("title",this.title),t.append("pad_id",this.padId),t.append("xsrf",x_()),t.append("create_type",this.create_type),t.append("redirect",this.redirect),t.append("isMiniProgram",this.isMiniProgram),e.next=10,Qc.networkRequest.post("/cgi-bin/online-docs/createdoc_new",t);case 10:return n=e.sent,r=n.data,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)})))}}]),e}(),nb=function(){function e(t){(0,r.Z)(this,e),this.file_id=t.file_id,this.parent_id=t.parent_id}return(0,a.Z)(e,[{key:"send",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc.networkRequest.post("".concat("/v2/file/clone","?xsrf=").concat(x_()),{file_id:this.file_id,parent_id:this.parent_id});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))}}]),e}(),rb={retcode:-1,doc_url:"",message:"创建副本存到本地失败",doc_id:{pad_id:""}},ob=function(){function e(t){(0,r.Z)(this,e),this.logger=new Lg("IDocsManagementService").use("console"),this.title=t.title,this.padId=t.padId,this.domainId=t.domainId}return(0,a.Z)(e,[{key:"send",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o,i;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("domain_id",this.domainId),t.append("title",this.title),t.append("pad_id",this.padId),t.append("xsrf",x_()),e.next=7,Qc.networkRequest.post("/cgi-bin/online_docs/copydoc_async",t);case 7:if(n=e.sent,r=n.data,o=r.retcode,i=r.doc_id.pad_id,0===o&&i){e.next=13;break}return this.logger.error(r),e.abrupt("return",r);case 13:return e.next=15,this.requestCreateCopyLoop(r);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)})))}},{key:"requestCreateCopyLoop",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r,o,i,a,s;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.doc_id.pad_id,r=e.doc_url,o=30;case 3:if(!(o-=1)){t.next=20;break}return t.next=6,A_(2e3);case 6:return(i=new FormData).append("domain_id",this.domainId),i.append("pad_id",n),i.append("xsrf",x_()),t.next=12,Qc.networkRequest.post("/cgi-bin/online_docs/copydoc_loop",i);case 12:if(a=t.sent,s=a.data,r=r||s.doc_url,10027!==s.retcode){t.next=17;break}return t.abrupt("continue",3);case 17:return t.abrupt("return",s);case 20:return t.abrupt("return",rb);case 21:case"end":return t.stop()}}),t,this)})))}}]),e}(),ib=(0,ju.yh)("IDocsManagementService"),ab=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"loopClone",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new ob(e.params).send();case 2:n=t.sent,this.handleResult(e,n);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"createDocClone",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new tb(e.params).send();case 2:n=t.sent,this.handleResult(e,n);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"driveClone",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new nb(e.params).send();case 2:n=t.sent,this.handleResult(e,n);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"handleResult",value:function(e,t){t?e.success(t):e.fail()}}]),e}(),sb=(0,ju.yh)("IUserInfoDomainService"),cb=(0,ju.yh)("IFileDomainService"),ub=(0,ju.yh)("IFolderDomainService"),lb=(0,ju.yh)("ITemplateDomainService"),fb=(0,ju.yh)("INotificationDomainService"),db=(0,ju.yh)("IShareDomainService"),pb=(0,ju.yh)("INotifyScopeDomainService"),hb=(0,ju.yh)("IAtMessageDomainService"),vb=(0,ju.yh)("IFileInfoDomainService"),gb=(0,ju.yh)("IDomainUpdater"),yb=function(){function e(){}return e.getLevel1MapInfo=function(e,t,n){return{domainId:e.docMetaEntity.padInfo.domainId,padId:e.docMetaEntity.padInfo.padId,type:e.docMetaEntity.padInfo.type,padType:e.docMetaEntity.padInfo.padType,shareLink:e.docMetaEntity.padInfo.shareLink,docStatus:e.docMetaEntity.padInfo.docStatus,globalPadId:e.docMetaEntity.padInfo.globalPadId,lastModifyUser:e.docMetaEntity.padInfo.lastModifyUser,lastModifyTime:e.docMetaEntity.padInfo.lastModifyTime,metaCreateTime:e.docMetaEntity.createInfo.metaCreateTime,creatorId:e.docMetaEntity.createInfo.creatorId,creatorNick:e.docMetaEntity.createInfo.creatorNick,creatorDomain:e.docMetaEntity.createInfo.creatorDomain,isCreator:e.docMetaEntity.createInfo.isCreator,ownerId:e.docMetaEntity.ownerInfo.ownerId,ownerNick:e.docMetaEntity.ownerInfo.ownerNick,ownerAppid:e.docMetaEntity.ownerInfo.ownerAppid,officialAuthInfo:e.docMetaEntity.ownerInfo.officialAuthInfo,padTitle:e.docMetaEntity.titleInfo.title,title:e.docMetaEntity.titleInfo.title,isUserChangeTitle:e.docMetaEntity.titleInfo.isUserChangeTitle,rightFlag:t.authAggregate.authInfoEntity.selfRole,isOwner:t.authAggregate.authInfoEntity.isOwner,tinyid:n.userInfoAggregate.userInfo.tinyid,userName:n.userInfoAggregate.userInfo.nick,userPic:n.userInfoAggregate.userInfo.avatar,userType:n.userInfoAggregate.userInfo.loginType,userId:n.userInfoAggregate.userInfo.uid,uin:n.userInfoAggregate.userInfo.uin}},e.getLevel2PrivilegeMapInfo=function(e){var t=e.authAggregate.authInfoEntity.selfDocPrivilege;return{can_copy:t.canCopy,can_print:t.canPrint,can_history:t.canHistory,can_read:t.canRead,can_edit_title:t.canEditTitle,can_search:t.canSearch,can_add_user:t.canAddUser,can_view_image:t.canViewImage,can_edit:t.canEdit,can_share:t.canShare,can_comment:t.canComment,can_about:t.canAbout,can_spit_slot:t.canSpitSlot,can_watermark:t.canWatermark,can_translate:t.canTranslate,can_link_exp:t.canLinkExp,can_copy_doc:t.canCopyDoc}},e.getLevel2AdvPolicyMapInfo=function(e){var t=e.authAggregate.authInfoEntity.selfDocAdvancedPrivilege;return{reader_can_comment:t.readerCanComment,view_forbid_copy_print:t.viewForbidCopyPrint,writer_can_comment:t.writerCanComment}},e}(),mb=function(){function e(){}return e.createClientVarsToDomainProxy=function(t,n,r,o){e.createLevel2PrivilegeProxy(n,o),e.createLevel2AdvPolicyProxy(n,o),e.createLevel1Proxy(t,n,r,o)},e.getProxyHandler=function(e){return{get:function(t,n){return Object.keys(e).includes(n)?e[n]:t[n]},set:function(t,n,r){return Object.keys(e).includes(n)?e[n]=r:t[n]=r,!0}}},e.createLevel1Proxy=function(t,n,r,i){var a=i,s=yb.getLevel1MapInfo(t,n,r),c=e.getProxyHandler(s);o.g.clientVars=new Proxy(a,c)},e.createLevel2PrivilegeProxy=function(t,n){var r=n,o=yb.getLevel2AdvPolicyMapInfo(t),i=e.getProxyHandler(o);r.privilegeAttribute=new Proxy(n.privilegeAttribute||{},i)},e.createLevel2AdvPolicyProxy=function(t,n){var r=n,o=yb.getLevel2AdvPolicyMapInfo(t),i=e.getProxyHandler(o);r.advPolicy=new Proxy(r.advPolicy,i)},e}(),_b=function(){function e(e,t,n){this.docMetaDomainService=e,this.authDomainService=t,this.userInfoDomainService=n}return e.prototype.updateDomainWithClientVars=function(e,t){void 0===t&&(t=!1),this.docMetaDomainService.updateWithClientVars(e),this.authDomainService.updateWithClientVars(e),this.userInfoDomainService.updateWithClientVars(e),t&&mb.createClientVarsToDomainProxy(this.docMetaDomainService,this.authDomainService,this.userInfoDomainService,e)},e.prototype.updateDomainWithRequests=function(e){this.docMetaDomainService.init(e),this.authDomainService.init(e),this.userInfoDomainService.init(e)},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,cg),(0,kr.__param)(2,sb),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],e)}(),bb=(0,ju.yh)("INetworkRequestService"),wb=function(){this.instance=Qc.networkRequest};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SHOW=1]="SHOW",e[e.HIDE=2]="HIDE"}($_||($_={})),function(e){e[e.SELF=0]="SELF",e[e.COOPERATION=1]="COOPERATION",e[e.VIEWABLE=2]="VIEWABLE",e[e.EDITABLE=3]="EDITABLE"}(J_||(J_={})),function(e){e[e.deny=0]="deny",e[e.whitelist=1]="whitelist",e[e.allOnlyRead=2]="allOnlyRead",e[e.allOnlyWrite=3]="allOnlyWrite",e[e.allOnlyExecute=4]="allOnlyExecute",e[e.invalidPolicy=999]="invalidPolicy"}(X_||(X_={})),function(e){e[e.noPrivilege=0]="noPrivilege",e[e.reader=1]="reader",e[e.editor=2]="editor",e[e.filler=3]="filler",e[e.executor=4]="executor",e[e.externUser=10]="externUser",e[e.administrator=1024]="administrator",e[e.owner=2048]="owner"}(eb||(eb={}));var Eb=og.getConfig('npm["@tencent/ark-domain"]'),Sb=window.location.host,Ob=(null==Eb?void 0:Eb.WECHAT_WEBVIEW_LOGIN)||"https://docs.qq.com/scenario/h5auth.html",Ib=(null==Eb?void 0:Eb.LOGIN_PAGE_URL)||"https://docs.qq.com/login.html",Rb=(null==Eb?void 0:Eb.TOC_HOST)||"docs.qq.com",Cb=(null==Eb?void 0:Eb.TOB_HOST)||"doc.weixin.qq.com",Tb=(null==Eb?void 0:Eb.DOCS_WW_LOGIN)||"https://docs.qq.com/scenario/ww-login.html",xb=(null==Eb?void 0:Eb.OPEN_WEIXIN_AUTHORIZE)||"https://open.weixin.qq.com/connect/oauth2/authorize",Ab=(null==Eb?void 0:Eb.TOB_TARGET_ORIGIN)||"https://doc.weixin.qq.com",kb=(null==Eb?void 0:Eb.TOB_IFRAME_URL_ACCOUNT_LIST)||"https://doc.weixin.qq.com/tim/docs/components/IfameManageAccountListToC.html",Db=(null==Eb?void 0:Eb.TOB_IFRAME_URL_SET_COOKIE)||"https://doc.weixin.qq.com/scenario/iframe-to-b-set-cookie.html",Mb=(null==Eb?void 0:Eb.TOC_TARGET_ORIGIN)||"https://docs.qq.com",Pb=(null==Eb?void 0:Eb.TOC_IFRAME_URL_ACCOUNT_LIST)||"https://docs.qq.com/components/feature/IframeToManageAccountList.html",Nb=(null==Eb?void 0:Eb.TOC_IFRAME_URL_SET_COOKIE)||"https://docs.qq.com/scenario/iframe-to-c-set-cookie.html",Lb={};function jb(){return"undefined"!=typeof window}function Ub(){return void 0!==o.g}var Fb=jb()?window:Ub()?o.g:jb||"undefined"==typeof self?(Ub()&&o.g.describe,Lb):self,Bb=o(70325);function qb(e,t){return null!==e&&Object.prototype.hasOwnProperty.call(e,t)}function Wb(e){if(!e||!(0,Bb.isObject)(e))return e;var t={};return Object.keys(e).forEach((function(n){var r,o=(r=n).length<1?r:(r[0].toLowerCase()+r.substr(1)).replace(/([A-Z])/g,(function(e){return"_".concat(e.toLowerCase())}));if(Object.prototype.hasOwnProperty.call(e,n))if(Array.isArray(e[n])){var i=e[n],a=[];i.forEach((function(e){var t=Wb(e);a.push(t)})),t[o]=a}else e[n]instanceof Object?t[o]=Wb(e[n]):t[o]=e[n]})),t}function Vb(e){if(!e||!(0,Bb.isObject)(e))return e;var t={};return Object.keys(e).forEach((function(n){var r=function(e){for(var t=e.split("_"),n="",r=0;r<t.length;r++){var o=t[r];o.length>0&&(n+=0===r?o:o="".concat(o[0].toUpperCase()).concat(o.substring(1)))}return n}(n);if(Object.prototype.hasOwnProperty.call(e,n))if(Array.isArray(e[n])){var o=e[n],i=[];o.forEach((function(e){var t=Vb(e);i.push(t)})),t[r]=i}else e[n]instanceof Object?t[r]=Vb(e[n]):t[r]=e[n]})),t}function Gb(e,t,n){Object.getOwnPropertyNames(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);r&&"constructor"!==n&&Object.defineProperty(e,n,r)})),Object.getOwnPropertyNames(n.prototype).forEach((function(t){"constructor"!==t&&(e[t]=n.prototype[t])}))}var Hb="location";function Kb(){return qb(Fb,Hb)?location.search:""}function Qb(e,t){if(void 0===t&&(t={shouldDecodeURI:!1}),!qb(Fb,Hb))return"";var n=new RegExp("(\\?|&)".concat(e,"=([^&]*)(#|&|$)")),r=((null==t?void 0:t.shouldDecodeURI)?decodeURIComponent(Kb()):Kb()).match(n);return r?decodeURIComponent(r[2]):""}var Yb,Zb="//".concat(qb(Fb,Hb)?location.host:""),zb="".concat(Zb,"/cgi-bin/online_docs/"),$b="".concat(Zb,"/cgi-bin/api/"),Jb="".concat(Zb,"/cgi-go/"),Xb=("".concat(Zb,"/v2/"),"".concat(Zb,"/v3/"),"".concat(Zb,"/cgi-go/"),"//".concat(Cb)),ew="//".concat(Rb),tw="".concat(Zb,"/dop-api/drive/data/get"),nw="".concat(zb,"auth_info/get"),rw="".concat(zb,"auth_info/set"),ow="".concat(zb,"auth_exp/get"),iw="".concat(zb,"auth_exp/set"),aw="".concat(zb,"auth_getconf"),sw="".concat(Zb,"/v2/privilege/corpshare/docownerget"),cw="".concat(Zb,"/v2/privilege/corpshare/docownerset"),uw="".concat(Zb,"/v2/privilege/set_user"),lw="document";function fw(e){if(!qb(Fb,lw))return null;var t=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)")),n=document.cookie.match(t);return(n?n[1]:null)||null}function dw(e){return fw(e)}!function(e){e.xsrf="TOK",e.devRouteId="dev_route_id",e.devOaName="dev_oa_name",e.fd="fd",e.envId="env_id",e.sid="SID",e.sids="SID_S",e.uid="uid",e.uidKey="uid_key",e.uin="uin",e.loginTime="loginTime",e.hasBeenLogin="has_been_login",e.adtag="adtag",e.plUin="p_luin",e.pUin="p_uin",e.pSkey="p_skey",e.plSkey="p_lskey"}(Yb||(Yb={}));function pw(e){return e||""}function hw(e){return e||0}function vw(e){var t=new FormData;return Object.keys(e).forEach((function(n){t.append(n,e[n])})),t}function gw(e,t){return["0",""].includes(e)?t:"".concat(e,"$").concat(t)}var yw=function(){return fw("TOK")};function mw(e,t){void 0===t&&(t=void 0);try{return JSON.parse(e)}catch(n){return t}}var _w="#",bw="?",ww="&";function Ew(e,t){if(e.includes(bw)){var n=e;return Object.keys(t).map((function(e){n=function(e,t,n){var r=e.split(bw),o=r[1].split(ww),i=!0,a=new Map;o.forEach((function(e){var t=e.split("=");a.set(t[0],t[1])})),o.some((function(e){0===e.indexOf("".concat(t,"="))&&(a.set(t,n),i=!1)})),i&&a.set(t,n);var s=[];return a.forEach((function(e,t){var n="".concat(t,"=").concat(e);s.push(n)})),r[1]=s.join(ww),r.join(bw)}(n,e,t[e])})),n}var r=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join(ww);return"".concat(e,"?").concat(r)}function Sw(e,t){if(Object.keys(t).length<1)return e;if(e.includes(_w)){var n=e.split(_w);return n[0]=Ew(n[0],t),n.join(_w)}return Ew(e,t)}var Ow=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.fetchAuthInfoData=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t={id:e,xsrf:"".concat(dw(Yb.xsrf))},n=Sw(tw,t),[4,this.networkRequestService.instance.get(n)];case 1:return[2,r.sent()]}}))}))},e.prototype.fetchAuthInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return e={localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domain:this.docMetaDomainService.docMetaEntity.padInfo.domainId,type:1,ver:2,xsrf:"".concat(dw(Yb.xsrf))},t=Sw(nw,e),[4,this.networkRequestService.instance.post(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.changeAuthInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a;return(0,kr.__generator)(this,(function(s){switch(s.label){case 0:return t=e.corpId,n=e.data,r=e.message,o=e.dataType,i={localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domain:this.docMetaDomainService.docMetaEntity.padInfo.domainId,corp_id:pw(t),data:pw(n),message:pw(r),dataType:hw(o),type:1,ver:2,xsrf:"".concat(dw(Yb.xsrf))},a=Sw(rw,i),[4,this.networkRequestService.instance.post(a)];case 1:return[2,s.sent()]}}))}))},e.prototype.fetchAuthExpTime=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return e={domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:"".concat(dw(Yb.xsrf)),type:1,ver:2},t=Sw(ow,e),[4,this.networkRequestService.instance.get(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.changeAuthExpTime=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t=vw({domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,setTime:parseInt(e,10),xsrf:"".concat(dw(Yb.xsrf))}),n={contentType:"application/x-www-form-urlencoded"},[4,this.networkRequestService.instance.post(iw,t,n)];case 1:return[2,r.sent()]}}))}))},e.prototype.fetchFolderAuth=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t={folderId:e,type:1,ver:2,xsrf:"".concat(dw(Yb.xsrf))},n=Sw(nw,t),[4,this.networkRequestService.instance.post(n)];case 1:return[2,r.sent()]}}))}))},e.prototype.changeFolderAuth=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return(0,kr.__generator)(this,(function(c){switch(c.label){case 0:return t=e.folderId,n=e.corpId,r=e.message,o=e.data,i=e.clear,a={folderId:t,corp_id:pw(n),data:pw(o),message:pw(r),clear:hw(i),type:1,ver:2,xsrf:"".concat(dw(Yb.xsrf))},s=Sw(rw,a),[4,this.networkRequestService.instance.post(s)];case 1:return[2,c.sent()]}}))}))},e.prototype.fetchAuthConfig=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return e={domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:"".concat(dw(Yb.xsrf))},t=Sw(aw,e),[4,this.networkRequestService.instance.post(t)];case 1:return[2,n.sent()]}}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),Iw=Ow,Rw=function(){function e(){}return e.prototype.jsonObj2Class=function(t,n){var r=this;t?Object.keys(t).forEach((function(o){var i=o;n||(i=function(e){for(var t=e.split("_"),n="",r=0;r<t.length;r++){var o=t[r];o.length>0&&(n+=0===r?o:o="".concat(o[0].toUpperCase()).concat(o.substring(1)))}return n}(o)),Object.prototype.hasOwnProperty.call(r,i)&&(r[i]instanceof e?r[i].jsonObj2Class(t[o]):r[i]=t[o])})):e.logger.debug("params erroro: jsonObj2Class")},e.prototype.class2JsonObj=function(t){var n=this,r={};return Object.keys(this).forEach((function(o){if("id"!==o){var i=o;t||(i=0===(a=o).length?a:(a[0].toLowerCase()+a.substr(1)).replace(/([A-Z])/g,(function(e){return"_".concat(e.toLowerCase())}))),n[o]instanceof e&&(r[i]=n[o].class2JsonObj(t)),r[i]=n[o]}var a})),r},e.logger=new Lg("DDBase").use("console"),e}(),Cw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,kr.__extends)(t,e),t.prototype.jsonObj=function(){return this.class2JsonObj()},t.prototype.equals=function(e){for(var n=0,r=Object.keys(this);n<r.length;n++){var o=r[n];if(this[o]instanceof t){if(!this[o].equals(e[o]))return!1}else if(this[o]!==e[o])return!1}return!0},t.prototype.clone=function(){var e=Reflect.getPrototypeOf(this);return Reflect.construct(e.constructor,[this.jsonObj()])},t}(Rw),Tw=function(e){function t(t){var n=e.call(this)||this;return n.expTime=0,n.remainTime=0,n.setTime=0,n.startTime=0,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw);function xw(e){return e.retcode||e.code||0}function Aw(e){return e.msg||e.message||e.retmsg||""}var kw=new Lg("domain").use("console");function Dw(){return function(e,t,n){var r=n.value;n.value=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s;return(0,kr.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,r.apply(this,n)];case 1:return o=c.sent().data,i={data:o,retcode:xw(o),msg:Aw(o),cgicode:null!==(s=o.cgicode)&&void 0!==s?s:0},delete o.msg,delete o.message,delete o.retmsg,delete o.retcode,delete o.code,delete o.cgicode,delete o.ret,[2,{resData:i}];case 2:return a=c.sent(),kw.error("".concat(e.constructor.name,"|").concat(t,"|").concat(a)),[2,{error:a,resData:{}}];case 3:return[2]}}))}))}}}function Mw(e,t){return function(n,r,o){kw.debug("praseHeaderKey2DataHandler|".concat(n.constructor.name,"|").concat(r,"|").concat(e));var i=o.value;o.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o,a;return(0,kr.__generator)(this,(function(s){switch(s.label){case 0:return[4,i.apply(this,n)];case 1:return r=s.sent(),o=r.data,a=r.headers,o&&a&&a[e]&&(o[t]=a[e]),[2,r]}}))}))}}}function Pw(e,t){return e.prototype instanceof Cw?Reflect.construct(e,[t]):Reflect.construct(e,["mainEntity"]).initWithJsonObj(t)}function Nw(e,t){return function(n,r,o){kw.debug("fireEvent|".concat(n.constructor.name,"|").concat(r));var i=o.value;o.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return[4,i.apply(this,n)];case 1:return(r=a.sent()).resData&&((s=r.resData)&&0===s.retcode&&0===s.cgicode)&&((o={})[t]=this[t],this[e].fire(o)),[2,r]}var s}))}))}}}function Lw(e,t){return function(n,r,o){kw.debug("parseObjectData|".concat(n.constructor.name,"|").concat(r));var i=o.value;o.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return[4,i.apply(this,n)];case 1:return(r=o.sent()).error?[2,r]:(this.aggregateVersion=this.aggregateVersion+1,e.prototype instanceof Cw?this[t]=Pw(e,r.resData.data):this[t].initWithJsonObj(r.resData.data),[2,{resData:(0,kr.__assign)((0,kr.__assign)({},r.resData),{data:this[t]})}])}}))}))}}}function jw(e,t,n){return function(r,o,i){kw.debug("parseArrayData|".concat(r.constructor.name,"|").concat(o));var a=i.value;i.value=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var o,i=this;return(0,kr.__generator)(this,(function(s){switch(s.label){case 0:return[4,a.apply(this,r)];case 1:return(o=s.sent()).error?[2,o]:(this.aggregateVersion=this.aggregateVersion+1,(o.resData.data[n]||[]).forEach((function(n){i[t].push(Pw(e,n))})),[2,{resData:(0,kr.__assign)((0,kr.__assign)({},o.resData),{data:this[t]})}])}}))}))}}}function Uw(){return function(e,t,n){kw.debug("dataFieldNamingHandler|".concat(e.constructor.name,"|").concat(t));var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return[4,r.apply(this,e)];case 1:return t=o.sent(),(null===(n=t.resData)||void 0===n?void 0:n.data)&&(t.resData.data=Vb(t.resData.data)),[2,t]}}))}))}}}function Fw(){return function(e,t,n){kw.debug("paramsFieldNamingHandler|".concat(e.constructor.name,"|").concat(t));var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return e.length?[3,2]:[4,r.apply(this,[])];case 1:case 3:return[2,n.sent()];case 2:return t=[Wb(e[0])],[4,r.apply(this,t)]}}))}))}}}function Bw(){return function(e,t,n){kw.debug("parseResBody|".concat(e.constructor.name,"|").concat(t));var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,r.apply(this,e)];case 1:return(t=n.sent()).error?[2,t]:[2,{resData:(0,kr.__assign)((0,kr.__assign)({},t.resData),{data:(0,kr.__assign)({},t.resData.data.body)})}]}}))}))}}}function qw(e){return function(t,n,r){kw.debug("parseResBody|".concat(t.constructor.name,"|").concat(n));var o=r.value;return r.value=function(){for(var r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];try{r=o.apply(this,i)}catch(s){kw.error("tryCatchHandler caught error from ".concat(t.constructor.name,"|").concat(n,". Error detail: ").concat(s)),r=e}return r||void 0},r}}kw.level="OFF";var Ww=o(47484),Vw=function(e){function t(t){var n=e.call(this)||this;return n.readerCanComment=!1,n.viewForbidCopyPrint=!1,n.writerCanComment=!1,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),Gw=function(e){function t(t){var n=e.call(this)||this;return n.canAbout=!1,n.canAddUser=!1,n.canAnnotate=!1,n.canComment=!1,n.canCopy=!1,n.canCopyDoc=!1,n.canEdit=!1,n.canEditTitle=!1,n.canHistory=!1,n.canLinkExp=!1,n.canPrint=!1,n.canRead=!1,n.canSearch=!1,n.canShare=!1,n.canFeedback=!1,n.canSpitSlot=!1,n.canTranslate=!1,n.canViewImage=!1,n.canWatermark=!1,n.isPrivilegeExpired=!1,n.canApplyEdit=!1,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),Hw=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t,this.selfRole=eb.noPrivilege,this.isOwner=!1,this.selfDocPrivilege=new Gw({}),this.selfDocAdvancedPrivilege=new Vw({}),this.documentPrivilege=X_.deny,this.memberList=[],this.onAuthChangedEmitter=new Ww.Emitter,this.onAuthExpTimeChangedEmitter=new Ww.Emitter,this.onSelfPrivilegeChangedEmitter=new Ww.Emitter,this.authRepository=new Iw(e,t),this.onAuthChanged=this.onAuthChangedEmitter.event,this.onAuthExpTimeChanged=this.onAuthExpTimeChangedEmitter.event,this.onSelfPrivilegeChanged=this.onSelfPrivilegeChangedEmitter.event}return e.prototype.fetchAuthExpTime=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.fetchAuthExpTime()];case 1:return[2,e.sent()]}}))}))},e.prototype.changeAuthExpTime=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.changeAuthExpTime(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.fetchAuthInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.fetchAuthInfo()];case 1:return[2,e.sent()]}}))}))},e.prototype.changeAuthInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.changeAuthInfo(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.fetchAuthInfoData=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.fetchAuthInfoData(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.fetchFolderAuth=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.fetchFolderAuth(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.changeFolderAuth=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.changeFolderAuth(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.fetchAuthConfig=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.fetchAuthConfig()];case 1:return[2,e.sent()]}}))}))},e.prototype.onReceiveMessageFromServer=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.notifyRightChange(e)];case 1:return n.sent(),this.checkSelfPrivilege(t),[2]}}))}))},e.prototype.handleForDifferentActions=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t=e.seq,1!==e.action?[3,4]:e?void 0!==(n=e)[t]?[3,2]:[4,this.handleAuthChange()]:[3,3];case 1:return r.sent(),[3,3];case 2:delete n[t],r.label=3;case 3:return[3,7];case 4:return 2!==e.action?[3,5]:[3,7];case 5:return[4,this.handleExpInfoChange(e)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))},e.prototype.handleAuthChange=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return this.isOwner?[4,this.fetchAuthInfo()]:[2];case 1:return 0===(e=n.sent()).resData.cgicode&&0===e.resData.retcode&&(t=e.resData.data,this.documentPrivilege=t.policy,this.memberList=t.memberList,this.onAuthChangedEmitter.fire({newDocumentPrivilege:this.documentPrivilege})),[2]}}))}))},e.prototype.handleExpInfoChange=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){return this.checkExpTimeParams(e)&&(t=e.exptime-e.starttime)&&t>0&&(n=new Tw({expTime:e.exptime,remainTime:t,setTime:t,startTime:e.starttime}),this.onAuthExpTimeChangedEmitter.fire({newExpTime:n})),[2]}))}))},e.prototype.checkExpTimeParams=function(e){return"undefined"!==e.exptime&&"undefined"!==e.settime&&"undefined"!==e.starttime},e.prototype.checkSelfPrivilege=function(e){var t=this;e.sendMessage({cmd:"GET_PRIVILEGE",taskId:void 0,data:JSON.stringify({}),onsend:function(e,n,r,o){if(t.checkGetPrivilegeResult(o)){var i=o.response.onpost.privilege_attribute;t.checkDocPrivilegeChange(i)&&(t.selfDocPrivilege.canEdit=i.can_edit,t.selfDocPrivilege.canRead=i.can_read,t.selfDocPrivilege.canComment=i.can_comment,t.selfDocPrivilege.canCopy=i.can_copy,t.selfDocPrivilege.canEditTitle=i.can_edit_title,t.onSelfPrivilegeChangedEmitter.fire({newSelfPrivilege:t.selfDocPrivilege}))}},onError:function(){}})},e.prototype.checkGetPrivilegeResult=function(e){var t,n;return 0===e.errCode&&0===(null===(n=null===(t=e.response)||void 0===t?void 0:t.onpost)||void 0===n?void 0:n.result)},e.prototype.checkDocPrivilegeChange=function(e){return this.selfDocPrivilege.canEdit!==e.can_edit||this.selfDocPrivilege.canRead!==e.can_read||this.selfDocPrivilege.canComment!==e.can_comment||this.selfDocPrivilege.canCopy!==e.can_copy||this.selfDocPrivilege.canEditTitle!==e.can_edit_title},e.prototype.notifyRightChange=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return!e||""!==e.payload&&null!==e.payload?[3,2]:[4,this.handleAuthChange()];case 1:case 3:return n.sent(),[2];case 2:return null===(t=mw(decodeURIComponent(e.payload),decodeURIComponent(e.payload)))?[2]:[4,this.handleForDifferentActions(t)]}}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchAuthExpTime",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"changeAuthExpTime",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchAuthInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"changeAuthInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchAuthInfoData",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchFolderAuth",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"changeFolderAuth",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchAuthConfig",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),Kw=Hw,Qw=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.setUserAuth=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return t=dw(Yb.xsrf)||"",n=(0,kr.__assign)({xsrf:t},e),r=Sw(uw,{xsrf:t}),[4,this.networkRequestService.instance.post(r,n)];case 1:return[2,o.sent()]}}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),Yw=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t,this.collabAuthRepository=new Qw(e,t)}return e.prototype.setCollabUserAuth=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.collabAuthRepository.setUserAuth(e)];case 1:return[2,t.sent()]}}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"setCollabUserAuth",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),Zw=Yw,zw=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.changeCorpShareAuthInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a;return(0,kr.__generator)(this,(function(s){switch(s.label){case 0:return t=e.uid,n=e.corpId,r=e.isOpen,o=e.canExternalApply,i=e.docCorpSharePolicy,a={user_info:{uid:t,corp_id:n},doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,is_open:r,can_external_apply:o,uint32_policy:Math.round(Number(i||2)),xsrf:dw(Yb.xsrf)},[4,this.networkRequestService.instance.post(cw,(0,kr.__assign)({},a))];case 1:return[2,s.sent()]}}))}))},e.prototype.fetchCorpShareAuthInfo=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return n={user_info:{uid:e,corp_id:t},doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:dw(Yb.xsrf)},[4,this.networkRequestService.instance.post(sw,(0,kr.__assign)({},n))];case 1:return[2,r.sent()]}}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),$w=zw,Jw=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t,this.corpShareAuthRepository=new $w(e,t)}return e.prototype.fetchCorpShareAuthInfo=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.corpShareAuthRepository.fetchCorpShareAuthInfo(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.changeCorpShareAuthInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.corpShareAuthRepository.changeCorpShareAuthInfo(e)];case 1:return[2,t.sent()]}}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchCorpShareAuthInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"changeCorpShareAuthInfo",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),Xw=Jw,eE=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t,this.authInfoEntity=new Kw(e,t),this.corpShareAuthInfoEntity=new Xw(e,t),this.collabAuthInfoEntity=new Zw(e,t)}return e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),tE=function(e){return"".concat(String(e),"__locked")},nE=function(e){return"".concat(String(e),"__result")};function rE(){return function(e,t,n){var r=n.value,o=tE(t),i=nE(t);n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this[o]||(this[i]=r.call.apply(r,(0,kr.__spreadArray)([this],(0,kr.__read)(e),!1)),this[o]=!0),this[i]}}}var oE,iE,aE=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t,this.isInitedByBasicClientVars=!1,this.authAggregate=new eE(e,t),window.basicClientVars&&this.initWithBasicClientVars(window.basicClientVars)}return e.prototype.updateWithClientVars=function(e){if(!this.isInitedByBasicClientVars){var t=function(e){var t={};if(e.privilegeAttribute){var n=e.privilegeAttribute,r=n.can_about,o=n.can_annotate,i=n.can_add_user,a=n.can_comment,s=n.can_copy,c=n.can_copy_doc,u=n.can_edit,l=n.can_edit_title,f=n.can_history,d=n.can_link_exp,p=n.can_print,h=n.can_read,v=n.can_search,g=n.can_share,y=n.can_spit_slot;t={canAbout:r,canAddUser:i,canAnnotate:o,canComment:a,canCopy:s,canCopyDoc:c,canEdit:u,canEditTitle:l,canHistory:f,canLinkExp:d,canPrint:p,canRead:h,canSearch:v,canShare:g,canSpitSlot:y,canFeedback:y,canTranslate:n.can_translate,canViewImage:n.can_view_image,canWatermark:n.can_watermark,canApplyEdit:!!e.privilegeAttribute.can_apply_edit}}return t}(e);this.authAggregate.authInfoEntity.selfDocPrivilege=new Gw(t),this.authAggregate.authInfoEntity.isOwner=e.isOwner,this.authAggregate.authInfoEntity.selfRole=e.rightFlag,this.authAggregate.authInfoEntity.documentPrivilege=e.policy,this.authAggregate.authInfoEntity.selfDocAdvancedPrivilege=new Vw({readerCanComment:e.advPolicy.reader_can_comment,viewForbidCopyPrint:e.advPolicy.view_forbid_copy_print,writerCanComment:e.advPolicy.writer_can_comment})}},e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c;return(0,kr.__generator)(this,(function(u){switch(u.label){case 0:return t=e.docId,[4,this.authAggregate.authInfoEntity.fetchAuthInfoData(t)];case 1:return n=u.sent().resData,r=null==n?void 0:n.data.data,o=r.privilegeAttribute,i=r.advPolicy,this.authAggregate.authInfoEntity.isOwner=null!==(a=r.isOwner)&&void 0!==a&&a,this.authAggregate.authInfoEntity.selfRole=null!==(s=r.rightFlag)&&void 0!==s?s:0,this.authAggregate.authInfoEntity.documentPrivilege=null!==(c=r.policy)&&void 0!==c?c:0,this.authAggregate.authInfoEntity.selfDocPrivilege=new Gw({canAbout:null==o?void 0:o.canAbout,canAddUser:null==o?void 0:o.canAddUser,canAnnotate:null==o?void 0:o.canAnnotate,canComment:null==o?void 0:o.canComment,canCopy:null==o?void 0:o.canCopy,canCopyDoc:null==o?void 0:o.canCopyDoc,canEdit:null==o?void 0:o.canEdit,canEditTitle:null==o?void 0:o.canEditTitle,canHistory:null==o?void 0:o.canHistory,canLinkExp:null==o?void 0:o.canLinkExp,canPrint:null==o?void 0:o.canPrint,canRead:null==o?void 0:o.canRead,canSearch:null==o?void 0:o.canSearch,canShare:null==o?void 0:o.canShare,canSpitSlot:null==o?void 0:o.canSpitSlot,canFeedback:null==o?void 0:o.canSpitSlot,canTranslate:null==o?void 0:o.canTranslate,canViewImage:null==o?void 0:o.canViewImage,canWatermark:null==o?void 0:o.canWatermark,isPrivilegeExpired:!!r.privilegeExpire}),this.authAggregate.authInfoEntity.selfDocAdvancedPrivilege=new Vw({readerCanComment:null==i?void 0:i.reader_can_comment,viewForbidCopyPrint:null==i?void 0:i.view_forbid_copy_print,writerCanComment:null==i?void 0:i.writer_can_comment}),[2]}}))}))},e.prototype.initWithBasicClientVars=function(e){var t,n,r,o,i,a,s,c,u,l,f,d,p,h,v,g,y=function(e){var t;return(null===(t=e.authInfo)||void 0===t?void 0:t.attribute)?{canAbout:e.authInfo.attribute.canAbout,canAddUser:e.authInfo.attribute.canAddUser,canAnnotate:e.authInfo.attribute.canAnnotate,canComment:e.authInfo.attribute.canComment,canCopy:e.authInfo.attribute.canCopy,canCopyDoc:e.authInfo.attribute.canCopyDoc,canEdit:e.authInfo.attribute.canEdit,canEditTitle:e.authInfo.attribute.canEditTitle,canHistory:e.authInfo.attribute.canHistory,canLinkExp:e.authInfo.attribute.canLinkExp,canPrint:e.authInfo.attribute.canPrint,canRead:e.authInfo.attribute.canRead,canSearch:e.authInfo.attribute.canSearch,canShare:e.authInfo.attribute.canShare,canSpitSlot:e.authInfo.attribute.canSpitSlot,canFeedback:e.authInfo.attribute.canSpitSlot,canTranslate:e.authInfo.attribute.canTranslate,canViewImage:e.authInfo.attribute.canViewImage,canWatermark:e.authInfo.attribute.canWatermark,isPrivilegeExpired:e.authInfo.privilegeExpire,canApplyEdit:e.authInfo.attribute.canApplyEdit}:{}}(e);this.authAggregate.authInfoEntity.isOwner=null!==(n=null===(t=e.docInfo)||void 0===t?void 0:t.isOwner)&&void 0!==n&&n,this.authAggregate.authInfoEntity.selfRole=null!==(o=null===(r=e.authInfo)||void 0===r?void 0:r.privilegeFlag)&&void 0!==o?o:0,this.authAggregate.authInfoEntity.documentPrivilege=null!==(s=null===(a=null===(i=e.authInfo)||void 0===i?void 0:i.privilegeInfo)||void 0===a?void 0:a.uint32Policy)&&void 0!==s?s:0,this.authAggregate.authInfoEntity.selfDocPrivilege=new Gw(y),this.authAggregate.authInfoEntity.selfDocAdvancedPrivilege=new Vw({readerCanComment:null===(l=null===(u=null===(c=e.authInfo)||void 0===c?void 0:c.privilegeInfo)||void 0===u?void 0:u.advPolicy)||void 0===l?void 0:l.readerCanComment,viewForbidCopyPrint:null===(p=null===(d=null===(f=e.authInfo)||void 0===f?void 0:f.privilegeInfo)||void 0===d?void 0:d.advPolicy)||void 0===p?void 0:p.viewForbidCopyPrint,writerCanComment:null===(g=null===(v=null===(h=e.authInfo)||void 0===h?void 0:h.privilegeInfo)||void 0===v?void 0:v.advPolicy)||void 0===g?void 0:g.writerCanComment}),this.isInitedByBasicClientVars=!0},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),(0,kr.__decorate)([qw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",void 0)],e.prototype,"initWithBasicClientVars",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),sE=function(e){function t(t){var n=e.call(this)||this;return n.id=t,n}return(0,kr.__extends)(t,e),t.prototype.initWithJsonObj=function(e){this.jsonObj2Class(e)},t.prototype.jsonObj=function(){return this.class2JsonObj()},t.prototype.getIdentity=function(){return this.id},t.prototype.equals=function(e){return null!==e&&(this===e||this.getIdentity()===e.getIdentity())},t}(Rw),cE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aggregateVersion=0,t.aggregateIsDeleted=!1,t}return(0,kr.__extends)(t,e),t.prototype.version=function(){return this.aggregateVersion},t.prototype.isDeleted=function(){return this.aggregateIsDeleted},t}(sE),uE=function(e){function t(t){var n=e.call(this)||this;return n.dataType=0,n.domainId="",n.localPadId="",n.padTitle="",n.padType="",n.padUrl="",n.page="",n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),lE=function(e){function t(t){var n=e.call(this)||this;return n.avatar="",n.nick="",n.uid="",n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),fE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notifyUserInfo=new lE({}),t.notifyPadInfo=new uE({}),t.aRightFlag=0,t.bRightFlag=0,t.nRightFlag=0,t.rightFlag=0,t.denyCount=0,t.flag=0,t.id="",t.op="",t.pass=0,t.sendDate=0,t.subject="",t.type=0,t}return(0,kr.__extends)(t,e),t.prototype.initWithJsonObj=function(e){e?(this.aRightFlag=e.aRightFlag,this.bRightFlag=e.bRightFlag,this.nRightFlag=e.nRightFlag,this.rightFlag=e.rightFlag,this.denyCount=e.denyCount,this.flag=e.flag,this.pass=e.pass,this.sendDate=e.send_date,this.type=e.type,this.id=e.id,this.op=e.op,this.subject=e.subject,this.notifyPadInfo=new uE(e),this.notifyUserInfo=new lE(e)):t.logger.debug("params erroro: initWithJsonObj")},t}(sE),dE="".concat(zb,"notify_getnum"),pE="".concat(zb,"notify_list"),hE="".concat(zb,"auth_set"),vE="".concat(zb,"auth_apply/check"),gE="".concat(zb,"notify_delete"),yE="".concat(zb,"transowner_accept"),mE="".concat(zb,"transowner_reject"),_E=function(){function e(e){this.networkRequestService=e}return e.prototype.notifyGetNum=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){return e={xsrf:"".concat(dw(Yb.xsrf))},t=Sw(dE,e),[2,Qc.networkRequest.get(t)]}))}))},e.prototype.notifyList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){return e?(t=Sw(pE,{xsrf:"".concat(dw(Yb.xsrf)),start:e}),[2,Qc.networkRequest.get(t)]):(n=Sw(pE,{xsrf:"".concat(dw(Yb.xsrf))}),[2,Qc.networkRequest.get(n)])}))}))},e.prototype.currentDocNotifyList=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,kr.__generator)(this,(function(i){return n?(o={xsrf:"".concat(dw(Yb.xsrf)),domainId:e,localPadId:t,start:n},r=Sw(pE,o)):(o={xsrf:"".concat(dw(Yb.xsrf)),domainId:e,localPadId:t},r=Sw(pE,o)),[2,Qc.networkRequest.get(r)]}))}))},e.prototype.authSet=function(e,t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var o,i;return(0,kr.__generator)(this,(function(a){return o={xsrf:dw(Yb.xsrf),domainId:e,localPadId:t,notifyId:n,setInfo:r},i="".concat(hE),[2,Qc.networkRequest.post(i,o)]}))}))},e.prototype.authApplyCheck=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){return n={xsrf:"".concat(dw(Yb.xsrf)),domainId:e,localPadId:t},r=Sw(vE,n),[2,Qc.networkRequest.get(r)]}))}))},e.prototype.notifyDelete=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){return t={id:e,xsrf:"".concat(dw(Yb.xsrf))},n=Sw(gE,t),[2,Qc.networkRequest.get(n)]}))}))},e.prototype.transownerAccept=function(e,t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var o,i;return(0,kr.__generator)(this,(function(a){return o={xsrf:dw(Yb.xsrf),domainId:e,localPadId:t,notifyId:n,setInfo:r},i="".concat(yE),[2,Qc.networkRequest.post(i,o)]}))}))},e.prototype.transownerReject=function(e,t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var o,i;return(0,kr.__generator)(this,(function(a){return o={xsrf:dw(Yb.xsrf),domainId:e,localPadId:t,notifyId:n,setInfo:r},i="".concat(mE),[2,Qc.networkRequest.post(i,o)]}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),bE=function(e){function t(t){var n=e.call(this)||this;return n.unreadSumCount=0,n.hasPolicyNotify=0,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),wE="unreadInfo",EE="list",SE=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.docMetaDomainService=n,o.networkRequest=r,o.unreadInfo=new bE({}),o.notifysAll=[],o.notifysCurrent=[],o.mOnNotifyUnreadInfoDidUpdated=new Ww.Emitter,o.onNotifyUnreadInfoDidUpdated=o.mOnNotifyUnreadInfoDidUpdated.event,o.notificationRepository=new _E(r),o}return(0,kr.__extends)(t,e),t.prototype.notifyGetNum=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.notificationRepository.notifyGetNum()]}))}))},t.prototype.notifyList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return e||(this.notifysAll=[]),[2,this.notificationRepository.notifyList(e)]}))}))},t.prototype.currentDocNotifyList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return e||(this.notifysCurrent=[]),[2,this.notificationRepository.currentDocNotifyList(this.docMetaDomainService.docMetaEntity.padInfo.domainId,this.docMetaDomainService.docMetaEntity.padInfo.padId,e)]}))}))},t.prototype.authSet=function(e,t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(o){return[2,this.notificationRepository.authSet(e,t,n,r)]}))}))},t.prototype.authApplyCheck=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.notificationRepository.authApplyCheck(e,t)]}))}))},t.prototype.notifyDelete=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.notificationRepository.notifyDelete(e)]}))}))},t.prototype.transownerAccept=function(e,t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(o){return[2,this.notificationRepository.transownerAccept(e,t,n,r)]}))}))},t.prototype.transownerReject=function(e,t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(o){return[2,this.notificationRepository.transownerReject(e,t,n,r)]}))}))},t.prototype.clearUnreadInfo=function(){this.unreadInfo=new bE({}),this.mOnNotifyUnreadInfoDidUpdated.fire({unreadInfo:this.unreadInfo})},(0,kr.__decorate)([Nw("mOnNotifyUnreadInfoDidUpdated",wE),Lw(bE.prototype.constructor,wE),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"notifyGetNum",null),(0,kr.__decorate)([jw(fE.prototype.constructor,"notifysAll",EE),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"notifyList",null),(0,kr.__decorate)([jw(fE.prototype.constructor,"notifysCurrent",EE),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"currentDocNotifyList",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String,String,Object]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"authSet",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"authApplyCheck",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"notifyDelete",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String,String,Object]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"transownerAccept",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String,String,Object]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"transownerReject",null),t=(0,kr.__decorate)([(0,kr.__param)(1,sg),(0,kr.__param)(2,bb),(0,kr.__metadata)("design:paramtypes",[String,Object,Object])],t)}(cE),OE=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.notificationAggregate=new SE("mainUserInfoAggregate",e,t)}return e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.docMetaDomainService.init(e)];case 1:return t.sent(),[2]}}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),IE="".concat(zb,"user_recent"),RE="".concat(zb,"auth_sendmsg"),CE="".concat(Zb,"/cgi-go/common-notify/view"),TE="".concat(zb,"browser_list"),xE="".concat(Zb,"/v2/privilege/wxsharelink/save"),AE="".concat(Zb,"/v2/privilege/wxsharelink/get"),kE="".concat(Zb,"/v2/privilege/wxsharelink/recall"),DE="".concat(zb,"wxqrcode"),ME="".concat(zb,"qq_import/setTips"),PE="".concat(Zb,"/cgi-bin/online_docs/share_doc"),NE="".concat(zb,"auth_info/update"),LE="".concat(Zb,"/sdc/friends"),jE="".concat(Zb,"/sdc/gmembers"),UE="".concat(Zb,"/sdc/dmembers"),FE="".concat(Zb,"/v2/group/getinfo"),BE="".concat(Zb,"/v2/sdc/friendchat"),qE="".concat(Zb,"/v2/util/qq/auth/check"),WE="".concat(Zb,"/enterprise/v1/cig/departments"),VE="".concat(Zb,"/enterprise/v1/cig/search-user"),GE="".concat(zb,"group_list"),HE="".concat(zb,"group_members"),KE="".concat(zb,"group_modify"),QE="".concat(zb,"group_deletemember"),YE="".concat(zb,"group_remove"),ZE="".concat(zb,"group_addmember"),zE="".concat(zb,"group_create"),$E="".concat(zb,"group_info"),JE="".concat(zb,"group_quit"),XE="".concat(zb,"group_checker"),eS="".concat(zb,"group_addkey"),tS="".concat(zb,"group_activate"),nS=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.fetchGroupList=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){return n={start:e,limit:t,t:(new Date).getTime()},[2,this.networkRequestService.instance.post(GE,(0,kr.__assign)({},n))]}))}))},e.prototype.fetchGroupMembers=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r;return(0,kr.__generator)(this,(function(o){return r={group_id:e,start:t,limit:n,t:(new Date).getTime()},[2,this.networkRequestService.instance.post(HE,(0,kr.__assign)({},r))]}))}))},e.prototype.modifyGroup=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){return n={group_id:e,group_name:t},[2,this.networkRequestService.instance.post(KE,(0,kr.__assign)({},n))]}))}))},e.prototype.deleteGroupMember=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){return n={group_id:e,mem_list:[t]},[2,this.networkRequestService.instance.post(QE,(0,kr.__assign)({},n))]}))}))},e.prototype.removeGroup=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t={group_id:e},[2,this.networkRequestService.instance.post(YE,(0,kr.__assign)({},t))]}))}))},e.prototype.addGroupMember=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){return n={group_id:e,mem_list:JSON.stringify(t)},[2,this.networkRequestService.instance.post(ZE,(0,kr.__assign)({},n))]}))}))},e.prototype.createGroup=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){return n={group_name:e,is_temp:t},[2,this.networkRequestService.instance.post(zE,(0,kr.__assign)({},n))]}))}))},e.prototype.fetchGroupInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t={group_id:e,get_key:false},[2,this.networkRequestService.instance.post($E,(0,kr.__assign)({},t))]}))}))},e.prototype.quitGroup=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t={group_id:e},[2,this.networkRequestService.instance.post(JE,(0,kr.__assign)({},t))]}))}))},e.prototype.checkCreateGroup=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e={},[2,this.networkRequestService.instance.post(XE,(0,kr.__assign)({},e))]}))}))},e.prototype.addKeyToGroup=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){return n={group_id:e,share_key:t},[2,this.networkRequestService.instance.post(eS,(0,kr.__assign)({},n))]}))}))},e.prototype.activateGroup=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t={group_id:e},[2,this.networkRequestService.instance.post(tS,(0,kr.__assign)({},t))]}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),rS=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.groupShareRepository=new nS(e,t)}return e.prototype.fetchGroupList=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.groupShareRepository.fetchGroupList(e,t)]}))}))},e.prototype.fetchGroupMembers=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(r){return[2,this.groupShareRepository.fetchGroupMembers(e,t,n)]}))}))},e.prototype.modifyGroup=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.groupShareRepository.modifyGroup(e,t)]}))}))},e.prototype.deleteGroupMember=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.groupShareRepository.deleteGroupMember(e,t)]}))}))},e.prototype.removeGroup=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.groupShareRepository.removeGroup(e)]}))}))},e.prototype.addGroupMember=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.groupShareRepository.addGroupMember(e,t)]}))}))},e.prototype.createGroup=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.groupShareRepository.createGroup(e,t)]}))}))},e.prototype.fetchGroupInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.groupShareRepository.fetchGroupInfo(e)]}))}))},e.prototype.quitGroup=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.groupShareRepository.quitGroup(e)]}))}))},e.prototype.checkCreateGroup=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.groupShareRepository.checkCreateGroup()]}))}))},e.prototype.addKeyToGroup=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.groupShareRepository.addKeyToGroup(e,t)]}))}))},e.prototype.activateGroup=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.groupShareRepository.activateGroup(e)]}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Number,Number]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchGroupList",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,Number,Number]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchGroupMembers",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"modifyGroup",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"deleteGroupMember",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"removeGroup",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,Array]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"addGroupMember",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,Boolean]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"createGroup",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchGroupInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"quitGroup",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"checkCreateGroup",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"addKeyToGroup",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"activateGroup",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),oS=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.fetchOrganizationalStructureList=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){return n={deptID:t,corpID:e,t:(new Date).getTime(),xsrf:"".concat(dw(Yb.xsrf))},r=Sw(WE,n),[2,this.networkRequestService.instance.get(r)]}))}))},e.prototype.searchQFYFUser=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,kr.__generator)(this,(function(i){return r={corpid:e,pos:n,num:20,word:t,xsrf:"".concat(dw(Yb.xsrf)),t:(new Date).getTime()},o=Sw(VE,r),[2,this.networkRequestService.instance.get(o)]}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),iS=oS,aS=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.qfyfShareRepository=new iS(e,t)}return e.prototype.fetchOrganizationalStructureList=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.qfyfShareRepository.fetchOrganizationalStructureList(e,t)]}))}))},e.prototype.searchQFYFUser=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(r){return[2,this.qfyfShareRepository.searchQFYFUser(e,t,n)]}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchOrganizationalStructureList",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String,String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"searchQFYFUser",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),sS=function(){function e(e,t,n){this.docMetaDomainService=e,this.networkRequestService=t,this.userInfoDomainService=n}return e.prototype.checkIfCanShare=function(){return(0,kr.__awaiter)(this,arguments,void 0,(function(e){var t,n,r,o;return void 0===e&&(e=!1),(0,kr.__generator)(this,(function(i){return t=vw({padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:dw(Yb.xsrf)}),n={contentType:"application/x-www-form-urlencoded"},r=(0,kr.__assign)({},e?{uflag:"qqsig"}:null),o=Sw(NE,r),[2,this.networkRequestService.instance.post(o,t,n)]}))}))},e.prototype.setTipsAfterImport=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o;return(0,kr.__generator)(this,(function(i){return t=e.fileMd5,n=e.guestUid,r=e.guestUidType,o={file_md5:t,guest_uid:n,guest_uid_type:r,tips_showed_fl:1},[2,this.networkRequestService.instance.post(ME,(0,kr.__assign)({},o))]}))}))},e.prototype.shareToQQOrTIM=function(e){return(0,kr.__awaiter)(this,arguments,void 0,(function(e,t){var n,r,o,i;return void 0===t&&(t=!1),(0,kr.__generator)(this,(function(a){return n=vw({padid:this.docMetaDomainService.docMetaEntity.padInfo.padId,domainid:this.docMetaDomainService.docMetaEntity.padInfo.domainId,uins:JSON.stringify(e),xsrf:dw(Yb.xsrf)}),r={contentType:"application/x-www-form-urlencoded"},o=(0,kr.__assign)({},t?{uflag:"qqsig"}:null),i=Sw(PE,o),[2,this.networkRequestService.instance.post(i,n,r)]}))}))},e.prototype.fetchFriendsInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){return e={t:(new Date).getTime(),xsrf:"".concat(dw(Yb.xsrf))},t=Sw(LE,e),[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.fetchGroupMember=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){return t={dstuin:e,t:(new Date).getTime(),xsrf:"".concat(dw(Yb.xsrf))},n=Sw(jE,t),[2,this.networkRequestService.instance.get(n)]}))}))},e.prototype.fetchDiscussGroupMember=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){return t={dstuin:e,t:(new Date).getTime(),xsrf:"".concat(dw(Yb.xsrf))},n=Sw(UE,t),[2,this.networkRequestService.instance.get(n)]}))}))},e.prototype.checkSkeyAuth=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e={uin:this.userInfoDomainService.userInfoAggregate.userInfo.uin,p_lskey:fw("p_lskey")||"",p_skey:fw("p_skey")||""},[2,this.networkRequestService.instance.post(qE,(0,kr.__assign)({},e))]}))}))},e.prototype.fetchGroupInfo=function(e){var t={groupCode:e,xsrf:"".concat(dw(Yb.xsrf))};return this.networkRequestService.instance.post(FE,(0,kr.__assign)({},t))},e.prototype.fetchFriendInfo=function(e){var t={uin:"".concat(e),xsrf:"".concat(dw(Yb.xsrf))};return this.networkRequestService.instance.post(BE,(0,kr.__assign)({},t))},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__param)(2,sb),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],e)}(),cS=sS;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.QQ=1]="QQ",e[e.WX=2]="WX",e[e.WORK=3]="WORK",e[e.EMAIL=4]="EMAIL",e[e.PHONE=8]="PHONE",e[e.WORK_COMBINATION=9]="WORK_COMBINATION",e[e.TOWER=10]="TOWER",e[e.ROBOT=11]="ROBOT",e[e.QFYF=12]="QFYF",e[e.OPEN=13]="OPEN",e[e.MEETING=14]="MEETING"}(oE||(oE={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WECHAT=4]="WECHAT",e[e.WEWORK=3]="WEWORK"}(iE||(iE={}));var uS=function(){function e(e,t,n){this.docMetaDomainService=e,this.networkRequest=t,this.userInfoDomainService=n,this.qqShareRepository=new cS(e,t,n)}return e.prototype.checkIfCanShare=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){return e=this.userInfoDomainService.userInfoAggregate.userInfo.loginType,t=![oE.QQ,oE.WX].includes(e),[2,this.qqShareRepository.checkIfCanShare(t)]}))}))},e.prototype.setTipsAfterImport=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.qqShareRepository.setTipsAfterImport(e)]}))}))},e.prototype.shareToQQOrTIM=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){return t=this.userInfoDomainService.userInfoAggregate.userInfo.loginType,n=![oE.QQ,oE.WX].includes(t),[2,this.qqShareRepository.shareToQQOrTIM(e,n)]}))}))},e.prototype.fetchFriendsInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.qqShareRepository.fetchFriendsInfo()]}))}))},e.prototype.fetchGroupMember=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.qqShareRepository.fetchGroupMember(e)]}))}))},e.prototype.fetchDiscussGroupMember=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.qqShareRepository.fetchDiscussGroupMember(e)]}))}))},e.prototype.checkSkeyAuth=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.qqShareRepository.checkSkeyAuth()]}))}))},e.prototype.fetchGroupInfo=function(e){return this.qqShareRepository.fetchGroupInfo(e)},e.prototype.fetchFriendInfo=function(e){return this.qqShareRepository.fetchFriendInfo(e)},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"checkIfCanShare",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"setTipsAfterImport",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Array]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"shareToQQOrTIM",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchFriendsInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchGroupMember",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchDiscussGroupMember",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"checkSkeyAuth",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchGroupInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchFriendInfo",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__param)(2,sb),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],e)}(),lS=uS,fS=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.fetchRecentUserInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){return e={padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domain:this.docMetaDomainService.docMetaEntity.padInfo.domainId,xsrf:"".concat(dw(Yb.xsrf))},t=Sw(IE,e),[2,this.networkRequestService.instance.post(t)]}))}))},e.prototype.sendDocToMember=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){return n={padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,addmemlist:JSON.stringify(e),corpid:pw(t),xsrf:dw(Yb.xsrf)},[2,this.networkRequestService.instance.post(RE,(0,kr.__assign)({},n))]}))}))},e.prototype.exportToPC=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e={padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:dw(Yb.xsrf)},[2,this.networkRequestService.instance.post(CE,(0,kr.__assign)({},e))]}))}))},e.prototype.fetchBrowserList=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){return n={domain_id:this.docMetaDomainService.docMetaEntity.padInfo.domainId,pad_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,start:e,limit:t,xsrf:"".concat(dw(Yb.xsrf)),t:(new Date).getTime()},r=Sw(TE,n),[2,this.networkRequestService.instance.get(r)]}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),dS=fS,pS=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.shareRepository=new dS(e,t)}return e.prototype.sendDocToMember=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.shareRepository.sendDocToMember(e,t)]}))}))},e.prototype.fetchRecentUserInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.shareRepository.fetchRecentUserInfo()]}))}))},e.prototype.exportToPC=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.shareRepository.exportToPC()]}))}))},e.prototype.fetchBrowserList=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.shareRepository.fetchBrowserList(e,t)]}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Array,String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"sendDocToMember",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchRecentUserInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"exportToPC",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Number,Number]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchBrowserList",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),hS=pS,vS=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.addWxShareLinkCount=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t={doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,token:e},[2,this.networkRequestService.instance.post(xE,(0,kr.__assign)({},t))]}))}))},e.prototype.fetchWxShareLinkCount=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e={doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId},[2,this.networkRequestService.instance.post(AE,(0,kr.__assign)({},e))]}))}))},e.prototype.wxShare=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o;return(0,kr.__generator)(this,(function(i){return t=e.groupId,n=e.shareLink,r=e.policy,o={groupId:pw(t),domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,page:"h5",right_flag:2,type:1,param:encodeURIComponent(n),ac:"share",policy:r,xsrf:dw(Yb.xsrf)},[2,this.networkRequestService.instance.post(DE,(0,kr.__assign)({},o))]}))}))},e.prototype.stopWxShare=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e={doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId},[2,this.networkRequestService.instance.post(kE,(0,kr.__assign)({},e))]}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),gS=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.weChatShareRepository=new vS(e,t)}return e.prototype.fetchWxShareLinkCount=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.weChatShareRepository.fetchWxShareLinkCount()]}))}))},e.prototype.stopWxShare=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.weChatShareRepository.stopWxShare()]}))}))},e.prototype.addWxShareLinkCount=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.weChatShareRepository.addWxShareLinkCount(e)]}))}))},e.prototype.wxShare=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.weChatShareRepository.wxShare(e)]}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchWxShareLinkCount",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"stopWxShare",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"addWxShareLinkCount",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"wxShare",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),yS=function(){function e(e,t,n){this.docMetaDomainService=e,this.networkRequestService=t,this.userInfoDomainService=n,this.shareEntity=new hS(e,t),this.groupShareEntity=new rS(e,t),this.qqShareEntity=new lS(e,t,n),this.weChatShareEntity=new gS(e,t),this.qfyfShareEntity=new aS(e,t)}return e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__param)(2,sb),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],e)}(),mS=function(){function e(e,t,n){this.docMetaDomainService=e,this.networkRequest=t,this.userInfoDomainService=n,this.shareAggregate=new yS(e,t,n)}return e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,Promise.all([this.docMetaDomainService.init(e),this.userInfoDomainService.init(e)])];case 1:return t.sent(),[2]}}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__param)(2,sb),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],e)}();function _S(e){return e.includes(".")?e.split(".")[1]:e}function bS(e){return!!e&&!!e.startsWith("p.")}var wS,ES="".concat(Zb,"/sdc/getusermarkname"),SS="".concat(Zb,"/api/personalize/anonymous/set"),OS="".concat(Zb,"/api/personalize/anonymous/vip/get"),IS=function(){function e(e){this.docMetaDomain=e}return e.prototype.getUserMarkName=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,kr.__generator)(this,(function(i){return n=this.getFormattedUidsString(e),r=(0,kr.__assign)((0,kr.__assign)({},t),{localPadId:this.docMetaDomain.docMetaEntity.padInfo.padId,domainId:this.docMetaDomain.docMetaEntity.padInfo.domainId,uids:n}),o={xsrf:yw()},[2,Qc.networkRequest.post(ES,r,{params:o})]}))}))},e.prototype.setPersonalizeAnonymous=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){return n={status:e,file_id:t||this.docMetaDomain.docMetaEntity.padInfo.padId},r={xsrf:yw()},[2,Qc.networkRequest.post(SS,n,{params:r})]}))}))},e.prototype.getPersonalizeAnonymous=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){return t={file_id:e||this.docMetaDomain.docMetaEntity.padInfo.padId},n={xsrf:yw()},[2,Qc.networkRequest.post(OS,t,{params:n})]}))}))},e.prototype.getFormattedUidsString=function(e){return(0,Bb.isArray)(e)?"[".concat(e.toString(),"]"):"[".concat(e,"]")},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),RS=function(e){function t(t){var n=e.call(this)||this;return n.vipLevel=1,n.avatarFrameUrl="",n.renewalStatus=0,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),CS=function(e){function t(t){var n=e.call(this)||this;return n.userType=1,n.vipInfo=new RS({}),n.sessionType=0,n.uuid="",n.status="",n.colorId="",n.corpName="",n.userPic="",n.markName="",n.uin="",n.userId="",n.uidSource=Wa.UNKNOWN,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),TS=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.docMetaDomain=n,o.userInfoDomain=r,o.collaborateList=[],o.currentMemCount=0,o.collabAllInfoList=[],o.throttleInterval=0,o.maxCollabListLengthLimit=999,o.collabRecordList=[],o.collaboratesCacheMap=new Map,o.onCollabAllInfoListUpdatedEmitter=new Ww.Emitter,o.onUserComeInEmitter=new Ww.Emitter,o.onUserLeaveEmitter=new Ww.Emitter,o.onCommercializeMessageEmitter=new Ww.Emitter,o.needRequestUserIds=new Set,o.onCollabAllInfoListUpdated=o.onCollabAllInfoListUpdatedEmitter.event,o.onUserComeIn=o.onUserComeInEmitter.event,o.onUserLeave=o.onUserLeaveEmitter.event,o.onCommercializeMessage=o.onCommercializeMessageEmitter.event,o.collaborateRepository=new IS(n),o}var n;return(0,kr.__extends)(t,e),n=t,t.prototype.handleUserComeIn=function(e){var t,n=this;null===(t=e.notices)||void 0===t||t.forEach((function(e){n.appendNoticeTo(e)})),this.currentMemCount=this.collaborateList.length,this.onUserComeInEmitter.fire(e),this.processUserEnter(e)},t.prototype.handleUserLeave=function(e){var t,n=this;null===(t=e.notices)||void 0===t||t.forEach((function(e){n.collaborateList=n.collaborateList.filter((function(t){return t.userId!==e.userId}))})),this.currentMemCount=this.collaborateList.length,this.onUserLeaveEmitter.fire(e),this.processUserLeave(e)},t.prototype.getUserMarkName=function(e){return(0,kr.__awaiter)(this,arguments,void 0,(function(e,t,n){var r,o,i,a,s,c,u,l,f;return void 0===t&&(t=!1),(0,kr.__generator)(this,(function(d){switch(d.label){case 0:return t?[4,this.collaborateRepository.getUserMarkName(e,n)]:[3,2];case 1:return r=d.sent(),this.setUserMarkItemToCache(r),[2,r];case 2:return o=this.getUserMarkItemFromCache(e),i=o.unCachedUserIds,a=o.cachedResults,0===i.length?[2,{data:{cgicode:0,retcode:0,result:{rsp:a}},status:200,statusText:""}]:bS(this.userInfoDomain.userInfoAggregate.userInfo.userId)?[4,this.collaborateRepository.getUserMarkName(i,n)]:[2,{data:{cgicode:0,retcode:0,result:{rsp:[]}},status:200,statusText:""}];case 3:return s=d.sent(),this.setUserMarkItemToCache(s),(null===(f=null===(l=null==s?void 0:s.data)||void 0===l?void 0:l.result)||void 0===f?void 0:f.rsp)&&(c=s.data.result.rsp,u=void 0===c?[]:c,s.data.result.rsp=u.concat(a)),[2,s]}}))}))},t.prototype.setPersonalizeAnonymous=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.collaborateRepository.setPersonalizeAnonymous(e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.getPersonalizeAnonymous=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.collaborateRepository.getPersonalizeAnonymous(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.handleCommerIcilizeMessage=function(e){this.onCommercializeMessageEmitter.fire(e)},Object.defineProperty(t.prototype,"maxCollabListLimit",{get:function(){return this.maxCollabListLengthLimit?this.maxCollabListLengthLimit:1/0},enumerable:!1,configurable:!0}),t.prototype.appendNoticeTo=function(e){this.collaborateList.find((function(t){return t.userId===e.userId}))||this.collaborateList.push(e)},t.prototype.createCollaborateItemObject=function(e,t){var n;return(0,kr.__assign)((0,kr.__assign)((0,kr.__assign)({},e),e.userId?null:{userId:null!==(n=e.reqUid)&&void 0!==n?n:""}),{userType:t?1:2})},t.prototype.fillVipInfoWithRecordInfo=function(e,t){if(t)return e;var n=this.collabRecordList.find((function(t){return t.userId===e.userId}));return n?(0,kr.__assign)((0,kr.__assign)({},e),{vipInfo:null==n?void 0:n.vipInfo}):e},t.prototype.checkAdd2CollaborateList=function(e,t){var n=this.createCollaborateItemObject(e,t);n=this.fillVipInfoWithRecordInfo(n,t),!this.collabAllInfoList.find((function(e){return e.userId===n.userId}))&&this.collabAllInfoList.length<this.maxCollabListLimit&&this.collabAllInfoList.push(new CS(n))},t.prototype.processUserEnter=function(e){var t=this,n=!1;null==e||e.notices.forEach((function(e){var r=_S(e.userId),o={uid:r,userId:r,sessionType:e.sessionType,uuid:e.uuId,vipInfo:mw(e.vipInfo,{})};if(t.collabRecordList.push(o),!bS(t.userInfoDomain.userInfoAggregate.userInfo.userId))return t.checkAdd2CollaborateList(o,!0),void(n=!0);if(!t.collabAllInfoList.find((function(e){return e.userId===r}))){if(!bS(e.userId))return t.checkAdd2CollaborateList(o,!0),void(n=!0);if(t.collaboratesCacheMap.has(r)){var i=t.collaboratesCacheMap.get(r),a=mw(e.vipInfo,{}),s=(0,kr.__assign)((0,kr.__assign)({},i),{vipInfo:a});return t.checkAdd2CollaborateList(s,!1),void(n=!0)}t.needRequestUserIds.add(r)}})),n&&this.onCollabAllInfoListUpdatedEmitter.fire({collabAllInfoList:this.collabAllInfoList}),bS(this.userInfoDomain.userInfoAggregate.userInfo.userId)&&this.throttleGetUserMarkname()},t.prototype.throttleGetUserMarkname=function(){var e=this;if(!this.throttleTimer){this.innerGetUserMarkName();var t=this.throttleInterval||6e4;this.throttleTimer=setInterval((function(){e.innerGetUserMarkName()}),t)}},t.prototype.processUserLeave=function(e){var t=this;null==e||e.notices.forEach((function(e){var n=_S(e.userId);t.popFormCollabRecordList(n),t.collabRecordList.filter((function(e){return e.userId===n})).length>0||(t.collabAllInfoList=t.collabAllInfoList.filter((function(e){return e.userId!==n})),bS(e.userId)&&t.needRequestUserIds.delete(n))})),this.onCollabAllInfoListUpdatedEmitter.fire({collabAllInfoList:this.collabAllInfoList})},t.prototype.innerGetUserMarkName=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t,r,o,i=this;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:if(0===this.needRequestUserIds.size)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),e=Array.from(this.needRequestUserIds).join(","),[4,this.collaborateRepository.getUserMarkName(e)];case 2:if(t=a.sent(),0===(null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.retcode)){if(!(r=t.data.result.rsp))return[2];r.forEach((function(e){i.needRequestUserIds.has(e.reqUid)&&(i.needRequestUserIds.delete(e.reqUid),i.checkAdd2CollaborateList(e,!1)),i.collaboratesCacheMap.set(e.reqUid,e)})),this.onCollabAllInfoListUpdatedEmitter.fire({collabAllInfoList:this.collabAllInfoList})}return[3,4];case 3:return a.sent(),n.logger.error("handleUserComeIn request error"),[3,4];case 4:return[2]}}))}))},t.prototype.popFormCollabRecordList=function(e){for(var t=0;t<this.collabRecordList.length;t++)if(this.collabRecordList[t].userId===e)return void this.collabRecordList.splice(t,1)},t.prototype.setUserMarkItemToCache=function(e){var t,n,r,o,i=this;0===(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.retcode)&&(null!==(o=null===(r=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.result)||void 0===r?void 0:r.rsp)&&void 0!==o?o:[]).forEach((function(e){(null==e?void 0:e.reqUid)&&i.collaboratesCacheMap.set(e.reqUid,e)}))},t.prototype.getSingleUserMarkItemFromCache=function(e){var t=this.collaboratesCacheMap.get(e);return t?{unCachedUserIds:[],cachedResults:[t]}:{unCachedUserIds:[e],cachedResults:[]}},t.prototype.getUserMarkItemFromCache=function(e){var t=this,n=[],r=[];return((0,Bb.isArray)(e)?e:[e]).forEach((function(e){var o=t.getSingleUserMarkItemFromCache(e),i=o.cachedResults,a=o.unCachedUserIds;n=n.concat(a),r=r.concat(i)})),{unCachedUserIds:n,cachedResults:r}},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"getUserMarkName",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Number,String]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"setPersonalizeAnonymous",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"getPersonalizeAnonymous",null),t=n=(0,kr.__decorate)([(0,kr.__param)(1,sg),(0,kr.__param)(2,sb),(0,kr.__metadata)("design:paramtypes",[String,Object,Object])],t)}(cE),xS=function(){function e(e,t){this.docMetaDomainService=e,this.userInfoDomainService=t,this.collaborateAggregate=new TS("mainUserInfoAggregate",this.docMetaDomainService,this.userInfoDomainService),Gb(this,this.collaborateAggregate,TS)}return e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.docMetaDomainService.init(e)];case 1:return t.sent(),[2]}}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,sb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),AS=("".concat($b,"account-list"),"".concat($b,"logout")),kS="".concat(Zb,"/disklogin/session_list"),DS="".concat(Zb,"/sdc/getusermarkname"),MS=function(){function e(e){this.networkRequestService=e}return e.prototype.getAccountList=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return n="".concat("/session/api/multiacc/account_list","?xrsf=").concat(dw(Yb.xsrf)),e?[4,this.networkRequestService.instance.get(n,{params:{padID:e}})]:[3,2];case 1:case 3:case 5:return[2,r.sent()];case 2:return t?[4,this.networkRequestService.instance.get(n,{params:{folderID:t}})]:[3,4];case 4:return[4,this.networkRequestService.instance.get(n)]}}))}))},e.prototype.delAccountForList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t="".concat(AS,"?xrsf=").concat(dw(Yb.xsrf),"&u=").concat(e),[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.changeSign=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t="".concat("/session/api/multiacc/change-sig","?xrsf=").concat(dw(Yb.xsrf),"&u=").concat(e),[2,this.networkRequestService.instance.get(t)]}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getAccountList",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"delAccountForList",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"changeSign",null),e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),PS=MS,NS=function(e){function t(t,n){var r=e.call(this,n)||this;return r.networkRequestService=t,r.accountListRepository=new PS(t),r.accountList=[],r}return(0,kr.__extends)(t,e),t.prototype.changeSign=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.accountListRepository.changeSign(e)];case 1:return[2,0===(null==(t=n.sent().resData)?void 0:t.retcode)]}}))}))},t.prototype.getAccountList=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.accountListRepository.getAccountList(e,t)];case 1:return n=i.sent().resData,this.accountList=(null===(o=null===(r=null==n?void 0:n.data)||void 0===r?void 0:r.result)||void 0===o?void 0:o.accounts)?n.data.result.accounts:[],[2,this.accountList]}}))}))},t.prototype.delAccountForList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.accountListRepository.delAccountForList(e)];case 1:return t=n.sent().resData,this.updateListAfterDel(e),[2,0===(null==t?void 0:t.retcode)]}}))}))},t.prototype.updateListAfterDel=function(e){this.accountList=this.accountList.filter((function(t){return t.userIndex!==e}))},t=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object,String])],t)}(sE),LS=NS,jS="".concat(Zb,"/online_docs_cgi/pwd/add"),US="".concat(Zb,"/online_docs_cgi/pwd/del"),FS="".concat(Zb,"/online_docs_cgi/pwd/verify"),BS="".concat(Zb,"/online_docs_cgi/pwd/reset"),qS="".concat(Zb,"/online_docs_cgi/pwd/verify_code_get"),WS="".concat(Zb,"/online_docs_cgi/pwd/verify_code_check"),VS="".concat(Zb,"/online_docs_cgi/pwd/question_check"),GS="".concat(Zb,"/online_docs_cgi/pwd/question_get"),HS="".concat(Zb,"/online_docs_cgi/pwd/tips_get"),KS="".concat(Zb,"/online_docs_cgi/pwd/token_verify"),QS=("".concat(Zb,"/online_docs_cgi/pwd/tips_report"),function(){function e(e){this.networkRequestService=e}return e.prototype.pwdAdd=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)({xsrf:dw(Yb.xsrf)},e)),[2,this.networkRequestService.instance.post(jS,t)]}))}))},e.prototype.pwdDel=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)({xsrf:dw(Yb.xsrf)},this.changeParam(e))),[2,this.networkRequestService.instance.post(US,t)]}))}))},e.prototype.pwdVerify=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)({xsrf:dw(Yb.xsrf)},e)),[2,this.networkRequestService.instance.post(FS,t)]}))}))},e.prototype.pwdReset=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)({xsrf:dw(Yb.xsrf)},this.changeParam(e))),[2,this.networkRequestService.instance.post(BS,t)]}))}))},e.prototype.pwdVerifyCodeGet=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)({xsrf:dw(Yb.xsrf)},e)),[2,this.networkRequestService.instance.post(qS,t)]}))}))},e.prototype.pwdVerifyCodeCheck=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)({xsrf:dw(Yb.xsrf)},e)),[2,this.networkRequestService.instance.post(WS,t)]}))}))},e.prototype.pwdQuestionCheck=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)({xsrf:dw(Yb.xsrf)},this.changeParam(e))),[2,this.networkRequestService.instance.post(VS,t)]}))}))},e.prototype.pwdQuestionGet=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e=vw({xsrf:dw(Yb.xsrf)}),[2,this.networkRequestService.instance.post(GS,e)]}))}))},e.prototype.pwdTipsGet=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e=vw({xsrf:dw(Yb.xsrf)}),[2,this.networkRequestService.instance.post(HS,e)]}))}))},e.prototype.pwdTokenVerify=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.networkRequestService.instance.post(KS,(0,kr.__assign)({xsrf:dw(Yb.xsrf)},e))]}))}))},e.prototype.changeParam=function(e){return e.question_info?(0,kr.__assign)((0,kr.__assign)({},e),{question_info:JSON.stringify(e.question_info)}):e},(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pwdAdd",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pwdDel",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pwdVerify",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pwdReset",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pwdVerifyCodeGet",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pwdVerifyCodeCheck",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pwdQuestionCheck",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pwdQuestionGet",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pwdTipsGet",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pwdTokenVerify",null),e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}()),YS=function(e){function t(t,n){var r=e.call(this,n)||this;return r.networkRequestService=t,r.phone="",r.isHasPassword=!1,r.pwdQuestionList=[],r.passwordRepository=new QS(r.networkRequestService),r}return(0,kr.__extends)(t,e),t.prototype.updatePwdTips=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.passwordRepository.pwdTipsGet()];case 1:return e=o.sent().resData,this.isHasPassword=!!(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.hasPwd),this.phone=null!==(r=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.pwdPhoneNum)&&void 0!==r?r:"",[2]}}))}))},t.prototype.updatePwdQuestionList=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.passwordRepository.pwdQuestionGet()];case 1:return e=r.sent().resData,this.pwdQuestionList=null!==(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.questionInfo)&&void 0!==n?n:[],[2]}}))}))},t=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object,String])],t)}(sE);!function(e){e.BINDING="BINDING",e.UNBIND="UNBIND"}(wS||(wS={}));var ZS,zS=function(e){function t(t){var n=e.call(this)||this;if(n.type=wS.UNBIND,n.userName="",n.userPic="",n.accountType=oE.UNKNOWN,t){n.loginType=t.loginType;var r=n.handleBindUserInfo(t);n.jsonObj2Class(r)}return n}return(0,kr.__extends)(t,e),t.prototype.handleBindUserInfo=function(e){var t=e.wxAvatar,n=e.wxNick,r=e.qqAvatar,o=e.qqNick;return e.wxOpenid&&this.loginType!==oE.WX?{type:wS.BINDING,userName:n,userPic:t,accountType:oE.WX}:r&&this.loginType!==oE.QQ?{type:wS.BINDING,userName:o,userPic:r,accountType:oE.QQ}:{type:wS.UNBIND,userName:"",userPic:"",accountType:oE.UNKNOWN}},t}(Cw);!function(e){e[e.UNAUTHED=0]="UNAUTHED",e[e.ENTERPRISE=1]="ENTERPRISE",e[e.ENTERPRISE_MEDIA=2]="ENTERPRISE_MEDIA",e[e.GOVERNMENT=3]="GOVERNMENT",e[e.NON_PROFIT_ORGANIZATION=4]="NON_PROFIT_ORGANIZATION",e[e.PRIVATE_NON_ENTERPRISE=5]="PRIVATE_NON_ENTERPRISE",e[e.FOR_PROFIT_ORGANIZATION=6]="FOR_PROFIT_ORGANIZATION",e[e.SOCIAL_GROUPS=8]="SOCIAL_GROUPS",e[e.BUSINESS_MEDIA=9]="BUSINESS_MEDIA",e[e.BUSINESS_UNIT=11]="BUSINESS_UNIT",e[e.INDIVIDUAL_INDUSTRIAL_AND_COMMERCIAL_HOUSEHOLDS=12]="INDIVIDUAL_INDUSTRIAL_AND_COMMERCIAL_HOUSEHOLDS",e[e.OVERSEAS_COMPANIES=13]="OVERSEAS_COMPANIES"}(ZS||(ZS={}));var $S,JS,XS,eO,tO,nO,rO,oO=function(e){function t(t){var n=e.call(this)||this;return n.avatar="",n.nick="",n.introduction="",n.type=0,n.principal="",n.credential="",n.isOfficialAccount=!1,t&&(n.setOfficialAccountStatus(t),n.jsonObj2Class(t)),n}return(0,kr.__extends)(t,e),t.prototype.setOfficialAccountStatus=function(e){this.isOfficialAccount=e.type!==ZS.UNAUTHED},t}(Cw);!function(e){e[e.NOT_YET=1]="NOT_YET",e[e.USING=2]="USING",e[e.EXPIRED=3]="EXPIRED"}($S||($S={})),function(e){e[e.NO_STATUS=0]="NO_STATUS",e[e.CLOSE=1]="CLOSE",e[e.OPEN=2]="OPEN",e[e.EXPIRED=3]="EXPIRED"}(JS||(JS={})),function(e){e[e.EXPIRED=1]="EXPIRED",e[e.SUPER_VIP_EXPIRED=2]="SUPER_VIP_EXPIRED"}(XS||(XS={})),function(e){e.NORMAL="NORMAL",e.SUPER="SUPER",e.NONE="NONE",e.EXPIRED="EXPIRED"}(eO||(eO={})),function(e){e[e.INVALID_CORP_VIP_LEVEL=0]="INVALID_CORP_VIP_LEVEL",e[e.CORP_VIP_LEVEL_BASIC=1]="CORP_VIP_LEVEL_BASIC",e[e.CORP_VIP_LEVEL_PRO=2]="CORP_VIP_LEVEL_PRO"}(tO||(tO={})),function(e){e[e.NONE=1]="NONE",e[e.NORMAL=2]="NORMAL",e[e.SUPER=3]="SUPER"}(nO||(nO={})),function(e){e[e.NONE=0]="NONE",e[e.AUTO_RENEWAL=1]="AUTO_RENEWAL",e[e.CLOSED=2]="CLOSED"}(rO||(rO={}));var iO=function(e){function t(t){var n=e.call(this)||this;if(n.type=eO.NONE,n.beginTime=0,n.endTime=0,n.vip={status:0,beginTime:0,endTime:0,renewalStatus:0},n.svip={status:0,beginTime:0,endTime:0,renewalStatus:0},n.vvip={status:0,beginTime:0,endTime:0},n.customInfo={avatarFrame:"",badgeUrl:"",corpVipLevel:tO.INVALID_CORP_VIP_LEVEL},n.renewal=rO.NONE,n.cursor={},n.cursorId="",n.alwayShowCursor=!1,!(null==t?void 0:t.result))return n;var r=n.handleVipInfoFromNet(t);return n.jsonObj2Class(r),n}return(0,kr.__extends)(t,e),t.prototype.updateVipUserInfo=function(e){if(e.result){var t=this.handleVipInfoFromNet(e);this.jsonObj2Class(t)}},t.prototype.updateEnterpriseVipUserInfo=function(e){if(e){var t=this.handleVipCustomInfoFromNet(e);this.jsonObj2Class({customInfo:t})}},t.prototype.handleVipInfoFromNet=function(e){var t,n=eO.NONE,r=JS.CLOSE,o=e.result.all,i=o.info,a=o.vip,s=o.superVip,c=o.decorationConfig,u=0,l=0;return s.endTime&&(u=1e3*parseInt(s.endTime,10)),a.endTime&&(l=1e3*parseInt(a.endTime,10)),i.vipLevel===nO.SUPER?(n=eO.SUPER,r=JS.OPEN):i.vipLevel===nO.NORMAL&&(n=eO.NORMAL,r=JS.OPEN),i.expiredStatus===XS.EXPIRED&&(n=eO.EXPIRED,r=JS.EXPIRED),{vip:{status:r,beginTime:0,endTime:l},svip:{status:s.status,beginTime:0,endTime:u},vvip:this.vvip,type:n,beginTime:0,endTime:0,renewal:i.renewalStatus,customInfo:{avatarFrame:i.avatarFrameUrl,badgeUrl:i.badgeUrl,corpVipLevel:i.corpVipLevel},cursor:this.parseCursor(i.cursor),cursorId:i.cursorId,alwayShowCursor:(null===(t=null==c?void 0:c.cursor)||void 0===t?void 0:t.alwaysShowSelfCursor)||!1}},t.prototype.parseCursor=function(e){var t={};try{t=JSON.parse(e)}catch(n){t={}}return t},t.prototype.handleVipCustomInfoFromNet=function(e){var t={avatar_frame_url:"",badge_url:"",corp_vip_level:tO.INVALID_CORP_VIP_LEVEL};try{t=JSON.parse(e)}catch(s){}var n=t.avatar_frame_url,r=void 0===n?"":n,o=t.badge_url,i=void 0===o?"":o,a=t.corp_vip_level;return{avatarFrame:r,badgeUrl:i,corpVipLevel:void 0===a?tO.INVALID_CORP_VIP_LEVEL:a}},t}(Cw),aO="".concat(Zb,"/session/logout"),sO="".concat(zb,"user_unbind"),cO="".concat(zb,"user_bind"),uO="".concat(Zb,"/v2/cgi-bin/online_docs/polling"),lO="".concat(Zb,"/cgi-bin/online_docs/wxqrcode"),fO=("".concat(Xb,"/session/logout"),"".concat(Xb,"/disklogin/logout")),dO="".concat(ew,"/session/logout"),pO="".concat(zb,"user_info"),hO="".concat(zb,"bind/permission/uid"),vO="".concat(zb,"bind/permission/uin"),gO="".concat(Zb,"/v2/user/wechat/auth/switch"),yO=function(){function e(e){this.networkRequestService=e}return e.prototype.logout=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e=Sw(aO,{xrsf:"".concat(dw(Yb.xsrf))}),[2,this.networkRequestService.instance.get(e)]}))}))},e.prototype.wecomLogoutForBDomain=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=Sw(fO,{xrsf:"".concat(dw(Yb.xsrf)),sid:e}),[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.wecomLogoutForCDomain=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=Sw(dO,{xrsf:"".concat(dw(Yb.xsrf)),vid:e}),[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.unbindUserInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw({type:e,xsrf:dw(Yb.xsrf)}),[2,this.networkRequestService.instance.post(sO,t)]}))}))},e.prototype.bindUserInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e=vw({bindType:oE.QQ,p_luin:fw("p_luin"),p_uin:fw("p_uin"),p_skey:fw("p_skey"),p_lskey:fw("p_lskey"),xsrf:dw(Yb.xsrf)}),[2,this.networkRequestService.instance.post(cO,e)]}))}))},e.prototype.CurrentLoginAccountBindInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.networkRequestService.instance.get(hO)]}))}))},e.prototype.BindingAccountInfo=function(){return(0,kr.__awaiter)(this,arguments,void 0,(function(e){var t,n;return void 0===e&&(e=!1),(0,kr.__generator)(this,(function(r){return t=(0,kr.__assign)({},e?{uflag:"qqsig"}:null),n=Sw(vO,t),[2,this.networkRequestService.instance.get(n)]}))}))},e.prototype.getBindWxQrCode=function(e){var t="".concat(lO,"?xsrf=").concat(dw(Yb.xsrf),"&page=").concat(encodeURIComponent("pages/bindwx/bindwx"),"&ac=bind&ts=").concat(Date.now(),"&u=").concat(e,"&checkKey=1");return this.networkRequestService.instance.get(t)},e.prototype.getBindProcess=function(e){var t="".concat(uO,"?CheckKey=").concat(e);return this.networkRequestService.instance.post(t)},e.prototype.getPersonalUserInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){return e=dw(Yb.xsrf),t="".concat(pO,"?xsrf=").concat(e,"&get_vip_info=1"),[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.getCertificationGrey=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.networkRequestService.instance.get(gO)]}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"logout",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"wecomLogoutForBDomain",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"wecomLogoutForCDomain",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Number]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"unbindUserInfo",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"bindUserInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"CurrentLoginAccountBindInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"BindingAccountInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getBindWxQrCode",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getBindProcess",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getPersonalUserInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getCertificationGrey",null),e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),mO=o(36339),_O=o.n(mO),bO=function(e){function t(t){var n=e.call(this)||this;return n.wedocOpenId="",n.wedriveUin="",n.corpId="",n.corpName="",n.englishName="",n.loginType=oE.UNKNOWN,n.nowUserIndex="",n.openId="",n.tinyId=fg,n.uidSource=oE.UNKNOWN,n.uin="",n.userId="",n.userName="",n.userPic="",n.settings={language:"",toolbarMode:"",vipTheme:""},t?t.tinyId?(n.jsonObj2Class(t),n):(n.jsonObj2Class((0,kr.__assign)((0,kr.__assign)({},t),{tinyId:fg})),n):n}return(0,kr.__extends)(t,e),t}(Cw),wO=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.networkRequestService=t,o.userInfo=new bO,o.vipInfo=new iO,o.bindUserInfo=new zS,o.officialInfo=new oO,o.userInfo=new bO(r),o.accountListEntity=new LS(t,n),o.passwordEntity=new YS(t,n),o.accountRepository=new yO(t),o}return(0,kr.__extends)(t,e),t.prototype.completionUserInfo=function(e){e.wechatOfficialAccount&&(this.officialInfo=new oO(e.wechatOfficialAccount)),this.bindUserInfo=new zS(e)},t.prototype.completionVipInfo=function(e){this.vipInfo.updateVipUserInfo(e)},t.prototype.updateNowUserIndex=function(e){e&&(window.nowUserIndex=e)},t.prototype.currentLoginAccountBindInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.accountRepository.CurrentLoginAccountBindInfo()];case 1:return e=r.sent(),(t=null===(n=e.resData)||void 0===n?void 0:n.data)?[2,t]:[2,{allowBind:!1,allowUnbind:!1,nextAllowBindTime:0,nextAllowUnbindTime:0,autoRenewal:!1}]}}))}))},t.prototype.bindingQQInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s;return(0,kr.__generator)(this,(function(c){switch(c.label){case 0:return e=this.userInfo.loginType,t=![oE.QQ,oE.WX].includes(e),[4,this.accountRepository.CurrentLoginAccountBindInfo()];case 1:return n=c.sent(),[4,this.accountRepository.BindingAccountInfo(t)];case 2:return r=c.sent(),o=null===(a=n.resData)||void 0===a?void 0:a.data,i=null===(s=r.resData)||void 0===s?void 0:s.data,o&&i?[2,{isCanBind:o.allowBind&&i.allowBind,nextBindTime:_O()([o.nextAllowBindTime,i.nextAllowBindTime]),qqNickName:i.nick,qqAvatar:i.avatar}]:[2,{isCanBind:!1,nextBindTime:0,qqAvatar:"",qqNickName:""}]}}))}))},t=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object,String,Object])],t)}(cE),EO=wO;function SO(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function OO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){SO(i,r,o,a,s,"next",e)}function s(e){SO(i,r,o,a,s,"throw",e)}a(void 0)}))}}var IO,RO,CO=o(79760),TO=o.n(CO),xO=o(83141),AO=o.n(xO);!function(e){e[e.kUnkown=0]="kUnkown",e[e.kSameCorp=1]="kSameCorp",e[e.kExtCorp=2]="kExtCorp",e[e.kWechat=3]="kWechat",e[e.kOther=4]="kOther"}(IO||(IO={})),function(e){e[e.UserName=1]="UserName",e[e.UserAlias=2]="UserAlias"}(RO||(RO={}));var kO=[12100,12105,12104,-20002,-20036];function DO(e,t,r){var o=[];"object"===(0,n.Z)(t)?Object.entries(t).forEach((function(e){var t=zy(e,2),n=t[0],r=t[1];o.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r)))})):o.push("".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r)));var i=e.split("#"),a=-1===i[0].indexOf("?")?"?":"&";return"".concat(i[0]).concat(a).concat(o.join("&")).concat(i.length>1?"#".concat(i[1]):"")}function MO(){return PO.apply(this,arguments)}function PO(){return(PO=OO(gs().mark((function e(){var t,n;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jg.default.isWxWork){e.next=2;break}return e.abrupt("return",null===(t=window.tdocs)||void 0===t||null===(n=t.docLogin)||void 0===n?void 0:n.call(t,{}));case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var NO="_retry",LO=function(e){var t=null==e?void 0:e.responseURL;return"string"==typeof t&&!function(e,t){var n=e.match(new RegExp("(\\?|&)".concat(t,"=([^&]*?)(#|&|$)")));return n?decodeURIComponent(n[2]):""}(t,NO)},jO=function(e){function t(){var t=this||self;return delete e.prototype.__magic__,t}return"object"==typeof globalThis?globalThis:this?t():(e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t}),__magic__)}(Object);function UO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UO(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BO(e){var t,n,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!==(t=null===(n=jO.location)||void 0===n?void 0:n.href)&&void 0!==t?t:"").replace(/.*\?/,""),o=null;return r&&(o=r.match(new RegExp("(\\?|&)".concat(e,"=([^&]*)(&|$)")))),o?decodeURIComponent(o[2].replace(/%/g,"%25")):""}function qO(e){var t,n=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)"));if(null!==(t=jO.document)&&void 0!==t&&t.cookie){var r=jO.document.cookie.match(n);if(r)return decodeURIComponent(r[1])}return""}function WO(){return qO("TOK")||""}function VO(e){var t=[];return Object.keys(e).forEach((function(n){var r=e[n];Array.isArray(r)?r.forEach((function(e){return t.push("".concat(n,"=").concat(encodeURIComponent(e)))})):t.push("".concat(n,"=").concat(encodeURIComponent(r)))})),t.join("&")}function GO(){return Promise.resolve()}var HO,KO=null!==(HO="undefined"==typeof window?void 0:window.i18n)&&void 0!==HO?HO:AO();!function(e,t){var n=function(n){KO.getResource&&KO.addResource&&Object.entries(e).forEach((function(e){var r=zy(e,2),o=r[0],i=r[1];Object.entries(i).forEach((function(e){var r=zy(e,2),i=r[0],a=r[1],s=null!=t?t:n.defaultNS||"legacy";KO.getResource(o,s,i)||KO.addResource(o,s,i,a)}))}))};KO.isInitialized?n(KO.options):KO.on("initialized",n)}({"zh-CN":{"微信":"微信"},"zh-HK":{"微信":"微信"},"en-US":{"微信":"WeChat"}});var QO="function"==typeof BigInt,YO=/^(p|g)\./,ZO={};QO&&(ZO[6]=BigInt(6),ZO[20]=BigInt(20),ZO[28]=BigInt(28),ZO[32]=BigInt(32),ZO[48]=BigInt(48),ZO[3050710]=BigInt(3050710),ZO[3050703]=BigInt(3050703),ZO[3050704]=BigInt(3050704));var zO=function(e){function t(){var t=this||self;return delete e.prototype.__magic__,t}return"object"==typeof globalThis?globalThis:this?t():(e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t}),__magic__)}(Object);function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$O(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var XO="0",eI=function(){function e(){var t;(0,r.Z)(this,e),(0,f.Z)(this,"version","1.1.62"),(0,f.Z)(this,"benchQueryLimit",250),(0,f.Z)(this,"keepFailureUntil",12e4),(0,f.Z)(this,"docId",void 0),(0,f.Z)(this,"queryingIdPromise",new Map),(0,f.Z)(this,"userInfo",void 0),(0,f.Z)(this,"userInfoReqPromise",void 0),(0,f.Z)(this,"isOpenIdSessionFlag",void 0),(0,f.Z)(this,"map",new Map),(0,f.Z)(this,"departmentMap",new Map),(0,f.Z)(this,"tagMap",new Map),(0,f.Z)(this,"axios",void 0),(0,f.Z)(this,"displayNamePriorityType",RO.UserAlias),this.docId=function(){var e,t,n,r,o,i,a,s,c,u,l;if(null!==(e=jO.basicClientVars)&&void 0!==e&&null!==(t=e.docInfo)&&void 0!==t&&null!==(n=t.padInfo)&&void 0!==n&&n.padId)return null===(s=jO.basicClientVars)||void 0===s||null===(c=s.docInfo)||void 0===c||null===(u=c.padInfo)||void 0===u?void 0:u.padId;if(null!==(r=jO.clientVars)&&void 0!==r&&r.padId)return null===(l=jO.clientVars)||void 0===l?void 0:l.padId;var f=BO("docid");if(f)return f;var d=(null===(o=jO.location)||void 0===o||null===(i=o.pathname)||void 0===i?void 0:i.split("/").pop())||"";if(/^[a-z]\d_/.test(d))return d;var p=null===(a=jO.document)||void 0===a?void 0:a.referrer;if(p){var h=BO("docid",p);if(h)return h;var v=p.replace(/\?.*/,"").split("/").pop()||"";if(/^[a-z]\d_/.test(v))return v}return""}(),this.isOpenIdSessionFlag=!!qO("tdoc_uid")&&!!qO("wedoc_openid"),this.axios=((t=TO().create({retry:0})).interceptors.response.use(function(){var e=OO(gs().mark((function e(n){var r,o,i,a,s,c;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=s=null!==(r=null===(o=n.data)||void 0===o||null===(i=o.head)||void 0===i?void 0:i.ret)&&void 0!==r?r:null===(a=n.data)||void 0===a?void 0:a.retcode,!(kO.indexOf(u)>-1)){e.next=9;break}if(!LO(n.request)){e.next=8;break}if(!n.config.url){e.next=8;break}return e.next=6,MO();case 6:return c=DO(n.config.url,NO,1),e.abrupt("return",t.request(FO(FO({},n.config),{},{url:c})));case 8:return e.abrupt("return",Promise.reject(n));case 9:if(0===s){e.next=11;break}return e.abrupt("return",Promise.reject(n));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}var u}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return e.config&&(e.config.retry=(e.config.retry||0)+1,e.config.retry<2)?TO().request(e.config):Promise.reject(e)})),t),"undefined"!=typeof window&&location.host.endsWith(".weixin.qq.com")?this.getUserInfo().catch(console.error):this.getGuestUserInfo()}var t,n,o,i,s,c,u,l,d,p,h,v,g,y,m,_;return(0,a.Z)(e,[{key:"setDocId",value:function(e){this.docId=e}},{key:"queryByAnyId",value:(_=OO(gs().mark((function e(t){var n;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryUserInfoMap([t]);case 2:return n=e.sent,e.abrupt("return",n.get(t));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"isEqualAsync",value:(m=OO(gs().mark((function e(t,n){var r,o,i,a,s;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="".concat(t).replace(YO,""),o="".concat(n).replace(YO,""),r!==o){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.queryUserInfoMap([r,o]);case 6:return i=e.sent,a=i.get(r),s=i.get(o),e.abrupt("return",a===s);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"isEqual",value:function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=[],r=this.map.get(e),o=this.map.get(t);if(r&&r===o)return!0;if(r){if(r.uid===t||r.vid===t||r.openid===t||r.tinyid===t||r.xid===t)return!0}else n.push(e);if(o){if(o.uid===e||o.vid===e||o.openid===e||o.tinyid===e||o.xid===e)return!0}else n.push(t);return this.queryUserInfo(n),!1}},{key:"queryTagInfos",value:(y=OO(gs().mark((function e(t){var n,r,o,i=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.userInfoReqPromise){e.next=3;break}return e.next=3,this.userInfoReqPromise.catch(GO);case 3:n=t.filter((function(e){return!i.tagMap.has("".concat(e))}));case 4:if(!n.length){e.next=11;break}return r=n.splice(0,this.benchQueryLimit),o={func:1,tag_ids:r},e.next=9,this.axios.get("/diskaddr/tag?".concat(VO(o))).then((function(e){var t,n,r,o;0===(null===(t=e.data)||void 0===t||null===(n=t.head)||void 0===n?void 0:n.ret)&&((null===(r=e.data)||void 0===r||null===(o=r.body)||void 0===o?void 0:o.tag_infos)||[]).forEach((function(e){return i.tagMap.set("".concat(e.tag_id),e)}))})).catch((function(e){return i.errLog("queryTagInfos catch an error, ",t.join(","),e),Promise.resolve()}));case 9:e.next=4;break;case 11:return e.abrupt("return",t.map((function(e){var t=i.tagMap.get("".concat(e));return t?{tag_id:"".concat(t.tag_id),tag_name:t.tag_name}:{tag_id:"".concat(e),tag_name:"unknown"}})));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"queryTagInfoMap",value:(g=OO(gs().mark((function e(t){var n,r;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryTagInfos(t);case 2:return n=e.sent,r=new Map,n.forEach((function(e){return r.set(e.tag_id,e)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"queryUserInfoByAnyIds",value:(v=OO(gs().mark((function e(t){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryUserInfoMap(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"queryUserInfoMap",value:(h=OO(gs().mark((function e(t){var n,r,o,i,a,s,c=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.userInfoReqPromise){e.next=3;break}return e.next=3,this.userInfoReqPromise.catch(GO);case 3:return n=[],r=[],o=[],new Set(t).forEach((function(e){var t="".concat(e).trim().replace(YO,"");t&&"0"!==t&&(c.map.has(t)||(c.queryingIdPromise.has(t)?n.push(c.queryingIdPromise.get(t)):c.isWxTinyid(t)?o.push(t):c.isVid(t)||c.isAppId(t)||c.isWedriveUin(t)?r.push({vid:t}):c.isOpenId(t)?r.push({openid:t}):c.isXid(t)?r.push({xid:t}):r.push({uid:t})))})),i=Promise.resolve(),o.length&&(i=this.queryUserInfoByTinyid(o).then((function(e){e.forEach((function(e){e.vid&&c.map.set(e.vid,e),e.uid&&c.map.set(e.uid,e),e.openid&&c.map.set(e.openid,e),e.tinyid&&c.map.set(e.tinyid,e),e.xid&&c.map.set(e.xid,e)}))})).catch((function(e){return c.errLog("queryUserInfoMap error",e),Promise.resolve()}))),a=Promise.resolve(),r.length&&(a=this.queryUserInfoInWedrive(r).then((function(e){return c.fillUserRemark(e)})).then((function(e){e.forEach((function(e){e.vid&&c.map.set(e.vid,e),e.uid&&c.map.set(e.uid,e),e.openid&&c.map.set(e.openid,e),e.xid&&c.map.set(e.xid,e)}))})).catch((function(e){return c.errLog("queryUserInfoMap error",e),Promise.resolve()}))),s=Promise.all([i,a].concat(n)),t.filter((function(e){return!c.queryingIdPromise.has(e)})).forEach((function(e){return c.queryingIdPromise.set("".concat(e).replace(YO,""),s)})),e.next=15,s;case 15:return setTimeout((function(){c.queryingIdPromise.forEach((function(e,t){s===e&&c.queryingIdPromise.delete(t)}))}),this.keepFailureUntil),e.abrupt("return",t.reduce((function(e,t){var n="".concat(t).replace(YO,"");return c.map.has(n)?(c.queryingIdPromise.delete(n),e.set(t,c.map.get(n))):e.set(t,{uid:n,vid:n,openid:c.isOpenId(n)?n:"",xid:c.isXid(n)?n:"",name:"unknown",user_type:0,position:"",english_name:"",avatar:"",corp_name:"",corp_id:"",type:1}),e}),new Map));case 17:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"queryUserInfo",value:(p=OO(gs().mark((function e(t){var n;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryUserInfoMap(t);case 2:return n=e.sent,e.abrupt("return",Array.from(n.values()));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"queryDepartInfo",value:(d=OO(gs().mark((function e(t){var n;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryDepartInfoMap(t);case 2:return n=e.sent,e.abrupt("return",Array.from(n.values()));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"queryDepartInfoMap",value:(l=OO(gs().mark((function e(t){var n,r,o=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Set,t.forEach((function(e){o.departmentMap.has(e)||n.add(e)})),!(n.size>0)){e.next=8;break}return r={func:1,f:"json",auth_list:JSON.stringify({info:Array.from(n).map((function(e){return{id:e,type:2}}))})},e.next=6,this.axios.post("/webdisk/member_info",VO(r)).then((function(e){var t,n;return 0===(null===(t=e.data)||void 0===t||null===(n=t.head)||void 0===n?void 0:n.ret)?e.data.body.member:[]}));case 6:e.sent.forEach((function(e){o.departmentMap.set("".concat(e.vid),e)}));case 8:return e.abrupt("return",t.reduce((function(e,t){return o.departmentMap.has(t)&&e.set(t,o.departmentMap.get(t)),e}),new Map));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"fillOpenid",value:(u=OO(gs().mark((function e(t){var n,r,o=this,i=arguments;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"vid",r=t.filter((function(e){return!e.openid})).map((function(e){return e[n]})),e.next=4,this.queryUserInfoMap(r);case 4:return t.forEach((function(e){if(!e.openid){var t=o.map.get(e[n]);e.openid=t?t.openid:""}})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"getUserInfo",value:(c=OO(gs().mark((function e(){var t,n,r,o,i,a=this,s=arguments;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],n=qO("wedrive_uin")||qO("tdoc_vid")||"",r=qO("tdoc_uid"),this.isOpenIdSessionFlag=!!r&&!!qO("wedoc_openid"),t){e.next=9;break}if(!this.isOpenIdSessionFlag||(null===(o=this.userInfo)||void 0===o?void 0:o.uid)!==r){e.next=7;break}return e.abrupt("return",this.userInfo);case 7:if(!n||(null===(i=this.userInfo)||void 0===i?void 0:i.vid)!==n){e.next=9;break}return e.abrupt("return",this.userInfo);case 9:if(!this.userInfoReqPromise){e.next=13;break}return e.next=12,this.userInfoReqPromise;case 12:case 16:return e.abrupt("return",e.sent);case 13:return this.userInfoReqPromise=Promise.all([this.getLoginUser(),this.getWedriveLoginUser()]).then((function(e){var t=zy(e,2),n=t[0],r=t[1],o={};if(n.tinyid&&r.xid&&3===n.login_type){var i=a.map.get(r.xid);i.uid=i.vid,i.vid=r.xid,i.tinyid=n.tinyid,o.vid=i.xid,o.uid=i.uid}return a.userInfo=Object.assign(n,r,o),a.displayNamePriorityType=r.name_priority||RO.UserAlias,a.userInfoReqPromise=void 0,a.userInfo})).catch((function(e){throw a.userInfoReqPromise=void 0,e})),e.next=16,this.userInfoReqPromise;case 17:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"get",value:function(e){var t="".concat(e).replace(YO,"");return this.map.get(t)}},{key:"getVid",value:function(){var e,t;return null!==(e=this.userInfo)&&void 0!==e&&e.vid?this.userInfo.vid:null!==(t=this.userInfo)&&void 0!==t&&t.xid?this.userInfo.xid:qO("wedrive_uin")||qO("tdoc_vid")||""}},{key:"getDisplayName",value:function(e){return this.getDefaultDisplayName(JO(JO({},e),{},{corp_id:e.corp_id!==XO?e.corp_id:"",corp_name:"",remark:""}))}},{key:"getDefaultDisplayName",value:function(e){var t;if("".concat(e.corp_id)==="".concat(null===(t=this.userInfo)||void 0===t?void 0:t.corp_id)){if(e.remark)return e.remark;var n=this.displayNamePriorityType===RO.UserAlias,r=n?e.english_name:e.name,o=n?e.name:e.english_name;return r&&o?"".concat(r,"(").concat(o,")"):"".concat(r||o)}var i=e.corp_name||("".concat(e.corp_id)===XO?function(){return KO.t.apply(KO,arguments)||(arguments.length<=0?void 0:arguments[0])}("微信"):""),a=e.remark||e.name;return i?"".concat(a,"@").concat(i):a}},{key:"getDisplayNameWithoutCorp",value:function(e){return this.getDefaultDisplayName(JO(JO({},e),{},{corp_id:e.corp_id!==XO?e.corp_id:"",corp_name:""}))}},{key:"getDisplayNameWithoutRemark",value:function(e){return this.getDefaultDisplayName(JO(JO({},e),{},{remark:""}))}},{key:"getShortDisplayName",value:function(e){var t,n=e.name&&e.english_name,r=this.displayNamePriorityType===RO.UserAlias,o=n&&r?"":e.name,i=n&&!r?"":e.english_name,a="".concat(e.corp_id)==="".concat(null===(t=this.userInfo)||void 0===t?void 0:t.corp_id)?"":e.remark;return this.getDefaultDisplayName(JO(JO({},e),{},{remark:a,name:o,english_name:i}))}},{key:"isVid",value:function(e){return function(e){if(!/^\d+$/.test(e))return!1;if(QO)try{return BigInt(e)>>ZO[48]===ZO[6]}catch(t){}return 16===e.length&&"16888"===e.substring(0,5)}(e)}},{key:"isAppId",value:function(e){return function(e){if(!/^\d+$/.test(e))return!1;if(QO)try{return BigInt(e)>>ZO[48]===ZO[20]}catch(n){}var t=e.substring(0,6);return 16===e.length&&("562949"===t||"562950"===t)}(e)}},{key:"isWedriveUid",value:function(e){return function(e){if(!/^\d+$/.test(e))return!1;if(QO)try{return BigInt(e)>>ZO[32]===ZO[3050710]}catch(n){}var t=e.substring(0,7);return 16===e.length&&("1310269"===t||"1310270"===t)}(e)}},{key:"isWedriveUin",value:function(e){return function(e){if(!/^\d+$/.test(e))return!1;if(QO)try{var t=BigInt(e)>>ZO[32];return t===ZO[3050703]||t===ZO[3050704]}catch(r){}var n=e.substring(0,7);return 16===e.length&&("1310266"===n||"1310267"===n)}(e)}},{key:"isXid",value:function(e){return function(e){if(!/^\d+$/.test(e))return!1;if(QO)try{return BigInt(e)>>ZO[48]===ZO[28]}catch(t){}return 16===e.length&&"7881"===e.substring(0,4)}(e)}},{key:"isWxTinyid",value:function(e){return function(e){return e.startsWith("14")}(e)}},{key:"isOpenId",value:function(e){return function(e){return!/^\d+$/.test(null==e?void 0:e.replace(YO,""))}(e)}},{key:"isOpenIdSession",get:function(){return this.isOpenIdSessionFlag}},{key:"fillUserRemark",value:(s=OO(gs().mark((function e(t){var n,r,o=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t.map((function(e){var t;return JO(JO({},e),{},{remark:null===(t=o.map.get(e.vid))||void 0===t?void 0:t.remark})})),(r=t.map((function(e){return e.vid})).filter((function(e){return!!e&&!o.map.get(e)}))).length&&null!==(n=window.tdocs)&&void 0!==n&&n.getUserInfo){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",new Promise((function(e){var n=setTimeout((function(){e(t)}),3e3+10*r.length);window.tdocs.getUserInfo({vidList:r,docId:o.docId}).then((function(r){var i=(r.persons||[]).reduce((function(e,t){return e[t.vid]=t.remark,e}),{});clearTimeout(n),e(t.map((function(e){var t;return JO(JO({},e),{},{remark:i[e.vid]||(null===(t=o.map.get(e.vid))||void 0===t?void 0:t.remark)})})))})).catch((function(r){o.errLog("getUserInfo jsapi error",r),clearTimeout(n),e(t)}))})));case 5:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"queryUserInfoByTinyid",value:(i=OO(gs().mark((function e(t){var n,r,o,i,a,s,c,u=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=t.filter((function(e){return u.isWxTinyid(e)}))).length){e.next=3;break}return e.abrupt("return",[]);case 3:r=[];case 4:if(!n.length){e.next=13;break}return s=n.splice(0,this.benchQueryLimit),e.next=8,this.axios.post("/sdc/getusermarkname",VO({uids:"[".concat(s.join(","),"]"),localPadId:this.docId,xsrf:WO()}));case 8:if(c=e.sent,0!==(null===(o=c.data)||void 0===o?void 0:o.retcode)||null===(i=c.data)||void 0===i||null===(a=i.result)||void 0===a||!a.rsp){e.next=11;break}return e.delegateYield(gs().mark((function e(){var t,n,o,i,a,s,l,f;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.data.result.rsp.filter((function(e){if(e.wedriveUin&&u.map.has(e.wedriveUin)){var t=u.map.get(e.wedriveUin);return t.tinyid=e.uid,u.map.set(t.tinyid,t),!1}return!0})),n=t.map((function(e){return"".concat(e.wedriveUin||"")})).filter((function(e){return!!e})),o=new Map,!(n.length>0)){e.next=8;break}return e.next=6,u.axios.post("/wedoc/doc_member_mgr",VO({func:8,docid:u.docId,scode:BO("scode"),wx_uin:n}));case 6:s=e.sent,Array.isArray(null===(i=s.data)||void 0===i||null===(a=i.body)||void 0===a?void 0:a.uin2xid)&&s.data.body.uin2xid.forEach((function(e){return o.set("".concat(e.uin),"".concat(e.xid))}));case 8:if(l=n.map((function(e){return o.get(e)})).filter((function(e){return!!e&&!u.map.get(e)})),f=new Map,!l.length){e.next=15;break}return e.next=13,u.queryUserInfoInWedrive(l.map((function(e){return{xid:e}})));case 13:e.sent.forEach((function(e){return e.xid&&f.set(e.xid,e)}));case 15:t.forEach((function(e){var t,n,i,a,s,c="".concat(e.uid||e.reqUid||""),u={avatar:null!==(t=e.userPic)&&void 0!==t?t:"",english_name:null!==(n=e.englishName)&&void 0!==n?n:"",name:null!==(i=e.markName)&&void 0!==i?i:"",type:1,user_type:3,corp_name:null!==(a=e.corpName)&&void 0!==a?a:"微信",position:"",corp_id:XO,vid:c,uid:c,openid:"",tinyid:c};e.wedriveUin&&(o.has("".concat(e.wedriveUin))&&(u.xid=o.get(e.wedriveUin)),u.uid=e.wedriveUin,u.vid=e.wedriveUin,u.openid="",u.xid&&f.has(u.xid)&&(u.openid=(null===(s=f.get(u.xid))||void 0===s?void 0:s.openid)||"")),r.push(u)}));case 16:case"end":return e.stop()}}),e)}))(),"t0",11);case 11:e.next=4;break;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"queryUserInfoInWedrive",value:(o=OO(gs().mark((function e(t){var n,r,o,i=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[];case 1:if(!t.length){e.next=8;break}return r=t.splice(0,this.benchQueryLimit),o={func:3,docid:this.docId,f:"json",id_list:r.map((function(e){return JSON.stringify(e)}))},e.next=6,this.axios.post("/webdisk/member_info",VO(o)).then((function(e){var t,r,o=e.data;0===(null==o||null===(t=o.head)||void 0===t?void 0:t.ret)&&(null===(r=o.body.member)||void 0===r||r.forEach((function(e){var t="".concat(e.corp_id||""),r="".concat(e.uid||""),o="".concat(e.vid||""),a=i.userInfo&&t===i.userInfo.corp_id,s=i.map.get(o)||i.map.get(r);if(s)e.xid||(s.vid||(s.vid="".concat(o)),s.uid||(s.uid="".concat(r))),n.push(s);else if(e.xid){var c="".concat(e.xid||""),u=JO(JO({},e),{},{xid:c,vid:c,uid:"".concat(e.drive_uin||""),openid:e.openid||"",corp_id:t});n.push(u)}else if(e.drive_uin){var l=JO(JO({},e),{},{uid:"".concat(e.drive_uin||""),openid:e.openid,corp_id:t});n.push(l)}else{var f=JO(JO({},e),{},{english_name:a?e.english_name:"",vid:o,uid:r,corp_id:t});n.push(f)}})))}));case 6:e.next=1;break;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getLoginUser",value:(n=OO(gs().mark((function e(){var t=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.axios.post("/cgi-bin/online_docs/user_info?xsrf=".concat(WO())).then((function(e){var t=e.data,n=t.retcode;if(0===n)return t;if(12101===n||12104===n||12105===n)throw{code:n,msg:t.msg};throw{code:-1,msg:"unknown code: ".concat(n)}})).catch((function(e){throw t.errLog("getLoginUser error",e),{code:-1,msg:"unknown error"}})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getWedriveLoginUser",value:(t=OO(gs().mark((function e(){var t=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.axios.get("/doc/info?func=4").then((function(e){var n,r,o,i,a=null===(n=e.data)||void 0===n||null===(r=n.head)||void 0===r?void 0:r.ret;if(0===a){var s=e.data.body,c=s.account,u=s.name_priority,l="".concat(c.s_uid||c.uid),f="".concat(c.s_vid||c.vid),d={avatar:c.avatar,corp_name:c.corp_name,english_name:c.english_name||c.nick_name!==c.name&&c.nick_name||"",name:c.name,position:"",type:1,user_type:"微信"===c.corp_name?3:1,uid:l,vid:f,openid:c.openid,corp_id:"".concat(c.corp_id||""),xid:"".concat(c.xid||"")};return f&&t.map.set(f,d),l&&t.map.set(l,d),d.openid&&t.map.set(d.openid,d),d.xid&&t.map.set(d.xid,d),{vid:f,xid:d.xid,openid:d.openid,corp_name:d.corp_name,name_priority:u}}if(-20002===a)throw{code:a,msg:null===(o=e.data)||void 0===o||null===(i=o.head)||void 0===i?void 0:i.msg};throw{code:-1,msg:"unknown code: ".concat(a)}})).catch((function(e){throw t.errLog("getLoginUser error",e),{code:-1,msg:"unknown error"}})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getGuestUserInfo",value:function(){this.userInfoReqPromise=void 0,this.userInfo={app_flag:0,avatar:"",cgicode:0,client_ip:"",corp_id:"0",corp_name:"Guest",create_doc_time:0,credit_level:0,credit_msg:"",credit_time:0,domain:"",domain_id:"0",edit_doc_time:0,email:"",english_name:"",expired:0,is_grayed:!0,login:!0,login_time:0,login_type:3,msg:"success",nick:"Guest",phone:"",qq_avatar:"",qq_nick:"",ret:0,retcode:0,third_appid:"",third_source:0,third_uid:"",tinyid:"0",toid:"0",uid:"0",vid:"0",openid:"",uid_source:3,uin:0,upgrade_status:0,work_id:"",wx_avatar:"",wx_nick:"",wx_openid:"",wy_bind_uid:null}}},{key:"errLog",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,["[@tencent/wdocs-user-center]"].concat(n))}}]),e}();zO.wdocsUserCenter||(zO.wdocsUserCenter=new eI);var tI,nI,rI=zO.wdocsUserCenter,oI="".concat(zb,"user_info"),iI="".concat(Zb,"/api/userinfo/set"),aI="".concat(Zb,"/doc/info"),sI=function(){function e(e){this.networkRequestService=e}return e.prototype.getPersonalUserInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){return e=dw(Yb.xsrf),t="".concat(oI,"?xsrf=").concat(e,"&get_vip_info=1"),[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.updatePersonalNicknameAndAvatar=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,kr.__generator)(this,(function(o){return t=e.nick,n=e.avatar,r=vw({nick:t,avatar:n}),[2,this.networkRequestService.instance.post(iI,r)]}))}))},e.prototype.getEnterpriseUserInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){switch(e.label){case 0:return[4,rI.getUserInfo()];case 1:return[2,Vb(e.sent())]}}))}))},e.prototype.getEnterpriseDocInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){return this.enterpriseDocInfoPromise&&!e||(t=Sw(aI,{xrsf:"".concat(dw(Yb.xsrf)),func:4}),n=this.networkRequestService.instance.get(t).then((function(e){return(0,kr.__assign)((0,kr.__assign)({},e),{data:(0,kr.__assign)((0,kr.__assign)({},e.data),{retcode:e.data.head.ret,msg:e.data.head.msg})})})),this.enterpriseDocInfoPromise=n),[2,this.enterpriseDocInfoPromise]}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getPersonalUserInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"updatePersonalNicknameAndAvatar",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Boolean]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getEnterpriseDocInfo",null),e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),cI=sI,uI="".concat(Zb,"/api/vipcenter/info/all"),lI="".concat(Zb,"/api/personalize/show/tips"),fI=function(){function e(e){this.networkRequestService=e}return e.prototype.getPersonalVipInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e=vw({xsrf:dw(Yb.xsrf)}),[2,this.networkRequestService.instance.post(uI,e)]}))}))},e.prototype.getPersonalTipsShow=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)((0,kr.__assign)({},e),{xsrf:dw(Yb.xsrf)})),[2,this.networkRequestService.instance.post(lI,t)]}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getPersonalVipInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getPersonalTipsShow",null),e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),dI=function(){function e(e){this.networkRequestService=e,this.userInfoRepository=new cI(this.networkRequestService),this.vipInfoRepository=new fI(this.networkRequestService)}return e.prototype.init=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2]}))}))},e.prototype.createPersonalEnvAccountAggregateByUserInfoCgi=function(e,t){var n=this.changeFetchDataToBaseDate(e,t);return this.accountAggregate=new EO(this.networkRequestService,n.tinyId,n),this.accountAggregate.completionUserInfo(e),!0},e.prototype.createPersonalEnvAccountAggregateByBasicClientVars=function(e){return e?(this.accountAggregate=new EO(this.networkRequestService,e.tinyId||fg,e),!0):(this.accountAggregate=new EO(this.networkRequestService,fg),!1)},e.prototype.updatePersonalEnvAccountAggregate=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o;return(0,kr.__generator)(this,(function(i){return this.updateUserIndex(e),t=null===(o=null===(r=null===(n=this.accountAggregate)||void 0===n?void 0:n.userInfo)||void 0===r?void 0:r.settings)||void 0===o?void 0:o.language,[2,this.createPersonalEnvAccountAggregateForFetch(e,t)]}))}))},e.prototype.completionUserInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.userInfoRepository.getPersonalUserInfo()];case 1:return 0===(null==(e=t.sent().resData)?void 0:e.retcode)?(this.accountAggregate.completionUserInfo(e.data),[2,!0]):[2,!1]}}))}))},e.prototype.updatePersonalNicknameAndAvatar=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.userInfoRepository.updatePersonalNicknameAndAvatar(e)];case 1:return 0===(null==(t=n.sent().resData)?void 0:t.retcode)?[2,!0]:[2,!1]}}))}))},e.prototype.getUserVipInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.vipInfoRepository.getPersonalVipInfo()];case 1:return 0===(null==(e=t.sent().resData)?void 0:e.retcode)?(this.accountAggregate.completionVipInfo(e.data),[2,!0]):[2,!1]}}))}))},e.prototype.getTipsStatus=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.vipInfoRepository.getPersonalTipsShow(e)];case 1:return 0===(null==(t=n.sent().resData)?void 0:t.retcode)?[2,t.data.result.isShow]:[2,!1]}}))}))},e.prototype.createPersonalEnvAccountAggregateForFetch=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.userInfoRepository.getPersonalUserInfo()];case 1:return 0!==(null==(n=o.sent().resData)?void 0:n.retcode)?[3,3]:(r=this.changeFetchDataToBaseDate(n.data,e,t),this.accountAggregate=new EO(this.networkRequestService,n.data.tinyid,r),this.accountAggregate.completionUserInfo(n.data),[4,this.getUserVipInfo()]);case 2:return o.sent(),[2,!0];case 3:return[2,!1]}}))}))},e.prototype.changeFetchDataToBaseDate=function(e,t,n){var r=e.corpId,o=e.tinyid,i=e.corpName,a=e.englishName,s=e.loginType,c=e.wxOpenid,u=e.uin,l=e.uidSource,f=e.userId,d=e.avatar,p=e.nick;return{corpId:r,corpName:i,englishName:a,loginType:s,uin:u,uidSource:l,userId:null!=f?f:"p.".concat(o),nowUserIndex:null!=t?t:"",tinyId:o,openId:c,userName:p,userPic:d,settings:{language:null!=n?n:"",toolbarMode:"",vipTheme:""}}},e.prototype.updateUserIndex=function(e){this.accountAggregate.updateNowUserIndex(e)},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),pI=((tI={})[hg.WECHAT]=pg.WECHAT,tI[hg.WEWORK]=pg.WEWORK,tI),hI=function(){return!!fw("wedoc_sid")},vI=function(e){var t,n=hI()?void 0:e.sid,r=void 0,o=void 0,i=void 0;return t=e.type===hg.WECHAT||hI()?e.uid:e.uin,hI()&&(r=e.sid,o=e.openid,i=t),(0,kr.__assign)((0,kr.__assign)({},e),{corpName:e.corp_name,uid:t,uType:pI[e.type],nick:e.name,nickName:e.nick_name,wedriveUin:t,fromDomain:dg.B_DOMAIN,cookie:{wedriveSid:n,wedocSid:r,wedocOpenid:o,tdocUid:i,uType:pI[e.type],uid:"",uidKey:"",userIndex:"",SID:"",isMultiLogin:!0}})},gI=function(e){var t=function(){try{var e=localStorage.getItem("person-account-wedriveUin-tinyid-map")||"{}";return JSON.parse(e)}catch(t){return console.error(t),{}}}();return e.map((function(e){return e.type!==hg.WECHAT||e.uid||(e.uid=t[e.uin]),e})).filter((function(e){return e.uid}))},yI=function(){function e(e){this.networkRequestService=e}return e.prototype.getEnterpriseAccountList=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o,i;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return e=Sw(kS,{xrsf:"".concat(dw(Yb.xsrf)),get_acct:"true"}),[4,this.networkRequestService.instance.get(e)];case 1:return t=a.sent(),n=function(e){void 0===e&&(e="{}");var t=e.replace(/"uin":(\d+)/g,'"uin":"$1"').replace(/"uid":(\d+)/g,'"uid":"$1"');return JSON.parse(t)}(null===(i=t.request)||void 0===i?void 0:i.responseText),r=n.body,o=n.head,[2,(0,kr.__assign)((0,kr.__assign)({},t),{data:{data:gI(r.session).map(vI),retcode:o.ret,msg:o.msg}})]}}))}))},e.prototype.getUserMarkNameListByUids=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t=Sw(DS,{xrsf:"".concat(dw(Yb.xsrf)),uids:"[".concat(e.join(","),"]")}),[4,this.networkRequestService.instance.get(t)];case 1:return n=r.sent(),[2,(0,kr.__assign)((0,kr.__assign)({},n),{data:{data:n.data.result.rsp,retcode:n.data.retcode,msg:n.data.msg}})]}}))}))},e.prototype.delEnterpriseAccountForList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=Sw(fO,{xrsf:"".concat(dw(Yb.xsrf)),sid:e}),[2,this.networkRequestService.instance.get(t)]}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getEnterpriseAccountList",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Array]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getUserMarkNameListByUids",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"delEnterpriseAccountForList",null),e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),mI=yI,_I=function(e){function t(t,n){var r=e.call(this,n)||this;return r.networkRequestService=t,r.enterpriseAccountListRepository=new mI(t),r.enterpriseAccountList=[],r}return(0,kr.__extends)(t,e),t.prototype.getEnterpiseAccountList=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.enterpriseAccountListRepository.getEnterpriseAccountList()];case 1:return e=t.sent().resData,this.enterpriseAccountList=(null==e?void 0:e.data.data)?e.data.data:[],[2,this.enterpriseAccountList]}}))}))},t.prototype.getUserMarkNameListByUids=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.enterpriseAccountListRepository.getUserMarkNameListByUids(e)];case 1:return t=n.sent().resData,this.userMarkNameList=(null==t?void 0:t.data.data)?t.data.data:[],[2,this.userMarkNameList]}}))}))},t.prototype.delEnterpriseAccountForList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.enterpriseAccountListRepository.delEnterpriseAccountForList(e)];case 1:return t.sent(),this.updateEntrepriseAccountListAfterDel(e),[2,!0]}}))}))},t.prototype.updateEntrepriseAccountListAfterDel=function(e){this.enterpriseAccountList=this.enterpriseAccountList.filter((function(t){return t.cookie.wedocSid!==e&&t.cookie.wedriveSid!==e}))},t=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object,String])],t)}(sE),bI=_I,wI=function(e){function t(t){var n=e.call(this)||this;if(n.type=eO.NONE,n.beginTime=0,n.endTime=0,n.vvip={status:0,beginTime:0,endTime:0},n.customInfo={avatarFrame:"",badgeUrl:"",corpVipLevel:tO.INVALID_CORP_VIP_LEVEL},!t)return n;var r=n.createEmptyVip();return n.jsonObj2Class(r),n}return(0,kr.__extends)(t,e),t.prototype.updateVipUserInfo=function(e){if(e){var t=this.handleVipCustomInfoFromNet(e);this.jsonObj2Class({customInfo:t})}},t.prototype.createEmptyVip=function(){return{type:eO.NONE,beginTime:0,endTime:0}},t.prototype.handleVipCustomInfoFromNet=function(e){var t={};try{t=JSON.parse(e)}catch(s){t={}}var n=t.avatar_frame_url,r=void 0===n?"":n,o=t.badge_url,i=void 0===o?"":o,a=t.corp_vip_level;return{avatarFrame:r,badgeUrl:i,corpVipLevel:void 0===a?tO.INVALID_CORP_VIP_LEVEL:a}},t}(Cw),EI=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.networkRequestService=t,o.vipInfo=new wI,o.bindUserInfo=new zS,o.officialInfo=new oO,o.enterpriseAccountListEntity=new bI(t,n),o.userInfo=new bO(r),o.accountRepository=new yO(t),o}return(0,kr.__extends)(t,e),t.prototype.completionUserInfo=function(e){e.vipInfo&&(this.vipInfo=new wI),e.vip&&this.vipInfo.updateVipUserInfo(e.vip),e.wechatOfficialAccount&&(this.officialInfo=new oO(e.wechatOfficialAccount)),this.bindUserInfo=new zS(e)},t=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object,String,Object])],t)}(cE),SI=function(){function e(e){var t=this;this.networkRequestService=e,this.updateBLocalStoragePersionTinyid=function(e){return(0,kr.__awaiter)(t,void 0,void 0,(function(){var t,n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return e.loginType===oE.WX&&e.tinyid?[4,this.accountAggregate.enterpriseAccountListEntity.getUserMarkNameListByUids([e.tinyid])]:[3,2];case 1:t=o.sent(),(n=null===(r=t[0])||void 0===r?void 0:r.wedriveUin)&&function(e){var t=e.wedriveUin,n=e.tinyid;try{var r=localStorage.getItem("person-account-wedriveUin-tinyid-map")||"{}",o=JSON.parse(r);o[t]=n,localStorage.setItem("person-account-wedriveUin-tinyid-map",o)}catch(i){console.error(i)}}({wedriveUin:n,tinyid:e.tinyid}),o.label=2;case 2:return[2]}}))}))},this.userInfoRepository=new cI(this.networkRequestService)}return e.prototype.init=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2]}))}))},e.prototype.createEnterpriseEnvAccountAggregateByBasicClientVars=function(e){return e?(this.accountAggregate=new EI(this.networkRequestService,e.tinyId||fg,this.changeBasicClientVarsToBaseData(e)),!0):(this.accountAggregate=new EI(this.networkRequestService,fg),!1)},e.prototype.completionUserInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.userInfoRepository.getEnterpriseUserInfo()];case 1:return(e=t.sent())?(this.accountAggregate.completionUserInfo(e),[2,!0]):[2,!1]}}))}))},e.prototype.createEnterpriseEnvAccountAggregateByUserInfoCgi=function(e,t){var n=this.changeFetchDataToBaseData(e,t);this.accountAggregate=new EI(this.networkRequestService,n.tinyId,n)},e.prototype.changeBasicClientVarsToBaseData=function(e){return(0,kr.__assign)({},e)},e.prototype.changeFetchDataToBaseData=function(e,t,n){this.updateBLocalStoragePersionTinyid(e);var r=e.corpId,o=e.tinyid,i=e.corpName,a=e.englishName,s=e.loginType,c=e.wxOpenid,u=e.uin,l=e.uidSource,f=e.userId,d=e.avatar,p={corpId:r,corpName:i,englishName:a,loginType:s,uin:u,uidSource:l,userId:f,tinyId:o,openId:c,userName:e.nick,userPic:d,wedriveUin:"",nowUserIndex:"",settings:{language:null!=n?n:"",toolbarMode:"",vipTheme:""}};return t.body.login_type===iE.WECHAT?p.wedriveUin=t.body.account.s_vid:t.body.login_type===iE.WEWORK&&(p.wedocOpenId=t.body.account.openid,p.wedriveUin=t.body.account.s_uid),p},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),OI=function(e){return function(e){return/^[ABCD][a-zA-Z0-9]+$/.test(e)}(e)||function(e){return/^((w2|w3|e2|e3|s3|p3|c2|c3|m3|f3)_)[-\w]+$/.test(e)}(e)},II=o(85576),RI=o.n(II),CI="".concat(Zb,"/cgi-bin/online_docs/doc_changetitle"),TI="".concat(Zb,"/cgi-bin/online_docs/doc_collect"),xI="".concat(Zb,"/cgi-bin/online_docs/doc_getcollect"),AI="".concat(Zb,"/cgi-bin/online_docs/doc_info"),kI="".concat(Zb,"/dop-api/drive/data/get"),DI="".concat(Zb,"/cgi/gateway/preload"),MI=function(){function e(){}return e.prototype.updateTitle=function(e,t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var o,i;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return o={pad_id:r,domain_id:n,xsrf:"".concat(dw(Yb.xsrf)),version:2,auto_change:t?1:0,title:encodeURIComponent(e)},i=Sw(CI,o),[4,Qc.networkRequest.post(i)];case 1:return[2,a.sent()]}}))}))},e.prototype.fetchCollectedState=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return n={domain_id:e,pad_id:t,xsrf:"".concat(dw(Yb.xsrf)),t:(new Date).getTime()},r=Sw(xI,n),[4,Qc.networkRequest.get(r)];case 1:return[2,o.sent()]}}))}))},e.prototype.changeCollectedState=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return r=vw({domain_id:e,pad_id:t,is_cancel:n?0:1,xsrf:"".concat(dw(Yb.xsrf))}),o={contentType:"application/x-www-form-urlencoded"},[4,Qc.networkRequest.post(TI,r,o)];case 1:return[2,i.sent()]}}))}))},e.prototype.fetchDocInfo=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return n={domainId:e,localPadId:t,xsrf:"".concat(dw(Yb.xsrf))},r=Sw(AI,n),[4,Qc.networkRequest.get(r)];case 1:return[2,o.sent()]}}))}))},e.prototype.fetchDocMetaInfoData=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t={id:e,xsrf:"".concat(dw(Yb.xsrf))},n=Sw(kI,t),[4,Qc.networkRequest.get(n)];case 1:return[2,r.sent()]}}))}))},e.prototype.fetchFileInfo=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return n={xsrf:dw(Yb.xsrf)},r=RI().stringify(n),o={file_id:e,add_recent:t},[4,Qc.networkRequest.post("".concat("/v2/drive/fileInfo","?").concat(r),o)];case 1:return[2,i.sent()]}}))}))},e.prototype.updateOfficialAuthInfo=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return n={id:e,type:t,command:1,xsrf:"".concat(dw(Yb.xsrf))},r=Sw(DI,n),[4,Qc.networkRequest.get(r)];case 1:return[2,o.sent()]}}))}))},e.prototype.getOwnerVipInfo=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return n={file_id:e,get_all:t},[4,Qc.networkRequest.post("/api/personalize/owner/viplevel",n)];case 1:return[2,r.sent()]}}))}))},(0,kr.__decorate)([function(e,t,n){var r=n.value;n.value=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.apply(this,n)];case 1:return[2,{data:i.sent().data}];case 2:return o=i.sent(),kw.error("".concat(e.constructor.name,"|").concat(t,"|").concat(o)),[2,{error:o,data:{}}];case 3:return[2]}}))}))}},(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,Boolean]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getOwnerVipInfo",null),e}(),PI=MI,NI=function(e){function t(t){var n=e.call(this)||this;return n.ownerId="",n.ownerAppid="",n.ownerNick="",n.ownerAvatar="",n.officialAuthInfo={avatar:"",credential:"",introduction:"",nick:"",principal:""},n.vipLevel=1,n.vipInfo=new RS({}),n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),LI=function(e){function t(t){var n=e.call(this)||this;return n.docStatus=0,n.domainId="",n.padId="",n.padType="",n.type=0,n.shareLink="",n.lastModifyTime=0,n.lastModifyUser="",n.relative=[],n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),Object.defineProperty(t.prototype,"globalPadId",{get:function(){return gw(this.domainId,this.padId)},enumerable:!1,configurable:!0}),t}(Cw),jI=function(e){function t(t){var n=e.call(this)||this;return n.title="",n.isUserChangeTitle=!1,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),UI=function(e){function t(t){var n=e.call(this)||this;return n.creatorId="",n.createTime=0,n.creatorNick="",n.creatorDomain="",n.isCreator=!1,n.creatorCorpId="",n.creatorCorpName="",n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw);!function(e){e[e.docStatusNormal=0]="docStatusNormal",e[e.docStatusDelete=1]="docStatusDelete",e[e.docStatusTrash=2]="docStatusTrash",e[e.docStatusHidden=3]="docStatusHidden",e[e.docStatusTrans=4]="docStatusTrans",e[e.docStatusImport=5]="docStatusImport",e[e.docStatusChecking=6]="docStatusChecking",e[e.docStatusForbidden=7]="docStatusForbidden",e[e.docStatusImportFailed=8]="docStatusImportFailed",e[e.docStatusCopy=9]="docStatusCopy",e[e.docStatusCopyFailed=10]="docStatusCopyFailed",e[e.docStatusPrepare=11]="docStatusPrepare",e[e.docStatusHiddenUntilModify=12]="docStatusHiddenUntilModify",e[e.docStatusFileUploading=13]="docStatusFileUploading"}(nI||(nI={}));var FI,BI,qI=function(e){function t(t){var n=e.call(this)||this;return n.isCreator=!1,n.isAdmin=!1,n.isOwner=!1,n.isViewer=!1,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),WI=12e3,VI=12e3,GI=function(e){function t(t){var n=e.call(this,t)||this;return n.createInfo=new UI({}),n.padInfo=new LI({}),n.ownerInfo=new NI({}),n.userAuthInfo=new qI({}),n.titleInfo=new jI({}),n.hostFileInfo=null,n.onTitleDidChangeEmitter=new Ww.Emitter,n.onhandleNoticeDeletedEmitter=new Ww.Emitter,n.onDocStatusChangedEmitter=new Ww.Emitter,n.onOfficialAuthInfoChangeEmitter=new Ww.Emitter,n.docMetaRepository=new PI,n.onTitleDidChange=n.onTitleDidChangeEmitter.event,n.onhandleNoticeDeleted=n.onhandleNoticeDeletedEmitter.event,n.onDocStatusChanged=n.onDocStatusChangedEmitter.event,n.onOfficialAuthInfoChange=n.onOfficialAuthInfoChangeEmitter.event,n}return(0,kr.__extends)(t,e),t.prototype.updateTitle=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,kr.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.docMetaRepository.updateTitle(e,t,null===(r=this.padInfo)||void 0===r?void 0:r.domainId,null===(o=this.padInfo)||void 0===o?void 0:o.padId)];case 1:return n=i.sent(),parseInt(n.data.retcode,10)!==WI&&parseInt(n.data.cgicode,10)!==VI&&this.titleInfo&&(this.titleInfo.title=e,this.onTitleDidChangeEmitter.fire({newTitle:e})),[2,n]}}))}))},t.prototype.handleNoticeDeleted=function(){this.padInfo.docStatus=nI.docStatusDelete,this.onhandleNoticeDeletedEmitter.fire(void 0)},t.prototype.handleNoticeTitleChanged=function(e){this.titleInfo.title=e,this.onTitleDidChangeEmitter.fire({newTitle:e})},t.prototype.updateOfficialAuthInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.docMetaRepository.updateOfficialAuthInfo(e,null===(r=this.padInfo)||void 0===r?void 0:r.padType)];case 1:return t=o.sent(),n=t.data.data.clientVars.docInfo.ownerInfo.officialAuthInfo,this.ownerInfo.officialAuthInfo=n,this.onOfficialAuthInfoChangeEmitter.fire({officialAuthInfo:n}),[2,t]}}))}))},t.prototype.changeDocStatus=function(e){this.padInfo.docStatus=e,e===nI.docStatusDelete&&this.onhandleNoticeDeletedEmitter.fire(void 0),this.onDocStatusChangedEmitter.fire(void 0)},t.prototype.fetchCollectedState=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.docMetaRepository.fetchCollectedState(null===(e=this.padInfo)||void 0===e?void 0:e.domainId,null===(t=this.padInfo)||void 0===t?void 0:t.padId)];case 1:return[2,n.sent()]}}))}))},t.prototype.changeCollectedState=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.docMetaRepository.changeCollectedState(null===(t=this.padInfo)||void 0===t?void 0:t.domainId,null===(n=this.padInfo)||void 0===n?void 0:n.padId,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.fetchDocMetaInfoData=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.docMetaRepository.fetchDocMetaInfoData(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.fetchFileInfo=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.docMetaRepository.fetchFileInfo(e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.getOwnerVipInfo=function(e){return(0,kr.__awaiter)(this,arguments,void 0,(function(e,t){var n,r,o,i,a,s;return void 0===t&&(t=!1),(0,kr.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.docMetaRepository.getOwnerVipInfo(e,t)];case 1:return n=c.sent(),r=function(e,t){var n;void 0===t&&(t=!0);var r=e.error,o=e.data;if(r)return{error:r,resData:null};var i={data:t&&o?Vb(o):o,retcode:xw(o),msg:Aw(o),cgicode:null!==(n=o.cgicode)&&void 0!==n?n:0};return delete o.msg,delete o.message,delete o.retcode,delete o.code,delete o.cgicode,delete o.ret,{resData:i}}(n,!0),r.resData&&(o=r.resData.data.result||{},i=o.vipLevel,a=o.vipInfo,s=mw(a,{}),this.ownerInfo.vipLevel=i,this.ownerInfo.vipInfo=new RS(s)),[2,r]}}))}))},(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,Boolean]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"updateTitle",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"updateOfficialAuthInfo",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"fetchCollectedState",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Boolean]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"changeCollectedState",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"fetchDocMetaInfoData",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String,Boolean]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"fetchFileInfo",null),t}(sE),HI=GI,KI=function(e){function t(t){var n=e.call(this)||this;return n.mimeType="",n.fileMeta={ext:"",fileId:""},n.mimeType=t.mimeType,n.fileMeta=t.fileMeta,n}return(0,kr.__extends)(t,e),t}(Cw),QI=function(e){function t(t){var n=e.call(this)||this;return n.background={},n.mode=0,n.titleColor={},n.isExpire=!1,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),YI=function(){function e(){this.isInitedByBasicClientVars=!1,this.docMetaEntity=new HI("MainDocMetaEntity"),(null===window||void 0===window?void 0:window.basicClientVars)&&this.initWithBasicClientVars(window.basicClientVars)}return e.prototype.updateWithClientVars=function(e){this.isInitedByBasicClientVars||(this.docMetaEntity.createInfo=new UI((0,kr.__assign)((0,kr.__assign)({},e),{createTime:e.metaCreateTime})),this.docMetaEntity.ownerInfo=new NI(e),this.docMetaEntity.padInfo=new LI(e),this.docMetaEntity.titleInfo=new jI(e),this.docMetaEntity.userAuthInfo=new qI(e))},e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=e.docId,!OI(t)||this.isInitedByBasicClientVars?[2]:[2,this.updateWithPreload(t)]}))}))},e.prototype.updateWithPreload=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a;return(0,kr.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Qc.networkRequest.get("/cgi/gateway/preload?command=1&id=".concat(e))];case 1:if(t=s.sent(),!(null===(o=null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.data)||void 0===o?void 0:o.clientVars)||"object"!=typeof(null===(a=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.data)||void 0===a?void 0:a.clientVars))throw console.error(t),new Error("get /cgi/gateway/preload failed");return this.initWithBasicClientVars(t.data.data.clientVars),[3,3];case 2:return n=s.sent(),console.error("updateWithPreload failed",n),[3,3];case 3:return[2]}}))}))},e.prototype.initWithBasicClientVars=function(e){this.updateCreateInfoByBasicClientVars(e),this.updateOwnerAndAuthInfoByBasicClientVars(e),this.updatePadInfoByBasicClientVars(e),this.updateTitleInfoByBasicClientVars(e),this.updateCollaborationInfoByBasicClientVars(e),this.updatePersonalizeInfoByBasicClientVars(e),this.updateHostFileInfoByBasicClientVars(e),this.isInitedByBasicClientVars=!0},e.prototype.updatePersonalizeInfoByBasicClientVars=function(e){var t;this.docMetaEntity.personalizeInfo=new QI(null===(t=e.docInfo)||void 0===t?void 0:t.personalizeInfo)},e.prototype.updateCollaborationInfoByBasicClientVars=function(e){var t;this.docMetaEntity.collaborationFlag=null===(t=e.docInfo)||void 0===t?void 0:t.collaborationFlag},e.prototype.updateCreateInfoByBasicClientVars=function(e){var t,n,r,o,i,a,s,c,u,l,f,d,p;this.docMetaEntity.createInfo=new UI({isCreator:null===(t=e.docInfo)||void 0===t?void 0:t.isCreator,creatorDomain:null===(r=null===(n=e.docInfo)||void 0===n?void 0:n.padInfo)||void 0===r?void 0:r.domainId,creatorNick:null===(i=null===(o=e.docInfo)||void 0===o?void 0:o.createInfo)||void 0===i?void 0:i.creatorNick,createTime:null===(s=null===(a=e.docInfo)||void 0===a?void 0:a.createInfo)||void 0===s?void 0:s.createTime,creatorId:null===(u=null===(c=e.docInfo)||void 0===c?void 0:c.createInfo)||void 0===u?void 0:u.creatorId,creatorCorpId:null===(f=null===(l=e.docInfo)||void 0===l?void 0:l.createInfo)||void 0===f?void 0:f.creatorCorpId,creatorCorpName:null===(p=null===(d=e.docInfo)||void 0===d?void 0:d.createInfo)||void 0===p?void 0:p.creatorCorpName})},e.prototype.updateOwnerAndAuthInfoByBasicClientVars=function(e){var t,n,r,o,i;this.docMetaEntity.ownerInfo=new NI(null===(t=e.docInfo)||void 0===t?void 0:t.ownerInfo),this.docMetaEntity.userAuthInfo=new qI({isCreator:null===(n=e.docInfo)||void 0===n?void 0:n.isCreator,isOwner:null===(r=e.docInfo)||void 0===r?void 0:r.isOwner,isAdmin:null===(o=e.docInfo)||void 0===o?void 0:o.isAdmin,isViewer:1===(null===(i=e.authInfo)||void 0===i?void 0:i.privilegeFlag)})},e.prototype.updatePadInfoByBasicClientVars=function(e){var t,n,r,o,i,a,s,c,u,l,f,d;this.docMetaEntity.padInfo=new LI({domainId:null===(n=null===(t=e.docInfo)||void 0===t?void 0:t.padInfo)||void 0===n?void 0:n.domainId,padId:null===(o=null===(r=e.docInfo)||void 0===r?void 0:r.padInfo)||void 0===o?void 0:o.padId,padType:null===(a=null===(i=e.docInfo)||void 0===i?void 0:i.padInfo)||void 0===a?void 0:a.padType,relative:null===(c=null===(s=e.docInfo)||void 0===s?void 0:s.padInfo)||void 0===c?void 0:c.relative,docStatus:null===(u=e.docInfo)||void 0===u?void 0:u.docStatus,shareLink:null===(l=e.docInfo)||void 0===l?void 0:l.shareLink,lastModifyTime:null===(f=e.docInfo)||void 0===f?void 0:f.lastModifyTime,lastModifyUser:null===(d=e.docInfo)||void 0===d?void 0:d.lastModifyUser})},e.prototype.updateTitleInfoByBasicClientVars=function(e){var t,n,r;this.docMetaEntity.titleInfo=new jI({title:null===(n=null===(t=e.docInfo)||void 0===t?void 0:t.padInfo)||void 0===n?void 0:n.padTitle,isUserChangeTitle:null===(r=e.docInfo)||void 0===r?void 0:r.isUserChangeTitle})},e.prototype.updateHostFileInfoByBasicClientVars=function(e){var t,n;(null===(t=null==e?void 0:e.docInfo)||void 0===t?void 0:t.hostFileInfo)&&(this.docMetaEntity.hostFileInfo=new KI(null===(n=null==e?void 0:e.docInfo)||void 0===n?void 0:n.hostFileInfo))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),(0,kr.__decorate)([qw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",void 0)],e.prototype,"initWithBasicClientVars",null),e}(),ZI=function(){function e(){this.isInitedByBasicClientVars=!1,this.docMetaEntity=new HI("MainDocMetaEntity"),(null===window||void 0===window?void 0:window.basicClientVars)&&this.initWithBasicClientVars(window.basicClientVars)}return e.prototype.updateWithClientVars=function(e){this.isInitedByBasicClientVars||(this.docMetaEntity.createInfo=new UI((0,kr.__assign)((0,kr.__assign)({},e),{createTime:e.metaCreateTime})),this.docMetaEntity.ownerInfo=new NI(e),this.docMetaEntity.padInfo=new LI(e),this.docMetaEntity.titleInfo=new jI(e),this.docMetaEntity.userAuthInfo=new qI(e))},e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l,f,d,p,h,v,g,y,m;return(0,kr.__generator)(this,(function(_){switch(_.label){case 0:return t=e.docId,n=e.addRecent,OI(t)?[4,this.docMetaEntity.fetchFileInfo(t,n)]:[2];case 1:return r=_.sent(),o=null!==(m=null===(y=null===(g=r.resData)||void 0===g?void 0:g.data)||void 0===y?void 0:y.result)&&void 0!==m?m:{},i=o.docInfo,a=o.fileMeta,s=o.hostFileInfo,c=o.privilege,this.docMetaEntity.createInfo=new UI({isCreator:null==i?void 0:i.isCreator,creatorDomain:null==i?void 0:i.domainId,creatorId:null==a?void 0:a.creator,creatorCorpId:"",creatorCorpName:""}),this.docMetaEntity.padInfo=new LI({domainId:null==i?void 0:i.domainId,padId:null==a?void 0:a.fileId,padType:null==i?void 0:i.padType,relative:[],docStatus:null==i?void 0:i.docStatus}),this.docMetaEntity.titleInfo=new jI({title:null==a?void 0:a.name,isUserChangeTitle:null==a?void 0:a.userChangeFilename}),this.docMetaEntity.userAuthInfo=new qI({isCreator:null==i?void 0:i.isCreator,isOwner:null==i?void 0:i.isOwner,isAdmin:null==c?void 0:c.attribute.isAdmin}),l=(u=null!=s?s:{}).ext,f=void 0===l?"":l,d=u.fileId,p=void 0===d?"":d,h=u.mimeType,v=void 0===h?"":h,this.docMetaEntity.hostFileInfo=new KI({fileMeta:{ext:f,fileId:p},mimeType:v}),[2]}}))}))},e.prototype.initWithBasicClientVars=function(e){this.updateCreateInfoByBasicClientVars(e),this.updateOwnerAndAuthInfoByBasicClientVars(e),this.updatePadInfoByBasicClientVars(e),this.updateTitleInfoByBasicClientVars(e),this.updateCollaborationInfoByBasicClientVars(e),this.updatePersonalizeInfoByBasicClientVars(e),this.updateHostFileInfoByBasicClientVars(e),this.isInitedByBasicClientVars=!0},e.prototype.updatePersonalizeInfoByBasicClientVars=function(e){var t;this.docMetaEntity.personalizeInfo=new QI(null===(t=e.docInfo)||void 0===t?void 0:t.personalizeInfo)},e.prototype.updateCollaborationInfoByBasicClientVars=function(e){var t;this.docMetaEntity.collaborationFlag=null===(t=e.docInfo)||void 0===t?void 0:t.collaborationFlag},e.prototype.updateCreateInfoByBasicClientVars=function(e){var t,n,r,o,i,a,s,c,u,l,f,d,p;this.docMetaEntity.createInfo=new UI({isCreator:null===(t=e.docInfo)||void 0===t?void 0:t.isCreator,creatorDomain:null===(r=null===(n=e.docInfo)||void 0===n?void 0:n.padInfo)||void 0===r?void 0:r.domainId,creatorNick:null===(i=null===(o=e.docInfo)||void 0===o?void 0:o.createInfo)||void 0===i?void 0:i.creatorNick,createTime:null===(s=null===(a=e.docInfo)||void 0===a?void 0:a.createInfo)||void 0===s?void 0:s.createTime,creatorId:null===(u=null===(c=e.docInfo)||void 0===c?void 0:c.createInfo)||void 0===u?void 0:u.creatorId,creatorCorpId:null===(f=null===(l=e.docInfo)||void 0===l?void 0:l.createInfo)||void 0===f?void 0:f.creatorCorpId,creatorCorpName:null===(p=null===(d=e.docInfo)||void 0===d?void 0:d.createInfo)||void 0===p?void 0:p.creatorCorpName})},e.prototype.updateOwnerAndAuthInfoByBasicClientVars=function(e){var t,n,r,o,i;this.docMetaEntity.ownerInfo=new NI(null===(t=e.docInfo)||void 0===t?void 0:t.ownerInfo),this.docMetaEntity.userAuthInfo=new qI({isCreator:null===(n=e.docInfo)||void 0===n?void 0:n.isCreator,isOwner:null===(r=e.docInfo)||void 0===r?void 0:r.isOwner,isAdmin:null===(o=e.docInfo)||void 0===o?void 0:o.isAdmin,isViewer:1===(null===(i=e.authInfo)||void 0===i?void 0:i.privilegeFlag)})},e.prototype.updatePadInfoByBasicClientVars=function(e){var t,n,r,o,i,a,s,c,u,l,f,d;this.docMetaEntity.padInfo=new LI({domainId:null===(n=null===(t=e.docInfo)||void 0===t?void 0:t.padInfo)||void 0===n?void 0:n.domainId,padId:null===(o=null===(r=e.docInfo)||void 0===r?void 0:r.padInfo)||void 0===o?void 0:o.padId,padType:null===(a=null===(i=e.docInfo)||void 0===i?void 0:i.padInfo)||void 0===a?void 0:a.padType,relative:null===(c=null===(s=e.docInfo)||void 0===s?void 0:s.padInfo)||void 0===c?void 0:c.relative,docStatus:null===(u=e.docInfo)||void 0===u?void 0:u.docStatus,shareLink:null===(l=e.docInfo)||void 0===l?void 0:l.shareLink,lastModifyTime:null===(f=e.docInfo)||void 0===f?void 0:f.lastModifyTime,lastModifyUser:null===(d=e.docInfo)||void 0===d?void 0:d.lastModifyUser})},e.prototype.updateTitleInfoByBasicClientVars=function(e){var t,n,r;this.docMetaEntity.titleInfo=new jI({title:null===(n=null===(t=e.docInfo)||void 0===t?void 0:t.padInfo)||void 0===n?void 0:n.padTitle,isUserChangeTitle:null===(r=e.docInfo)||void 0===r?void 0:r.isUserChangeTitle})},e.prototype.updateHostFileInfoByBasicClientVars=function(e){var t,n;(null===(t=null==e?void 0:e.docInfo)||void 0===t?void 0:t.hostFileInfo)&&(this.docMetaEntity.hostFileInfo=new KI(null===(n=null==e?void 0:e.docInfo)||void 0===n?void 0:n.hostFileInfo))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),(0,kr.__decorate)([qw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",void 0)],e.prototype,"initWithBasicClientVars",null),e}(),zI=function(e){function t(t){var n=e.call(this)||this;return n.beginTime=0,n.endTime=0,n.isVip=!1,n.oldVip=!1,n.vipLevel=0,n.user={},n.recycleLimit={},n.collaborateLimit={},n.expansion={},n.superVip={},t.super_vip=t.super,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),$I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.avatar="",t.qqAvatar="",t.wxAvatar="",t.nick="",t.qqNick="",t.wxNick="",t.corpId="",t.corpName="",t.domain="",t.domainId="",t.dbEmail="",t.email="",t.tinyid="",t.toid="",t.userId="",t.uid="",t.wxOpenid="",t.uidSource=0,t.uin="",t.login=!1,t.loginTime=0,t.loginType=oE.UNKNOWN,t.xu="",t.vipInfo=new zI({}),t.vip="",t.userPic="",t}return(0,kr.__extends)(t,e),t}(sE),JI="".concat(zb,"user_info"),XI="".concat(zb,"vip_all"),eR="".concat(zb,"user_flag"),tR="".concat(zb,"user_info/check"),nR=function(){function e(){}return e.prototype.getUserInfo=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){return n={get_vip_info:e},t&&(n=(0,kr.__assign)((0,kr.__assign)({},n),{u:t})),r=Sw(JI,n),[2,Qc.networkRequest.post(r,{xsrf:dw(Yb.xsrf)})]}))}))},e.prototype.getVipInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e=Sw(XI,{xsrf:"".concat(dw(Yb.xsrf))}),[2,Qc.networkRequest.post(e)]}))}))},e.prototype.getUserFlag=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=Sw(eR,{xsrf:"".concat(dw(Yb.xsrf)),type:e}),[2,Qc.networkRequest.post(t)]}))}))},e.prototype.userInfoCheck=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e=Sw(tR,{xsrf:"".concat(dw(Yb.xsrf))}),[2,Qc.networkRequest.post(e)]}))}))},e}(),rR="userInfo",oR=function(e){function t(t){var n=e.call(this,t)||this;return n.userInfo=new $I("mainUserInfo"),n.mOnUserInfoDidUpdated=new Ww.Emitter,n.userInfoRepository=new nR,n.onUserInfoDidUpdated=n.mOnUserInfoDidUpdated.event,n}return(0,kr.__extends)(t,e),t.prototype.fetchUserInfo=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(n){return[2,this.userInfoRepository.getUserInfo(e,t)]}))}))},t.prototype.fetchVipInfo=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return this.vipInfo=[],[2,this.userInfoRepository.getVipInfo()]}))}))},t.prototype.fetchUserFlag=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.userInfoRepository.getUserFlag(e)]}))}))},t.prototype.userInfoCheck=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.userInfoRepository.userInfoCheck()]}))}))},(0,kr.__decorate)([Nw("mOnUserInfoDidUpdated",rR),Lw($I.prototype.constructor,rR),function(e,t,n){kw.debug("changeSuperVipData|".concat(e.constructor.name,"|").concat(t));var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,o,i,a,s;return(0,kr.__generator)(this,(function(c){switch(c.label){case 0:return[4,r.apply(this,e)];case 1:return(t=c.sent()).error?[2,t]:((n=null!==(s=null===(a=null===(i=t.resData)||void 0===i?void 0:i.data)||void 0===a?void 0:a.vip_info)&&void 0!==s?s:{}).super_vip=null==n?void 0:n.super,(o=(0,kr.__assign)({},t.resData)).data.vip_info=n,[2,{resData:o}])}}))}))}},Dw(),Mw("x-u","xu"),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Number,String]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"fetchUserInfo",null),(0,kr.__decorate)([jw(zI.prototype.constructor,"vipInfo","vip_info"),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"fetchVipInfo",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Number]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"fetchUserFlag",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"userInfoCheck",null),t}(cE),iR=function(){function e(){this.userInfoAggregate=new oR("mainUserInfoAggregate"),this.isInitedByBasicClientVars=!1,Gb(this,this.userInfoAggregate,oR),window.basicClientVars&&this.initWithBasicClientVars(window.basicClientVars)}return e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return t=e.u,[4,this.userInfoAggregate.fetchUserInfo(1,t)];case 1:return n=o.sent().resData,(r=null==n?void 0:n.data)?(this.userInfoAggregate.userInfo.initWithJsonObj({avatar:r.userPic,nick:r.nick,corpId:r.corpId,corpName:r.corpName,domain:r.domain,domainId:r.domainId,loginType:r.loginType,login:r.login,uin:r.uin,uidSource:r.uidSource,wxOpenid:r.wxOpenid,tinyid:r.tinyid,userId:""===r.userId?"p.".concat(r.tinyid):r.userId}),[2]):[2]}}))}))},e.prototype.updateWithClientVars=function(e){this.isInitedByBasicClientVars||this.userInfoAggregate.userInfo.initWithJsonObj({avatar:e.userPic,tinyid:e.tinyid,nick:e.userName,loginType:e.userType,userId:e.userId,uin:e.uin})},e.prototype.initWithBasicClientVars=function(e){this.userInfoAggregate.userInfo.initWithJsonObj({corpId:e.userInfo.corpId,corpName:e.userInfo.corpName,loginType:e.userInfo.loginType,login:!!e.userInfo.tinyId,uin:e.userInfo.uin,uidSource:e.userInfo.uidSource,wxOpenid:e.userInfo.openId,tinyid:e.userInfo.tinyId,userId:e.userInfo.userId,avatar:e.userInfo.userPic,nick:e.userInfo.userName}),this.isInitedByBasicClientVars=!0},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),(0,kr.__decorate)([qw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",void 0)],e.prototype,"initWithBasicClientVars",null),e}(),aR="".concat(zb,"doc_collect"),sR="".concat(zb,"doc_getcollect"),cR="".concat(zb,"createdoc_new"),uR="".concat(zb,"doc_recover"),lR="".concat(zb,"doc_humtrans"),fR="".concat(Jb,"can/move"),dR=function(){function e(e){this.networkRequestService=e}return e.prototype.collect=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)((0,kr.__assign)({},e),{xsrf:dw(Yb.xsrf)})),[2,this.networkRequestService.instance.post(aR,t)]}))}))},e.prototype.getDocCollect=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){return t=(0,kr.__assign)((0,kr.__assign)({},e),{xsrf:"".concat(dw(Yb.xsrf))}),n=Sw(sR,t),[2,this.networkRequestService.instance.get(n)]}))}))},e.prototype.createDoc=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)((0,kr.__assign)({},e),{xsrf:dw(Yb.xsrf)})),[2,this.networkRequestService.instance.post(cR,t)]}))}))},e.prototype.recover=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)((0,kr.__assign)({},e),{xsrf:dw(Yb.xsrf)})),[2,this.networkRequestService.instance.post(uR,t)]}))}))},e.prototype.docHumtrans=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)((0,kr.__assign)({},e),{xsrf:dw(Yb.xsrf)})),[2,this.networkRequestService.instance.post(lR,t)]}))}))},e.prototype.canMove=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){return t=(0,kr.__assign)((0,kr.__assign)({},e),{xsrf:"".concat(dw(Yb.xsrf))}),n=Sw(fR,t),[2,this.networkRequestService.instance.get(n)]}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),pR=function(){function e(){this.fileRepository=new dR(new wb)}return e.prototype.init=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2]}))}))},e.prototype.collect=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.fileRepository.collect(e)]}))}))},e.prototype.getDocCollect=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.fileRepository.getDocCollect(e)]}))}))},e.prototype.createDoc=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.fileRepository.createDoc(e)]}))}))},e.prototype.recover=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.fileRepository.recover(e)]}))}))},e.prototype.docHumtrans=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.fileRepository.docHumtrans(e)]}))}))},e.prototype.canMove=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.fileRepository.canMove(e)]}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"collect",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getDocCollect",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"createDoc",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"recover",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"docHumtrans",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"canMove",null),e}(),hR=function(){function e(e){this.fileDescRepo=e}return e.prototype.init=function(e){Object.assign(this,e)},e.prototype.fetchFileDesc=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.fileDescRepo.fetchFileDesc(e)]}))}))},e.prototype.getFormattedFileSize=function(){var e=this.accurateSize;if(0===Number(e))return"0 B";var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toPrecision(3))," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])},e}();!function(e){e.DOC="drive-doc",e.SHEET="drive-sheet",e.TEXT="drive-text",e.SLIDE="drive-slide",e.PDF="drive-pdf",e.UNKNOWN="drive-unknown"}(FI||(FI={}));var vR,gR,yR,mR=((BI={})[FI.DOC]=/doc|dot|wps|wpt|docx|dotx|docm|dotm/,BI[FI.SHEET]=/xls|xlt|xlsx|xltx|csv|xlsb|xlsm|xltm|et|ett|ets/,BI[FI.TEXT]=/lrc|c|cpp|h|asm|s|java|asp|bat|bas|prg|cmd|rtf|txt|log|xml|htm|html/,BI[FI.SLIDE]=/pptx|ppt|pot|potx|pps|ppsx|dps|dpt|pptm|potm|ppsm/,BI),_R=/(doc|docx|xls|xlsx|txt|csv|ppt|pptx)$/i,bR=function(){function e(e){this.fileMetaRepo=e}return e.prototype.init=function(e){Object.assign(this,e)},e.prototype.initWithFileInfoRsp=function(e){var t=e.mimeType,n=e.fileMeta;Object.assign(this,(0,kr.__assign)((0,kr.__assign)({},n),{mimeType:t,icon:n.iconUrl}))},e.prototype.fetchPreviewInfo=function(){return(0,kr.__awaiter)(this,arguments,void 0,(function(e){return void 0===e&&(e={}),(0,kr.__generator)(this,(function(t){return[2,this.fileMetaRepo.fetchPreviewInfo({fileId:this.fileId,addBrowseRecord:(null==e?void 0:e.addBrowseRecord)||!1,previewAttribute:(0,kr.__assign)({srcType:this.ext},e.previewAttribute)})]}))}))},e.prototype.fetchPreviewQuery=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.fileMetaRepo.fetchPreviewQuery({fileId:this.fileId,shouldRetry:e})]}))}))},e.prototype.fetchDownloadInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.fileMetaRepo.fetchDownloadInfo(e)]}))}))},e.prototype.fetchCopyInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.fileMetaRepo.fetchCopyInfo(e)]}))}))},e.prototype.getDrivePadType=function(){for(var e=this.cosInfo,t=0,n=Object.keys(mR);t<n.length;t++){var r=n[t],o=mR[r];if((null==e?void 0:e.driveExt)&&o.test(e.driveExt))return r}return FI.DOC},e.prototype.canBeConvertedToOnlineDocs=function(){var e=this.ext;return _R.test(e)},e.prototype.getFormattedFileSize=function(){var e=this.size;if(0===Number(e))return"0 B";var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toPrecision(3))," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])},e}(),wR=function(){function e(){}return e.prototype.fetchFileDesc=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t={xsrf:yw()},n=RI().stringify(t),[4,Qc.networkRequest.post("".concat("/v2/drive/file/desc","?").concat(n),{file_id:e})];case 1:return[2,r.sent()]}}))}))},(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchFileDesc",null),e}(),ER=function(){function e(){}return e.prototype.fetchPreviewInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l,f,d,p,h;return(0,kr.__generator)(this,(function(v){switch(v.label){case 0:return t=e.fileId,n=e.addBrowseRecord,r=void 0===n||n,o=e.previewAttribute,i=o.srcType,a=o.dstType,s=o.page,c=o.sheet,u=o.showComment,l=o.quality,f=o.scale,d={xsrf:dw(Yb.xsrf)},p=RI().stringify(d),h={file_id:t,add_browse_record:r,preview_attr:{page:s,sheet:c,quality:l,scale:f,src_type:i,ddst_type:a,show_comment:u}},[4,Qc.networkRequest.post("".concat("/v2/drive/docsPreviewURL","?").concat(p),h)];case 1:return[2,v.sent()]}}))}))},e.prototype.fetchPreviewQuery=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return t=e.fileId,n=e.shouldRetry,r={xsrf:dw(Yb.xsrf)},o=RI().stringify(r),i={file_id:t},n&&(i.should_retry=!0),[4,Qc.networkRequest.post("".concat("/v2/drive/preview/query","?").concat(o),i)];case 1:return[2,a.sent()]}}))}))},e.prototype.fetchDownloadInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return t={xsrf:dw(Yb.xsrf)},n=RI().stringify(t),r={file_id:e},[4,Qc.networkRequest.post("".concat("/v2/drive/downloadURL","?").concat(n),r)];case 1:return[2,o.sent()]}}))}))},e.prototype.fetchCopyInfo=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return t={xsrf:dw(Yb.xsrf)},n=RI().stringify(t),r={file_id:e},[4,Qc.networkRequest.post("".concat("/v2/file/clone","?").concat(n),r)];case 1:return[2,o.sent()]}}))}))},(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchPreviewInfo",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchDownloadInfo",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"fetchCopyInfo",null),e}(),SR=function(){function e(){}return e.prototype.postImportFile=function(t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return i={folder_id:t.folderId,operation_id:t.operationId,cos_file_key:t.cosFileKey,drive_file_id:t.driveFileId,password:t.password,appid:t.appid,filename:t.filename,verify_token:t.verifyToken,async:t.async,platform:t.platform,preview:t.preview,delete_drive_file:t.deleteDriveFile,bind_scene:t.bindScene,scene_type:t.sceneType,scene_id:t.sceneId,scene_file_id:t.sceneFileId,appSource:t.appSource,createSource:t.createSource},a=new FormData,Object.keys(i).forEach((function(e){void 0!==i[e]&&a.append(e,i[e])})),n=a,r="".concat(e.cgiPaths.IMPORT_FILE,"?xsrf=").concat(dw(Yb.xsrf)),[4,Qc.networkRequest.post(r,n)];case 1:return[2,o.sent()]}var i,a}))}))},e.prototype.queryImportProgress=function(t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return i=t,a=new URLSearchParams,Object.keys(i).forEach((function(e){void 0!==i[e]&&a.append(e,i[e])})),n=a,r="".concat(e.cgiPaths.QUERY_IMPORT_PROGRESS,"?xsrf=").concat(dw(Yb.xsrf)),[4,Qc.networkRequest.post(r,n)];case 1:return[2,o.sent()]}var i,a}))}))},e.cgiPaths={IMPORT_FILE:"/v1/import/file",QUERY_IMPORT_PROGRESS:"/v1/import/queryImportProgress"},(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"postImportFile",null),e}(),OR=function(){function e(e){this.docMetaDomain=e,this.fileDescRepo=new wR,this.fileMetaRepo=new ER,this.fileOperationRepo=new SR,this.fileDescEntity=new hR(this.fileDescRepo),this.fileMetaEntity=new bR(this.fileMetaRepo),window.basicClientVars&&this.initWithBasicClientVars(window.basicClientVars)}return e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i;return(0,kr.__generator)(this,(function(a){switch(a.label){case 0:return t=e.docId,n=e.addRecent,OI(t)?[4,this.docMetaDomain.init(e)]:[2];case 1:return a.sent(),[4,this.docMetaDomain.docMetaEntity.fetchFileInfo(t,n)];case 2:return 0===(null==(r=a.sent().resData)?void 0:r.retcode)&&(null===(o=null==r?void 0:r.data)||void 0===o?void 0:o.result)&&(this.fileMetaEntity.initWithFileInfoRsp(r.data.result),this.initFileDescEntity(null===(i=r.data.result.fileMeta)||void 0===i?void 0:i.fileId)),[2]}}))}))},e.prototype.initFileDescEntity=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return e?[4,this.fileDescEntity.fetchFileDesc(e)]:[2];case 1:return t=o.sent().resData,(null===(r=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.result)||void 0===r?void 0:r.size)&&this.fileDescEntity.init({accurateSize:t.data.result.size}),[2]}}))}))},e.prototype.initWithBasicClientVars=function(e){var t,n,r,o;(null===(t=null==e?void 0:e.docInfo)||void 0===t?void 0:t.cosInfo)&&(this.fileMetaEntity.ext=null===(r=null===(n=null==e?void 0:e.docInfo)||void 0===n?void 0:n.cosInfo)||void 0===r?void 0:r.driveExt,this.fileMetaEntity.cosInfo=null===(o=null==e?void 0:e.docInfo)||void 0===o?void 0:o.cosInfo)},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),(0,kr.__decorate)([qw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",void 0)],e.prototype,"initWithBasicClientVars",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),IR="".concat(zb,"folder_list"),RR="".concat(zb,"folder_new"),CR="".concat(zb,"doc_addmy"),TR=function(){function e(e){this.networkRequestService=e}return e.prototype.folderList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)((0,kr.__assign)({},e),{xsrf:dw(Yb.xsrf)})),[2,this.networkRequestService.instance.post(IR,t)]}))}))},e.prototype.newFolder=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)((0,kr.__assign)({},e),{xsrf:dw(Yb.xsrf)})),[2,this.networkRequestService.instance.post(RR,t)]}))}))},e.prototype.addToMyFolder=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)((0,kr.__assign)({},e),{xsrf:dw(Yb.xsrf)})),[2,this.networkRequestService.instance.post(CR,t)]}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),xR=function(){function e(){this.folderRepository=new TR(new wb)}return e.prototype.init=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2]}))}))},e.prototype.folderList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.folderRepository.folderList(e)]}))}))},e.prototype.newFolder=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.folderRepository.newFolder(e)]}))}))},e.prototype.addToMyFolder=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.folderRepository.addToMyFolder(e)]}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"folderList",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"newFolder",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"addToMyFolder",null),e}(),AR="".concat(Zb,"/cgi-bin/template/mytemplate_add"),kR="".concat(Zb,"/cgi-bin/template/template_detail"),DR="".concat(Zb,"/ep/api/settipflag"),MR=function(){function e(e){this.networkRequestService=e}return e.prototype.addToMyTemplate=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)((0,kr.__assign)({},e),{xsrf:dw(Yb.xsrf)})),[2,this.networkRequestService.instance.post(AR,t)]}))}))},e.prototype.templateDetail=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw((0,kr.__assign)((0,kr.__assign)({},e),{template_type:3,xsrf:dw(Yb.xsrf)})),[2,this.networkRequestService.instance.post(kR,t)]}))}))},e.prototype.setTipFlag=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=vw({globalPadId:e,type:37,flag:1,xsrf:dw(Yb.xsrf)}),[2,this.networkRequestService.instance.post(DR,t)]}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),PR=function(){function e(){this.templateRepository=new MR(new wb)}return e.prototype.init=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2]}))}))},e.prototype.addToMyTemplate=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.templateRepository.addToMyTemplate(e)]}))}))},e.prototype.templateDetail=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.templateRepository.templateDetail(e)]}))}))},e.prototype.setTipFlag=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.templateRepository.setTipFlag(e)]}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"addToMyTemplate",null),(0,kr.__decorate)([Uw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"templateDetail",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"setTipFlag",null),e}(),NR="".concat(Zb,"/v2/cgi-bin/online_docs/polling"),LR="".concat($b,"polling/key/create"),jR="".concat(Zb,"/cgi-bin/online_docs/wxqrcode"),UR=("".concat(zb,"user_info"),"".concat(Zb,"/api/user/qq/login")),FR="".concat(Zb,"/api/user/oauth/qq/login"),BR="".concat($b,"work_weixin/login"),qR="".concat(Zb,"/api/user/login/wxqrcode");!function(e){e.none="",e.login="login"}(vR||(vR={})),function(e){e[e.none=0]="none",e[e.request=1]="request"}(gR||(gR={})),function(e){e[e.WECHAT_LOGIN_CASE_DEFAULT=0]="WECHAT_LOGIN_CASE_DEFAULT",e[e.WECHAT_LOGIN_CASE_H5=1]="WECHAT_LOGIN_CASE_H5"}(yR||(yR={}));var WR,VR="x-u",GR="userIndex",HR=function(){function e(e){this.networkRequestService=e}return e.prototype.pollingKeyCreate=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t="".concat(LR,"?ac=").concat(e),[2,this.networkRequestService.instance.post(t,{xsrf:dw(Yb.xsrf)})]}))}))},e.prototype.getWeChatLogInQRURI=function(){return(0,kr.__awaiter)(this,arguments,void 0,(function(e){var t;return void 0===e&&(e=yR.WECHAT_LOGIN_CASE_DEFAULT),(0,kr.__generator)(this,(function(n){return t=Sw(qR,{case:e}),[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.getWeChatLogInQRCodeURI=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){return e={ac:"login",ts:Date.now(),page:encodeURIComponent("pages/landingpage/landingpage"),checkKey:"1",xsrf:"".concat(dw(Yb.xsrf))},t=Sw(jR,e),[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.updateWeChatLoginQRCodeStatus=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=Sw(NR,{CheckKey:e,u:"login"}),[2,this.networkRequestService.instance.post(t)]}))}))},e.prototype.updateEnterpriseWeChatLoginQRCodeStatus=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t=Sw(NR,{CheckKey:e}),[2,this.networkRequestService.instance.post(t)]}))}))},e.prototype.checkQQLogin=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e="".concat(UR,"?u=login"),[2,this.networkRequestService.instance.post(e,{xsrf:dw(Yb.xsrf)})]}))}))},e.prototype.checkQQOAuthLogin=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t="".concat(FR,"?state=state"),[2,this.networkRequestService.instance.post(t,{xsrf:dw(Yb.xsrf),code:e})]}))}))},e.prototype.weworkLogin=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,kr.__generator)(this,(function(t){return e="".concat(BR,"?u=login"),[2,this.networkRequestService.instance.post(e,{xsrf:dw(Yb.xsrf)})]}))}))},(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"pollingKeyCreate",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getWeChatLogInQRURI",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"getWeChatLogInQRCodeURI",null),(0,kr.__decorate)([Uw(),Dw(),Mw(VR,GR),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"updateWeChatLoginQRCodeStatus",null),(0,kr.__decorate)([Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"updateEnterpriseWeChatLoginQRCodeStatus",null),(0,kr.__decorate)([Uw(),Dw(),Mw(VR,GR),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"checkQQLogin",null),(0,kr.__decorate)([Uw(),Dw(),Mw(VR,GR),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[String]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"checkQQOAuthLogin",null),(0,kr.__decorate)([Uw(),Dw(),Mw(VR,GR),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"weworkLogin",null),e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}(),KR=HR,QR=function(e){function t(t,n){var r=e.call(this,n)||this;return r.networkRequestService=t,r.loginRepository=new KR(t),r}return(0,kr.__extends)(t,e),t.prototype.reloadMiniProgramForDesktop=function(){var e,t;null===(t=null===(e=null===window||void 0===window?void 0:window.wx)||void 0===e?void 0:e.miniProgram)||void 0===t||t.reLaunch({url:"/pages/list/list?reason=pskey_error"})},t.prototype.loginDocsInMiniProgram=function(e){var t,n,r,o="/pages/detail/detail?reason=pskey_error&url=".concat(encodeURIComponent(e));Qb("rtkey")&&(o+="&scene=".concat(Qb("rtkey"))),null===(r=null===(n=null===(t=window.wx)||void 0===t?void 0:t.miniProgram)||void 0===n?void 0:n.reLaunch)||void 0===r||r.call(n,{url:o})},t.prototype.loginDocsInWework=function(e){if(Sb===Rb){var t="".concat(Tb,"?url=").concat(encodeURIComponent(e)),n="".concat(xb,"?appid=ww20388f7040b655b7&redirect_uri=").concat(encodeURIComponent(t),"&response_type=code&scope=snsapi_userinfo&state=weworklogin#wechat_redirect");location.replace(n)}},t.prototype.jumpToLoginInWechatWebview=function(e){Zy({url:"".concat(Ob,"?url=").concat(encodeURIComponent(e),"&wxonly=1"),replace:!0})},t.prototype.jumpToLoginInWeworkWebview=function(e){Zy({url:"".concat(xb,"?appid=ww20388f7040b655b7&redirect_uri=").concat(encodeURIComponent(e),"&response_type=code&scope=snsapi_userinfo&state=weworklogin#wechat_redirect"),replace:!0})},t.prototype.jumpToLoginInCommonView=function(e){Zy({url:"".concat(Ib,"?jump_url=").concat(encodeURIComponent(e)),replace:!0})},t.prototype.timOrQQH5Login=function(){window.mqq?window.mqq.invoke("data","updateLoginInfo",{key:"pskey"},(function(){location.reload()})):o.g.location.reload()},t=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object,String])],t)}(cE),YR=QR,ZR=function(){function e(e){this.networkRequestService=e}return e.prototype.createLoginAggregate=function(e){this.loginAggregate=new YR(this.networkRequestService,e)},e.prototype.init=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2]}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e=(0,kr.__decorate)([(0,kr.__param)(0,bb),(0,kr.__metadata)("design:paramtypes",[Object])],e)}();!function(e){e.ON="ON",e.OFF="OFF"}(WR||(WR={}));var zR,$R=function(){function e(e){this.emitter=new Ww.Emitter,this.listenersArray=[],this.messageCheckFn=e,this.initEmitterEvent(),this.msgHandler=this.messageCallback.bind(this)}return e.prototype.connect=function(){this.connectState!==WR.ON&&(this.connectState=WR.ON,window.addEventListener("message",this.msgHandler))},e.prototype.setIframeDom=function(e,t){this.iframeDom=e,this.targetOrigin=t},e.prototype.send=function(e){var t;this.iframeDom&&(null===(t=this.iframeDom.contentWindow)||void 0===t||t.postMessage(e,"*"))},e.prototype.receive=function(e){this.listenersArray.includes(e)||this.listenersArray.push(e)},e.prototype.dispose=function(){window.removeEventListener("message",this.msgHandler),this.connectState=WR.OFF,this.listenersArray=[]},e.prototype.messageCallback=function(e){var t=!0;this.messageCheckFn&&(t=this.messageCheckFn(e)),t&&this.emitter.fire(e)},e.prototype.initEmitterEvent=function(){var e=this;this.emitter.event((function(t){e.listenersArray.forEach((function(e){"function"==typeof e&&e(t)}))}))},e}(),JR=Ab,XR="ALREADY_IFRAME_GET_ACCOUNT_LIST_FROM_B",eC="GET_ACCOUNT_LIST_FROM_B",tC="DELETE_ACCOUNT_LIST_FROM_B",nC="SUCCESS_GET_ACCOUNT_LIST_FROM_B",rC="SUCCESS_DELETE_ACCOUNT_LIST_FROM_B",oC=kb,iC="iframe-to-manage-account-list",aC=function(){function e(){this.getAccountMessage=new $R(this.getAccountMessageCheckFn),this.iframeMountMessage=new $R(this.getIframeMountMessageCheckFn),this.deleteAccountMessage=new $R(this.getDeleteAccountMessageCheckFn)}return e.prototype.connect=function(){this.getAccountMessage.connect(),this.iframeMountMessage.connect(),this.deleteAccountMessage.connect()},e.prototype.dispose=function(){this.getAccountMessage.dispose(),this.iframeMountMessage.dispose(),this.deleteAccountMessage.dispose()},e.prototype.createGetAccountListIframe=function(e){var t=this;this.getAccountListIframeDom=this.createMessageIframe((function(n,r){r?(t.getAccountMessage.setIframeDom(n,JR),t.deleteAccountMessage.setIframeDom(n,JR)):null==e||e()}))},e.prototype.sendAccountListMessage=function(){this.getAccountMessage.send({eventFromCDomain:eC})},e.prototype.sendDeleteAccountMessage=function(e){this.deleteAccountMessage.send({eventFromCDomain:tC,cookie:e})},e.prototype.getAccountListMessage=function(e){this.getAccountMessage.receive(e)},e.prototype.getIframeMountMessage=function(e){this.iframeMountMessage.receive(e)},e.prototype.getDeleteAccountMessage=function(e){this.deleteAccountMessage.receive(e)},e.prototype.createMessageIframe=function(e){if(document.getElementById(iC))return e(document.getElementById(iC),!1),document.getElementById(iC);var t=document.createElement("iframe");return t.src=oC,t.id=iC,t.style.visibility="hidden",t.style.width="0px",t.style.height="0px",document.body.appendChild(t),e(t,!0),t},e.prototype.getAccountMessageCheckFn=function(e){var t=e.data;return e.origin===JR&&t.eventFromBDomain===nC},e.prototype.getIframeMountMessageCheckFn=function(e){var t=e.data;return e.origin===JR&&t.eventFromBDomain===XR},e.prototype.getDeleteAccountMessageCheckFn=function(e){var t=e.data;return e.origin===JR&&t.eventFromBDomain===rC},e}(),sC="IFRAME_ALREADY",cC="GET_LOGINED_ACCOUNT",uC="WILL_CHANGE_LOGINED_ACCOUNT",lC="DELETE_LOGINED_ACCOUNT",fC=Mb,dC=Pb,pC="iframe-to-manage-account-list",hC=function(){function e(){this.getAccountMessage=new $R(this.getAccountMessageCheckFn),this.iframeMountMessage=new $R(this.getIframeMountMessageCheckFn),this.deleteAccountMessage=new $R(this.getDeleteAccountMessageCheckFn)}return e.prototype.connect=function(){this.getAccountMessage.connect(),this.iframeMountMessage.connect(),this.deleteAccountMessage.connect()},e.prototype.dispose=function(){this.getAccountMessage.dispose(),this.iframeMountMessage.dispose(),this.deleteAccountMessage.dispose()},e.prototype.createGetAccountListIframe=function(e){var t=this;this.createMessageIframe((function(n,r){r?(t.getAccountMessage.setIframeDom(n,fC),t.deleteAccountMessage.setIframeDom(n,fC)):null==e||e()}))},e.prototype.sendAccountListMessage=function(){this.getAccountMessage.send({event:cC})},e.prototype.sendDeleteAccountMessage=function(e){this.deleteAccountMessage.send({event:lC,uid:e})},e.prototype.getAccountListMessage=function(e){this.getAccountMessage.receive(e)},e.prototype.getDeleteAccountMessage=function(e){this.deleteAccountMessage.receive(e)},e.prototype.getIframeMountMessage=function(e){this.iframeMountMessage.receive(e)},e.prototype.getAccountMessageCheckFn=function(e){return e.data.event===uC},e.prototype.getIframeMountMessageCheckFn=function(e){return e.data.event===sC},e.prototype.getDeleteAccountMessageCheckFn=function(e){return e.data.event===uC},e.prototype.createMessageIframe=function(e){if(document.getElementById(pC))return e(document.getElementById(pC),!1),document.getElementById(pC);var t=document.createElement("iframe");return t.src=dC,t.id=pC,t.style.visibility="hidden",t.style.width="0px",t.style.height="0px",document.body.appendChild(t),e(t,!0),t},e}(),vC="ALREADY_JUMP_B_IFRAME",gC="B_PAGE_SET_COOKIE",yC="SUCCESS_SET_COOKIE",mC=Ab,_C=Db,bC="iframe-to-b-set-cookie",wC=function(){function e(){this.iframeMountMessage=new $R(this.getIframeMountMessageCheckFn),this.switchAccountMessage=new $R(this.getSwitchAccountMessageCheckFn)}return e.prototype.connect=function(){this.iframeMountMessage.connect(),this.switchAccountMessage.connect()},e.prototype.dispose=function(){this.iframeMountMessage.dispose(),this.switchAccountMessage.dispose()},e.prototype.createSwitchEnterpriseAccount=function(e){var t=this;this.switchAccountDom=this.createMessageIframe((function(n,r){r?t.switchAccountMessage.setIframeDom(n,mC):null==e||e()}))},e.prototype.getIframeMountMessage=function(e){this.iframeMountMessage.receive(e)},e.prototype.getSwitchAccountMessage=function(e){this.switchAccountMessage.receive(e)},e.prototype.sendSwitchAccountMessage=function(e){this.switchAccountMessage.send({event:gC,cookie:e,fromDomain:"B_DOMAIN"})},e.prototype.createMessageIframe=function(e){document.getElementById(bC)&&e(document.getElementById(bC),!1);var t=document.createElement("iframe");return t.src=_C,t.id=bC,t.style.visibility="hidden",t.style.width="0px",t.style.height="0px",document.body.appendChild(t),e(t,!0),t},e.prototype.getIframeMountMessageCheckFn=function(e){var t=e.data;return e.origin===mC&&t.event===vC},e.prototype.getSwitchAccountMessageCheckFn=function(e){var t=e.data;return e.origin===mC&&t.event===yC},e}(),EC="ALREADY_JUMP_C_IFRAME",SC="C_PAGE_SET_COOKIE",OC="SUCCESS_SET_COOKIE",IC="EXPIRED_COOKIE",RC=[Mb],CC=Mb,TC=Nb,xC="iframe-to-c-set-cookie",AC=function(){function e(){this.iframeMountMessage=new $R(this.getIframeMountMessageCheckFn),this.switchAccountMessage=new $R(this.getSwitchAccountMessageCheckFn)}return e.prototype.connect=function(){this.iframeMountMessage.connect(),this.switchAccountMessage.connect()},e.prototype.dispose=function(){this.iframeMountMessage.dispose(),this.switchAccountMessage.dispose()},e.prototype.createSwitchEnterpriseAccount=function(e){var t=this;this.createMessageIframe((function(n,r){r?t.switchAccountMessage.setIframeDom(n,CC):null==e||e()}))},e.prototype.getIframeMountMessage=function(e){this.iframeMountMessage.receive(e)},e.prototype.sendSwitchAccountMessage=function(e){this.switchAccountMessage.send({event:SC,cookie:e,fromDomain:"C_DOMAIN"})},e.prototype.getSwitchAccountMessage=function(e){this.switchAccountMessage.receive(e)},e.prototype.createMessageIframe=function(e){document.getElementById(xC)&&e(document.getElementById(xC),!1);var t=document.createElement("iframe");return t.src=TC,t.id=xC,t.style.visibility="hidden",t.style.width="0px",t.style.height="0px",document.body.appendChild(t),e(t,!0),t},e.prototype.getIframeMountMessageCheckFn=function(e){var t=e.data,n=e.origin;return RC.indexOf(n)>-1&&t.event===EC},e.prototype.getSwitchAccountMessageCheckFn=function(e){var t=e.data,n=e.origin;return RC.indexOf(n)>-1&&(t.event===OC||t.event===IC)},e}();!function(e){e.ON="ON",e.OFF="OFF"}(zR||(zR={}));var kC,DC=function(){function e(e,t){this.emitter=new Ww.Emitter,this.listenersArray=[],window.BroadcastChannel&&(this.channel=new window.BroadcastChannel(e)),this.messageCheckFn=t}return e.prototype.connect=function(){var e=this;this.connectState!==zR.ON&&(this.connectState=zR.ON,this.emitter.event((function(t){e.listenersArray.forEach((function(e){"function"==typeof e&&e(t)}))})),this.channel.onmessage=this.messageCallback.bind(this))},e.prototype.send=function(e){var t;null===(t=this.channel)||void 0===t||t.postMessage(e)},e.prototype.receive=function(e){this.listenersArray.includes(e)||this.listenersArray.push(e)},e.prototype.dispose=function(){var e;null===(e=this.channel)||void 0===e||e.close()},e.prototype.messageCallback=function(e){var t=!0;this.messageCheckFn&&(t=this.messageCheckFn(e)),t&&this.emitter.fire(e)},e}(),MC=function(){function e(){this.logoutMessage=new DC("docMessageCenterChannel",this.logoutMessageCheckFn),this.key="".concat(Math.floor(1e9*Math.random()),"_").concat(+new Date)}return e.prototype.connect=function(){this.logoutMessage.connect()},e.prototype.getLogoutMessage=function(e){this.logoutMessage.receive(e)},e.prototype.sendLogoutMessage=function(e){this.logoutMessage.send({key:this.key,type:ag.LOGOUT,userIndex:e})},e.prototype.logoutMessageCheckFn=function(e){return e.data.key!==this.key},e}();!function(e){e.QFYF_SUCCESS="login qfyf success",e.QQ_LOGIN_SUCCESS="login qq success",e.QQ_OAUTH_LOGIN_SUCCESS="login qq oauth success",e.QQ_BING_SUCCESS="bind qq success",e.QQ_IFRAME_MOUNT="mount qq iframe success"}(kC||(kC={}));var PC,NC,LC,jC=Rb,UC=function(){function e(){this.getQQLoginMessage=new $R(this.getQQLoginMessageCheckFn)}return e.prototype.connect=function(){this.getQQLoginMessage.connect()},e.prototype.dispose=function(){this.getQQLoginMessage.dispose(),this.qqIframeMountListener=void 0},e.prototype.getQQLoginSuccessMessage=function(e){this.getQQLoginMessage.receive(e)},e.prototype.getQQIframeMessage=function(e){this.qqIframeMountListener=e},e.prototype.createQQLoginIframe=function(e,t){var n=this,r=document.createElement("iframe");return r.src=t,r.frameBorder="0",r.scrolling="auto",r.width="100%",r.height="100%",r.id="login_frame",r.name="login_frame",r.onload=function(){var e;null===(e=n.qqIframeMountListener)||void 0===e||e.call(n,new MessageEvent(kC.QQ_IFRAME_MOUNT))},e.appendChild(r),r},e.prototype.getQQLoginMessageCheckFn=function(e){var t=e.data;return!(!e.origin.indexOf(jC)||!(t===kC.QQ_LOGIN_SUCCESS||"string"==typeof t&&t.startsWith(kC.QQ_OAUTH_LOGIN_SUCCESS)))},e}(),FC=function(){this.qqLoginMessage=new UC},BC=Rb,qC=Cb,WC=function(){function e(){this.envType="person",this.getWeworkLoginMessage=new $R(this.getWeworkLoginMessageCheckFn)}return e.prototype.connect=function(e){e&&(this.envType=e),this.getWeworkLoginMessage.connect()},e.prototype.dispose=function(){this.weworkIframeMountListener=void 0,this.getWeworkLoginMessage.dispose()},e.prototype.getWeworkLoginSuccessMessage=function(e){this.getWeworkLoginMessage.receive(e)},e.prototype.getWeworkIframeMessage=function(e){this.weworkIframeMountListener=e},e.prototype.createWeworkLoginIframe=function(e,t){var n=this,r=document.createElement("iframe");return r.src=t,r.frameBorder="0",r.scrolling="auto",r.width="100%",r.height="100%",r.id="login_frame",r.name="login_frame",r.onload=function(){var e;null===(e=n.weworkIframeMountListener)||void 0===e||e.call(n,new MessageEvent("IFRAME_DOM_MOUNTED"))},e.appendChild(r),r},e.prototype.getWeworkLoginMessageCheckFn=function(e){var t=e.data,n=e.origin,r="person"===this.envType?BC:qC;return!(!n.indexOf(r)||"string"!=typeof t||!t.includes("login wework success"))},e}(),VC=function(){this.weworkLoginMessage=new WC},GC=function(){function e(){this.getEnterpriseAccountListMessage=new aC,this.switchEnterpriseAccountMessage=new wC,this.getPersonAccountListMessage=new hC,this.switchPersonAccountMessage=new AC,this.qqMessage=new FC,this.weworkMessage=new VC,this.logoutMessage=new MC}return e.prototype.init=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2]}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e}(),HC="".concat(Zb,"/wedoc/notifyscope"),KC="".concat(Zb,"/wedoc/editnotify"),QC=function(){function e(){}return e.prototype.getNotifyType=function(e){var t=vw((0,kr.__assign)({},e));return Qc.networkRequest.post(HC,t)},e.prototype.setNotifyType=function(e){var t=vw((0,kr.__assign)({},e));return Qc.networkRequest.post(HC,t)},e.prototype.editnotify=function(e){var t=vw((0,kr.__assign)({},e));return Qc.networkRequest.post(KC,t)},e}(),YC=function(e){function t(t){var n=e.call(this)||this;return n.notifyType=0,n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),ZC="mOnNotifyInfoDidUpdated",zC="notifyInfo",$C=function(e){function t(t){var n=e.call(this,t)||this;return n.mOnNotifyInfoDidUpdated=new Ww.Emitter,n.notifyScopeRepository=new QC,n.onNotifyInfoDidUpdated=n.mOnNotifyInfoDidUpdated.event,n}var n;return(0,kr.__extends)(t,e),t.prototype.getNotifyType=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.notifyScopeRepository.getNotifyType(e)]}))}))},t.prototype.setNotifyType=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.notifyScopeRepository.setNotifyType(e)]}))}))},t.prototype.editnotify=function(e){return this.notifyScopeRepository.editnotify(e)},t.prototype.setNotifyTypeWithParams=function(e){!e||e.length<1||(this.notifyInfo=new YC({notifyType:e[0].notifyType}))},(0,kr.__decorate)([Nw(ZC,zC),Lw(YC.prototype.constructor,zC),Uw(),Bw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"getNotifyType",null),(0,kr.__decorate)([Nw(ZC,zC),(n="setNotifyTypeWithParams",function(e,t,r){kw.debug("parseResBody|".concat(e.constructor.name,"|").concat(t));var o=r.value;r.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,o.apply(this,e)];case 1:return(t=r.sent()).error||this[n](e),[2,t]}}))}))}}),Bw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"setNotifyType",null),(0,kr.__decorate)([Uw(),Bw(),Dw(),Fw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"editnotify",null),t}(cE),JC=function(){function e(){this.notifyScopeAggregate=new $C("mainINotifyScope")}return e.prototype.init=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2]}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e}(),XC="".concat(Jb,"mention/mention_add"),eT="".concat(Jb,"mention/mention_del"),tT="".concat(Jb,"mention/get_doc_mention_list"),nT="".concat(Jb,"mention/get_my_mention_list"),rT="".concat(Jb,"mention/mention_read_report"),oT=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.getDocMentionList=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return e=vw({globalPadId:this.globalPadId,xsrf:dw(Yb.xsrf)}),t="".concat(tT),[4,this.networkRequestService.instance.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.getMyMentionList=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return e=vw({globalPadId:this.globalPadId,xsrf:dw(Yb.xsrf)}),t="".concat(nT),[4,this.networkRequestService.instance.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.deleteMention=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t=vw({globalPadId:this.globalPadId,mentions:JSON.stringify(e),xsrf:dw(Yb.xsrf)}),n="".concat(eT),[4,this.networkRequestService.instance.post(n,t)];case 1:return[2,r.sent()]}}))}))},e.prototype.addMention=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,kr.__generator)(this,(function(o){switch(o.label){case 0:return n=vw({globalPadId:this.globalPadId,mentions:JSON.stringify(e),vfwebqq:t,xsrf:dw(Yb.xsrf)}),r="".concat(XC),[4,this.networkRequestService.instance.post(r,n)];case 1:return[2,o.sent()]}}))}))},e.prototype.mentionReadReport=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return t=vw({globalPadId:this.globalPadId,mentions:JSON.stringify(e),xsrf:dw(Yb.xsrf)}),n="".concat(rT),[4,this.networkRequestService.instance.post(n,t)];case 1:return[2,r.sent()]}}))}))},Object.defineProperty(e.prototype,"globalPadId",{get:function(){var e=this.docMetaDomainService.docMetaEntity.padInfo.padId;return gw(this.docMetaDomainService.docMetaEntity.padInfo.domainId,e)},enumerable:!1,configurable:!0}),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),iT=function(e){function t(t){var n=e.call(this)||this;return n.anchorId="",n.mentionId="",n.mentionType=0,n.notify=0,n.read=!1,n.targetId="",n.sender={},n.mentionedUser={},n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),aT=function(e){function t(t){var n=e.call(this)||this;return n.anchorId="",n.mentionId="",n.mentionType=0,n.notify=0,n.targetId="",n.read=!1,n.mentionFrom={},n.mentionTo={},n.jsonObj2Class(t),n}return(0,kr.__extends)(t,e),t}(Cw),sT="mentions",cT=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.docMetaDomainService=n,o.networkRequestService=r,o.atMeUserList=[],o.atUserList=[],o.onAtUserListUpdatedEmitter=new Ww.Emitter,o.onAtMeUserListUpdatedEmitter=new Ww.Emitter,o.onAtUserListUpdated=o.onAtUserListUpdatedEmitter.event,o.onAtMeUserListUpdated=o.onAtMeUserListUpdatedEmitter.event,o.atMessageRepository=new oT(n,r),o}var n,r,o,i;return(0,kr.__extends)(t,e),t.prototype.getDocMentionList=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.atMessageRepository.getDocMentionList()];case 1:return[2,e.sent()]}}))}))},t.prototype.getMyMentionList=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.atMessageRepository.getMyMentionList()];case 1:return[2,e.sent()]}}))}))},t.prototype.addMention=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return t=fw("vfwebqq")||"",[4,this.atMessageRepository.addMention(e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.deleteMention=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.atMessageRepository.deleteMention(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.clearMentionMarks=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.atMessageRepository.mentionReadReport(e)];case 1:return[2,t.sent()]}}))}))},(0,kr.__decorate)([(n=iT.prototype.constructor,r="atUserList",o="result",i=sT,function(e,t,a){kw.debug("parseArrayDataInObject|".concat(e.constructor.name,"|").concat(t));var s=a.value;a.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,a,c,u=this;return(0,kr.__generator)(this,(function(l){switch(l.label){case 0:return[4,s.apply(this,e)];case 1:return(t=l.sent()).error?[2,t]:(this.aggregateVersion=this.aggregateVersion+1,null==(a=(null===(c=t.resData.data[o])||void 0===c?void 0:c[i])||[])||a.forEach((function(e){u[r].push(Pw(n,e))})),[2,{resData:(0,kr.__assign)((0,kr.__assign)({},t.resData),{data:this[r]})}])}}))}))}}),Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"getDocMentionList",null),(0,kr.__decorate)([jw(aT.prototype.constructor,"atMeUserList",sT),Uw(),Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"getMyMentionList",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Array]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"addMention",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Array]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"deleteMention",null),(0,kr.__decorate)([Dw(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Array]),(0,kr.__metadata)("design:returntype",Promise)],t.prototype,"clearMentionMarks",null),t=(0,kr.__decorate)([(0,kr.__param)(1,sg),(0,kr.__param)(2,bb),(0,kr.__metadata)("design:paramtypes",[String,Object,Object])],t)}(cE),uT=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.atMessageAggregate=new cT("mainAtMessageAggregate",e,t)}return e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.docMetaDomainService.init(e)];case 1:return t.sent(),[2]}}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,bb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),lT=function(){function e(e,t){this.docMetaDomain=e,this.userInfoDomain=t}return e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return console.log("EnterpriseLikeDomainService ~ init ~ do nothing",e),[2]}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,sb),(0,kr.__metadata)("design:paramtypes",[Object,Object])],e)}(),fT=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/kswps","application/kswpt","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],dT=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","text/csv","text/csv; charset=utf-8","application/vnd.ms-excel.sheet.binary.macroEnabled.12","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/kset","application/ksett"],pT=["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/ksdps","application/ksdpt","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],hT=["text/lrc","text/asp; charset=utf-8","application/x-msdownload","text/richtext; charset=utf-8","text/plain","text/plain; charset=utf-8","text/xml","text/html","text/html; charset=utf-8","text/markdown"],vT=["text/x-c; charset=utf-8","text/x-c; charset=utf-8","text/x-chdr","text/x-asm; charset=utf-8","text/x-java-source; charset=utf-8","text/javascript","text/x-go"],gT=["application/vnd.ms-visio.drawing","application/x-visio","application/vnd.ms-visio.drawing.main+xml"],yT=["application/vnd.pos"];function mT(e){return mT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mT(e)}function _T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==mT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mT(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bT=function(e){return e.Doc="application/vnd.tdocs-apps.doc",e.Sheet="application/vnd.tdocs-apps.sheet",e.Form="application/vnd.tdocs-apps.form",e.Folder="application/vnd.tdocs-apps.folder",e.CollaborationSpace="application/vnd.tdocs-apps.collaboration-space",e.CollaborationSpaceRoot="application/vnd.tdocs-apps.collaboration-space-root",e.SharedFolder="application/vnd.tdocs-apps.shared-folder",e.Share="application/vnd.tdocs-apps.share-folder",e.Slide="application/vnd.tdocs-apps.slide",e.Pdf="application/pdf",e.Aio="application/vnd.tdocs-apps.aio",e.SmartCanvas="application/vnd.tdocs-apps.smartcanvas",e.SmartSheet="application/vnd.tdocs-apps.smartsheet",e.Mind="application/vnd.tdocs-apps.mind",e.FlowChart="application/vnd.tdocs-apps.flowchart",e.Rec="application/vnd.tdocs-apps.rec",e.Word="application/vnd.ms-word",e.Excel="application/vnd.ms-excel",e.Powerpoint="application/vnd.ms-powerpoint",e.Zip="application/zip",e}({}),wT=function(e){return e[e.Doc=0]="Doc",e[e.Sheet=1]="Sheet",e[e.Form=2]="Form",e[e.Folder=3]="Folder",e[e.Slide=4]="Slide",e[e.Pdf=6]="Pdf",e[e.Aio=7]="Aio",e[e.SmartCanvas=8]="SmartCanvas",e[e.Unknown=10]="Unknown",e[e.SmartSheet=9]="SmartSheet",e[e.Mind=90]="Mind",e[e.Flowchart=91]="Flowchart",e[e.FlowChart=91]="FlowChart",e[e.Drive=101]="Drive",e[e.Rec=102]="Rec",e}({}),ET=function(e){return e.Doc="doc",e.Sheet="sheet",e.Slide="slide",e.Form="form",e.Pdf="pdf",e.Mind="mind",e.FlowChart="flowchart",e.Aio="Aio",e.Folder="folder",e.SmartCanvas="smartcanvas",e.SmartSheet="smartsheet",e.Drive="drive",e.Rec="rec",e}({});_T(PC={},wT.Doc,bT.Doc),_T(PC,wT.Sheet,bT.Sheet),_T(PC,wT.Slide,bT.Slide),_T(PC,wT.Form,bT.Form),_T(PC,wT.SmartCanvas,bT.SmartCanvas),_T(PC,wT.Mind,bT.Mind),_T(PC,wT.FlowChart,bT.FlowChart),_T(PC,wT.Rec,bT.Rec),_T(PC,wT.Pdf,bT.Pdf),_T(PC,wT.Aio,bT.Aio),wT.Doc,wT.Sheet,wT.Slide,bT.Form,wT.Form,bT.SmartCanvas,wT.SmartCanvas,bT.SmartSheet,wT.SmartSheet,bT.Doc,wT.Doc,bT.Sheet,wT.Sheet,bT.Slide,wT.Slide,bT.Mind,wT.Mind,bT.FlowChart,wT.FlowChart,wT.Doc,wT.Doc,bT.Pdf,wT.Pdf,wT.FlowChart,wT.Mind,bT.Folder,wT.Folder,_T(NC={},ET.Doc,bT.Word),_T(NC,ET.Sheet,bT.Excel),_T(NC,ET.Slide,bT.Powerpoint),_T(LC={},ET.Doc,bT.Doc),_T(LC,ET.Sheet,bT.Sheet),_T(LC,ET.Slide,bT.Slide),_T(LC,ET.Form,bT.Form),_T(LC,ET.SmartCanvas,bT.SmartCanvas),_T(LC,ET.Mind,bT.Mind),_T(LC,ET.FlowChart,bT.FlowChart),_T(LC,ET.Pdf,bT.Pdf),_T(LC,ET.Aio,bT.Aio),ET.Drive,ET.Drive,ET.Drive,bT.Form,ET.Form,bT.SmartCanvas,ET.SmartCanvas,bT.SmartSheet,ET.SmartSheet,bT.Doc,ET.Doc,bT.Sheet,ET.Sheet,bT.Slide,ET.Slide,bT.Mind,ET.Mind,bT.FlowChart,ET.FlowChart,ET.Drive,ET.Drive,bT.Pdf,ET.Pdf,ET.FlowChart,ET.Mind,ET.Drive,ET.Drive,ET.Drive,bT.Rec,ET.Rec;(()=>{const e="undefined"==typeof document?null:document.createElement("a")})();var ST,OT,IT,RT,CT;!function(e){e[e.error=-1]="error",e[e.owner=0]="owner",e[e.writer=1]="writer",e[e.reader=2]="reader"}(ST||(ST={})),function(e){e.CLIENT="client",e.MOBILE="mobile",e.WECHAT="wechat",e.BROWSER="browser",e.OTHER="other"}(OT||(OT={})),function(e){e.ANDROID="android",e.iOS="iOS",e.WIN="win",e.MAC="mac",e.OTHER="other"}(IT||(IT={})),function(e){e.tab_timeline="tab-timeline",e.tab_all="tab-all",e.detail="detail",e.setting_auth="setting-auth",e.template="template",e.error="error",e.activities="activities",e.login="login",e.member="member",e.tab_container="tab-container",e.tab_icon="tab-icon",e.m_setting_auth="m-setting-auth",e.m_detail_menu="m-detail-menu",e.m_tab_all_menu="m-tab-all-menu",e.m_activities="m- activities",e.m_member="m-member",e.m_form_app="m-form-app",e.m_gourp_form_app="m-gourp-form-app",e.m_tab_timeline="m-tab-timeline",e.m_tab_all="m-tab-all",e.m_group_doc="m-group-doc"}(RT||(RT={})),function(e){e.Doc="doc",e.Sheet="sheet",e.Slide="slide",e.Form="form",e.Pdf="pdf",e.Board="board",e.Mind="mind",e.FlowChart="flowchart",e.Aio="Aio",e.Folder="folder",e.SmartSheet="smartsheet",e.Drive="drive"}(CT||(CT={}));const TT=(rg.default.default||rg.default).getInstance(),xT=TT.getConfig('npm["@tencent/tencent-doc-report"]')||{},AT=(location.host,xT.SDK_BUNDLE_URL||"https://docs.gtimg.com/alloy-report-sdk/latest/v4/alloyreport.sdk.js"),kT=xT.ENT_SDK_BUNDLE_URL||"https://res.wx.qq.com/d/alloy-report-sdk/latest/v4/alloyreport.sdk.js";xT.docrpWeixinOrigin;const DT=xT.wecomMainHost||"doc.weixin.qq.com",MT=xT.wecomAddonHost||"wecom-addon.tencentsuite.com";xT.cookieDomain;xT.reportIdqqimgOrigin,xT.reportIdqqimgHost,xT.reportUrlOrigin,xT.reportUrlHost,xT.reportHuatuoOrigin,xT.beaconOrigin,xT.tencentDocCdnGoOrigin,xT.qqwebQQHost,xT.qunQQHost,xT.interceptorIgnoreUrls,TT.getConfig("runtime.apiRoot"),TT.getConfig("domain"),TT.getConfig("domain"),TT.getConfig("runtime.domainName");const PT=[DT,MT],NT=function(){const e=PT.includes("undefined"!=typeof location&&location.origin.split("//")[1]||"");return()=>e}();new class{get domain(){var e,t,n,r;return(null===(t=null===(e=window.AppConfig)||void 0===e?void 0:e.normal)||void 0===t?void 0:t.domain)||(null===(r=null===(n=window.AppConfig)||void 0===n?void 0:n.normal)||void 0===r?void 0:r.instance)||location.host}get tenant(){var e,t,n,r;return(null===(e=window.clientVars)||void 0===e?void 0:e.creatorCorpId)?NT()?`${null===(t=window.clientVars)||void 0===t?void 0:t.creatorCorpId}`:`${null===(n=window.clientVars)||void 0===n?void 0:n.creatorCorpName}:${null===(r=window.clientVars)||void 0===r?void 0:r.creatorCorpId}`:""}get client(){var e,t,n;return null!==(n=null===(t=null===(e=window.AppConfig)||void 0===e?void 0:e.normal)||void 0===t?void 0:t.client)&&void 0!==n?n:""}get platform(){return jg.default.isIPhone?"iPhone":jg.default.isIPad?"iPad":jg.default.isAndroidPad?"androidPad":jg.default.isAndroidPhone?"androidPhone":jg.default.isMac?"mac":jg.default.isWindows?"windows":"other"}get source(){const e=[[jg.default.isWxMiniProgram,"wxMiniProgram"],[jg.default.isQQMiniProgram,"qqMiniProgram"],[jg.default.isWxWork,"wxWork"],[jg.default.isChrome,"chrome"],[jg.default.isSafari,"safari"],[jg.default.isFirefox,"firefox"],[jg.default.isChromiumEdge,"chromiumEdge"],[jg.default.isQQBrowser,"qqBrowser"],[jg.default.isTencentDocsApp,"tencentDocsApp"],[jg.default.isPCTencentDocsClient,"pcTencentDocsClient"],[jg.default.isWeiYunApp,"weiYunApp"],[jg.default.isElectronTencentDocsClient,"electronTencentDocsClient"],[jg.default.isWeChat,"weChat"],[jg.default.isQQ,"qq"],[jg.default.isTim,"tim"],[jg.default.isWindowsUWP,"windowsUwp"]];for(let t=0;t<e.length;t++)if(e[t][0])return e[t][1];return""}get env(){var e;return null===(e=window.__DWS_INFO__)||void 0===e?void 0:e.curEnvId}};const LT="undefined"!=typeof window&&window&&window.navigator?window:null,jT=UT()?qq||wx:null;function UT(){return"object"==typeof qq&&qq.canIUse?qq.canIUse("request"):!("object"!=typeof wx||!wx.canIUse)&&wx.canIUse("request")}LT&&LT.localStorage&&"function"==typeof LT.localStorage.getItem||!UT()||jT.getStorage;const FT=()=>"undefined"!=typeof document;if(FT()){const e=jg.default.getWxWorkVersion();e&&jg.default.isWxWorkQt}const BT="@tencent-tencent-doc-report";function qT(e){const t=new Set;return JSON.stringify(e,((e,n)=>{if(function(e){return function(e,t){return Object.prototype.toString.call(t)===`[object ${e}]`}("Object",e)}(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return n}))}function WT(e){return"className"in e}function VT(e,t){var n,r;try{if(null===(n=window.TencentDocReport)||void 0===n?void 0:n.tencentDocReportSDK)return void(null===(r=window.TencentDocReport)||void 0===r||r.tencentDocReportSDK[e].apply(null,t));GT({functionName:e,argsStringified:qT(t)})}catch(o){console.error(o)}}function GT(e){var t;window.tencentDocReportBuffers=null!==(t=window.tencentDocReportBuffers)&&void 0!==t?t:[],window.tencentDocReportBuffers.push(e)}function HT(){window.tencentDocReportBuffers=[],delete window.tencentDocReportBuffers}function KT(...e){VT("tdw",e)}function QT(...e){VT("tdwSingle",e)}FT()&&function(e){var t;(null===(t=window.TencentDocReport)||void 0===t?void 0:t.tencentDocReportInjected)||(window.TencentDocReport||(window.TencentDocReport={tencentDocReportBundleURL:e,tencentDocReportInjected:!1}),function(e){return new Promise((t=>{const n=document.createElement("script");n.async=!0,n.src=e,n.id=BT,n.crossOrigin="anonymous",n.setAttribute("retry-when-error","true"),n.onload=()=>{var e;t(null===(e=window.TencentDocReport)||void 0===e?void 0:e.tencentDocReportSDK)},window.TencentDocReport||(window.TencentDocReport={}),window.TencentDocReport.tencentDocReportInjected||(window.TencentDocReport.tencentDocReportInjected=!0,window.tencentDocReportInjected=!0,(document.head||document.body).appendChild(n))}))}(e).then((()=>{var e,t,n,r,o;if(window.tencentDocReportBuffers)for(const i of window.tencentDocReportBuffers)WT(i)?(null===(t=null===(e=window.TencentDocReport)||void 0===e?void 0:e.tencentDocReportSDK)||void 0===t?void 0:t[i.className][i.methodName]).apply(null,JSON.parse(i.argsStringified)):null===(o=null===(r=null===(n=window.TencentDocReport)||void 0===n?void 0:n.tencentDocReportSDK)||void 0===r?void 0:r[i.functionName])||void 0===o||o.apply(null,JSON.parse(i.argsStringified))})).then((()=>{HT()})).catch((()=>{HT()})))}(NT()?kT:AT);var YT,ZT,zT,$T,JT,XT;!function(e){e.NO_VIP_USER="novip_user",e.VIP_USER="vip_user",e.SUPER_VIP_USER="svip_user"}(YT||(YT={})),function(e){e.OPERATION_NAME="doc_vip_like",e.MODULE="switch"}(ZT||(ZT={})),function(e){e.ON="on",e.OFF="off"}(zT||(zT={})),function(e){e.PC_TITLEBAR="pc_titlebar",e.MOBILE_TITLEBAR="mobile_titlebar"}($T||($T={})),function(e){e.DOC_VIP_LIKE_SWITCH_ON="doc_vip_like-switch-on",e.DOC_VIP_LIKE_SWITCH_OFF="doc_vip_like-switch-off"}(JT||(JT={})),function(e){e[e.VIP_OFF=1]="VIP_OFF",e[e.VIP_ON=2]="VIP_ON"}(XT||(XT={}));var ex=new jg.UserAgent,tx=function(e){return"".concat(e).concat(~e.indexOf("?")?"&":"?","xsrf=").concat(dw(Yb.xsrf))},nx=function(){function e(e,t,n){this.docMetaDomain=e,this.userInfoDomainService=t,this.accountDomainService=n}return e.prototype.like=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,kr.__generator)(this,(function(r){return n={file_id:e,icon_id:t},[2,Qc.networkRequest.post(tx("/cgi-bin/like/like"),n)]}))}))},e.prototype.getLikeIconList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t={offset:0,limit:100},e&&(t={offset:0,limit:100,file_id:e}),[2,Qc.networkRequest.post(tx("/cgi-bin/like/icon/list"),t)]}))}))},e.prototype.setLikeEnable=function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a;return(0,kr.__generator)(this,(function(s){return n=this.accountDomainService.accountAggregate.vipInfo,r=n.vip,o=n.svip,i=o.status===XT.VIP_ON?YT.SUPER_VIP_USER:YT.VIP_USER,QT({opername:ZT.OPERATION_NAME,module:ZT.MODULE,action:t?zT.ON:zT.OFF,eventcode:t?JT.DOC_VIP_LIKE_SWITCH_ON:JT.DOC_VIP_LIKE_SWITCH_OFF,ver5:r.status===XT.VIP_ON?i:YT.NO_VIP_USER,ver8:ex.isPC?$T.PC_TITLEBAR:$T.MOBILE_TITLEBAR}),a={enable:t,file_id:e},[2,Qc.networkRequest.post(tx("/cgi-bin/like/enable/set"),a)]}))}))},e.prototype.isBanned=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t={file_id:e},[2,Qc.networkRequest.post(tx("/cgi-bin/like/disabled"),t)]}))}))},e.prototype.getLikeRecordCount=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,kr.__generator)(this,(function(n){return t={file_id:e},[2,Qc.networkRequest.post(tx("/cgi-bin/like/record/count"),t)]}))}))},e.prototype.getLikeRecordList=function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var r;return(0,kr.__generator)(this,(function(o){return r={file_id:e,start_record_id:t,limit:n,is_desc:!0},[2,Qc.networkRequest.post(tx("/cgi-bin/like/record/list"),r)]}))}))},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,sb),(0,kr.__param)(2,vg),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],e)}(),rx=function(){function e(){}return e.prototype.getOwnerVipLevel=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,Qc.networkRequest.post("/api/personalize/owner/viplevel",{file_id:e})]}))}))},e}(),ox=function(){function e(e,t,n){this.docMetaDomain=e,this.userInfoDomain=t,this.accountDomainService=n,this.likeRepo=new nx(e,t,n),this.ownerVipRepo=new rx,this.onLikeDataChangedEmitter=new Ww.Emitter,this.onLikeDataChangedEvent=this.onLikeDataChangedEmitter.event}return e.prototype.init=function(e){this.fileId=e.fileId,this.ownerId=e.ownerId,this.tinyId=e.tinyId},e.prototype.initWithBasicClientVars=function(e){var t,n,r,o,i,a,s;this.fileId=null!==(r=null===(n=null===(t=e.docInfo)||void 0===t?void 0:t.padInfo)||void 0===n?void 0:n.padId)&&void 0!==r?r:"",this.ownerId=null!==(a=null===(i=null===(o=e.docInfo)||void 0===o?void 0:o.ownerInfo)||void 0===i?void 0:i.ownerId)&&void 0!==a?a:"",this.tinyId=null!==(s=e.userInfo.tinyId)&&void 0!==s?s:""},Object.defineProperty(e.prototype,"onLikeDataChanged",{get:function(){return this.onLikeDataChangedEvent},enumerable:!1,configurable:!0}),e.prototype.like=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.likeRepo.like(this.fileId,e)]}))}))},e.prototype.getLikeIconList=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){return[2,this.likeRepo.getLikeIconList(e)]}))}))},e.prototype.getLikeRecordCount=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(e){return[2,this.likeRepo.getLikeRecordCount(this.fileId)]}))}))},e.prototype.getLikeRecordList=function(){return(0,kr.__awaiter)(this,arguments,void 0,(function(e,t){return void 0===e&&(e=-1),void 0===t&&(t=50),(0,kr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.likeRepo.getLikeRecordList(this.fileId,e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.handleRealTimeLikeMessage=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t=this;return(0,kr.__generator)(this,(function(n){return e.forEach((function(e){return(0,kr.__awaiter)(t,void 0,void 0,(function(){var t,n,r;return(0,kr.__generator)(this,(function(o){return t=e.body.notice,n=t.type,r=t.payload,"like"!==n?[2,console.error("unknown like domain ws message type:",n)]:(this.onLikeDataChangedEmitter.fire({newCount:r.count,newRecord:JSON.parse(r.like_record)}),[2])}))}))})),[2]}))}))},e.prototype.setLikeEnable=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.likeRepo.setLikeEnable(this.fileId,e)];case 1:if(t=r.sent(),0!==(null===(n=t.data)||void 0===n?void 0:n.retcode))throw Error("/cgi-bin/like/enable/set Request failed");return[2,t.data.result]}}))}))},e.prototype.isLikeEnable=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.isBannedByFile()];case 1:return t.sent()?[2,!1]:this.isInOwnerIdTailHash(e)?[2,!0]:[2,this.isVipDoc()]}}))}))},e.prototype.isBannedByFile=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.likeRepo.isBanned(this.fileId)];case 1:return e=r.sent(),[2,null!==(n=null===(t=e.data.result)||void 0===t?void 0:t.is_disabled)&&void 0!==n&&n];case 2:return r.sent(),[2,!0];case 3:return[2]}}))}))},e.prototype.isVipDoc=function(){return(0,kr.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,kr.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.ownerVipRepo.getOwnerVipLevel(this.fileId)];case 1:return e=r.sent(),(null===(t=e.data.result)||void 0===t?void 0:t.vip_level)?[2,(null===(n=e.data.result)||void 0===n?void 0:n.vip_level)>1]:[3,3];case 2:return r.sent(),[3,3];case 3:return[2,!1]}}))}))},e.prototype.isInOwnerIdTailHash=function(e){return!(!e||!this.ownerId)&&parseInt(this.ownerId.slice(-2),10)%100<e},e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,sb),(0,kr.__param)(2,vg),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],e)}(),ix=function(){function e(e,t,n){var r;if(this.docMetaDomain=e,this.userInfoDomain=t,this.accountDomainService=n,this.likeEntity=new ox(e,t,n),window.basicClientVars)this.likeEntity.initWithBasicClientVars(window.basicClientVars);else{var o=null!==(r=location.pathname.split("/"))&&void 0!==r?r:[],i=o[1],a=o[2];if(void 0!==Ba[i]&&a){var s={docId:a,u:Qb("u")};this.init(s)}}}return e.prototype.init=function(e){return(0,kr.__awaiter)(this,void 0,void 0,(function(){return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:return[4,Promise.all([this.docMetaDomain.init(e),this.userInfoDomain.init(e)])];case 1:return t.sent(),this.likeEntity.init({fileId:this.docMetaDomain.docMetaEntity.padInfo.padId,ownerId:this.docMetaDomain.docMetaEntity.ownerInfo.ownerId,tinyId:this.userInfoDomain.userInfoAggregate.userInfo.tinyid}),[2]}}))}))},(0,kr.__decorate)([rE(),(0,kr.__metadata)("design:type",Function),(0,kr.__metadata)("design:paramtypes",[Object]),(0,kr.__metadata)("design:returntype",Promise)],e.prototype,"init",null),e=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,sb),(0,kr.__param)(2,vg),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object])],e)}(),ax=(o(21342),o(70724),o(56122),o(11838),o(65365),o(61385)),sx=o.n(ax);o(72940),o(97630),o(89389),o(88988),o(98506);if("performance"in window||(window.performance={}),Date.now=Date.now||function(){return Date.now()},!("now"in window.performance)){var cx=Date.now();performance.timing&&performance.timing.navigationStart&&(cx=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-cx}}function ux(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var lx=function(e){(0,c.Z)(n,e);var t=ux(n);function n(e){(0,r.Z)(this,n);var o="(Extension Error) ".concat(e);return t.call(this,o)}return(0,a.Z)(n)}(eg(Error)),fx="ark_extension_function_cost",dx="ark_extension_function_error",px="ark_extension_load_cost",hx="ark_extension_load_fail",vx=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"loadCost",value:function(e){var t=new CustomEvent(px,{detail:e});window.dispatchEvent(t)}},{key:"functionCallCost",value:function(e){var t=new CustomEvent(fx,{detail:e});window.dispatchEvent(t)}},{key:"functionCallError",value:function(e){var t=new CustomEvent(dx,{detail:e});window.dispatchEvent(t)}},{key:"loadFail",value:function(e){var t=new CustomEvent(hx,{detail:e});window.dispatchEvent(t)}}]),e}();function gx(e,t,r){return"object"!==(0,n.Z)(e)?e:new Proxy(e,{get:function(e,n){var o=e[n];return o instanceof Function?function(){for(var e=performance.now(),i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var c=o.call.apply(o,[this].concat(a));return c instanceof Promise&&(c.finally((function(){var o=performance.now()-e;vx.functionCallCost({module:t,function:n,cost:o,url:r,start:e})})),c.catch((function(o){var i=performance.now()-e;vx.functionCallError({module:t,function:n,cost:i,url:r,error:o,start:e})}))),c}:o}})}var yx,mx,_x,bx=(0,ju.yh)("IMetadataLoader"),Ex=function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}(),Sx=function(){function e(){this.first=Ex.Undefined,this.last=Ex.Undefined,this.mSize=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.first===Ex.Undefined},e.prototype.clear=function(){this.first=Ex.Undefined,this.last=Ex.Undefined,this.mSize=0},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.shift=function(){if(this.first!==Ex.Undefined){var e=this.first.element;return this.remove(this.first),e}},e.prototype.pop=function(){if(this.last!==Ex.Undefined){var e=this.last.element;return this.remove(this.last),e}},e.prototype[Symbol.iterator]=function(){var e;return(0,kr.__generator)(this,(function(t){switch(t.label){case 0:e=this.first,t.label=1;case 1:return e===Ex.Undefined?[3,3]:[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))},e.prototype.insert=function(e,t){var n=this,r=new Ex(e);if(this.first===Ex.Undefined)this.first=r,this.last=r;else if(t){var o=this.last;this.last=r,r.prev=o,o.next=r}else{var i=this.first;this.first=r,r.next=i,i.prev=r}this.mSize+=1;var a=!1;return function(){a||(a=!0,n.remove(r))}},e.prototype.remove=function(e){if(e.prev!==Ex.Undefined&&e.next!==Ex.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Ex.Undefined&&e.next===Ex.Undefined?(this.first=Ex.Undefined,this.last=Ex.Undefined):e.next===Ex.Undefined?(this.last=this.last.prev,this.last.next=Ex.Undefined):e.prev===Ex.Undefined&&(this.first=this.first.next,this.first.prev=Ex.Undefined);this.mSize-=1},e}(),Ox=function(){function e(e){this.disposed=!1,this.options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this.mEvent||(this.mEvent=function(t,n,r){var o,i,a;e.listeners||(e.listeners=new Sx);var s=e.listeners.isEmpty();s&&(null===(o=e.options)||void 0===o?void 0:o.onFirstListenerAdd)&&e.options.onFirstListenerAdd(e);var c=e.listeners.push(n?[t,n]:t);s&&(null===(i=e.options)||void 0===i?void 0:i.onFirstListenerDidAdd)&&e.options.onFirstListenerDidAdd(e),(null===(a=e.options)||void 0===a?void 0:a.onListenerDidAdd)&&e.options.onListenerDidAdd(e,t,n);var u={dispose:function(){var t;e.disposed||(c(),(null===(t=e.options)||void 0===t?void 0:t.onLastListenerRemove)&&(e.listeners&&!e.listeners.isEmpty()||e.options.onLastListenerRemove(e)));(0,Ar.markTracked)(u)},disposableId:"event"};return Array.isArray(r)&&r.push(u),(0,Ar.trackDisposable)(u),u}),this.mEvent},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new Sx);try{for(var r=(0,kr.__values)(this.listeners),o=r.next();!o.done;o=r.next()){var i=o.value;this.deliveryQueue.push([i,e])}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}for(;this.deliveryQueue.size>0;){var a=(0,kr.__read)(this.deliveryQueue.shift(),2),s=(i=a[0],a[1]);try{"function"==typeof i?i.call(void 0,s):i[0].call(i[1],s)}catch(u){console.error(u)}}}},e.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},e}();!function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.ERROR="ERROR"}(yx||(yx={})),function(e){e[e.IDLE=1]="IDLE",e[e.ON_DEMAND=3]="ON_DEMAND",e[e.EAGER=7]="EAGER"}(mx||(mx={})),function(e){e.WAITING="waiting",e.LOADING="loading",e.ERROR="error",e.SUCCESS="success"}(_x||(_x={}));var Ix=function(){function e(){(0,r.Z)(this,e),this.loadCache=new Map,this.retryCountMap=new Map}return(0,a.Z)(e,[{key:"loadScript",value:function(e,t,n,r){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function o(){var i;return gs().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=this.loadCache.get(t)){o.next=7;break}return this.setRetryCount(e,n),o.next=5,this.defferedLoadModule(e,t,r);case 5:i=o.sent,this.loadCache.set(t,i);case 7:return o.abrupt("return",i);case 8:case"end":return o.stop()}}),o,this)})))}},{key:"setRetryCount",value:function(e,t){this.retryCountMap.set(e,t)}},{key:"defferedLoadModule",value:function(e,t,n){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function r(){var o=this;return gs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,i){var a={entryName:e,scriptUrl:t,isCss:n,curRetryCount:1,succCallback:r,failedCallback:i};o.loadInBrowser(a)})));case 1:case"end":return r.stop()}}),r)})))}},{key:"loadInBrowser",value:function(e){var t=this,n=e.entryName,r=e.scriptUrl,i=e.isCss,a=e.curRetryCount,s=e.succCallback,c=e.failedCallback,u=performance.now(),l=(i?this.buildLinkTag:this.buildScriptTag)(r,(function(){var e=performance.now()-u;vx.loadCost({module:n,url:r,cost:e,start:u});var t=o.g[n];(null==t?void 0:t.default)?s(t.default):s(null!=t?t:{})}),(function(){var e=t.retryCountMap.get(n)||0,o=performance.now()-u;if(vx.loadFail({module:n,url:r,info:"retryCount:".concat(e),cost:o,start:u}),a>e)c("failed to load module [".concat(n,"] after [").concat(a-1,"] retry times."));else{l.parentElement&&document.head.removeChild(l);var f={entryName:n,scriptUrl:r,isCss:i,curRetryCount:a+1,succCallback:s,failedCallback:c};t.loadInBrowser(f)}}));document.head.appendChild(l)}},{key:"buildLinkTag",value:function(e,t,n){var r=document.createElement("link");return r.rel="stylesheet",r.href=e,r.onload=t,r.onerror=n,r}},{key:"buildScriptTag",value:function(e,t,n){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.async=!1,r.crossOrigin="anonymous",r.onload=t,r.onerror=n,r}}]),e}(),Rx=new Ix,Cx=function(){function e(t,n,o){var i,a;(0,r.Z)(this,e),this.hookEmitter=new Ox,this.loadState=_x.WAITING,this.entryName=t,this.resourceUrl=n,this.options=o,this.retryTimes=null!==(i=null==o?void 0:o.retryTimes)&&void 0!==i?i:e.defaultRetryTimes,this.isCss=null!==(a=null==o?void 0:o.isCss)&&void 0!==a&&a,this.setupHooks()}return(0,a.Z)(e,[{key:"loadModule",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadState=_x.LOADING,this.hookEmitter.fire(yx.LOADING),t.prev=2,t.next=5,e.scriptLoader.loadScript(this.entryName,this.resourceUrl,this.retryTimes,this.isCss);case 5:return n=t.sent,this.loadState=_x.SUCCESS,this.hookEmitter.fire(yx.LOADED),t.abrupt("return",n);case 11:throw t.prev=11,t.t0=t.catch(2),this.loadState=_x.ERROR,this.hookEmitter.fire(yx.ERROR),new lx(t.t0.message);case 16:case"end":return t.stop()}}),t,this,[[2,11]])})))}},{key:"setupHooks",value:function(){var e=this;this.hookEmitter.event((function(t){var n,r,o=null===(r=null===(n=e.options)||void 0===n?void 0:n.hooks)||void 0===r?void 0:r[t];o&&o()}))}}]),e}();function Tx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}Cx.defaultRetryTimes=2,Cx.scriptLoader=Rx;var xx=function(e){(0,c.Z)(n,e);var t=Tx(n);function n(e,o,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e,o,i)).deferredModule=a.loadModule(),a}return(0,a.Z)(n,[{key:"getModule",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.deferredModule);case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(Cx),Ax=function(){function e(t){(0,r.Z)(this,e),this.url=t}return(0,a.Z)(e,[{key:"bootstrap",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loader=new xx(this.url,this.url),e.next=3,this.loader.getModule();case 3:case"end":return e.stop()}}),e,this)})))}}]),e}(),kx=function(){function e(t,n){(0,r.Z)(this,e),this.name=t,this.cdnPrefix=n}return(0,a.Z)(e,[{key:"bootstrap",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="".concat(this.cdnPrefix.replace(/\/*$/,"/")).concat(this.name),e.loadRecords.has(n)){t.next=6;break}return this.loader=new xx(this.name,n,{isCss:!0}),t.next=5,this.loader.getModule();case 5:e.loadRecords.add(n);case 6:case"end":return t.stop()}}),t,this)})))}}]),e}();kx.loadRecords=new Set;var Dx=function(){function e(){var t=this;(0,r.Z)(this,e),this.isInnerOpen=!1,this.innerPromise=new Promise((function(e){t.completePromise=e}))}return(0,a.Z)(e,[{key:"isOpen",value:function(){return this.isInnerOpen}},{key:"open",value:function(){this.isInnerOpen=!0,this.completePromise(!0)}},{key:"wait",value:function(){return this.innerPromise}}]),e}();function Mx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var Px=function(e){(0,c.Z)(n,e);var t=Mx(n);function n(e,o,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e,o,i)).schedulerHandler=ng.scheduler,a.scheduleCallbackTask=a.loadWhenIdle(),a}return(0,a.Z)(n,[{key:"getModule",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loadState!==_x.WAITING&&this.loadState!==_x.ERROR){e.next=4;break}return this.schedulerHandler.cancelTask(this.scheduleCallbackTask),this.deferredModule=this.loadModule(),e.abrupt("return",this.deferredModule);case 4:return e.abrupt("return",this.deferredModule);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"loadWhenIdle",value:function(){var e=this;return this.schedulerHandler.scheduleTask((function(){e.deferredModule=e.loadModule()}))}}]),n}(Cx);function Nx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var Lx,jx=function(e){(0,c.Z)(n,e);var t=Nx(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"getModule",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.deferredModule=this.loadModule(),e.abrupt("return",this.deferredModule);case 2:case"end":return e.stop()}}),e,this)})))}}]),n}(Cx),Ux=(Lx={},(0,f.Z)(Lx,mx.ON_DEMAND,jx),(0,f.Z)(Lx,mx.IDLE,Px),(0,f.Z)(Lx,mx.EAGER,xx),Lx),Fx=function(){function e(t,n,o,i){(0,r.Z)(this,e),this.name=t,this.url=n,this.surpportLanguages=o,this.language=i,this.loadTypeMap=new Map}return(0,a.Z)(e,[{key:"bootstrap",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=null!==(e=this.loadTypeMap.get(t))&&void 0!==e?e:mx.IDLE;this.loader=this.createLoader(n)}},{key:"addLoadType",value:function(e,t){this.loadTypeMap.set(null!=e?e:"",t)}},{key:"getInstance",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loader||this.bootstrap(),this.loader.loadState!==_x.ERROR){e.next=3;break}throw new lx("load extension [".concat(this.name,"] error."));case 3:return e.next=5,this.waitSingletonInstance();case 5:return e.abrupt("return",this.instance);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"waitSingletonInstance",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.instance){e.next=2;break}return e.abrupt("return");case 2:if(!this.barrier){e.next=7;break}return e.next=5,this.barrier.wait();case 5:e.next=17;break;case 7:return this.barrier=new Dx,e.next=10,this.loader.getModule();case 10:if("function"==typeof(t=e.sent)){e.next=14;break}throw vx.loadFail({cost:-1,module:this.name,url:this.url,info:"constructor type: ".concat((0,n.Z)(t))}),new lx("something went wrong in ".concat(this.name,"'s constructor."));case 14:this.instance=gx(new t,this.name,this.url),this.instance.bootstraped=!1,this.barrier.open();case 17:case"end":return e.stop()}}),e,this)})))}},{key:"dealUrlForMultLanguage",value:function(e){var t,n=Array.isArray(e)?null==e?void 0:e[0]:e,r=null==n?void 0:n.lastIndexOf(".js");return-1===r||(null===(t=this.surpportLanguages)||void 0===t?void 0:t.includes(this.language))&&(n="".concat(n.slice(0,r),".").concat(this.language,".js")),n}},{key:"createLoader",value:function(e){return new(0,Ux[e])(this.name,this.dealUrlForMultLanguage(this.url))}}]),e}(),Bx=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"bootstrap",value:function(){throw new lx("genesis dependency node should not be called")}}]),e}();Bx.nodeName="GENESIS_DEPENDENCY_NODE";var qx=og.getConfig('npm["@tencent/ark-extensions"]'),Wx=(null==qx?void 0:qx.React)||"//docs.idqqimg.com/tim/docs/components/libs/react-common-16.13.1-2bf240.js",Vx=(null==qx?void 0:qx.ReactDOM)||"//docs.idqqimg.com/tim/docs/components/libs/react-common-16.13.1-2bf240.js",Gx=(null==qx?void 0:qx.DEFAULT_COMPONENT_CDN_PREFIX)||"//docs.gtimg.com/docs_components",Hx={React:Wx,ReactDOM:Vx},Kx=function(){function e(t){(0,r.Z)(this,e),this.name=t}return(0,a.Z)(e,[{key:"bootstrap",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Hx[this.name]){e.next=3;break}throw new lx("common lib [".concat(this.name,"] is illegal because it's not in white list."));case 3:if(void 0!==window[this.name]){e.next=7;break}return this.loader=new xx(this.name,t),e.next=7,this.loader.getModule();case 7:case"end":return e.stop()}}),e,this)})))}}]),e}(),Qx=function(){function e(t,n){(0,r.Z)(this,e),this.name=t,this.cdnPrefix=n}return(0,a.Z)(e,[{key:"bootstrap",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="".concat(this.cdnPrefix.replace(/\/*$/,"/")).concat(this.name),e.loadRecords.has(n)){t.next=6;break}return this.loader=new xx(this.name,n),t.next=5,this.loader.getModule();case 5:e.loadRecords.add(n);case 6:case"end":return t.stop()}}),t,this)})))}}]),e}();Qx.loadRecords=new Set;var Yx=function(){function e(t){(0,r.Z)(this,e),this.metadataLoader=t,this.createDepGraph()}return(0,a.Z)(e,[{key:"addExtensionConfig",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.metadataRecord){t.next=4;break}return t.next=3,this.metadataLoader.getMetadataRecord();case 3:this.metadataRecord=t.sent;case 4:this.language=this.metadataLoader.getLanguage(),this.addDepNodeByConfig(e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"addExtensionDescription",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){var n,r,o;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.metadataRecord){t.next=4;break}return t.next=3,this.metadataLoader.getMetadataRecord();case 3:this.metadataRecord=t.sent;case 4:return n=e.name,r=e.loadType,(o=this.addExtensionDependencyNode(n,r)).bootstrap(),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"getInstance",value:function(e){return(0,kr.__awaiter)(this,arguments,void 0,(function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bx.nodeName;return gs().mark((function r(){var o,i,a,s,c,u,l,f,d,p,h,v;return gs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.depGraph.directDependantsOf(e).includes(n)){r.next=4;break}throw vx.loadFail({module:e,url:"",cost:-1,info:"cannot find in metadata"}),new lx("Cannot get ".concat(e," extension in ").concat(n,", please add configuration !"));case 4:c=t.depGraph.getNodeData(e),u=t.depGraph.directDependenciesOf(e),r.prev=6,l=!0,f=(0,kr.__asyncValues)(u);case 8:return r.next=10,f.next();case 10:if(d=r.sent,o=d.done){r.next=22;break}return s=d.value,l=!1,p=s,h=t.depGraph.getNodeData(p),r.next=19,h.bootstrap(e);case 19:l=!0,r.next=8;break;case 22:r.next=27;break;case 24:r.prev=24,r.t0=r.catch(6),i={error:r.t0};case 27:if(r.prev=27,r.prev=28,l||o||!(a=f.return)){r.next=32;break}return r.next=32,a.call(f);case 32:if(r.prev=32,!i){r.next=35;break}throw i.error;case 35:return r.finish(32);case 36:return r.finish(27);case 37:return r.next=39,c.getInstance();case 39:return v=r.sent,r.abrupt("return",v);case 41:case"end":return r.stop()}}),r,null,[[6,24,27,37],[28,,32,36]])}))()}))}},{key:"getDepGraph",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.depGraph);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"createDepGraph",value:function(){this.depGraph=new tg.f;var e=new Bx;this.depGraph.addNode(Bx.nodeName,e)}},{key:"addDepNodeByConfig",value:function(e){var t=this;e.forEach((function(e){var n=e.name,r=e.loadType;try{var o=t.addExtensionDependencyNode(n,r);t.depGraph.addDependency(Bx.nodeName,o.name)}catch(i){console.error(i)}}))}},{key:"addLibraryDependencyNode",value:function(e){var t=new Kx(e);this.depGraph.addNode(e,t)}},{key:"addModulesDependencyNode",value:function(e,t){var n=new Qx(e,t);this.depGraph.addNode(e,n)}},{key:"addCSSDependencyNode",value:function(e,t){var n=new kx(e,t);this.depGraph.addNode(e,n)}},{key:"addChunkDependencyNode",value:function(e){var t=new Ax(e);this.depGraph.addNode(e,t)}},{key:"addExtensionDependencyNode",value:function(e,t,n){var r=this;if(this.depGraph.hasNode(e)){var o=this.depGraph.getNodeData(e);return o.addLoadType(n,t),o}var i=this.metadataRecord[e];if(!i)throw new lx("Cannot find ".concat(e," extension in metadata!"));var a=i.url,s=i.chunks,c=void 0===s?[]:s,u=i.dependencies,l=void 0===u?{}:u,f=i.surpportLanguages,d=void 0===f?[]:f,p=l.commonModules,h=void 0===p?[]:p,v=l.commonLibs,g=void 0===v?[]:v,y=l.extensions,m=void 0===y?[]:y,_=l.css,b=void 0===_?[]:_,w=new Fx(e,a,d,this.language);return w.addLoadType(n,t),this.depGraph.addNode(e,w),c.forEach((function(t){r.addChunkDependencyNode(t),r.depGraph.addDependency(e,t)})),g.forEach((function(t){r.addLibraryDependencyNode(t),r.depGraph.addDependency(e,t)})),h.forEach((function(t){r.addModulesDependencyNode(t,r.metadataLoader.COMPONENT_CDN_PREFIX),r.depGraph.addDependency(e,t)})),b.forEach((function(t){r.addCSSDependencyNode(t,r.metadataLoader.COMPONENT_CDN_PREFIX),r.depGraph.addDependency(e,t)})),m.forEach((function(t){var n;try{var o=null!==(n=mx[t.loadType.toString()])&&void 0!==n?n:mx.ON_DEMAND;r.addExtensionDependencyNode(t.name,o,e),r.depGraph.addDependency(e,t.name)}catch(i){console.error(i)}})),w}}]),e}();Yx=(0,kr.__decorate)([(0,kr.__param)(0,bx),(0,kr.__metadata)("design:paramtypes",[Object])],Yx);var Zx,zx,$x=(0,ju.yh)("IExtensionManager");!function(e){e[e.WINDOW=0]="WINDOW",e[e.DOCUMENT=1]="DOCUMENT",e[e.DOCUMENT_BODY=2]="DOCUMENT_BODY"}(Zx||(Zx={})),function(e){e.RESIZE="resize",e.MOUSE_DOWN="mousedown",e.MOUSE_MOVE="mousemove",e.MOUSE_UP="mouseup",e.KEY_UP="keyup",e.KEY_DOWN="keydown",e.CLICK="click",e.TOUCH_START="touchstart",e.TOUCH_MOVE="touchmove",e.TOUCH_END="touchend",e.POP_STATE="popState",e.VISIBILITY_CHANGE="visibilitychange",e.ONLINE="online",e.OFFLINE="offline",e.MESSAGE="message",e.CUSTOM="custom"}(zx||(zx={}));var Jx=function(){function e(){(0,r.Z)(this,e),this.eventListenerSet=new Set,this.customEventListenerMap=new Map}return(0,a.Z)(e,[{key:"listen",value:function(e){var t=e.type;switch(t){case zx.RESIZE:case zx.MOUSE_DOWN:case zx.MOUSE_MOVE:case zx.MOUSE_UP:case zx.KEY_UP:case zx.KEY_DOWN:case zx.CLICK:case zx.TOUCH_START:case zx.TOUCH_MOVE:case zx.TOUCH_END:case zx.POP_STATE:case zx.VISIBILITY_CHANGE:case zx.ONLINE:case zx.OFFLINE:case zx.MESSAGE:return this.bindEvent(e);case zx.CUSTOM:return this.bindCustomEvent(e);default:throw new lx("[".concat(t,"] event is not supported to use in extensions."))}}},{key:"listenCustomEvent",value:function(e){return this.bindCustomEvent(e),{name:e.name,fire:this.dispatchCustomEvent.bind(this,e.name)}}},{key:"dispatchCustomEvent",value:function(e,t){var n=new CustomEvent(e,{detail:t});this.node.dispatchEvent(n)}},{key:"remove",value:function(e){if(!this.eventListenerSet.has(e))throw new lx("unable to remove [".concat(e.type,"] event which is not in your namespace or not bound."));var t=e.name,n=e.type,r=e.fn,o=e.options;if(n===zx.CUSTOM)return this.node.removeEventListener(t,r,o),void this.customEventListenerMap.delete(t);this.node.removeEventListener(n,r,o),this.eventListenerSet.delete(e)}},{key:"removeAll",value:function(){var e=this;this.eventListenerSet.forEach((function(t){e.remove(t)})),this.customEventListenerMap.forEach((function(t){e.remove(t)}))}},{key:"bindEvent",value:function(e){if(this.eventListenerSet.has(e))throw new lx("duplicated [".concat(e.type,"] event."));var t=e.type,n=e.fn,r=e.options;this.node.addEventListener(t,n,r),this.eventListenerSet.add(e)}},{key:"bindCustomEvent",value:function(e){var t=e.name;if(this.customEventListenerMap.has(t))throw new lx("duplicated [".concat(t,"] event."));var n=t,r=e.fn,o=e.options;this.node.addEventListener(n,r,o),this.customEventListenerMap.set(t,e)}}]),e}();function Xx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var eA=function(e){(0,c.Z)(n,e);var t=Xx(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).node=document.body,e}return(0,a.Z)(n)}(Jx);function tA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var nA=function(e){(0,c.Z)(n,e);var t=tA(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).node=document,e}return(0,a.Z)(n)}(Jx);function rA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var oA=function(e){(0,c.Z)(n,e);var t=rA(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).node=window,e}return(0,a.Z)(n)}(Jx),iA=function(){function e(){(0,r.Z)(this,e),this.initEventManagerPool()}return(0,a.Z)(e,[{key:"addListener",value:function(e){var t=e.target;return this.eventManagerPool[t].listen(e)}},{key:"removeListener",value:function(e){var t=e.target;return this.eventManagerPool[t].remove(e)}},{key:"removeAllListener",value:function(){Object.values(this.eventManagerPool).forEach((function(e){e.removeAll()}))}},{key:"initEventManagerPool",value:function(){var e,t=new oA,n=new nA,r=new eA;this.eventManagerPool=(e={},(0,f.Z)(e,Zx.WINDOW,t),(0,f.Z)(e,Zx.DOCUMENT,n),(0,f.Z)(e,Zx.DOCUMENT_BODY,r),e)}}]),e}(),aA=(0,ju.yh)("IExtensionEvent"),sA=(0,ju.yh)("IExtensionContainerService"),cA=function(){function e(t,n,o,i,a,s,c,u,l,f,d,p,h,v,g,y,m,_,b,w,E,S){(0,r.Z)(this,e),this.docMetaDomain=t,this.userInfoDomain=n,this.authDomain=o,this.fileDomain=i,this.likeDomain=a,this.folderDomain=s,this.templateDomain=c,this.accountDomain=u,this.loginDomain=l,this.notificationDomain=f,this.shareDomain=d,this.messageDomain=p,this.collaborateDomain=h,this.notifyScopeDomain=v,this.atMessageDomain=g,this.fileInfoDomain=y,this.connectionControllerService=m,this.accountApplication=_,this.enterpriseAccountApplication=b,this.docsManagementService=w,this.extensionEvent=E,this.extensionContainerService=S}return(0,a.Z)(e,[{key:"getExtensionService",value:function(e,t){return{getExtension:function(n){return e.safeGetExtension.call(e,n,t)},fireExtensionEvent:e.fireExtensionEvent.bind(e,t)}}},{key:"getDomainService",value:function(){return{docMetaDomain:this.docMetaDomain,userInfoDomain:this.userInfoDomain,authDomain:this.authDomain,fileDomain:this.fileDomain,likeDomain:this.likeDomain,folderDomain:this.folderDomain,templateDomain:this.templateDomain,accountDomain:this.accountDomain,loginDomain:this.loginDomain,notificationDomain:this.notificationDomain,shareDomain:this.shareDomain,messageDomain:this.messageDomain,collaborateDomain:this.collaborateDomain,notifyScopeDomain:this.notifyScopeDomain,atMessageDomain:this.atMessageDomain,fileInfoDomain:this.fileInfoDomain}}},{key:"getApplicationService",value:function(){return{accountApplication:this.accountApplication,enterpriseAccountApplication:this.enterpriseAccountApplication,connectionControllerService:this.connectionControllerService,docsManagementService:this.docsManagementService}}},{key:"getToolService",value:function(){return{networkRequest:Qc.networkRequest,event:this.extensionEvent}}},{key:"getExtensionContainerService",value:function(e){return{createContainerIfUnspecified:this.extensionContainerService.createContainerIfUnspecified.bind(this.extensionContainerService,e),createSandboxContainerIfUnspecified:this.extensionContainerService.createSandboxContainerIfUnspecified.bind(this.extensionContainerService,e)}}}]),e}();cA=(0,kr.__decorate)([(0,kr.__param)(0,sg),(0,kr.__param)(1,sb),(0,kr.__param)(2,cg),(0,kr.__param)(3,cb),(0,kr.__param)(4,lg),(0,kr.__param)(5,ub),(0,kr.__param)(6,lb),(0,kr.__param)(7,vg),(0,kr.__param)(8,yg),(0,kr.__param)(9,fb),(0,kr.__param)(10,db),(0,kr.__param)(11,gg),(0,kr.__param)(12,ug),(0,kr.__param)(13,pb),(0,kr.__param)(14,hb),(0,kr.__param)(15,vb),(0,kr.__param)(16,$y),(0,kr.__param)(17,Z_),(0,kr.__param)(18,z_),(0,kr.__param)(19,ib),(0,kr.__param)(20,aA),(0,kr.__param)(21,sA),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object])],cA);var uA=(0,ju.yh)("IDependentServiceCombinder"),lA=(0,ju.yh)("IExtensionConfigManager"),fA=function(){function e(t,n,o,i){(0,r.Z)(this,e),this.dependentServiceCombinder=t,this.extensionConfigManager=n,this.extensionManager=o,this.domainUpdater=i,this.extensionEventEmitter=new Ox}return(0,a.Z)(e,[{key:"updateDomainWithClientVars",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.domainUpdater.updateDomainWithClientVars(e,t)}},{key:"updateDomainWithRequests",value:function(e,t){this.domainUpdater.updateDomainWithRequests({docId:e,u:t})}},{key:"scanAndHandleExtensions",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.addExtensionConfig(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"addExtensionConfig",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.extensionConfigReadyBarrier){t.next=5;break}return t.next=3,this.extensionConfigReadyBarrier.wait();case 3:t.next=6;break;case 5:this.extensionConfigReadyBarrier=new Dx;case 6:return t.next=8,this.extensionConfigManager.addExtensionConfig(e);case 8:this.extensionConfigReadyBarrier.open();case 9:case"end":return t.stop()}}),t,this)})))}},{key:"addExtensionDescription",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.extensionConfigManager.addExtensionDescription(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"subscribeExtensionEvent",value:function(e){this.extensionEventEmitter.event((function(t){e(t.extensionName,t.type)}))}},{key:"fireExtensionEvent",value:function(e,t){var n={extensionName:e,type:t};this.extensionEventEmitter.fire(n)}},{key:"getExtension",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.safeGetExtension(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"dispose",value:function(){throw new Error("Method not implemented.")}},{key:"disposeAllExtensions",value:function(){throw new Error("Method not implemented.")}},{key:"getExtensionConfig",value:function(){return this.extensionConfigManager.getExtensionConfig()}},{key:"getExtensionDepGraph",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.extensionManager.getDepGraph());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"safeGetExtension",value:function(e,t){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function n(){var r;return gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.extensionConfigReadyBarrier.wait();case 2:return n.next=4,this.extensionManager.getInstance(e,t);case 4:return r=n.sent,this.bootstrapExtension(e,r),n.abrupt("return",r);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"bootstrapExtension",value:function(e,t){if(!t.bootstraped){var n=this.dependentServiceCombinder.getExtensionService(this,e),r=this.dependentServiceCombinder.getDomainService(),o=this.dependentServiceCombinder.getApplicationService(),i=this.dependentServiceCombinder.getToolService(),a=this.dependentServiceCombinder.getExtensionContainerService(e),s=this.extensionConfigManager.findExtensionDescription(e),c=null==s?void 0:s.containerId,u=this.getContainer(c);t.bootstrap({extensionService:n,domainService:r,toolService:i,applicationService:o,containerService:a,extensionName:e,container:u}),t.bootstraped=!0}}},{key:"getContainer",value:function(e){var t=null;return e&&(t=document.getElementById(e)),t}}]),e}();fA=(0,kr.__decorate)([(0,kr.__param)(0,uA),(0,kr.__param)(1,lA),(0,kr.__param)(2,$x),(0,kr.__param)(3,gb),(0,kr.__metadata)("design:paramtypes",[Object,Object,Object,Object])],fA);var dA="ark_extension",pA="__ark_extends_init_error_handler__";function hA(){window[pA]||(window[pA]=!0,window.addEventListener(hx,(function(e){QT({opername:dA,module:e.detail.module,action:"load_fail",ver7:e.detail.url,ver8:e.detail.cost,ver9:e.detail.start,ver10:e.detail.info})})),window.addEventListener(px,(function(e){KT({opername:dA,module:e.detail.module,action:"cost",ver7:e.detail.url,ver8:e.detail.cost,ver9:e.detail.start})})),window.addEventListener(dx,(function(e){var t,n=e.detail.error instanceof Error?e.detail.error.stack:null===(t=e.detail.error)||void 0===t?void 0:t.toString();QT({opername:dA,module:e.detail.module,action:"call_error",ver7:e.detail.url,ver8:e.detail.cost,ver9:e.detail.function,ver10:n,ver11:e.detail.start})})),window.addEventListener(fx,(function(e){e.detail.cost<1e3||KT({opername:dA,module:e.detail.module,action:"call",ver7:e.detail.url,ver8:e.detail.cost,ver9:e.detail.function,ver11:e.detail.start})})),window.addEventListener("error",(function(e){var t;if((null==e?void 0:e.error)instanceof Error){var n=sx().parse(e.error),r=[];if(n.forEach((function(e){if(e.fileName){var t=function(e){var t=new RegExp(/(docs-component-.*)\..*\.js$/).exec(e);if(null==t?void 0:t[1])return t[1]}(e.fileName);t&&r.push(t)}})),0!==r.length){var o=r[r.length-1];QT({opername:dA,action:"js_error",module:o,ver7:e.message,ver8:null===(t=e.error)||void 0===t?void 0:t.stack,ver9:r.join("->")})}}})))}var vA=function(){function e(){(0,r.Z)(this,e),this.containerCollectionId="__unspesified_extension_container_collection__"}return(0,a.Z)(e,[{key:"createContainerIfUnspecified",value:function(e){this.unspecifiedContainerCollection=this.getUnspecifiedContainerCollection();var t=this.unspecifiedContainerCollection.querySelector("#".concat(e));return t||((t=document.createElement("div")).setAttribute("id",e),this.unspecifiedContainerCollection.appendChild(t),t)}},{key:"createSandboxContainerIfUnspecified",value:function(){throw new Error("Method not implemented.")}},{key:"getUnspecifiedContainerCollection",value:function(){var e=document.getElementById(this.containerCollectionId);return e||((e=document.createElement("div")).setAttribute("id",this.containerCollectionId),document.body.appendChild(e)),e}}]),e}(),gA=function(){function e(t){(0,r.Z)(this,e),this.extensionManager=t,this.extensionConfig=[]}return(0,a.Z)(e,[{key:"addExtensionConfig",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.extensionConfig=this.extensionConfig.concat(e),t.next=3,this.extensionManager.addExtensionConfig(e);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"addExtensionDescription",value:function(e){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function t(){return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.assertNoDuplicatedDescription(e),this.extensionConfig.push(e),t.next=4,this.extensionManager.addExtensionDescription(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getExtensionConfig",value:function(){return this.extensionConfig}},{key:"findExtensionDescription",value:function(e){return this.extensionConfig.find((function(t){return t.name===e}))}},{key:"iterateExtensionConfig",value:function(e){this.extensionConfig.forEach(e)}},{key:"assertNoDuplicatedDescription",value:function(e){if(this.extensionConfig.find((function(t){return t.name===e.name})))throw new lx("duplicated extension config of ".concat(e.name,"."))}}]),e}();gA=(0,kr.__decorate)([(0,kr.__param)(0,$x),(0,kr.__metadata)("design:paramtypes",[Object])],gA);var yA=(0,ju.yh)("IExtensionService"),mA=Symbol.for("__META_REQUEST_CACHE__"),_A=window.location,bA=_A.protocol,wA=_A.host,EA="".concat(bA,"//").concat(wA,"/components/docs/metadata{{specifiedVersionKey}}.json?t={{time}}"),SA=function(){function e(t){var n,o;(0,r.Z)(this,e),this.METADATA_URL=EA,this.COMPONENT_CDN_PREFIX=null!==(n=t.componentCdnPrefix)&&void 0!==n?n:Gx,this.specifiedVersionKey=t.specifiedVersion?".v".concat(t.specifiedVersion):"",this.language=null!==(o=t.language)&&void 0!==o?o:""}return(0,a.Z)(e,[{key:"metadataRequestCacheMap",get:function(){return void 0===globalThis[mA]&&(globalThis[mA]=new Map),globalThis[mA]}},{key:"getMetadataRecord",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.metadataRequestCacheMap.has(this.specifiedVersionKey),n=t?this.metadataRequestCacheMap.get(this.specifiedVersionKey):this.requestMetadataRecord(),t||this.metadataRequestCacheMap.set(this.specifiedVersionKey,n),e.next=5,n;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getLanguage",value:function(){return this.language}},{key:"requestMetadataRecord",value:function(){return(0,kr.__awaiter)(this,void 0,void 0,gs().mark((function e(){var t,n,r,o,i,a,s,c,u=this;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.METADATA_URL.replace("{{specifiedVersionKey}}",this.specifiedVersionKey).replace("{{time}}",Date.now().toString()),n=performance.now(),e.next=4,Qc.networkRequest.get(t);case 4:if(r=e.sent,o=performance.now(),i=o-n,vx.loadCost({module:"metadata",url:t,cost:i,start:n}),r.data){e.next=11;break}throw vx.loadFail({module:"metadata",url:t,info:r.status.toString(),cost:i,start:n}),new lx("request metadata error, error code: [".concat(r.status,"]."));case 11:return a=r.data,s=void 0===a?[]:a,c=Object.values(s).reduce((function(e,t){return Object.assign(Object.assign({},e),(0,f.Z)({},t.name,Object.assign(Object.assign({},t),{url:u.getMetadataUrl(t)})))}),{}),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e,this)})))}},{key:"getMetadataUrl",value:function(e){var t=this;return Array.isArray(e.url)?e.url.map((function(e){return"".concat(t.COMPONENT_CDN_PREFIX,"/").concat(e)})):["".concat(this.COMPONENT_CDN_PREFIX,"/").concat(e.url)]}}]),e}(),OA="__ARK_EXTENSION_SERVICE__";function IA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=globalThis[OA];if(t)return t;var n=new ju.o5,r=new ju.yk,o={serviceRegister:n,serviceCollection:r};!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.serviceRegister;r.register(yA,fA),r.register(lA,gA),r.register(bx,SA,[null!==(t=n.metadataLoaderOptions||n.metadataLoader)&&void 0!==t?t:{}]),r.register($x,Yx)})(e,t),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.serviceRegister,r=t.isEnterprise;n.register(gb,_b),n.register(bb,wb),n.register(cg,aE),n.register(fb,OE),n.register(db,mS),n.register(ug,xS),n.register(vg,dI),n.register(mg,SI),n.register(sg,r?YI:ZI),n.register(sb,iR),n.register(cb,pR),n.register(vb,OR),n.register(ub,xR),n.register(lb,PR),n.register(yg,ZR),n.register(gg,GC),n.register(pb,JC),n.register(hb,uT),n.register(lg,r?lT:ix),n.register($y,cm),n.register(Z_,U_),n.register(z_,H_),n.register(ib,ab),n.register(uA,cA),n.register(aA,iA),n.register(sA,vA)}(e,t)}(o,e),function(e){var t=e.serviceRegister,n=e.serviceCollection,r=t.getServiceDescriptors();r.forEach((function(e){var t=zy(e,2),r=t[0],o=t[1];n.set(r,o)}))}(o);var i=function(e){return new ju.FS(e)}(r);globalThis.__ARK_EXTENSION_INSTANTIATION_SERVICE__=i;var a=globalThis[OA]=function(e){return e.invokeFunction((function(e){return e.get(yA)}))}(i);return hA(),a}var RA,CA,TA,xA,AA,kA;!function(e){e.CONTACT_SELECTOR="docs-component-contact-selector",e.CONTACT_SELECTOR_MOBILE="docs-component-contact-selector-mobile",e.DOC_SIZE="docs-component-doc-size",e.FRIEND_SELECTOR="docs-friend-selector",e.MEMBER_BUTTON="docs-component-member-btn",e.EXIT_DOCUMENT="docs-component-exit-document",e.PRIVATIZED_ADD_MEMBER="docs-component-privatized-add-members",e.PRIVATIZED_PERMISSION="docs-component-privatized-permission",e.PRIVATIZED_TRANSFER="docs-component-privatized-transfer",e.SHARE_PRIVATE="docs-component-share-private"}(RA||(RA={})),function(e){e[e.MEMBER_MANAGEMENT=0]="MEMBER_MANAGEMENT",e[e.SECURITY_SETTING=1]="SECURITY_SETTING",e[e.JOIN_RULE=2]="JOIN_RULE",e[e.SHARE_LINK=3]="SHARE_LINK",e[e.FORM_RULE=4]="FORM_RULE",e[e.CREATE_SPACE=5]="CREATE_SPACE",e[e.TRANSFER_SPACE=6]="TRANSFER_SPACE",e[e.TRANSFER_FILE=7]="TRANSFER_FILE",e[e.WATER_MARK=8]="WATER_MARK",e[e.SPACE_MANAGEMENT=9]="SPACE_MANAGEMENT",e[e.SPACE_QR_CODE=10]="SPACE_QR_CODE"}(CA||(CA={})),function(e){e.ENTERPRISE_ADMIN="950664117918629888",e.TDOCS_ADMIN="911164101133981568"}(TA||(TA={})),function(e){e[e.MEMBER=0]="MEMBER",e[e.DEPARTMENT=1]="DEPARTMENT"}(xA||(xA={})),function(e){e[e.IN_SERVICE=0]="IN_SERVICE",e[e.EXPIRED=1]="EXPIRED"}(AA||(AA={})),function(e){e[e.DEPARTMENT_STATUS_UNSPECIFIED=0]="DEPARTMENT_STATUS_UNSPECIFIED",e[e.DEPARTMENT_STATUS_All=1]="DEPARTMENT_STATUS_All",e[e.DEPARTMENT_STATUS_ENABLED=2]="DEPARTMENT_STATUS_ENABLED",e[e.DEPARTMENT_STATUS_DISABLED=3]="DEPARTMENT_STATUS_DISABLED"}(kA||(kA={}));var DA="/components/docs/SharePrivateMobile.html",MA=function(){return MA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},MA.apply(this,arguments)};function PA(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function NA(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}"function"==typeof SuppressedError&&SuppressedError;!function(){function e(){}e.openPermissionSetting=function(e){this.createExtension(e,RA.PRIVATIZED_PERMISSION).getExtension(RA.PRIVATIZED_PERMISSION).then((function(t){t.show(e)}))},e.loadMemberButton=function(e){this.createExtension(e,RA.MEMBER_BUTTON).getExtension(RA.MEMBER_BUTTON).then((function(t){t.show(e)}))},e.openMemberPanel=function(e){this.createExtension(e,RA.PRIVATIZED_PERMISSION).getExtension(RA.PRIVATIZED_PERMISSION).then((function(t){t.show(MA({type:tl.FILE,entry:CA.MEMBER_MANAGEMENT},e))}))},e.openCreateSpaceSetting=function(e){this.createExtension(e,RA.PRIVATIZED_PERMISSION).getExtension(RA.PRIVATIZED_PERMISSION).then((function(t){t.show(MA({type:tl.SPACE,entry:CA.CREATE_SPACE},e))}))},e.openSpaceSetting=function(e){this.createExtension(e,RA.PRIVATIZED_PERMISSION).getExtension(RA.PRIVATIZED_PERMISSION).then((function(t){t.show(MA({type:tl.SPACE,entry:CA.SPACE_MANAGEMENT},e))}))},e.evokeContactSelector=function(e){var t=this,n=e.mobileMode,r=void 0!==n&&n,o=e.isSelectMemberScene,i=void 0===o||o,a=e.isSelectDeptScene,s=void 0!==a&&a,c=e.memberRoleItems,u=void 0===c?[]:c,l=e.selectedDisableItems,f=void 0===l?[]:l,d=e.selectorTitle,p=void 0===d?"":d,h=e.isMultiSelect,v=void 0===h||h,g=e.selectedItems,y=void 0===g?[]:g,m=e.collaborateMemberOption,_=e.customizedMemberRoleOption,b=e.componentCdnPrefix,w=e.requestHeaders,E=void 0===w?{}:w,S=e.isRootDeptSelected,O=void 0!==S&&S,I=e.limitedUnfoldLevelCount,R=void 0===I?0:I,C=e.isMemberHidden,T=void 0!==C&&C,x=e.onSelectorShow,A=e.onSelectorClose,k=IA({metadataLoader:b?{componentCdnPrefix:b}:{}});k.scanAndHandleExtensions([{name:RA.CONTACT_SELECTOR_MOBILE,loadType:mx.EAGER},{name:RA.CONTACT_SELECTOR,loadType:mx.EAGER}]);var D={isSelectMemberScene:i,isSelectDeptScene:s,memberRoleItems:u,selectorTitle:p,selectedDisableItems:f,isMultiSelect:v,selectedItems:y,collaborateMemberOption:m,customizedMemberRoleOption:_,isRootDeptSelected:O,limitedUnfoldLevelCount:R,isMemberHidden:T,requestHeaders:E,onSelectorShow:x};return new Promise((function(e,n){return PA(t,void 0,void 0,(function(){var t,o,i;return NA(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t=r?RA.CONTACT_SELECTOR_MOBILE:RA.CONTACT_SELECTOR,[4,k.getExtension(t)];case 1:return o=a.sent(),i={onConfirm:function(t){e(t),o.closeContactSelector()},onClose:function(){null==A||A(),e([]),o.closeContactSelector()},contactSelectorEntryConfig:D},o.showContactSelector(i),[3,3];case 2:return a.sent(),n([]),[3,3];case 3:return[2]}}))}))}))},e.evokeFriendSelector=function(e){return PA(this,void 0,void 0,(function(){var t,n,r;return NA(this,(function(o){switch(o.label){case 0:return(t=IA()).scanAndHandleExtensions([{name:RA.FRIEND_SELECTOR,loadType:mx.EAGER}]),n=e.showFriendSelectorContainerProps,[4,t.getExtension(RA.FRIEND_SELECTOR)];case 1:return r=o.sent(),n&&r.showFriendSelectorContainer(n),[2,r]}}))}))},e.evokeTransferOwner=function(e){var t=IA();t.scanAndHandleExtensions([{name:RA.PRIVATIZED_TRANSFER,loadType:mx.EAGER}]),t.getExtension(RA.PRIVATIZED_TRANSFER).then((function(t){t.show(e)}))},e.evokeAddMember=function(e){var t=IA();t.scanAndHandleExtensions([{name:RA.PRIVATIZED_ADD_MEMBER,loadType:mx.EAGER}]),t.getExtension(RA.PRIVATIZED_ADD_MEMBER).then((function(t){t.show(e)}))},e.exitCurrentDocument=function(e){return PA(this,void 0,void 0,(function(){var t;return NA(this,(function(n){switch(n.label){case 0:return[4,(t=IA()).scanAndHandleExtensions([{name:RA.EXIT_DOCUMENT,loadType:mx.EAGER}])];case 1:return n.sent(),[4,t.getExtension(RA.EXIT_DOCUMENT)];case 2:return n.sent().show(e),[2]}}))}))},e.openSharePanel=function(e){return PA(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l,f;return NA(this,(function(d){switch(d.label){case 0:return t=e.padId,n=e.isMobile,r=void 0!==n&&n,o=e.shareLink,i=void 0===o?"":o,a=e.shareTitle,s=void 0===a?"":a,c=e.shareDocType,u=void 0===c?"":c,r?(l="".concat(location.origin).concat(DA,"?localPadId=").concat(t),location.pathname===DA||window.open(l),[2]):[4,(f=IA()).scanAndHandleExtensions([{name:RA.SHARE_PRIVATE,loadType:mx.EAGER}])];case 1:return d.sent(),[4,f.getExtension(RA.SHARE_PRIVATE)];case 2:return d.sent().show({padId:t,shareLink:i,shareTitle:s,shareDocType:u}),[2]}}))}))},e.openDocSizePanel=function(e){this.createExtension(e,RA.DOC_SIZE).getExtension(RA.DOC_SIZE).then((function(t){t.show(e)}))},e.createExtension=function(e,t){var n=e.extensionService?e.extensionService:IA(),r=n;return r.scanAndHandleExtensions&&r.scanAndHandleExtensions([{name:t,loadType:mx.EAGER}]),n}}();var LA,jA,UA,FA,BA,qA,WA,VA=o(83549),GA=o(19715),HA=rg.default.getInstance();function KA(){return Bn("TOK")||""}function QA(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function YA(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}"function"==typeof SuppressedError&&SuppressedError,function(e){e[e.ONLY_NORMAL_MEMBER=0]="ONLY_NORMAL_MEMBER",e[e.ONLY_DEPARTMENT=1]="ONLY_DEPARTMENT",e[e.BOTH=2]="BOTH"}(LA||(LA={})),function(e){e[e.USER_IN_FILE=1]="USER_IN_FILE",e[e.META=2]="META"}(jA||(jA={})),function(e){e[e.NOT_CLEAR_DATA=0]="NOT_CLEAR_DATA",e[e.CLEAR_DATA=1]="CLEAR_DATA"}(UA||(UA={})),function(e){e.USER="user",e.DEPARTMENT="department"}(FA||(FA={})),function(e){e[e.INVALID_PERM=0]="INVALID_PERM",e[e.VIEW_COLLABORATE=1]="VIEW_COLLABORATE",e[e.EDIT_COLLABORATE=2]="EDIT_COLLABORATE",e[e.VIEW_CUSTOM_ROLE=3]="VIEW_CUSTOM_ROLE",e[e.EDIT_CUSTOM_ROLE=4]="EDIT_CUSTOM_ROLE",e[e.EDIT_ADMIN=5]="EDIT_ADMIN",e[e.SHARE=11]="SHARE",e[e.CONFIG_SHARE=12]="CONFIG_SHARE",e[e.CONFIG_PRIV_POLICY=13]="CONFIG_PRIV_POLICY",e[e.SHARE_ADMIN=20]="SHARE_ADMIN",e[e.SHARE_EDITOR=21]="SHARE_EDITOR",e[e.SHARE_CONTRIBUTOR=22]="SHARE_CONTRIBUTOR",e[e.SHARE_VIEWER=23]="SHARE_VIEWER",e[e.SHARE_COMMENTATOR=24]="SHARE_COMMENTATOR",e[e.SHARE_VIEWER_EX=25]="SHARE_VIEWER_EX",e[e.SHARE_COMMENTATOR_EX=26]="SHARE_COMMENTATOR_EX",e[e.SHARE_EXECUTOR=27]="SHARE_EXECUTOR",e[e.SET_COLLABORATOR_EXPIRE=28]="SET_COLLABORATOR_EXPIRE",e[e.APPROVE_OP=51]="APPROVE_OP",e[e.PRIV_OP=52]="PRIV_OP",e[e.CREATE_FILE=101]="CREATE_FILE",e[e.VIEW_FILE=102]="VIEW_FILE",e[e.EDIT_FILE=103]="EDIT_FILE",e[e.REMOVE_FILE=104]="REMOVE_FILE",e[e.COPY_FILE=105]="COPY_FILE",e[e.DUMP_FILE=106]="DUMP_FILE",e[e.SET_WATER_MARK=107]="SET_WATER_MARK",e[e.COMMENT_FILE=108]="COMMENT_FILE",e[e.SAVE_FILE_LINK=109]="SAVE_FILE_LINK",e[e.SAVE_FILE_AND_CREATE_COPY=110]="SAVE_FILE_AND_CREATE_COPY",e[e.PRINT_FILE=111]="PRINT_FILE",e[e.SAVE_AS_TEMPLATE=112]="SAVE_AS_TEMPLATE",e[e.EDIT_TAB=113]="EDIT_TAB",e[e.APPLY_EDIT=114]="APPLY_EDIT",e[e.EDIT_TITLE=115]="EDIT_TITLE",e[e.DELETE_ABSOLUTELY_FILE=116]="DELETE_ABSOLUTELY_FILE",e[e.RESTORE_FILE=117]="RESTORE_FILE",e[e.MOVE_FILE=118]="MOVE_FILE",e[e.CREATE_FOLDER=201]="CREATE_FOLDER",e[e.EDIT_FOLDER=202]="EDIT_FOLDER",e[e.READ_FOLDER=203]="READ_FOLDER",e[e.REMOVE_FOLDER=204]="REMOVE_FOLDER",e[e.COPY_FOLDER=205]="COPY_FOLDER",e[e.CREATE_CANVAS=301]="CREATE_CANVAS",e[e.REMOVE_CANVAS=302]="REMOVE_CANVAS",e[e.CONFIG_CANVAS=303]="CONFIG_CANVAS",e[e.RENAME_CANVAS=304]="RENAME_CANVAS",e[e.HIDE_CANVAS=305]="HIDE_CANVAS",e[e.MOVE_CANVAS=306]="MOVE_CANVAS",e[e.VIEW_CANVAS=401]="VIEW_CANVAS",e[e.COMMENT_CANVAS=402]="COMMENT_CANVAS",e[e.EXTERNAL_VIEW_CANVAS=403]="EXTERNAL_VIEW_CANVAS",e[e.CREATE_BLOCK=501]="CREATE_BLOCK",e[e.REMOVE_BLOCK=502]="REMOVE_BLOCK",e[e.EDIT_BLOCK_PROP=503]="EDIT_BLOCK_PROP",e[e.USER_BUTTON=504]="USER_BUTTON",e[e.TABLE_FILTER=505]="TABLE_FILTER",e[e.CREATE_ROW=506]="CREATE_ROW",e[e.MODIFY_DATA_CREATE_BY_YOU_SELF=507]="MODIFY_DATA_CREATE_BY_YOU_SELF",e[e.EDIT_TABLE_AS_YOU_LIKE=508]="EDIT_TABLE_AS_YOU_LIKE",e[e.EDIT_TEXT_IN_BLOCK=509]="EDIT_TEXT_IN_BLOCK",e[e.COMMIT_BLOCK=510]="COMMIT_BLOCK",e[e.WRITE_AND_POST_FORM=511]="WRITE_AND_POST_FORM",e[e.EDIT_FORM=512]="EDIT_FORM",e[e.EXTERNAL_USE_BUTTON=513]="EXTERNAL_USE_BUTTON",e[e.EXTERNAL_WRITE_ADD_POST_FORM=514]="EXTERNAL_WRITE_ADD_POST_FORM"}(BA||(BA={})),function(e){e[e.DEPARTMENT_STATUS_UNSPECIFIED=0]="DEPARTMENT_STATUS_UNSPECIFIED",e[e.DEPARTMENT_STATUS_All=1]="DEPARTMENT_STATUS_All",e[e.DEPARTMENT_STATUS_ENABLED=2]="DEPARTMENT_STATUS_ENABLED",e[e.DEPARTMENT_STATUS_DISABLED=3]="DEPARTMENT_STATUS_DISABLED"}(qA||(qA={})),function(e){e[e.CAN_EDIT=0]="CAN_EDIT",e[e.CAN_VIEW=1]="CAN_VIEW",e[e.REVIEW_BY_MEMBER=2]="REVIEW_BY_MEMBER",e[e.REVIEW_BY_ADMIN=3]="REVIEW_BY_ADMIN",e[e.CAN_FILL=4]="CAN_FILL",e[e.CAN_UPLOAD=5]="CAN_UPLOAD",e[e.CAN_DOWNLOAD=6]="CAN_DOWNLOAD",e[e.FORBID_ENTRY=100]="FORBID_ENTRY"}(WA||(WA={}));var ZA,zA,$A,JA,XA,ek,tk,nk,rk,ok,ik,ak,sk,ck,uk,lk,fk,dk,pk,hk;!function(e){e[e.DEPARTMENT_STATUS_UNSPECIFIED=0]="DEPARTMENT_STATUS_UNSPECIFIED",e[e.DEPARTMENT_STATUS_All=1]="DEPARTMENT_STATUS_All",e[e.DEPARTMENT_STATUS_ENABLED=2]="DEPARTMENT_STATUS_ENABLED",e[e.DEPARTMENT_STATUS_DISABLED=3]="DEPARTMENT_STATUS_DISABLED"}(ZA||(ZA={})),function(e){e[e.VIEW_RANGE_ONLY_COLLABORATOR=0]="VIEW_RANGE_ONLY_COLLABORATOR",e[e.VIEW_RANGE_ONLY_ADMIN=4]="VIEW_RANGE_ONLY_ADMIN",e[e.VIEW_RANGE_WITH_ENTERPRISE=1]="VIEW_RANGE_WITH_ENTERPRISE",e[e.VIEW_RANGE_OUTSIDE_ENTERPRISE=2]="VIEW_RANGE_OUTSIDE_ENTERPRISE",e[e.EDIT_RANGE_WITH_ENTERPRISE=3]="EDIT_RANGE_WITH_ENTERPRISE"}(zA||(zA={})),function(e){e[e.ONLY_ENTERPRISE=0]="ONLY_ENTERPRISE",e[e.ALL_USER=1]="ALL_USER"}($A||($A={})),function(e){e[e.MEMBER=0]="MEMBER",e[e.DEPARTMENT=1]="DEPARTMENT"}(JA||(JA={})),function(e){e[e.IN_SERVICE=0]="IN_SERVICE",e[e.EXPIRED=1]="EXPIRED"}(XA||(XA={})),function(e){e[e.FILTER_IF_LOCAL_EXIST=0]="FILTER_IF_LOCAL_EXIST",e[e.FILTER_IF_LOCAL_NOT_EXIST=1]="FILTER_IF_LOCAL_NOT_EXIST"}(ek||(ek={})),function(e){e[e.OPTION_INVALID=0]="OPTION_INVALID",e[e.OPT_NOTIFY=1]="OPT_NOTIFY"}(tk||(tk={})),function(e){e[e.MEMBER_MANAGEMENT=0]="MEMBER_MANAGEMENT",e[e.SECURITY_SETTING=1]="SECURITY_SETTING",e[e.JOIN_RULE=2]="JOIN_RULE",e[e.SHARE_LINK=3]="SHARE_LINK",e[e.FORM_RULE=4]="FORM_RULE",e[e.CREATE_SPACE=5]="CREATE_SPACE",e[e.TRANSFER_SPACE=6]="TRANSFER_SPACE",e[e.TRANSFER_FILE=7]="TRANSFER_FILE",e[e.WATER_MARK=8]="WATER_MARK",e[e.SPACE_MANAGEMENT=9]="SPACE_MANAGEMENT",e[e.SPACE_QR_CODE=10]="SPACE_QR_CODE"}(nk||(nk={})),function(e){e[e.INVALID_OBJ=0]="INVALID_OBJ",e[e.GENERAL=1]="GENERAL",e[e.FILE=2]="FILE",e[e.FOLDER=3]="FOLDER",e[e.ELEMENT=4]="ELEMENT"}(rk||(rk={})),function(e){e[e.SPACE=0]="SPACE",e[e.FOLDER=1]="FOLDER",e[e.FILE=2]="FILE",e[e.ELEMENT=3]="ELEMENT"}(ok||(ok={})),function(e){e[e.PRIVATE_ACCESS=0]="PRIVATE_ACCESS",e[e.DESIGNATE_PEOPLE=1]="DESIGNATE_PEOPLE",e[e.EVERY_ONE_READ=2]="EVERY_ONE_READ",e[e.EVERY_ONE_EDITOR=3]="EVERY_ONE_EDITOR",e[e.EVERY_ONE_EXECUTOR=4]="EVERY_ONE_EXECUTOR",e[e.ILLEGAL=999]="ILLEGAL"}(ik||(ik={})),function(e){e[e.PERMISSION=0]="PERMISSION",e[e.ADV_PERMISSION=1]="ADV_PERMISSION",e[e.WATER_MARK=2]="WATER_MARK",e[e.PERMISSION_MEMBER=3]="PERMISSION_MEMBER",e[e.PERMISSION_SEARCH=4]="PERMISSION_SEARCH"}(ak||(ak={})),function(e){e[e.SCB_DEFAULT=0]="SCB_DEFAULT",e[e.SCB_YES=1]="SCB_YES",e[e.SCB_NO=2]="SCB_NO"}(sk||(sk={})),function(e){e[e.INVALID_UID=0]="INVALID_UID",e[e.QQ_UIN=1]="QQ_UIN",e[e.QQ_UID=2]="QQ_UID",e[e.WX_UID=3]="WX_UID",e[e.WORK_UID=4]="WORK_UID",e[e.QFYF_UID=5]="QFYF_UID",e[e.GROUP=6]="GROUP",e[e.DISCUSS=7]="DISCUSS",e[e.DOCX=8]="DOCX",e[e.WX_DEPT=9]="WX_DEPT",e[e.QFYF_DEPT=10]="QFYF_DEPT",e[e.MEETING=11]="MEETING",e[e.MEETING_UID=12]="MEETING_UID",e[e.PRIVATE_GROUP=13]="PRIVATE_GROUP",e[e.PRIVATE_MEMBER=14]="PRIVATE_MEMBER"}(ck||(ck={})),function(e){e[e.PRINCIPAL=0]="PRINCIPAL",e[e.DEPUTY=10]="DEPUTY",e[e.ASSIST=20]="ASSIST",e[e.TEMPORARY=50]="TEMPORARY"}(uk||(uk={})),function(e){e[e.THIN=1]="THIN",e[e.NORMAL=0]="NORMAL",e[e.DENSE=2]="DENSE"}(lk||(lk={})),function(e){e[e.LIGHT_COLOR=0]="LIGHT_COLOR",e[e.NORMAL_COLOR=1]="NORMAL_COLOR",e[e.DEEP_COLOR=2]="DEEP_COLOR"}(fk||(fk={})),function(e){e[e.INVALID_SOURCE=0]="INVALID_SOURCE",e[e.INHERIT_SOURCE=1]="INHERIT_SOURCE",e[e.NEW_ADD_SOURCE=2]="NEW_ADD_SOURCE",e[e.SHARE_SPACE_SOURCE=3]="SHARE_SPACE_SOURCE",e[e.SHARE_FOLDER_SOURCE=4]="SHARE_FOLDER_SOURCE"}(dk||(dk={})),function(e){e[e.NO_PRIVILEGE=0]="NO_PRIVILEGE",e[e.READABLE=1]="READABLE",e[e.EDITABLE=2]="EDITABLE",e[e.EXECUTABLE=4]="EXECUTABLE",e[e.ALLOW_UPLOAD_OR_DOWNLOAD=5]="ALLOW_UPLOAD_OR_DOWNLOAD",e[e.DOWNLOAD_ONLY=6]="DOWNLOAD_ONLY",e[e.ANNOTATE=7]="ANNOTATE",e[e.EXTERNAL=10]="EXTERNAL",e[e.CUSTOM=11]="CUSTOM",e[e.FILLABLE=12]="FILLABLE",e[e.INHERIT=20]="INHERIT",e[e.DIFFERENT=21]="DIFFERENT",e[e.FORBIDDEN=33]="FORBIDDEN",e[e.ADMINISTRATOR=1024]="ADMINISTRATOR",e[e.SUPER_ADMINISTRATOR=2048]="SUPER_ADMINISTRATOR"}(pk||(pk={})),function(e){e[e.COPY_RULE_DEFAULT=0]="COPY_RULE_DEFAULT",e[e.COPY_RULE_ALLOW_ALL=1]="COPY_RULE_ALLOW_ALL",e[e.COPY_RULE_FORBID_VIEWER=2]="COPY_RULE_FORBID_VIEWER",e[e.COPY_RULE_FORBID_ALL=3]="COPY_RULE_FORBID_ALL"}(hk||(hk={})),Ue("add-member",VA);Ue("transfer-owner",GA);var vk="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==o.g?o.g:"undefined"!=typeof self?self:{};var gk={exports:{}},yk={exports:{}},mk=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},_k=mk,bk=Object.prototype.toString,wk=function(e){return function(t){var n=bk.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function Ek(e){return e=e.toLowerCase(),function(t){return wk(t)===e}}function Sk(e){return Array.isArray(e)}function Ok(e){return void 0===e}var Ik=Ek("ArrayBuffer");function Rk(e){return null!==e&&"object"==typeof e}function Ck(e){if("object"!==wk(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var Tk=Ek("Date"),xk=Ek("File"),Ak=Ek("Blob"),kk=Ek("FileList");function Dk(e){return"[object Function]"===bk.call(e)}var Mk=Ek("URLSearchParams");function Pk(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Sk(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var Nk=function(e){return function(t){return e&&t instanceof e}}("undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array)),Lk={isArray:Sk,isArrayBuffer:Ik,isBuffer:function(e){return null!==e&&!Ok(e)&&null!==e.constructor&&!Ok(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||bk.call(e)===t||Dk(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ik(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Rk,isPlainObject:Ck,isUndefined:Ok,isDate:Tk,isFile:xk,isBlob:Ak,isFunction:Dk,isStream:function(e){return Rk(e)&&Dk(e.pipe)},isURLSearchParams:Mk,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Pk,merge:function e(){var t={};function n(n,r){Ck(t[r])&&Ck(n)?t[r]=e(t[r],n):Ck(n)?t[r]=e({},n):Sk(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)Pk(arguments[r],n);return t},extend:function(e,t,n){return Pk(t,(function(t,r){e[r]=n&&"function"==typeof t?_k(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,o,i,a={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)a[i=r[o]]||(t[i]=e[i],a[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:wk,kindOfTest:Ek,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(Ok(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:Nk,isFileList:kk},jk=Lk;function Uk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Fk=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(jk.isURLSearchParams(t))r=t.toString();else{var o=[];jk.forEach(t,(function(e,t){null!=e&&(jk.isArray(e)?t+="[]":e=[e],jk.forEach(e,(function(e){jk.isDate(e)?e=e.toISOString():jk.isObject(e)&&(e=JSON.stringify(e)),o.push(Uk(t)+"="+Uk(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},Bk=Lk;function qk(){this.handlers=[]}qk.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},qk.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},qk.prototype.forEach=function(e){Bk.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Wk,Vk,Gk=qk,Hk=Lk;function Kk(){if(Vk)return Wk;Vk=1;var e=Lk;function t(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}e.inherits(t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=t.prototype,r={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){r[e]={value:e}})),Object.defineProperties(t,r),Object.defineProperty(n,"isAxiosError",{value:!0}),t.from=function(r,o,i,a,s,c){var u=Object.create(n);return e.toFlatObject(r,u,(function(e){return e!==Error.prototype})),t.call(u,r.message,o,i,a,s),u.name=r.name,c&&Object.assign(u,c),u},Wk=t}var Qk,Yk,Zk,zk,$k,Jk,Xk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function eD(){if(Yk)return Qk;Yk=1;var e=Lk;return Qk=function(t,n){n=n||new FormData;var r=[];function o(t){return null===t?"":e.isDate(t)?t.toISOString():e.isArrayBuffer(t)||e.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(i,a){if(e.isPlainObject(i)||e.isArray(i)){if(-1!==r.indexOf(i))throw Error("Circular reference detected in "+a);r.push(i),e.forEach(i,(function(r,i){if(!e.isUndefined(r)){var s,c=a?a+"."+i:i;if(r&&!a&&"object"==typeof r)if(e.endsWith(i,"{}"))r=JSON.stringify(r);else if(e.endsWith(i,"[]")&&(s=e.toArray(r)))return void s.forEach((function(t){!e.isUndefined(t)&&n.append(c,o(t))}));t(r,c)}})),r.pop()}else n.append(a,o(i))}(t),n},Qk}var tD,nD,rD,oD,iD,aD,sD,cD,uD,lD,fD,dD,pD=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},hD=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},vD=function(e,t){return e&&!pD(t)?hD(e,t):t};function gD(){if(aD)return iD;aD=1;var e=Kk();function t(t){e.call(this,null==t?"canceled":t,e.ERR_CANCELED),this.name="CanceledError"}return Lk.inherits(t,e,{__CANCEL__:!0}),iD=t}function yD(){if(lD)return uD;lD=1;var e=Lk,t=function(){if(zk)return Zk;zk=1;var e=Kk();return Zk=function(t,n,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?n(new e("Request failed with status code "+r.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}}(),n=function(){if(Jk)return $k;Jk=1;var e=Lk;return $k=e.isStandardBrowserEnv()?{write:function(t,n,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(n)),e.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),e.isString(o)&&s.push("path="+o),e.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}(),r=Fk,o=vD,i=function(){if(nD)return tD;nD=1;var e=Lk,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return tD=function(n){var r,o,i,a={};return n?(e.forEach(n.split("\n"),(function(n){if(i=n.indexOf(":"),r=e.trim(n.substr(0,i)).toLowerCase(),o=e.trim(n.substr(i+1)),r){if(a[r]&&t.indexOf(r)>=0)return;a[r]="set-cookie"===r?(a[r]?a[r]:[]).concat([o]):a[r]?a[r]+", "+o:o}})),a):a}}(),a=function(){if(oD)return rD;oD=1;var e=Lk;return rD=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(n){var r=e.isString(n)?o(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}}(),s=Xk,c=Kk(),u=gD(),l=cD?sD:(cD=1,sD=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""});return uD=function(f){return new Promise((function(d,p){var h,v=f.data,g=f.headers,y=f.responseType;function m(){f.cancelToken&&f.cancelToken.unsubscribe(h),f.signal&&f.signal.removeEventListener("abort",h)}e.isFormData(v)&&e.isStandardBrowserEnv()&&delete g["Content-Type"];var _=new XMLHttpRequest;if(f.auth){var b=f.auth.username||"",w=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+w)}var E=o(f.baseURL,f.url);function S(){if(_){var e="getAllResponseHeaders"in _?i(_.getAllResponseHeaders()):null,n={data:y&&"text"!==y&&"json"!==y?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:e,config:f,request:_};t((function(e){d(e),m()}),(function(e){p(e),m()}),n),_=null}}if(_.open(f.method.toUpperCase(),r(E,f.params,f.paramsSerializer),!0),_.timeout=f.timeout,"onloadend"in _?_.onloadend=S:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(S)},_.onabort=function(){_&&(p(new c("Request aborted",c.ECONNABORTED,f,_)),_=null)},_.onerror=function(){p(new c("Network Error",c.ERR_NETWORK,f,_,_)),_=null},_.ontimeout=function(){var e=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",t=f.transitional||s;f.timeoutErrorMessage&&(e=f.timeoutErrorMessage),p(new c(e,t.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,f,_)),_=null},e.isStandardBrowserEnv()){var O=(f.withCredentials||a(E))&&f.xsrfCookieName?n.read(f.xsrfCookieName):void 0;O&&(g[f.xsrfHeaderName]=O)}"setRequestHeader"in _&&e.forEach(g,(function(e,t){void 0===v&&"content-type"===t.toLowerCase()?delete g[t]:_.setRequestHeader(t,e)})),e.isUndefined(f.withCredentials)||(_.withCredentials=!!f.withCredentials),y&&"json"!==y&&(_.responseType=f.responseType),"function"==typeof f.onDownloadProgress&&_.addEventListener("progress",f.onDownloadProgress),"function"==typeof f.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(h=function(e){_&&(p(!e||e&&e.type?new u:e),_.abort(),_=null)},f.cancelToken&&f.cancelToken.subscribe(h),f.signal&&(f.signal.aborted?h():f.signal.addEventListener("abort",h))),v||(v=null);var I=l(E);I&&-1===["http","https","file"].indexOf(I)?p(new c("Unsupported protocol "+I+":",c.ERR_BAD_REQUEST,f)):_.send(v)}))},uD}var mD=Lk,_D=function(e,t){Hk.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},bD=Kk(),wD=Xk,ED=eD(),SD={"Content-Type":"application/x-www-form-urlencoded"};function OD(e,t){!mD.isUndefined(e)&&mD.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var ID={transitional:wD,adapter:function(){var e;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=yD()),e}(),transformRequest:[function(e,t){if(_D(t,"Accept"),_D(t,"Content-Type"),mD.isFormData(e)||mD.isArrayBuffer(e)||mD.isBuffer(e)||mD.isStream(e)||mD.isFile(e)||mD.isBlob(e))return e;if(mD.isArrayBufferView(e))return e.buffer;if(mD.isURLSearchParams(e))return OD(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=mD.isObject(e),o=t&&t["Content-Type"];if((n=mD.isFileList(e))||r&&"multipart/form-data"===o){var i=this.env&&this.env.FormData;return ED(n?{"files[]":e}:e,i&&new i)}return r||"application/json"===o?(OD(t,"application/json"),function(e,t,n){if(mD.isString(e))try{return(t||JSON.parse)(e),mD.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function e(t){var n=this.transitional||ID.transitional,r=n&&n.silentJSONParsing,o=n&&n.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&mD.isString(t)&&t.length)try{return JSON.parse(t)}catch(e){if(i){if("SyntaxError"===e.name)throw bD.from(e,bD.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dD?fD:(dD=1,fD=null)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};mD.forEach(["delete","get","head"],(function(e){ID.headers[e]={}})),mD.forEach(["post","put","patch"],(function(e){ID.headers[e]=mD.merge(SD)}));var RD,CD,TD=ID,xD=Lk,AD=TD;function kD(){return CD?RD:(CD=1,RD=function(e){return!(!e||!e.__CANCEL__)})}var DD=Lk,MD=function(e,t,n){var r=this||AD;return xD.forEach(n,(function(n){e=n.call(r,e,t)})),e},PD=kD(),ND=TD,LD=gD();function jD(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new LD}var UD,FD,BD=Lk,qD=function(e,t){t=t||{};var n={};function r(e,t){return BD.isPlainObject(e)&&BD.isPlainObject(t)?BD.merge(e,t):BD.isPlainObject(t)?BD.merge({},t):BD.isArray(t)?t.slice():t}function o(n){return BD.isUndefined(t[n])?BD.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function i(e){if(!BD.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return BD.isUndefined(t[n])?BD.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return BD.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);BD.isUndefined(r)&&t!==s||(n[e]=r)})),n};function WD(){return FD?UD:(FD=1,UD={version:"0.27.2"})}var VD=WD().version,GD=Kk(),HD={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){HD[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var KD={};HD.transitional=function(e,t,n){function r(e,t){return"[Axios v"+VD+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,i){if(!1===e)throw new GD(r(o," has been removed"+(t?" in "+t:"")),GD.ERR_DEPRECATED);return t&&!KD[o]&&(KD[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var QD,YD,ZD,zD,$D,JD,XD=Lk,eM=Fk,tM=Gk,nM=function(e){return jD(e),e.headers=e.headers||{},e.data=MD.call(e,e.data,e.headers,e.transformRequest),e.headers=DD.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),DD.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||ND.adapter)(e).then((function(t){return jD(e),t.data=MD.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return PD(t)||(jD(e),t&&t.response&&(t.response.data=MD.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},rM=qD,oM=vD,iM={assertOptions:function(e,t,n){if("object"!=typeof e)throw new GD("options must be an object",GD.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new GD("option "+i+" must be "+c,GD.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new GD("Unknown option "+i,GD.ERR_BAD_OPTION)}},validators:HD},aM=iM.validators;function sM(e){this.defaults=e,this.interceptors={request:new tM,response:new tM}}sM.prototype.request=function e(t,n){"string"==typeof t?(n=n||{}).url=t:n=t||{},(n=rM(this.defaults,n)).method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;void 0!==r&&iM.assertOptions(r,{silentJSONParsing:aM.transitional(aM.boolean),forcedJSONParsing:aM.transitional(aM.boolean),clarifyTimeoutError:aM.transitional(aM.boolean)},!1);var o=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(n)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));var a,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!i){var c=[nM,void 0];for(Array.prototype.unshift.apply(c,o),c=c.concat(s),a=Promise.resolve(n);c.length;)a=a.then(c.shift(),c.shift());return a}for(var u=n;o.length;){var l=o.shift(),f=o.shift();try{u=l(u)}catch(e){f(e);break}}try{a=nM(u)}catch(e){return Promise.reject(e)}for(;s.length;)a=a.then(s.shift(),s.shift());return a},sM.prototype.getUri=function(e){e=rM(this.defaults,e);var t=oM(e.baseURL,e.url);return eM(t,e.params,e.paramsSerializer)},XD.forEach(["delete","get","head","options"],(function(e){sM.prototype[e]=function(t,n){return this.request(rM(n||{},{method:e,url:t,data:(n||{}).data}))}})),XD.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(rM(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}sM.prototype[e]=t(),sM.prototype[e+"Form"]=t(!0)}));var cM=Lk,uM=mk,lM=sM,fM=qD;var dM=function e(t){var n=new lM(t),r=uM(lM.prototype.request,n);return cM.extend(r,lM.prototype,n),cM.extend(r,n),r.create=function(n){return e(fM(t,n))},r}(TD);dM.Axios=lM,dM.CanceledError=gD(),dM.CancelToken=function(){if(YD)return QD;YD=1;var e=gD();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(t){r.reason||(r.reason=new e(t),n(r.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},QD=t}(),dM.isCancel=kD(),dM.VERSION=WD().version,dM.toFormData=eD(),dM.AxiosError=Kk(),dM.Cancel=dM.CanceledError,dM.all=function(e){return Promise.all(e)},dM.spread=zD?ZD:(zD=1,ZD=function(e){return function(t){return e.apply(null,t)}}),dM.isAxiosError=function(){if(JD)return $D;JD=1;var e=Lk;return $D=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),yk.exports=dM,yk.exports.default=dM,function(e){e.exports=yk.exports}(gk);var pM=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(gk.exports),hM={exports:{}};!function(e){!function(t){var n=function e(t,n,r){if(!c(n)||l(n)||f(n)||d(n)||s(n))return n;var o,i=0,a=0;if(u(n))for(o=[],a=n.length;i<a;i++)o.push(e(t,n[i],r));else for(var p in o={},n)Object.prototype.hasOwnProperty.call(n,p)&&(o[t(p,r)]=e(t,n[p],r));return o},r=function(e){return p(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""})),e.substr(0,1).toLowerCase()+e.substr(1))},o=function(e){var t=r(e);return t.substr(0,1).toUpperCase()+t.substr(1)},i=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)}(e,t).toLowerCase()},a=Object.prototype.toString,s=function(e){return"function"==typeof e},c=function(e){return e===Object(e)},u=function(e){return"[object Array]"==a.call(e)},l=function(e){return"[object Date]"==a.call(e)},f=function(e){return"[object RegExp]"==a.call(e)},d=function(e){return"[object Boolean]"==a.call(e)},p=function(e){return(e-=0)==e},h=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,r){return n(t,e,r)}},v={camelize:r,decamelize:i,pascalize:o,depascalize:i,camelizeKeys:function(e,t){return n(h(r,t),e)},decamelizeKeys:function(e,t){return n(h(i,t),e,t)},pascalizeKeys:function(e,t){return n(h(o,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=v:t.humps=v}(vk)}(hM);var vM,gM,yM=hM.exports,mM=HA.getConfig("runtime.domainName"),_M={docInfo:"//".concat(mM,"/cgi-bin/online_docs/doc_info"),setTitleColor:"//".concat(mM,"/api/personalize/title/color/set"),docHumtrans:"//".concat(mM,"/cgi-bin/online_docs/doc_humtrans")};!function(e){e[e.OK=0]="OK",e[e.EXCEEDED_LIMIT=10006]="EXCEEDED_LIMIT"}(vM||(vM={})),function(e){e.NORMAL="",e.SVIP="#DB8F1C"}(gM||(gM={}));var bM=new(function(){function e(){}return e.prototype.setTitleColor=function(e){return QA(this,void 0,void 0,(function(){var t;return YA(this,(function(n){switch(n.label){case 0:return[4,pM.post(_M.setTitleColor,{xsrf:KA(),file_id:e.fileId,color:e.color})];case 1:return 0===(t=n.sent()).data.retcode&&this.updateClientVarsPersonalize(e),[2,t.data]}}))}))},e.prototype.getPersonalizeInfo=function(e){var t,n,r;return QA(this,void 0,void 0,(function(){var o,i,a;return YA(this,(function(s){switch(s.label){case 0:return[4,pM.request({method:"GET",url:_M.docInfo,params:{xsrf:KA(),domainId:"300000000",localPadId:e.fileId}})];case 1:if(o=s.sent(),0===(null===(t=o.data)||void 0===t?void 0:t.retcode))return(i=null===(r=null===(n=o.data)||void 0===n?void 0:n.doc_meta)||void 0===r?void 0:r.personalize_info)?[2,{personalizeInfo:yM.camelizeKeys(i)}]:[2,{}];throw a=new Error("CGI.getPersonalizeInfo error"),console.error(a,e,o),a}}))}))},e.prototype.updateClientVarsPersonalize=function(e){return QA(this,void 0,void 0,(function(){var t;return YA(this,(function(n){return(null==(t=this.getPersonalizeInfoFromClientVars())?void 0:t.titleColor)&&(t.titleColor.color=e.color||""),[2]}))}))},e.prototype.getPersonalizeInfoFromClientVars=function(){var e,t,n;return(null===(t=null===(e=null===window||void 0===window?void 0:window.basicClientVars)||void 0===e?void 0:e.docInfo)||void 0===t?void 0:t.personalizeInfo)||(null===(n=null===window||void 0===window?void 0:window.clientVars)||void 0===n?void 0:n.personalizeInfo)||null},e.prototype.docHumtrans=function(){var e,t;return QA(this,void 0,void 0,(function(){var n,r,o,i,a;return YA(this,(function(s){switch(s.label){case 0:if(!(n=null===(t=null===(e=null===window||void 0===window?void 0:window.basicClientVars)||void 0===e?void 0:e.docInfo)||void 0===t?void 0:t.padInfo))return[2];r=n.domainId,o=n.padId,(i=new FormData).set("xsrf",KA()),i.set("domain_id",null!=r?r:""),i.set("pad_id",null!=o?o:""),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,pM.request({method:"POST",url:_M.docHumtrans,data:i})];case 2:return s.sent(),[3,4];case 3:return a=s.sent(),console.error("Invoke CGI.docHumtrans error",a),[3,4];case 4:return[2]}}))}))},e}()),wM=function(){return wM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wM.apply(this,arguments)},EM=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},SM=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},OM={title:"",curTitle:"",showToolTips:!1,shouldShowSuffixThemeLight:!1,isCompositing:!1,padType:null,padId:"",fileExt:"",personalizeInfo:bM.getPersonalizeInfoFromClientVars()||{}};function IM(e){return{state:wM(wM({},OM),{padType:e.getPadType(),padId:e.getPadId()}),reducers:{setTitle:function(e,t){return wM(wM({},e),{title:t})},syncTitle:function(e,t){var n=e.title,r=e.curTitle;return wM(wM({},e),{title:t,curTitle:n===r?t:r})},setCurTitle:function(e,t){return wM(wM({},e),{curTitle:t})},setCompositing:function(e,t){return wM(wM({},e),{isCompositing:t})},setPadType:function(e,t){return wM(wM({},e),{padType:t})},setPadId:function(e,t){return wM(wM({},e),{padId:t})},setFileExt:function(e,t){return wM(wM({},e),{fileExt:t})},setStyles:function(e,t){return wM(wM({},e),{styles:t})},setShouldShowSuffixThemeLight:function(e,t){return wM(wM({},e),{shouldShowSuffixThemeLight:t})},enableToolTips:function(e){return wM(wM({},e),{showToolTips:!0})},disableToolTips:function(e){return wM(wM({},e),{showToolTips:!1})},setPersonalizeInfo:function(e,t){return wM(wM({},e),{personalizeInfo:t})},setPersonalizeTitleColor:function(e,t){var n=e.personalizeInfo;return n.titleColor?n.titleColor.color=t:n.titleColor={color:t,isVip:!1},wM(wM({},e),{personalizeInfo:wM({},n)})}},effects:function(t){return{initialize:function(n){return EM(this,void 0,Promise,(function(){var r,o,i,a,s,c,u,l,f,d,p;return SM(this,(function(h){switch(h.label){case 0:return r=n.initialWidth,o=void 0===r?0:r,i=n.fileExt,a=void 0===i?"":i,s=n.forceDisabled,c=n.isUseOriginKeyboardEvent,u=n.shouldShowSuffixThemeLight,l=n.styles,[4,e.getTitle()];case 1:return f=h.sent(),t.title.setTitle(f),t.title.setCurTitle(f),t.title.setStyles(l),e.setForceDisabled(!!s),e.setIsUseOriginKeyboardEvent(!!c),t.title.setShouldShowSuffixThemeLight(!!u),t.title.setFileExt(a),d=e.getPadType(),p=e.getPadId(),t.title.setPadType(d),t.title.setPadId(p),ar.afterTitleChanged=n.afterTitleChanged,ar.handleTitleFocus=n.handleTitleFocus,ar.handleHistoryLink=n.handleHistoryLink,cr(n.domainConfig),o>Dn&&t.title.enableToolTips(),e.onTitleDidChange((function(e){var n=e.newTitle;t.title.syncTitle(n)})),[2]}}))}))},updateTitleWithoutDomain:function(t){return EM(this,void 0,Promise,(function(){var n,r,o;return SM(this,(function(i){return n=t.title,r=t.domainId,o=t.padId,[2,e.updateTitleWithoutDomain(n,r,o)]}))}))},onNetworkRecovery:function(t){return e.onNetworkRecovery(t)},changeTitle:function(t){return EM(this,void 0,Promise,(function(){var n,r,o,i,a,s,c;return SM(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),n=t.title,r=t.wait,o=t.autoChange,i=void 0!==o&&o,a=e.updateTitle(n,i),this.setCurTitle(n),r?[4,a]:[3,2];case 1:return[2,u.sent()];case 2:return[2,Promise.resolve({})];case 3:return s=u.sent(),c="[title] - effects changeTitle error: ".concat(null==s?void 0:s.message),console.error(s),Nu(c),[2,Promise.reject()];case 4:return[2]}}))}))}}}}}function RM(e){var t={title:IM(e)};return rn({models:t})}var CM=function(e){(0,c.Z)(i,e);var t,n,o=(t=i,n=Jv(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function i(){var e;(0,r.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=o.call.apply(o,[this].concat(n)),(0,f.Z)((0,s.Z)(e),"bootstraped",!1),(0,f.Z)((0,s.Z)(e),"buildAt","5/31/2024, 6:51:12 PM"),(0,f.Z)((0,s.Z)(e),"commitID","143127765d57f504e155afe45b46f1d0831a718f"),(0,f.Z)((0,s.Z)(e),"docsComponentStore",void 0),(0,f.Z)((0,s.Z)(e),"extensionService",void 0),(0,f.Z)((0,s.Z)(e),"domainService",void 0),(0,f.Z)((0,s.Z)(e),"toolService",void 0),(0,f.Z)((0,s.Z)(e),"applicationService",void 0),(0,f.Z)((0,s.Z)(e),"containerService",void 0),(0,f.Z)((0,s.Z)(e),"visible",void 0),(0,f.Z)((0,s.Z)(e),"container",void 0),(0,f.Z)((0,s.Z)(e),"componentName",void 0),e}return(0,a.Z)(i,[{key:"bootstrap",value:function(e){var t,n,r=e.extensionService,o=e.domainService,i=e.toolService,a=e.applicationService,s=e.container,c=e.containerService,u=e.extensionName;this.container=s,this.extensionService=r,this.domainService=o,this.toolService=i,this.applicationService=a,this.containerService=c,this.docsComponentStore={extensionService:r,domainService:o,toolService:i,applicationService:a},null===(t=(n=this.extensionService).fireExtensionEvent)||void 0===t||t.call(n,"onCreate"),this.componentName=u,this.onCreate()}},{key:"show",value:function(e){var t,n;return this.container=this.assertContainerExist(e),null===(t=(n=this.extensionService).fireExtensionEvent)||void 0===t||t.call(n,"onShow"),this.visible=!0,this.onShow(e)}},{key:"hide",value:function(e){var t,n;return null===(t=(n=this.extensionService).fireExtensionEvent)||void 0===t||t.call(n,"onHide"),this.visible=!1,this.onHide(e)}},{key:"dispose",value:function(){var e,t;return null===(e=(t=this.extensionService).fireExtensionEvent)||void 0===e||e.call(t,"onDispose"),this.onDispose()}},{key:"getComponentName",value:function(){return this.componentName}},{key:"getContainer",value:function(e){return this.container=this.assertContainerExist(e),this.container}},{key:"assertContainerExist",value:function(e){var t=null==e?void 0:e.container,n=this.container;return t||n||this.containerService.createContainerIfUnspecified()}}]),i}(Ar.RootDisposable),TM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xM=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},AM=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},kM=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleHistoryLink=function(){return xM(t,void 0,Promise,(function(){var e;return AM(this,(function(t){switch(t.label){case 0:return[4,this.extensionService.getExtension("docs-component-save-tips")];case 1:return null==(e=t.sent())||e.handleUpdate({isModifiedByUser:!0}),[2]}}))}))},t}return TM(t,e),t.prototype.setCurTitle=function(e){"string"==typeof e&&(vr()?console.debug("[title] - title external change locked."):this.store.dispatch.title.setCurTitle(e))},t.prototype.changeTitle=function(e){try{return e?vr()?(console.debug("[title] - title external change locked."),Promise.reject()):this.store.dispatch.title.changeTitle(e):Promise.reject()}catch(n){var t="[title] - changeTitle error: ".concat(null==n?void 0:n.message);return console.error(t),Nu(t),Promise.reject()}},t.prototype.setPersonlizeTitleColor=function(e){this.setPersonalizeTitleColor(e)},t.prototype.setPersonalizeTitleColor=function(e){this.domainService.docMetaDomain.docMetaEntity.padInfo.padId===e.fileId&&this.store.dispatch.title.setPersonalizeTitleColor(e.color)},t.prototype.updateFileExt=function(){console.warn("[title] - updateFileExt is deprecated.")},t.prototype.setCallbacks=function(e){!function(e){Object.assign(ar,ir({},e))}(e)},t.prototype.onCreate=function(){var e=this._register(new Du(this.domainService));or=e,this.store=RM(e)},t.prototype.onShow=function(e){return void 0===e&&(e={container:null}),xM(this,void 0,Promise,(function(){return AM(this,(function(t){return e.handleHistoryLink=this.handleHistoryLink,function(e,t){Ve.render(We().createElement(ze,{store:t},We().createElement(Rr,null)),e)}(e.container?e.container:this.getContainer(),this.store),this.store.dispatch.title.initialize(e),[2]}))}))},t.prototype.onHide=function(){!function(e){Ve.unmountComponentAtNode(e)}(this.getContainer())},t.prototype.onDispose=function(){throw new Error("Method not implemented.")},t}(CM),DM=kM}(),i}()}));
//# sourceMappingURL=docs-component-title.b950e354.js.map