import{u as f}from"./user.6325d836.js";import{u as U,q as B,a as C,r as V,b as l,o as q,c as E,d as e,w as n,f as u,k as d,s as M,E as m}from"./index.e3373b4b.js";const j={__name:"Index",setup(S){const p=U();B(()=>{o()});let _=C([]),h=C(0);const a=V({current:1,size:10,name:""}),o=async()=>{const t=await f.getUserList(a);console.log(t),_.value=t.data.data,console.log(t.data.data),h.value=t.data.total},w=t=>{a.size=t,o()},b=t=>{a.current=t,o()},g=()=>{a.current=1,o()},y=t=>{M.confirm("\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u7528\u6237\u4FE1\u606F\u5417?",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{(await f.delUser({id:t})).data?(m.success("\u5220\u9664\u6210\u529F"),o()):m.error("\u5220\u9664\u5931\u8D25")}).catch(()=>{m({type:"info",message:"\u53D6\u6D88\u5220\u9664"})})};return(t,s)=>{const r=l("el-button"),x=l("el-input"),i=l("el-table-column"),z=l("el-table"),k=l("el-pagination"),v=l("el-card");return q(),E("div",null,[e(v,null,{default:n(()=>[e(x,{style:{width:"440px"},onClear:g,clearable:"",modelValue:a.name,"onUpdate:modelValue":s[0]||(s[0]=c=>a.name=c),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",class:"input-with-select"},{append:n(()=>[e(r,{icon:"Search",onClick:g})]),_:1},8,["modelValue"]),u(" \xA0\xA0\xA0 "),e(r,{type:"primary",onClick:s[1]||(s[1]=()=>d(p).push({path:"/user/save",query:{id:""}}))},{default:n(()=>[u("\u65B0\u589E\u7528\u6237")]),_:1}),e(z,{data:d(_),border:"",style:{width:"100%","margin-top":"20px"}},{default:n(()=>[e(i,{prop:"id",label:"id",width:"180"}),e(i,{prop:"username",label:"\u7528\u6237\u540D",width:"180"}),e(i,{prop:"roleid",label:"\u89D2\u8272",width:"180"}),e(i,{prop:"status",label:"\u72B6\u6001",width:"180"}),e(i,{label:"\u64CD\u4F5C",width:"330"},{default:n(c=>[e(r,{type:"danger",size:"small",onClick:T=>y(c.row.id)},{default:n(()=>[u("\u5220\u9664")]),_:2},1032,["onClick"]),e(r,{size:"small",onClick:()=>d(p).push({path:"/user/detail",query:{id:c.row.id}})},{default:n(()=>[u("\u8BE6\u60C5")]),_:2},1032,["onClick"]),e(r,{size:"small",onClick:()=>d(p).push({path:"/user/detail",query:{id:c.row.id,edit:1}})},{default:n(()=>[u("\u7F16\u8F91")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(k,{style:{"margin-top":"20px"},"current-page":a.current,"page-size":a.size,"page-sizes":[10,20,30,40],layout:"->,total, sizes, prev, pager, next, jumper",total:d(h),onSizeChange:w,onCurrentChange:b},null,8,["current-page","page-size","total"])]),_:1})])}}};export{j as default};
