import{m as C,n as q,r as h,a as w,o as B,b as r,c as m,d as p,e as t,w as a,f as b,u as c,h as d,C as F,E as f}from"./index.82fae7dd.js";import{u as R}from"./user.982909f2.js";const E={class:"card-header"},I=b("span",null,"\u83DC\u5355\u4FE1\u606F\u6DFB\u52A0",-1),M={key:0},N={key:1},S={__name:"Add",setup($){const _=C(),V=q(),e=h({menuId:"",cname:"",ename:"",path:"",component:"",icon:"",pid:"",sort:""});w([]),B(async()=>{e.menuId="",e.cname="",e.ename="",e.path="",e.component="",e.icon="",e.pid="",e.sort=""});const u=w(),g=h({cname:[{required:!0,message:"\u83DC\u5355\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],path:[{required:!0,message:"\u8BF7\u6C42\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],component:[{required:!0,message:"\u83DC\u5355\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),v=()=>{!u||u.value.validate(async y=>{if(y){const l=await R.saveMenu(e);l.data!=null?l.data?(f.info("\u65B0\u589E\u83DC\u5355\u6210\u529F"),V.push("/menu/list")):f.error("\u65B0\u589E\u83DC\u5355\u5931\u8D25"):f.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return!1})},x=()=>{!u||u.value.resetFields()};return(y,l)=>{const i=r("el-button"),n=r("el-form-item"),s=r("el-input"),k=r("el-form"),U=r("el-card");return m(),p("div",null,[t(U,null,{header:a(()=>[b("div",E,[I,t(i,{size:"mini",style:{float:"right"},onClick:l[0]||(l[0]=o=>c(V).go(-1))},{default:a(()=>[d("\u8FD4\u56DE")]),_:1}),d("\xA0\xA0\xA0 ")])]),default:a(()=>[t(k,{model:e,rules:g,ref_key:"ruleFormRef",ref:u},{default:a(()=>[c(_).query.edit=="1"?(m(),p("p",M,[t(n,{label:"\u83DC\u5355\u7F16\u53F7:"},{default:a(()=>[d(F(c(_).query.menuId),1)]),_:1})])):(m(),p("p",N)),t(n,{label:"\u83DC\u5355\u540D\u79F0:"},{default:a(()=>[t(s,{modelValue:e.cname,"onUpdate:modelValue":l[1]||(l[1]=o=>e.cname=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u83DC\u5355\u82F1\u6587\u540D:"},{default:a(()=>[t(s,{modelValue:e.ename,"onUpdate:modelValue":l[2]||(l[2]=o=>e.ename=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u82F1\u6587\u540D",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u8BF7\u6C42\u5730\u5740:"},{default:a(()=>[t(s,{modelValue:e.path,"onUpdate:modelValue":l[3]||(l[3]=o=>e.path=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u8BF7\u6C42\u5730\u5740",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u83DC\u5355\u8DEF\u5F84:"},{default:a(()=>[t(s,{modelValue:e.component,"onUpdate:modelValue":l[4]||(l[4]=o=>e.component=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u8DEF\u5F84",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u83DC\u5355\u56FE\u6807:"},{default:a(()=>[t(s,{modelValue:e.icon,"onUpdate:modelValue":l[5]||(l[5]=o=>e.icon=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u56FE\u6807",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u7236\u7EA7\u83DC\u5355:"},{default:a(()=>[t(s,{modelValue:e.pid,"onUpdate:modelValue":l[6]||(l[6]=o=>e.pid=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u7236\u7EA7\u83DC\u5355",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u83DC\u5355\u6392\u5E8F:"},{default:a(()=>[t(s,{modelValue:e.sort,"onUpdate:modelValue":l[7]||(l[7]=o=>e.sort=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u6392\u5E8F",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(i,{type:"primary",onClick:l[8]||(l[8]=o=>v())},{default:a(()=>[d("\u4FDD\u5B58")]),_:1}),t(i,{type:"primary",onClick:l[9]||(l[9]=o=>x())},{default:a(()=>[d("\u91CD\u7F6E")]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}};export{S as default};
