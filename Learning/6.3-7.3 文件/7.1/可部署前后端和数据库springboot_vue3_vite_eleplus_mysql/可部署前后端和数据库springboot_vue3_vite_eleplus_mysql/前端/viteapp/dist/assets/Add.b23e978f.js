import{m as C,n as R,r as g,a as b,o as q,b as a,c as d,d as m,e as t,w as l,f as V,u as p,h as n,C as B,E as c}from"./index.82fae7dd.js";import{u as F}from"./user.982909f2.js";const E={class:"card-header"},I=V("span",null,"\u89D2\u8272\u4FE1\u606F\u6DFB\u52A0",-1),$={key:0},A={key:1},U={__name:"Add",setup(D){const f=C(),_=R(),o=g({roleId:"",roleName:"",description:""});b([]),q(async()=>{o.roleName="",o.description="",o.roleId=""});const s=b(),k=g({roleName:[{required:!0,message:"\u89D2\u8272\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],description:[{required:!0,message:"\u89D2\u8272\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),N=()=>{!s||s.value.validate(async y=>{if(y){const e=await F.saveRole(o);e.data!=null?e.data?(c.info("\u65B0\u589E\u89D2\u8272\u6210\u529F"),_.push("/role/list")):c.error("\u65B0\u589E\u89D2\u8272\u5931\u8D25"):c.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return!1})},h=()=>{!s||s.value.resetFields()};return(y,e)=>{const u=a("el-button"),i=a("el-form-item"),v=a("el-input"),w=a("el-form"),x=a("el-card");return d(),m("div",null,[t(x,null,{header:l(()=>[V("div",E,[I,t(u,{size:"mini",style:{float:"right"},onClick:e[0]||(e[0]=r=>p(_).go(-1))},{default:l(()=>[n("\u8FD4\u56DE")]),_:1}),n("\xA0\xA0\xA0 ")])]),default:l(()=>[t(w,{model:o,rules:k,ref_key:"ruleFormRef",ref:s},{default:l(()=>[p(f).query.edit=="1"?(d(),m("p",$,[t(i,{label:"\u89D2\u8272\u7F16\u53F7:"},{default:l(()=>[n(B(p(f).query.roleId),1)]),_:1})])):(d(),m("p",A)),t(i,{label:"\u89D2\u8272\u540D\u79F0:"},{default:l(()=>[t(v,{modelValue:o.roleName,"onUpdate:modelValue":e[1]||(e[1]=r=>o.roleName=r),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(i,{label:"\u89D2\u8272\u63CF\u8FF0:"},{default:l(()=>[t(v,{modelValue:o.description,"onUpdate:modelValue":e[2]||(e[2]=r=>o.description=r),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u63CF\u8FF0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(u,{type:"primary",onClick:e[3]||(e[3]=r=>N())},{default:l(()=>[n("\u4FDD\u5B58")]),_:1}),t(u,{type:"primary",onClick:e[4]||(e[4]=r=>h())},{default:l(()=>[n("\u91CD\u7F6E")]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}};export{U as default};
