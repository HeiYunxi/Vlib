import{m as q,n as B,r as b,a as h,o as F,b as r,c as m,d as c,e as t,w as a,f as v,u as f,h as d,C as R,E as _}from"./index.82fae7dd.js";import{u as E}from"./user.982909f2.js";const $={class:"card-header"},A=v("span",null,"\u7528\u6237\u4FE1\u606F\u6DFB\u52A0",-1),D={key:0},I={key:1},T={__name:"Add",setup(M){const y=q(),V=B(),e=b({userId:"",userName:"",account:"",email:"",password:"",intro:"",phone:"",type:""});h([]),F(async()=>{e.userName="",e.account="",e.password="",e.email="",e.intro="",e.phone="",e.type="0"});const n=h(),g=b({userName:[{required:!0,message:"\u59D3\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],account:[{required:!0,message:"\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),x=()=>{!n||n.value.validate(async w=>{if(w){const l=await E.saveUser(e);l.data!=null?l.data?(_.info("\u65B0\u589E\u7528\u6237\u6210\u529F"),V.push("/user/list")):_.error("\u65B0\u589E\u5931\u8D25"):_.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return alert(1),!1})},k=()=>{!n||n.value.resetFields()};return(w,l)=>{const i=r("el-button"),s=r("el-form-item"),u=r("el-input"),p=r("el-option"),N=r("el-select"),U=r("el-form"),C=r("el-card");return m(),c("div",null,[t(C,null,{header:a(()=>[v("div",$,[A,t(i,{size:"mini",style:{float:"right"},onClick:l[0]||(l[0]=o=>f(V).go(-1))},{default:a(()=>[d("\u8FD4\u56DE")]),_:1}),d("\xA0\xA0\xA0 ")])]),default:a(()=>[t(U,{model:e,rules:g,ref_key:"ruleFormRef",ref:n},{default:a(()=>[f(y).query.edit=="1"?(m(),c("p",D,[t(s,{label:"\u7F16\u53F7:"},{default:a(()=>[d(R(f(y).query.userId),1)]),_:1})])):(m(),c("p",I)),t(s,{label:"\u7528\u6237\u540D:"},{default:a(()=>[t(u,{modelValue:e.userName,"onUpdate:modelValue":l[1]||(l[1]=o=>e.userName=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u8D26\xA0\xA0\xA0\xA0\u53F7:"},{default:a(()=>[t(u,{modelValue:e.account,"onUpdate:modelValue":l[2]||(l[2]=o=>e.account=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u90AE\xA0\xA0\xA0\xA0\u7BB1:"},{default:a(()=>[t(u,{modelValue:e.email,"onUpdate:modelValue":l[3]||(l[3]=o=>e.email=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u5BC6\xA0\xA0\xA0\xA0\u7801:"},{default:a(()=>[t(u,{modelValue:e.password,"onUpdate:modelValue":l[4]||(l[4]=o=>e.password=o),type:"password",style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u7B80\xA0\xA0\xA0\xA0\u4ECB:"},{default:a(()=>[t(u,{modelValue:e.intro,"onUpdate:modelValue":l[5]||(l[5]=o=>e.intro=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u7B80\u4ECB",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u624B\u673A\u53F7:"},{default:a(()=>[t(u,{modelValue:e.phone,"onUpdate:modelValue":l[6]||(l[6]=o=>e.phone=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u89D2\xA0\xA0\xA0\xA0\u8272:"},{default:a(()=>[t(N,{modelValue:e.type,"onUpdate:modelValue":l[7]||(l[7]=o=>e.type=o),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",selected:1},{default:a(()=>[t(p,{label:"\u5B66\u751F",value:"0"}),t(p,{label:"\u6559\u5E08",value:"1"}),t(p,{label:"\u7BA1\u7406\u5458",value:"2"})]),_:1},8,["modelValue"])]),_:1}),t(i,{type:"primary",onClick:l[8]||(l[8]=o=>x())},{default:a(()=>[d("\u4FDD\u5B58")]),_:1}),t(i,{type:"primary",onClick:l[9]||(l[9]=o=>k())},{default:a(()=>[d("\u91CD\u7F6E")]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}};export{T as default};
