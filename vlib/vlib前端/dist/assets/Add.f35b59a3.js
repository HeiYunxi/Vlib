import{l as q,m as C,r as w,a as h,n as I,b as r,o as m,c as p,d as t,w as a,e as b,u as c,f as d,y as B,E as f}from"./index.36f971ea.js";import{u as D}from"./menu.58686872.js";import"./http.67206c72.js";const F={class:"card-header"},R=b("span",null,"\u6DFB\u52A0\u83DC\u5355",-1),E={key:0},M={key:1},z={__name:"Add",setup(N){const _=q(),V=C(),e=w({menuId:"",cname:"",ename:"",path:"",component:"",icon:"",pid:"",sort:""});h([]),I(async()=>{e.cname="",e.ename="",e.path="",e.component="",e.icon="",e.pid="",e.sort=""});const u=h(),g=w({cname:[{required:!0,message:"\u83DC\u5355\u4E2D\u6587\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],path:[{required:!0,message:"\u83DC\u5355\u8BF7\u6C42\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],component:[{required:!0,message:"\u83DC\u5355\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),v=()=>{!u||u.value.validate(async y=>{if(y){const l=await D.saveMenuInfo(e);l.data!=null?l.data?(f.info("\u65B0\u589E\u83DC\u5355\u6210\u529F"),V.push("/menu/list")):f.error("\u65B0\u589E\u5931\u8D25"):f.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return alert(1),!1})},x=()=>{!u||u.value.resetFields()};return(y,l)=>{const i=r("el-button"),n=r("el-form-item"),s=r("el-input"),k=r("el-form"),U=r("el-card");return m(),p("div",null,[t(U,null,{header:a(()=>[b("div",F,[R,t(i,{size:"mini",style:{float:"right"},onClick:l[0]||(l[0]=o=>c(V).go(-1))},{default:a(()=>[d("\u8FD4\u56DE")]),_:1}),d("\xA0\xA0\xA0 ")])]),default:a(()=>[t(k,{model:e,rules:g,ref_key:"ruleFormRef",ref:u},{default:a(()=>[c(_).query.edit=="1"?(m(),p("p",E,[t(n,{label:"\u83DC\u5355\u7F16\u53F7:"},{default:a(()=>[d(B(c(_).query.menuId),1)]),_:1})])):(m(),p("p",M)),t(n,{label:"\u83DC\u5355\u4E2D\u6587\u540D\u79F0:"},{default:a(()=>[t(s,{modelValue:e.cname,"onUpdate:modelValue":l[1]||(l[1]=o=>e.cname=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u4E2D\u6587\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u83DC\u5355\u82F1\u6587\u540D\u79F0:"},{default:a(()=>[t(s,{modelValue:e.ename,"onUpdate:modelValue":l[2]||(l[2]=o=>e.ename=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u82F1\u6587\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u83DC\u5355\u8BF7\u6C42\u5730\u5740:"},{default:a(()=>[t(s,{modelValue:e.path,"onUpdate:modelValue":l[3]||(l[3]=o=>e.path=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u8BF7\u6C42\u5730\u5740",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u83DC\xA0\xA0\u5355\xA0\xA0\u8DEF\xA0\xA0\u5F84:"},{default:a(()=>[t(s,{modelValue:e.component,"onUpdate:modelValue":l[4]||(l[4]=o=>e.component=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u8DEF\u5F84",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u83DC\xA0\xA0\u5355\xA0\xA0\u56FE\xA0\xA0\u6807:"},{default:a(()=>[t(s,{modelValue:e.icon,"onUpdate:modelValue":l[5]||(l[5]=o=>e.icon=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u56FE\u6807",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u83DC\xA0\xA0\u5355\xA0\xA0\u7236\xA0\xA0ID:"},{default:a(()=>[t(s,{modelValue:e.pid,"onUpdate:modelValue":l[6]||(l[6]=o=>e.pid=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u7236ID",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u83DC\xA0\xA0\u5355\xA0\xA0\u987A\xA0\xA0\u5E8F:"},{default:a(()=>[t(s,{modelValue:e.sort,"onUpdate:modelValue":l[7]||(l[7]=o=>e.sort=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u987A\u5E8F",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(i,{type:"primary",onClick:l[8]||(l[8]=o=>v())},{default:a(()=>[d("\u4FDD\u5B58")]),_:1}),t(i,{type:"primary",onClick:l[9]||(l[9]=o=>x())},{default:a(()=>[d("\u91CD\u7F6E")]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}};export{z as default};
