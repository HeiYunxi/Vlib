import{l as C,m as B,r as b,a as v,n as F,b as r,o as f,c,d as t,w as a,e as g,u as _,f as d,y as R,E as i}from"./index.36f971ea.js";import{u as E}from"./user.d8d3d080.js";import"./http.67206c72.js";const $={class:"card-header"},A=g("span",null,"\u7528\u6237\u4FE1\u606F",-1),D={key:0},I={key:1},j={__name:"Add",setup(M){const y=C(),V=B(),l=b({userId:"",userName:"",account:"",password:"",intro:"",email:"",phone:"",type:""});v([]),F(async()=>{l.userName="",l.account="",l.password="",l.intro="",l.email="",l.phone="",l.type="1"});const n=v(),h=b({userName:[{required:!0,message:"\u59D3\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],account:[{required:!0,message:"\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),x=()=>{!n||n.value.validate(async w=>{if(w){const e=await E.saveUser(l);e.data!=null?e.data?e.data.data==0?i.error("\u8BE5\u8D26\u53F7\u5DF2\u6CE8\u518C"):(i.info("\u65B0\u589E\u7528\u6237\u6210\u529F"),V.push("/user/list")):i.error("\u65B0\u589E\u5931\u8D25"):i.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return alert(1),!1})},k=()=>{!n||n.value.resetFields()};return(w,e)=>{const p=r("el-button"),s=r("el-form-item"),u=r("el-input"),m=r("el-option"),N=r("el-select"),U=r("el-form"),q=r("el-card");return f(),c("div",null,[t(q,null,{header:a(()=>[g("div",$,[A,t(p,{size:"mini",style:{float:"right"},onClick:e[0]||(e[0]=o=>_(V).go(-1))},{default:a(()=>[d("\u8FD4\u56DE")]),_:1}),d("\xA0\xA0\xA0 ")])]),default:a(()=>[t(U,{model:l,rules:h,ref_key:"ruleFormRef",ref:n},{default:a(()=>[_(y).query.edit=="1"?(f(),c("p",D,[t(s,{label:"\u7F16\u53F7:"},{default:a(()=>[d(R(_(y).query.userId),1)]),_:1})])):(f(),c("p",I)),t(s,{label:"\u59D3\xA0\xA0\xA0\xA0\u540D:"},{default:a(()=>[t(u,{modelValue:l.userName,"onUpdate:modelValue":e[1]||(e[1]=o=>l.userName=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u59D3\u540D",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u8D26\xA0\xA0\xA0\xA0\u53F7:"},{default:a(()=>[t(u,{modelValue:l.account,"onUpdate:modelValue":e[2]||(e[2]=o=>l.account=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u90AE\xA0\xA0\xA0\xA0\u7BB1:"},{default:a(()=>[t(u,{modelValue:l.email,"onUpdate:modelValue":e[3]||(e[3]=o=>l.email=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u5BC6\xA0\xA0\xA0\xA0\u7801:"},{default:a(()=>[t(u,{modelValue:l.password,"onUpdate:modelValue":e[4]||(e[4]=o=>l.password=o),type:"password",style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u7B80\xA0\xA0\xA0\xA0\u4ECB:"},{default:a(()=>[t(u,{modelValue:l.intro,"onUpdate:modelValue":e[5]||(e[5]=o=>l.intro=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u7B80\u4ECB",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u624B\u673A\u53F7:"},{default:a(()=>[t(u,{modelValue:l.phone,"onUpdate:modelValue":e[6]||(e[6]=o=>l.phone=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u89D2\xA0\xA0\xA0\xA0\u8272:"},{default:a(()=>[t(N,{modelValue:l.type,"onUpdate:modelValue":e[7]||(e[7]=o=>l.type=o),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272\u7C7B\u578B",selected:1},{default:a(()=>[t(m,{label:"\u5B66\u751F",value:"1"}),t(m,{label:"\u6559\u5E08",value:"2"}),t(m,{label:"\u7BA1\u7406\u5458",value:"3"})]),_:1},8,["modelValue"])]),_:1}),t(p,{type:"primary",onClick:e[8]||(e[8]=o=>x())},{default:a(()=>[d("\u4FDD\u5B58")]),_:1}),t(p,{type:"primary",onClick:e[9]||(e[9]=o=>k())},{default:a(()=>[d("\u91CD\u7F6E")]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}};export{j as default};
