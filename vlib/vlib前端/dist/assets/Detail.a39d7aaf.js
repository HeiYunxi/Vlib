import{l as q,m as D,r as w,a as h,n as B,b as u,o as i,c as p,d as t,w as n,e as x,f as c,u as f,E as V}from"./index.36f971ea.js";import{u as b}from"./menu.58686872.js";import"./http.67206c72.js";const C={class:"card-header"},M=x("span",null,"\u83DC\u5355\u8BE6\u60C5",-1),R={key:0},E={key:1},A={__name:"Detail",setup(N){const r=q(),_=D(),e=w({menuId:"",cname:"",ename:"",path:"",component:"",icon:"",pid:"",sort:""}),I=h([]);B(async()=>{if(r.query.menuId){const o=await b.getMenuDetail({menuId:r.query.menuId});console.log(o.data.data),I.value=o.data.data,e.menuId=o.data.data[0].menuId,e.cname=o.data.data[0].cname,e.ename=o.data.data[0].ename,e.path=o.data.data[0].path,e.component=o.data.data[0].component,e.icon=o.data.data[0].icon,e.pid=o.data.data[0].pid,e.sort=o.data.data[0].sort}});const m=h(),g=w({cname:[{required:!0,message:"\u83DC\u5355\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],path:[{required:!0,message:"\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),v=()=>{!m||m.value.validate(async o=>{if(o){const l=await b.updateMenu(e);l.data!=null?l.data?(V.info("\u4FEE\u6539\u6210\u529F"),_.push("/menu/list")):V.error("\u4FEE\u6539\u5931\u8D25"):V.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return alert(1),!1})};return(o,l)=>{const y=u("el-button"),d=u("el-input"),s=u("el-form-item"),U=u("el-form"),k=u("el-card");return i(),p("div",null,[t(k,{class:"box-card"},{header:n(()=>[x("div",C,[M,c("\xA0\xA0\xA0 "),t(y,{size:"mini",style:{float:"right"},onClick:l[0]||(l[0]=a=>f(_).go(-1))},{default:n(()=>[c("\u8FD4\u56DE")]),_:1})])]),default:n(()=>[t(U,{model:e,rules:g,ref_key:"ruleFormRef",ref:m},{default:n(()=>[t(s,{label:"\u7F16\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u53F7:"},{default:n(()=>[t(d,{modelValue:e.menuId,"onUpdate:modelValue":l[1]||(l[1]=a=>e.menuId=a),style:{width:"300px"},readonly:!0,class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u83DC\xA0\xA0\u5355\xA0\xA0\u540D\xA0\xA0\u79F0:"},{default:n(()=>[t(d,{modelValue:e.cname,"onUpdate:modelValue":l[2]||(l[2]=a=>e.cname=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u4E2D\u6587\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u83DC\u5355\u82F1\u6587\u540D\u79F0:"},{default:n(()=>[t(d,{modelValue:e.ename,"onUpdate:modelValue":l[3]||(l[3]=a=>e.ename=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u82F1\u6587\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u83DC\u5355\u8BF7\u6C42\u5730\u5740:"},{default:n(()=>[t(d,{modelValue:e.path,"onUpdate:modelValue":l[4]||(l[4]=a=>e.path=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u8BF7\u6C42\u5730\u5740",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u83DC\xA0\xA0\u5355\xA0\xA0\u8DEF\xA0\xA0\u5F84:"},{default:n(()=>[t(d,{modelValue:e.component,"onUpdate:modelValue":l[5]||(l[5]=a=>e.component=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u8DEF\u5F84",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u83DC\xA0\xA0\u5355\xA0\xA0\u56FE\xA0\xA0\u6807:"},{default:n(()=>[t(d,{modelValue:e.icon,"onUpdate:modelValue":l[6]||(l[6]=a=>e.icon=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u56FE\u6807",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u83DC\xA0\xA0\u5355\xA0\xA0\u7236\xA0\xA0ID:"},{default:n(()=>[t(d,{modelValue:e.pid,"onUpdate:modelValue":l[7]||(l[7]=a=>e.pid=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u7236ID",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u83DC\xA0\xA0\u5355\xA0\xA0\u987A\xA0\xA0\u5E8F:"},{default:n(()=>[t(d,{modelValue:e.sort,"onUpdate:modelValue":l[8]||(l[8]=a=>e.sort=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u987A\u5E8F",class:"input-with-select"},null,8,["modelValue"])]),_:1}),f(r).query.menuId==""||f(r).query.edit=="1"?(i(),p("p",R,[t(y,{type:"primary",onClick:l[9]||(l[9]=a=>v())},{default:n(()=>[c("\u4FDD\u5B58")]),_:1})])):(i(),p("p",E))]),_:1},8,["model","rules"])]),_:1})])}}};export{A as default};
