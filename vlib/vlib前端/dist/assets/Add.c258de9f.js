import{l as C,m as R,r as g,a as b,n as q,b as a,o as m,c as p,d as t,w as o,e as V,u as c,f as n,y as B,E as i}from"./index.36f971ea.js";import{u as F}from"./role.fdaa2ab1.js";import"./http.67206c72.js";const E={class:"card-header"},I=V("span",null,"\u89D2\u8272\u4FE1\u606F",-1),$={key:0},A={key:1},z={__name:"Add",setup(D){const f=C(),_=R(),l=g({roleId:"",roleName:"",description:""});b([]),q(async()=>{l.roleName="",l.description=""});const s=b(),k=g({roleName:[{required:!0,message:"\u89D2\u8272\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],description:[{required:!0,message:"\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),N=()=>{!s||s.value.validate(async y=>{if(y){const e=await F.saveRoleInfo(l);e.data!=null?e.data?e.data.data==0?i.error("\u8BE5\u89D2\u8272\u5DF2\u5B58\u5728"):(i.info("\u65B0\u589E\u89D2\u8272\u6210\u529F"),_.push("/role/list")):i.error("\u65B0\u589E\u5931\u8D25"):i.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return alert(1),!1})},w=()=>{!s||s.value.resetFields()};return(y,e)=>{const u=a("el-button"),d=a("el-form-item"),v=a("el-input"),h=a("el-form"),x=a("el-card");return m(),p("div",null,[t(x,null,{header:o(()=>[V("div",E,[I,t(u,{size:"mini",style:{float:"right"},onClick:e[0]||(e[0]=r=>c(_).go(-1))},{default:o(()=>[n("\u8FD4\u56DE")]),_:1}),n("\xA0\xA0\xA0 ")])]),default:o(()=>[t(h,{model:l,rules:k,ref_key:"ruleFormRef",ref:s},{default:o(()=>[c(f).query.edit=="1"?(m(),p("p",$,[t(d,{label:"\u7F16\u53F7:"},{default:o(()=>[n(B(c(f).query.roleId),1)]),_:1})])):(m(),p("p",A)),t(d,{label:"\u89D2\xA0\xA0\xA0\xA0\u8272:"},{default:o(()=>[t(v,{modelValue:l.roleName,"onUpdate:modelValue":e[1]||(e[1]=r=>l.roleName=r),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(d,{label:"\u63CF\xA0\xA0\xA0\xA0\u8FF0:"},{default:o(()=>[t(v,{modelValue:l.description,"onUpdate:modelValue":e[2]||(e[2]=r=>l.description=r),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u63CF\u8FF0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(u,{type:"primary",onClick:e[3]||(e[3]=r=>N())},{default:o(()=>[n("\u4FDD\u5B58")]),_:1}),t(u,{type:"primary",onClick:e[4]||(e[4]=r=>w())},{default:o(()=>[n("\u91CD\u7F6E")]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}};export{z as default};
