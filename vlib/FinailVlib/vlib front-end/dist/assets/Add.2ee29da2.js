import{m as C,n as U,r as V,a as N,o as q,b as n,c as p,d as c,e as a,w as o,f as w,u as f,h as d,t as B,E as i}from"./index.cc30dbfe.js";import{u as F}from"./lab.fc26e40c.js";import"./http.f2a51fde.js";const I={class:"card-header"},R=w("span",null,"\u6DFB\u52A0\u5B9E\u9A8C\u5BA4",-1),E={key:0},$={key:1},z={__name:"Add",setup(A){const b=C(),_=U(),l=V({labId:"",labNumber:"",labName:"",local:"",capacity:"",area:""});N([]),q(async()=>{l.labName="",l.labNumber="",l.local="",l.capacity="",l.area=""});const s=N(),v=V({labNumber:[{required:!0,message:"\u5B9E\u9A8C\u5BA4\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],labName:[{required:!0,message:"\u5B9E\u9A8C\u5BA4\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),g=()=>{!s||s.value.validate(async y=>{if(y){const e=await F.saveLabInfo(l);e.data!=null?e.data?e.data.data==0?i.error("\u8BE5\u5B9E\u9A8C\u5BA4\u5DF2\u6CE8\u518C"):(i.info("\u65B0\u589E\u5B9E\u9A8C\u5BA4\u6210\u529F"),_.push("/lab/list")):i.error("\u65B0\u589E\u5931\u8D25"):i.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return i.error("\u683C\u5F0F\u9519\u8BEF"),!1})},h=()=>{!s||s.value.resetFields()};return(y,e)=>{const m=n("el-button"),r=n("el-form-item"),u=n("el-input"),x=n("el-form"),k=n("el-card");return p(),c("div",null,[a(k,null,{header:o(()=>[w("div",I,[R,a(m,{size:"mini",style:{float:"right"},onClick:e[0]||(e[0]=t=>f(_).go(-1))},{default:o(()=>[d("\u8FD4\u56DE")]),_:1}),d("\xA0\xA0\xA0 ")])]),default:o(()=>[a(x,{model:l,rules:v,ref_key:"ruleFormRef",ref:s},{default:o(()=>[f(b).query.edit=="1"?(p(),c("p",E,[a(r,{label:"\u5B9E\u9A8C\u5BA4Id:"},{default:o(()=>[d(B(f(b).query.labId),1)]),_:1})])):(p(),c("p",$)),a(r,{label:"\u5B9E\u9A8C\u5BA4\u7F16\u53F7:",prop:"labNumber"},{default:o(()=>[a(u,{modelValue:l.labNumber,"onUpdate:modelValue":e[1]||(e[1]=t=>l.labNumber=t),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u5B9E\u9A8C\u5BA4\u7F16\u53F7",class:"input-with-select"},null,8,["modelValue"])]),_:1}),a(r,{label:"\u5B9E\u9A8C\u5BA4\u540D\u79F0:",prop:"labName"},{default:o(()=>[a(u,{modelValue:l.labName,"onUpdate:modelValue":e[2]||(e[2]=t=>l.labName=t),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u5B9E\u9A8C\u5BA4\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),a(r,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u4F4D\u7F6E:"},{default:o(()=>[a(u,{modelValue:l.local,"onUpdate:modelValue":e[3]||(e[3]=t=>l.local=t),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u4F4D\u7F6E",class:"input-with-select"},null,8,["modelValue"])]),_:1}),a(r,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u5BB9\u91CF:"},{default:o(()=>[a(u,{modelValue:l.capacity,"onUpdate:modelValue":e[4]||(e[4]=t=>l.capacity=t),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u5BB9\u91CF",class:"input-with-select"},null,8,["modelValue"])]),_:1}),a(r,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u9762\u79EF:"},{default:o(()=>[a(u,{modelValue:l.area,"onUpdate:modelValue":e[5]||(e[5]=t=>l.area=t),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u9762\u79EF",class:"input-with-select"},null,8,["modelValue"])]),_:1}),a(m,{type:"primary",onClick:e[6]||(e[6]=t=>g())},{default:o(()=>[d("\u4FDD\u5B58")]),_:1}),a(m,{type:"primary",onClick:e[7]||(e[7]=t=>h())},{default:o(()=>[d("\u91CD\u7F6E")]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}};export{z as default};
