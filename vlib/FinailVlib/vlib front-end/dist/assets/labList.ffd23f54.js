import{a as u,n as z,z as S,r as k,b as r,c as L,d as I,e,w as s,f as w,h as c,u as d,D as V,G as D}from"./index.cc30dbfe.js";import{u as B}from"./lab.fc26e40c.js";import{F}from"./FileSaver.min.212c967c.js";import{u as q,w as A}from"./xlsx.030dfc28.js";import"./http.f2a51fde.js";const E=w("p",null,"\u5B9E\u9A8C\u5BA4\u5217\u8868",-1),$={__name:"labList",setup(T){u(!1);const g=z();S(()=>{p()});let b=u([]),m=u(0);const t=k({pageNum:1,pageSize:10,labName:""}),p=async()=>{const l=await B.getLabList(t);console.log(l),b.value=l.data.data,console.log(l.data.data),m.value=l.data.total},f=l=>{t.pageSize=l,p()},y=l=>{t.pageNum=l,p()},h=()=>{t.pageNum=1,p()},x=()=>{var l=q.table_to_book(document.querySelector("#Lab-table-export"),{raw:!0}),o=A(l,{bookType:"xlsx",book:!0,type:"array"});try{F.saveAs(new Blob([o],{type:"appliction/octet-stream"}),"\u5B9E\u9A8C\u5BA4\u5217\u8868.xlsx")}catch(n){typeof console<"u"&&console.log(n,o)}return o};return(l,o)=>{const n=r("el-button"),N=r("el-input"),a=r("el-table-column"),_=r("el-table"),v=r("el-pagination"),C=r("el-card");return L(),I("div",null,[E,e(C,null,{default:s(()=>[e(N,{style:{width:"440px"},onClear:h,clearable:"",modelValue:t.labName,"onUpdate:modelValue":o[1]||(o[1]=i=>t.labName=i),placeholder:"\u8BF7\u8F93\u5165\u5B9E\u9A8C\u5BA4\u540D\u79F0",class:"input-with-select"},{append:s(()=>[e(n,{icon:"Search",onClick:o[0]||(o[0]=i=>h())})]),_:1},8,["modelValue"]),c(" \xA0\xA0\xA0 "),e(n,{class:"btn-seal",onClick:x},{default:s(()=>[c("\u5BFC\u51FA\u7ED3\u679C")]),_:1}),c(" \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 \xA0\xA0\xA0\xA0\xA0\xA0\xA0 \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 "),e(_,{id:"Lab-table",data:d(b),border:"",style:{width:"100%","margin-top":"20px"}},{default:s(()=>[e(a,{class:"table",id:"col",prop:"labId",label:"ID",width:"50"}),e(a,{class:"table",id:"col",prop:"labNumber",label:"\u5B9E\u9A8C\u5BA4\u7F16\u53F7",width:"150"}),e(a,{class:"table",id:"col",prop:"labName",label:"\u5B9E\u9A8C\u5BA4\u540D\u79F0",width:"150"}),e(a,{class:"table",id:"col",prop:"position",label:"\u4F4D\u7F6E",width:"80"}),e(a,{class:"table",id:"col",prop:"capacity",label:"\u5BB9\u91CF",width:"100"}),e(a,{class:"table",id:"col",prop:"area",label:"\u9762\u79EF",width:"80"}),e(a,{class:"table",id:"col",prop:"managerName",label:"\u7BA1\u7406\u6559\u5E08",width:"100"}),e(a,{label:"\u64CD\u4F5C",width:"430"},{default:s(i=>[e(n,{size:"small",type:"primary",onClick:()=>d(g).push({path:"/lab/detail",query:{labId:i.row.labId}})},{default:s(()=>[c(" \u8BE6\u60C5 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),V(w("div",null,[e(_,{id:"Lab-table-export",data:d(b),border:"",style:{width:"100%","margin-top":"20px"}},{default:s(()=>[e(a,{class:"table",id:"col",prop:"labId",label:"ID",width:"50"}),e(a,{class:"table",id:"col",prop:"labNumber",label:"\u5B9E\u9A8C\u5BA4\u7F16\u53F7",width:"150"}),e(a,{class:"table",id:"col",prop:"labName",label:"\u5B9E\u9A8C\u5BA4\u540D\u79F0",width:"150"}),e(a,{class:"table",id:"col",prop:"position",label:"\u4F4D\u7F6E",width:"80"}),e(a,{class:"table",id:"col",prop:"capacity",label:"\u5BB9\u91CF",width:"100"}),e(a,{class:"table",id:"col",prop:"area",label:"\u9762\u79EF",width:"80"}),e(a,{class:"table",id:"col",prop:"managerName",label:"\u7BA1\u7406\u6559\u5E08",width:"100"})]),_:1},8,["data"])],512),[[D,!1]]),e(v,{style:{"margin-top":"20px"},"current-page":t.pageNum,"page-size":t.pageSize,"page-sizes":[10,20,30,40],layout:"->,total, sizes, prev, pager, next, jumper",total:d(m),onSizeChange:f,onCurrentChange:y},null,8,["current-page","page-size","total"])]),_:1})])}}};export{$ as default};
