import{m as U,n as q,r as h,a as w,o as B,b as u,c as i,d as m,e as t,w as o,f as x,h as c,u as f,E as _}from"./index.cc30dbfe.js";import{u as b}from"./supplier.88739423.js";import"./http.f2a51fde.js";const C={class:"card-header"},D=x("span",null,"\u4F9B\u5E94\u5546\u8BE6\u60C5",-1),R={key:0},E={key:1},z={__name:"Detail",setup(S){const n=U(),V=q(),e=h({supplierId:"",supplierName:"",contact:"",phone:"",email:"",address:""}),I=w([]);B(async()=>{if(n.query.supplierId){const s=await b.getSupplierDetail({supplierId:n.query.supplierId});console.log(s.data.data),I.value=s.data.data,e.supplierId=s.data.data[0].supplierId,e.supplierName=s.data.data[0].supplierName,e.contact=s.data.data[0].contact,e.phone=s.data.data[0].phone,e.email=s.data.data[0].email,e.address=s.data.data[0].address}});const p=w(),v=h({supplierName:[{required:!0,message:"\u4F9B\u5E94\u5546\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),N=()=>{!p||p.value.validate(async s=>{if(s){const l=await b.updateSupplier(e);l.data!=null?l.data?(_.info("\u4F9B\u5E94\u5546\u4FEE\u6539\u6210\u529F"),V.push("/supplier/list")):_.error("\u4F9B\u5E94\u5546\u4FEE\u6539\u5931\u8D25"):_.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return!1})};return(s,l)=>{const y=u("el-button"),d=u("el-input"),r=u("el-form-item"),g=u("el-form"),k=u("el-card");return i(),m("div",null,[t(k,{class:"box-card"},{header:o(()=>[x("div",C,[D,c("\xA0\xA0\xA0 "),t(y,{size:"mini",style:{float:"right"},onClick:l[0]||(l[0]=a=>f(V).go(-1))},{default:o(()=>[c("\u8FD4\u56DE")]),_:1})])]),default:o(()=>[t(g,{model:e,rules:v,ref_key:"ruleFormRef",ref:p},{default:o(()=>[t(r,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0ID:"},{default:o(()=>[t(d,{modelValue:e.supplierId,"onUpdate:modelValue":l[1]||(l[1]=a=>e.supplierId=a),style:{width:"300px"},readonly:!0,class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u4F9B\u5E94\u5546\u540D\u79F0:"},{default:o(()=>[t(d,{modelValue:e.supplierName,"onUpdate:modelValue":l[2]||(l[2]=a=>e.supplierName=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u4F9B\u5E94\u5546\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(r,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u8054\u7CFB\u4EBA:"},{default:o(()=>[t(d,{modelValue:e.contact,"onUpdate:modelValue":l[3]||(l[3]=a=>e.contact=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(r,{label:"\xA0\xA0\u8054\u7CFB\u7535\u8BDD:"},{default:o(()=>[t(d,{modelValue:e.phone,"onUpdate:modelValue":l[4]||(l[4]=a=>e.phone=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u5BB9\u91CF",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(r,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u90AE\u7BB1:"},{default:o(()=>[t(d,{modelValue:e.email,"onUpdate:modelValue":l[5]||(l[5]=a=>e.email=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(r,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u5730\u5740:"},{default:o(()=>[t(d,{modelValue:e.address,"onUpdate:modelValue":l[6]||(l[6]=a=>e.address=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",class:"input-with-select"},null,8,["modelValue"])]),_:1}),f(n).query.roleId==""||f(n).query.edit=="1"?(i(),m("p",R,[t(y,{type:"primary",onClick:l[7]||(l[7]=a=>N())},{default:o(()=>[c("\u4FDD\u5B58")]),_:1})])):(i(),m("p",E))]),_:1},8,["model","rules"])]),_:1})])}}};export{z as default};
