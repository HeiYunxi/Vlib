import{m as q,n as C,r as h,a as b,o as U,b as n,c as m,d as c,e as t,w as s,f as g,u as f,h as d,t as B,E as p}from"./index.cc30dbfe.js";import{u as F}from"./supplier.88739423.js";import"./http.f2a51fde.js";const R={class:"card-header"},E=g("span",null,"\u6DFB\u52A0\u4F9B\u5E94\u5546",-1),I={key:0},S={key:1},z={__name:"Add",setup($){const _=q(),y=C(),l=h({supplierId:"",supplierName:"",contact:"",phone:"",email:"",address:""});b([]),U(async()=>{l.supplierName="",l.contact="",l.phone="",l.email="",l.address=""});const r=b(),w=h({supplierName:[{required:!0,message:"\u4F9B\u5E94\u5546\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],contact:[{required:!0,message:"\u8054\u7CFB\u4EBA\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],phone:[{required:!0,message:"\u8054\u7CFB\u7535\u8BDD\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),v=()=>{!r||r.value.validate(async V=>{if(V){const e=await F.saveSupplierInfo(l);e.data!=null?e.data?e.data.data==0?p.error("\u8BE5\u4F9B\u5E94\u5546\u5DF2\u6CE8\u518C"):(p.info("\u65B0\u589E\u4F9B\u5E94\u5546\u6210\u529F"),y.push("/supplier/list")):p.error("\u65B0\u589E\u5931\u8D25"):p.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return alert(1),!1})},x=()=>{!r||r.value.resetFields()};return(V,e)=>{const i=n("el-button"),a=n("el-form-item"),u=n("el-input"),N=n("el-form"),k=n("el-card");return m(),c("div",null,[t(k,null,{header:s(()=>[g("div",R,[E,t(i,{size:"mini",style:{float:"right"},onClick:e[0]||(e[0]=o=>f(y).go(-1))},{default:s(()=>[d("\u8FD4\u56DE")]),_:1}),d("\xA0\xA0\xA0 ")])]),default:s(()=>[t(N,{model:l,rules:w,ref_key:"ruleFormRef",ref:r},{default:s(()=>[f(_).query.edit=="1"?(m(),c("p",I,[t(a,{label:"\u7F16\u53F7:"},{default:s(()=>[d(B(f(_).query.userId),1)]),_:1})])):(m(),c("p",S)),t(a,{label:"\u4F9B\u5E94\u5546\u540D:",prop:"supplierName"},{default:s(()=>[t(u,{modelValue:l.supplierName,"onUpdate:modelValue":e[1]||(e[1]=o=>l.supplierName=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u4F9B\u5E94\u5546\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(a,{label:"\xA0\xA0\xA0\xA0\u8054\u7CFB\u4EBA:",prop:"contact"},{default:s(()=>[t(u,{modelValue:l.contact,"onUpdate:modelValue":e[2]||(e[2]=o=>l.contact=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(a,{label:"\xA0\u8054\u7CFB\u7535\u8BDD:",prop:"phone"},{default:s(()=>[t(u,{modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=o=>l.phone=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(a,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u90AE\u7BB1:"},{default:s(()=>[t(u,{modelValue:l.email,"onUpdate:modelValue":e[4]||(e[4]=o=>l.email=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(a,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u5730\u5740:"},{default:s(()=>[t(u,{modelValue:l.address,"onUpdate:modelValue":e[5]||(e[5]=o=>l.address=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(i,{type:"primary",onClick:e[6]||(e[6]=o=>v())},{default:s(()=>[d("\u4FDD\u5B58")]),_:1}),t(i,{type:"primary",onClick:e[7]||(e[7]=o=>x())},{default:s(()=>[d("\u91CD\u7F6E")]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}};export{z as default};
