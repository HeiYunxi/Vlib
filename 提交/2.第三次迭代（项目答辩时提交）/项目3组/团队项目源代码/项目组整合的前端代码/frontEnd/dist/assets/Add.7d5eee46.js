import{m as B,n as C,r as N,a as y,o as E,b as u,c as i,d as _,e as t,w as s,f as g,u as w,h as m,t as R,F as S,x as D,E as f,q as $}from"./index.cc30dbfe.js";import{u as h}from"./equipment.1444bede.js";import"./http.f2a51fde.js";const A={class:"card-header"},L=g("span",null,"\u6DFB\u52A0\u4EFF\u771F\u8BBE\u5907",-1),M={key:0},z={key:1},J={__name:"Add",setup(T){const V=B(),q=C(),e=N({equipmentId:"",equipmentName:"",equipmentNumber:"",purpose:"",software_system:"",software_version:"",status:"",supplierId:"",thumbnail:"",type:""});y([]),E(async()=>{const n=await h.getSupplierEquipmentList({equipmentId:1});console.log(n.data.data),v.value=n.data.data,e.equipmentName="",e.equipmentNumber="",e.purpose="",e.software_system="",e.software_version="",e.status="",e.supplier="",e.thumbnail="",e.type=""});const r=y(),x=N({equipmentName:[{required:!0,message:"\u4EFF\u771F\u8BBE\u5907\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],equipmentNumber:[{required:!0,message:"\u4EFF\u771F\u8BBE\u5907\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),k=()=>{!r||r.value.validate(async n=>{if(n){const l=await h.saveSimulationEquipmentInfo(e);l.data!=null?l.data?l.data.data==0?f.error("\u8BE5\u8BBE\u5907\u5DF2\u6CE8\u518C"):(f.info("\u65B0\u589E\u4EFF\u771F\u8BBE\u5907\u6210\u529F"),q.push("/equipment/list")):f.error("\u65B0\u589E\u5931\u8D25"):f.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return f.error("\u683C\u5F0F\u9519\u8BEF"),!1})},v=y([]),I=()=>{!r||r.value.resetFields()};return(n,l)=>{const c=u("el-button"),o=u("el-form-item"),p=u("el-input"),d=u("el-option"),b=u("el-select"),U=u("el-form"),F=u("el-card");return i(),_("div",null,[t(F,null,{header:s(()=>[g("div",A,[L,t(c,{size:"mini",style:{float:"right"},onClick:l[0]||(l[0]=a=>w(q).go(-1))},{default:s(()=>[m("\u8FD4\u56DE")]),_:1}),m("\xA0\xA0\xA0 ")])]),default:s(()=>[t(U,{model:e,rules:x,ref_key:"ruleFormRef",ref:r},{default:s(()=>[w(V).query.edit=="1"?(i(),_("p",M,[t(o,{label:"\u4EFF\u771F\u8BBE\u5907\u7F16\u53F7:"},{default:s(()=>[m(R(w(V).query.equipmentId),1)]),_:1})])):(i(),_("p",z)),t(o,{label:"\u4EFF\u771F\u8BBE\u5907\u540D\u79F0:",prop:"equipmentName"},{default:s(()=>[t(p,{modelValue:e.equipmentName,"onUpdate:modelValue":l[1]||(l[1]=a=>e.equipmentName=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u4EFF\u771F\u8BBE\u5907\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(o,{label:"\u4EFF\u771F\u8BBE\u5907\u7F16\u53F7:",prop:"equipmentNumber"},{default:s(()=>[t(p,{modelValue:e.equipmentNumber,"onUpdate:modelValue":l[2]||(l[2]=a=>e.equipmentNumber=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u4EFF\u771F\u8BBE\u5907\u7F16\u53F7",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(o,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u7528\xA0\xA0\xA0\xA0\u9014:"},{default:s(()=>[t(p,{modelValue:e.purpose,"onUpdate:modelValue":l[3]||(l[3]=a=>e.purpose=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u7528\u9014",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(o,{label:"\u8F6F\xA0\xA0\u4EF6\xA0\xA0\u7CFB\xA0\xA0\u7EDF:"},{default:s(()=>[t(p,{modelValue:e.software_system,"onUpdate:modelValue":l[4]||(l[4]=a=>e.software_system=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u8F6F\u4EF6\u7CFB\u7EDF",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(o,{label:"\u8F6F\xA0\xA0\u4EF6\xA0\xA0\u7248\xA0\xA0\u672C:"},{default:s(()=>[t(p,{modelValue:e.software_version,"onUpdate:modelValue":l[5]||(l[5]=a=>e.software_version=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u8F6F\u4EF6\u7248\u672C",class:"input-with-select"},null,8,["modelValue"])]),_:1}),t(o,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u72B6\u6001\uFF1A"},{default:s(()=>[t(b,{modelValue:e.status,"onUpdate:modelValue":l[6]||(l[6]=a=>e.status=a),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001"},{default:s(()=>[t(d,{label:"\u53EF\u7528",value:"1"}),t(d,{label:"\u6B63\u5728\u7EF4\u62A4",value:"2"})]),_:1},8,["modelValue"])]),_:1}),t(o,{label:"\xA0\xA0\xA0\xA0\xA0\u4F9B\xA0\xA0\u5E94\xA0\xA0\u5546:"},{default:s(()=>[t(b,{modelValue:e.supplierId,"onUpdate:modelValue":l[7]||(l[7]=a=>e.supplierId=a),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u4F9B\u5E94\u5546",class:"input-with-select"},{default:s(()=>[(i(!0),_(S,null,D(v.value,a=>(i(),$(d,{label:a.supplierName,value:a.supplierId},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(o,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u7C7B\u578B:"},{default:s(()=>[t(b,{modelValue:e.type,"onUpdate:modelValue":l[8]||(l[8]=a=>e.type=a),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",class:"input-with-select"},{default:s(()=>[t(d,{label:"\u6559\u5B66\u8BBE\u5907",value:"1"}),t(d,{label:"\u7269\u7406\u8BBE\u5907",value:"2"})]),_:1},8,["modelValue"])]),_:1}),t(c,{type:"primary",onClick:l[9]||(l[9]=a=>k())},{default:s(()=>[m("\u4FDD\u5B58")]),_:1}),t(c,{type:"primary",onClick:l[10]||(l[10]=a=>I())},{default:s(()=>[m("\u91CD\u7F6E")]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}};export{J as default};
