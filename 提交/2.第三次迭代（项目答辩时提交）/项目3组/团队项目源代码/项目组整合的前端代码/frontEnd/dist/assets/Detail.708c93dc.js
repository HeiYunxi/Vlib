import{m as B,n as D,r as f,a as y,o as C,b as d,c as m,d as _,e as l,w as u,f as h,h as w,u as b,F,x as R,E as V,q as S}from"./index.cc30dbfe.js";import{u as v}from"./equipment.1444bede.js";import"./http.f2a51fde.js";const L={class:"card-header"},M=h("span",null,"\u4EFF\u771F\u8BBE\u5907\u8BE6\u60C5",-1),$={key:0},z={key:1},H={__name:"Detail",setup(A){const n=B(),I=D(),t=f({equipmentId:"",equipmentName:"",equipmentNumber:"",purpose:"",software_system:"",software_version:"",status:"",supplierId:"",thumbnail:"",type:""}),x=y([]),N=y([]);C(async()=>{if(n.query.equipmentId){const r=await v.getSupplierEquipmentList({equipmentId:n.query.equipmentId});console.log(r.data.data),N.value=r.data.data;const e=await v.getSimulationEquipmentDetail({equipmentId:n.query.equipmentId});console.log(e.data.data),x.value=e.data.data,t.equipmentId=e.data.data[0].equipmentId,t.equipmentName=e.data.data[0].equipmentName,t.equipmentNumber=e.data.data[0].equipmentNumber,t.purpose=e.data.data[0].purpose,t.software_system=e.data.data[0].software_system,t.software_version=e.data.data[0].software_version;let p=f([]);p=e.data.data[0].status,t.status=""+p,t.supplierId=e.data.data[0].supplierId,t.supplierName=e.data.data[0].supplierName,t.thumbnail=e.data.data[0].thumbnail;let s=f([]);s=e.data.data[0].type,t.type=""+s}});const c=y(),g=f({equipmentName:[{required:!0,message:"\u4EFF\u771F\u7CFB\u7EDF\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],equipmentNumber:[{required:!0,message:"\u4EFF\u771F\u7CFB\u7EDF\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),k=()=>{!c||c.value.validate(async r=>{if(r){const e=await v.updateSimulationEquipment(t);e.data!=null?e.data?(V.info("\u4EFF\u771F\u8BBE\u5907\u4FEE\u6539\u6210\u529F"),I.push("/equipment/list")):V.error("\u4EFF\u771F\u8BBE\u5907\u4FEE\u6539\u5931\u8D25"):V.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return!1})};return(r,e)=>{const p=d("el-button"),s=d("el-input"),o=d("el-form-item"),i=d("el-option"),q=d("el-select"),U=d("el-form"),E=d("el-card");return m(),_("div",null,[l(E,{class:"box-card"},{header:u(()=>[h("div",L,[M,w("\xA0\xA0\xA0 "),l(p,{size:"mini",style:{float:"right"},onClick:e[0]||(e[0]=a=>b(I).go(-1))},{default:u(()=>[w("\u8FD4\u56DE")]),_:1})])]),default:u(()=>[l(U,{model:t,rules:g,ref_key:"ruleFormRef",ref:c},{default:u(()=>[l(o,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0ID:"},{default:u(()=>[l(s,{modelValue:t.equipmentId,"onUpdate:modelValue":e[1]||(e[1]=a=>t.equipmentId=a),style:{width:"300px"},readonly:!0,class:"input-with-select"},null,8,["modelValue"])]),_:1}),l(o,{label:"\u4EFF\u771F\u8BBE\u5907\u540D\u79F0:"},{default:u(()=>[l(s,{modelValue:t.equipmentName,"onUpdate:modelValue":e[2]||(e[2]=a=>t.equipmentName=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u4EFF\u771F\u8BBE\u5907\u540D\u79F0",class:"input-with-select"},null,8,["modelValue"])]),_:1}),l(o,{label:"\u4EFF\u771F\u8BBE\u5907\u7F16\u53F7:"},{default:u(()=>[l(s,{modelValue:t.equipmentNumber,"onUpdate:modelValue":e[3]||(e[3]=a=>t.equipmentNumber=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u4EFF\u771F\u8BBE\u5907\u7F16\u53F7",class:"input-with-select"},null,8,["modelValue"])]),_:1}),l(o,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u7528\xA0\xA0\xA0\xA0\u9014:"},{default:u(()=>[l(s,{modelValue:t.purpose,"onUpdate:modelValue":e[4]||(e[4]=a=>t.purpose=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u7528\u9014",class:"input-with-select"},null,8,["modelValue"])]),_:1}),l(o,{label:"\u8F6F\xA0\xA0\u4EF6\xA0\xA0\u7CFB\xA0\xA0\u7EDF:"},{default:u(()=>[l(s,{modelValue:t.software_system,"onUpdate:modelValue":e[5]||(e[5]=a=>t.software_system=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u8F6F\u4EF6\u7CFB\u7EDF",class:"input-with-select"},null,8,["modelValue"])]),_:1}),l(o,{label:"\u8F6F\xA0\xA0\u4EF6\xA0\xA0\u7248\xA0\xA0\u672C:"},{default:u(()=>[l(s,{modelValue:t.software_version,"onUpdate:modelValue":e[6]||(e[6]=a=>t.software_version=a),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u8F6F\u4EF6\u7248\u672C",class:"input-with-select"},null,8,["modelValue"])]),_:1}),l(o,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u72B6\u6001\uFF1A"},{default:u(()=>[l(q,{modelValue:t.status,"onUpdate:modelValue":e[7]||(e[7]=a=>t.status=a),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001"},{default:u(()=>[l(i,{label:"\u53EF\u7528",value:"1"}),l(i,{label:"\u6B63\u5728\u7EF4\u62A4",value:"2"})]),_:1},8,["modelValue"])]),_:1}),l(o,{label:"\xA0\xA0\xA0\xA0\xA0\u4F9B\xA0\xA0\u5E94\xA0\xA0\u5546:"},{default:u(()=>[l(q,{modelValue:t.supplierId,"onUpdate:modelValue":e[8]||(e[8]=a=>t.supplierId=a),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u4F9B\u5E94\u5546",class:"input-with-select"},{default:u(()=>[(m(!0),_(F,null,R(N.value,a=>(m(),S(i,{key:a.supplierId,label:a.supplierName,value:a.supplierId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(o,{label:"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u7C7B\u578B:"},{default:u(()=>[l(q,{modelValue:t.type,"onUpdate:modelValue":e[9]||(e[9]=a=>t.type=a),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",class:"input-with-select"},{default:u(()=>[l(i,{label:"\u6559\u5B66\u8BBE\u5907",value:"1"}),l(i,{label:"\u7269\u7406\u8BBE\u5907",value:"2"})]),_:1},8,["modelValue"])]),_:1}),b(n).query.equipmentId==""||b(n).query.edit=="1"?(m(),_("p",$,[l(p,{type:"primary",onClick:e[10]||(e[10]=a=>k())},{default:u(()=>[w("\u4FDD\u5B58")]),_:1})])):(m(),_("p",z))]),_:1},8,["model","rules"])]),_:1})])}}};export{H as default};
