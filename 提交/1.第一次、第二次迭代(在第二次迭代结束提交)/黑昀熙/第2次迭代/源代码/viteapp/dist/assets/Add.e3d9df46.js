import{t as B,u as F,r as w,a as g,j as R,b as a,o as m,c as p,d as e,w as o,e as k,k as _,f as n,v as E,E as f}from"./index.e3373b4b.js";import{u as N}from"./user.6325d836.js";const $={class:"card-header"},A=k("span",null,"\u7528\u6237\u4FE1\u606Fd",-1),D={key:0},M={key:1},T={__name:"Add",setup(S){const c=B(),y=F(),t=w({id:"",username:"",password:"",roleid:"",status:""});g([]),R(async()=>{t.username="",t.password="",t.roleid="0",t.status="1"});const r=g(),x=w({username:[{required:!0,message:"\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),h=()=>{!r||r.value.validate(async v=>{if(v){const l=await N.saveUser(t);l.data!=null?l.data?(f.info("\u65B0\u589E\u7528\u6237\u6210\u529F"),y.push("/user/list")):f.error("\u65B0\u589E\u5931\u8D25"):f.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return alert(1),!1})},C=()=>{!r||r.value.resetFields()};return(v,l)=>{const i=a("el-button"),u=a("el-form-item"),b=a("el-input"),d=a("el-option"),V=a("el-select"),U=a("el-form"),q=a("el-card");return m(),p("div",null,[e(q,null,{header:o(()=>[k("div",$,[A,e(i,{size:"mini",style:{float:"right"},onClick:l[0]||(l[0]=s=>_(y).go(-1))},{default:o(()=>[n("\u8FD4\u56DE")]),_:1}),n("\xA0\xA0\xA0 ")])]),default:o(()=>[e(U,{model:t,rules:x,ref_key:"ruleFormRef",ref:r},{default:o(()=>[_(c).query.edit=="1"?(m(),p("p",D,[e(u,{label:"\u7F16\u53F7:"},{default:o(()=>[n(E(_(c).query.id),1)]),_:1})])):(m(),p("p",M)),e(u,{label:"\u7528\u6237\u540D:"},{default:o(()=>[e(b,{modelValue:t.username,"onUpdate:modelValue":l[1]||(l[1]=s=>t.username=s),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",class:"input-with-select"},null,8,["modelValue"])]),_:1}),e(u,{label:"\u5BC6\xA0\xA0\xA0\xA0\u7801:"},{default:o(()=>[e(b,{modelValue:t.password,"onUpdate:modelValue":l[2]||(l[2]=s=>t.password=s),type:"password",style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),e(u,{label:"\u89D2\xA0\xA0\xA0\xA0\u8272:"},{default:o(()=>[e(V,{modelValue:t.roleid,"onUpdate:modelValue":l[3]||(l[3]=s=>t.roleid=s),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272",selected:1},{default:o(()=>[e(d,{label:"\u7BA1\u7406\u5458",value:"0"}),e(d,{label:"\u666E\u901A\u7528\u6237",value:"1"})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"\u72B6\xA0\xA0\xA0\xA0\u6001:"},{default:o(()=>[e(V,{modelValue:t.status,"onUpdate:modelValue":l[4]||(l[4]=s=>t.status=s),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",selected:1},{default:o(()=>[e(d,{label:"\u6709\u6548",value:"1"}),e(d,{label:"\u65E0\u6548",value:"0"})]),_:1},8,["modelValue"])]),_:1}),e(i,{type:"primary",onClick:l[5]||(l[5]=s=>h())},{default:o(()=>[n("\u4FDD\u5B58")]),_:1}),e(i,{type:"primary",onClick:l[6]||(l[6]=s=>C())},{default:o(()=>[n("\u91CD\u7F6E")]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}};export{T as default};
