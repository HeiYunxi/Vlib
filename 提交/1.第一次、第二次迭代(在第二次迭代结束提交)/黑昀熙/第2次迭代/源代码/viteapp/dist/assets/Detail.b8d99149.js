import{t as R,u as D,r as v,a as g,j as E,b as r,o as p,c as f,d as e,w as a,e as k,f as _,k as c,E as y}from"./index.e3373b4b.js";import{u as x}from"./user.6325d836.js";const N={class:"card-header"},F=k("span",null,"\u7528\u6237\u8BE6\u60C5",-1),M={key:0},$={key:1},I={__name:"Detail",setup(j){const u=R(),w=D(),t=v({id:"",username:"",password:"",roleid:"",status:""}),U=g([]);E(async()=>{if(u.query.id){const s=await x.getUserDetail({id:u.query.id});console.log(s.data.data),U.value=s.data.data,t.username=s.data.data[0].username,t.password=s.data.data[0].password,t.roleid=s.data.data[0].roleid,t.status=s.data.data[0].status,t.id=s.data.data[0].id}});const i=g(),h=v({username:[{required:!0,message:"\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),q=()=>{!i||i.value.validate(async s=>{if(s){const l=await x.updateUser(t);l.data!=null?l.data?(y.info("\u4FEE\u6539\u6210\u529F"),w.push("/user/list")):y.error("\u4FEE\u6539\u5931\u8D25"):y.error("\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF")}else return alert(1),!1})};return(s,l)=>{const V=r("el-button"),m=r("el-input"),d=r("el-form-item"),n=r("el-option"),b=r("el-select"),B=r("el-form"),C=r("el-card");return p(),f("div",null,[e(C,{class:"box-card"},{header:a(()=>[k("div",N,[F,_("\xA0\xA0\xA0 "),e(V,{size:"mini",style:{float:"right"},onClick:l[0]||(l[0]=o=>c(w).go(-1))},{default:a(()=>[_("\u8FD4\u56DE")]),_:1})])]),default:a(()=>[e(B,{model:t,rules:h,ref_key:"ruleFormRef",ref:i},{default:a(()=>[e(d,{label:"\u7F16\xA0\xA0\xA0\xA0\u53F7:"},{default:a(()=>[e(m,{modelValue:t.id,"onUpdate:modelValue":l[1]||(l[1]=o=>t.id=o),style:{width:"300px"},readonly:!0,class:"input-with-select"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u7528\u6237\u540D:"},{default:a(()=>[e(m,{modelValue:t.username,"onUpdate:modelValue":l[2]||(l[2]=o=>t.username=o),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",class:"input-with-select"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u5BC6\xA0\xA0\xA0\xA0\u7801:"},{default:a(()=>[e(m,{type:"password",style:{width:"300px"},modelValue:t.password,"onUpdate:modelValue":l[3]||(l[3]=o=>t.password=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"\u89D2\xA0\xA0\xA0\xA0\u8272:"},{default:a(()=>[e(b,{modelValue:t.roleid,"onUpdate:modelValue":l[4]||(l[4]=o=>t.roleid=o),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001"},{default:a(()=>[e(n,{label:"\u7BA1\u7406\u5458",value:"1"}),e(n,{label:"\u666E\u901A\u7528\u6237",value:"0"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u72B6\xA0\xA0\xA0\xA0\u6001:"},{default:a(()=>[e(b,{modelValue:t.status,"onUpdate:modelValue":l[5]||(l[5]=o=>t.status=o),style:{width:"300px"},placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001"},{default:a(()=>[e(n,{label:"\u6709\u6548",value:"1"}),e(n,{label:"\u65E0\u6548",value:"0"})]),_:1},8,["modelValue"])]),_:1}),c(u).query.id==""||c(u).query.edit=="1"?(p(),f("p",M,[e(V,{type:"primary",onClick:l[6]||(l[6]=o=>q())},{default:a(()=>[_("\u4FDD\u5B58")]),_:1})])):(p(),f("p",$))]),_:1},8,["model","rules"])]),_:1})])}}};export{I as default};
